var NG=Object.create;var Uc=Object.defineProperty;var DG=Object.getOwnPropertyDescriptor;var $G=Object.getOwnPropertyNames;var MG=Object.getPrototypeOf,kG=Object.prototype.hasOwnProperty;var Ke=(e,t)=>()=>(e&&(t=e(e=0)),t);var m=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Fc=(e,t)=>{for(var r in t)Uc(e,r,{get:t[r],enumerable:!0})},Uy=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of $G(t))!kG.call(e,o)&&o!==r&&Uc(e,o,{get:()=>t[o],enumerable:!(n=DG(t,o))||n.enumerable});return e};var br=(e,t,r)=>(r=e!=null?NG(MG(e)):{},Uy(t||!e||!e.__esModule?Uc(r,"default",{value:e,enumerable:!0}):r,e)),Kr=e=>Uy(Uc({},"__esModule",{value:!0}),e);var By=m(Fy=>{"use strict";Object.defineProperty(Fy,"__esModule",{value:!0})});var Gy=m(_o=>{"use strict";var LG=_o&&_o.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),jG=_o&&_o.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&LG(t,e,r)};Object.defineProperty(_o,"__esModule",{value:!0});jG(By(),_o)});var Vy=m(Bc=>{"use strict";Object.defineProperty(Bc,"__esModule",{value:!0});Bc.Utility=void 0;var nf=class{constructor(){this.coldStart=!0,this.defaultServiceName="service_undefined"}getColdStart(){return this.coldStart?(this.coldStart=!1,!0):!1}isColdStart(){return this.getColdStart()}getDefaultServiceName(){return this.defaultServiceName}isValidServiceName(t){return typeof t=="string"&&t.trim().length>0}};Bc.Utility=nf});var zy=m(Gc=>{"use strict";Object.defineProperty(Gc,"__esModule",{value:!0});Gc.ConfigService=void 0;var of=class{};Gc.ConfigService=of});var Hy=m(Vc=>{"use strict";Object.defineProperty(Vc,"__esModule",{value:!0});Vc.EnvironmentVariablesService=void 0;var sf=class{constructor(){this.devModeVariable="POWERTOOLS_DEV",this.serviceNameVariable="POWERTOOLS_SERVICE_NAME",this.xRayTraceIdVariable="_X_AMZN_TRACE_ID"}get(t){return process.env[t]?.trim()||""}getServiceName(){return this.get(this.serviceNameVariable)}getXrayTraceId(){return this.getXrayTraceData()?.Root}getXrayTraceSampled(){return this.getXrayTraceData()?.Sampled==="1"}isDevMode(){return this.isValueTrue(this.get(this.devModeVariable))}isValueTrue(t){return["1","y","yes","t","true","on"].includes(t.toLowerCase())}getXrayTraceData(){let t=this.get(this.xRayTraceIdVariable);if(t==="")return;if(!t.includes("="))return{Root:t};let r={};return t.split(";").forEach(n=>{let[o,i]=n.split("=");r[o]=i}),r}};Vc.EnvironmentVariablesService=sf});var Ky=m(Sn=>{"use strict";var qG=Sn&&Sn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Wy=Sn&&Sn.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&qG(t,e,r)};Object.defineProperty(Sn,"__esModule",{value:!0});Wy(zy(),Sn);Wy(Hy(),Sn)});var Jy=m(zc=>{"use strict";Object.defineProperty(zc,"__esModule",{value:!0});zc.helloworldContext=void 0;var UG={callbackWaitsForEmptyEventLoop:!0,functionVersion:"$LATEST",functionName:"foo-bar-function",memoryLimitInMB:"128",logGroupName:"/aws/lambda/foo-bar-function-123456abcdef",logStreamName:"2021/03/09/[$LATEST]abcdef123456abcdef123456abcdef123456",invokedFunctionArn:"arn:aws:lambda:eu-west-1:123456789012:function:foo-bar-function",awsRequestId:"c6af9ac6-7b61-11e6-9a41-93e812345678",getRemainingTimeInMillis:()=>1234,done:()=>console.log("Done!"),fail:()=>console.log("Failed!"),succeed:()=>console.log("Succeeded!")};zc.helloworldContext=UG});var Yy=m(vo=>{"use strict";var FG=vo&&vo.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),BG=vo&&vo.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&FG(t,e,r)};Object.defineProperty(vo,"__esModule",{value:!0});BG(Jy(),vo)});var Xy=m(Hc=>{"use strict";Object.defineProperty(Hc,"__esModule",{value:!0});Hc.CustomEvent=void 0;Hc.CustomEvent={key1:"value1",key2:"value2",key3:"value3"}});var Qy=m(Cr=>{"use strict";var GG=Cr&&Cr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),VG=Cr&&Cr.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),zG=Cr&&Cr.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&GG(t,e,r);return VG(t,e),t};Object.defineProperty(Cr,"__esModule",{value:!0});Cr.Custom=void 0;Cr.Custom=zG(Xy())});var eE=m(Zy=>{"use strict";Object.defineProperty(Zy,"__esModule",{value:!0})});var rE=m(wr=>{"use strict";Object.defineProperty(wr,"__esModule",{value:!0});wr.isNullOrUndefined=wr.isTruthy=wr.isString=wr.isRecord=void 0;var tE=e=>Object.prototype.toString.call(e)==="[object Object]"&&!Object.is(e,null);wr.isRecord=tE;var HG=e=>typeof e=="string"?e!=="":typeof e=="number"?e!==0:typeof e=="boolean"?e:Array.isArray(e)?e.length>0:tE(e)?Object.keys(e).length>0:!1;wr.isTruthy=HG;var WG=e=>Object.is(e,null)||Object.is(e,void 0);wr.isNullOrUndefined=WG;var KG=e=>typeof e=="string";wr.isString=KG});var nE=m(Wc=>{"use strict";Object.defineProperty(Wc,"__esModule",{value:!0});Wc.PT_VERSION=void 0;Wc.PT_VERSION="1.18.1"});var af=m(Kc=>{"use strict";Object.defineProperty(Kc,"__esModule",{value:!0});Kc.isSdkClient=void 0;var JG=e=>typeof e=="object"&&e!==null&&"send"in e&&typeof e.send=="function"&&"config"in e&&e.config!==void 0&&typeof e.config=="object"&&e.config!==null&&"middlewareStack"in e&&e.middlewareStack!==void 0&&typeof e.middlewareStack=="object"&&e.middlewareStack!==null&&"identify"in e.middlewareStack&&typeof e.middlewareStack.identify=="function"&&"addRelativeTo"in e.middlewareStack&&typeof e.middlewareStack.addRelativeTo=="function";Kc.isSdkClient=JG});var iE=m(ii=>{"use strict";Object.defineProperty(ii,"__esModule",{value:!0});ii.addUserAgentMiddleware=ii.customUserAgentMiddleware=void 0;var YG=nE(),XG=af(),QG=process.env.AWS_EXECUTION_ENV||"NA",ZG={relation:"after",toMiddleware:"getUserAgentMiddleware",name:"addPowertoolsToUserAgent",tags:["POWERTOOLS","USER_AGENT"]},oE=e=>t=>async r=>{let n=`PT/${e}/${YG.PT_VERSION} PTEnv/${QG}`;return r.request.headers["user-agent"]=`${r.request.headers["user-agent"]} ${n}`,await t(r)};ii.customUserAgentMiddleware=oE;var eV=e=>{let t=!1;for(let r of e)r.includes("addPowertoolsToUserAgent")&&(t=!0);return t},tV=(e,t)=>{try{if((0,XG.isSdkClient)(e)){if(eV(e.middlewareStack.identify()))return;e.middlewareStack.addRelativeTo(oE(t),ZG)}else throw new Error("The client provided does not match the expected interface")}catch(r){console.warn("Failed to add user agent middleware",r)}};ii.addUserAgentMiddleware=tV});var sE=m(si=>{"use strict";Object.defineProperty(si,"__esModule",{value:!0});si.isSdkClient=si.addUserAgentMiddleware=void 0;var rV=iE();Object.defineProperty(si,"addUserAgentMiddleware",{enumerable:!0,get:function(){return rV.addUserAgentMiddleware}});var nV=af();Object.defineProperty(si,"isSdkClient",{enumerable:!0,get:function(){return nV.isSdkClient}})});var Ns=m(Be=>{"use strict";var aE=Be&&Be.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),oV=Be&&Be.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ai=Be&&Be.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&aE(t,e,r)},cE=Be&&Be.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&aE(t,e,r);return oV(t,e),t};Object.defineProperty(Be,"__esModule",{value:!0});Be.Events=Be.ContextExamples=void 0;ai(Gy(),Be);ai(Vy(),Be);ai(Ky(),Be);Be.ContextExamples=cE(Yy());Be.Events=cE(Qy());ai(eE(),Be);ai(rE(),Be);ai(sE(),Be)});var lE=m(dE=>{"use strict";Object.defineProperty(dE,"__esModule",{value:!0})});var uE=m(Jc=>{"use strict";Object.defineProperty(Jc,"__esModule",{value:!0});Jc.EnvironmentVariablesService=void 0;var iV=Ns(),cf=class extends iV.EnvironmentVariablesService{constructor(){super(...arguments),this.namespaceVariable="POWERTOOLS_METRICS_NAMESPACE"}getNamespace(){return this.get(this.namespaceVariable)}};Jc.EnvironmentVariablesService=cf});var fE=m(bn=>{"use strict";var sV=bn&&bn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),pE=bn&&bn.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&sV(t,e,r)};Object.defineProperty(bn,"__esModule",{value:!0});pE(lE(),bn);pE(uE(),bn)});var mE=m(kt=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0});kt.MAX_DIMENSION_COUNT=kt.MAX_METRIC_VALUES_SIZE=kt.MAX_METRICS_SIZE=kt.DEFAULT_NAMESPACE=kt.COLD_START_METRIC=void 0;var aV="ColdStart";kt.COLD_START_METRIC=aV;var cV="default_namespace";kt.DEFAULT_NAMESPACE=cV;var dV=100;kt.MAX_METRICS_SIZE=dV;var lV=100;kt.MAX_METRIC_VALUES_SIZE=lV;var uV=29;kt.MAX_DIMENSION_COUNT=uV});var gE=m(hE=>{"use strict";Object.defineProperty(hE,"__esModule",{value:!0})});var vE=m(Yc=>{"use strict";Object.defineProperty(Yc,"__esModule",{value:!0});Yc.MetricUnits=void 0;var _E;(function(e){e.Seconds="Seconds",e.Microseconds="Microseconds",e.Milliseconds="Milliseconds",e.Bytes="Bytes",e.Kilobytes="Kilobytes",e.Megabytes="Megabytes",e.Gigabytes="Gigabytes",e.Terabytes="Terabytes",e.Bits="Bits",e.Kilobits="Kilobits",e.Megabits="Megabits",e.Gigabits="Gigabits",e.Terabits="Terabits",e.Percent="Percent",e.Count="Count",e.BytesPerSecond="Bytes/Second",e.KilobytesPerSecond="Kilobytes/Second",e.MegabytesPerSecond="Megabytes/Second",e.GigabytesPerSecond="Gigabytes/Second",e.TerabytesPerSecond="Terabytes/Second",e.BitsPerSecond="Bits/Second",e.KilobitsPerSecond="Kilobits/Second",e.MegabitsPerSecond="Megabits/Second",e.GigabitsPerSecond="Gigabits/Second",e.TerabitsPerSecond="Terabits/Second",e.CountPerSecond="Count/Second"})(_E||(Yc.MetricUnits=_E={}))});var yE=m(Xc=>{"use strict";Object.defineProperty(Xc,"__esModule",{value:!0});Xc.MetricResolution=void 0;var pV={Standard:60,High:1};Xc.MetricResolution=pV});var EE=m(Jr=>{"use strict";var fV=Jr&&Jr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),df=Jr&&Jr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&fV(t,e,r)};Object.defineProperty(Jr,"__esModule",{value:!0});df(gE(),Jr);df(vE(),Jr);df(yE(),Jr)});var SE=m(Cn=>{"use strict";Object.defineProperty(Cn,"__esModule",{value:!0});Cn.MetricResolution=Cn.MetricUnits=Cn.Metrics=void 0;var mV=require("node:console"),hV=Ns(),gV=fE(),Yr=mE(),Ds=EE();Object.defineProperty(Cn,"MetricUnits",{enumerable:!0,get:function(){return Ds.MetricUnits}});Object.defineProperty(Cn,"MetricResolution",{enumerable:!0,get:function(){return Ds.MetricResolution}});var lf=class e extends hV.Utility{constructor(t={}){super(),this.defaultDimensions={},this.dimensions={},this.isSingleMetric=!1,this.metadata={},this.shouldThrowOnEmptyMetrics=!1,this.storedMetrics={},this.dimensions={},this.setOptions(t)}addDimension(t,r){if(Yr.MAX_DIMENSION_COUNT<=this.getCurrentDimensionsCount())throw new RangeError(`The number of metric dimensions must be lower than ${Yr.MAX_DIMENSION_COUNT}`);this.dimensions[t]=r}addDimensions(t){let r={...this.dimensions};if(Object.keys(t).forEach(n=>{r[n]=t[n]}),Object.keys(r).length>Yr.MAX_DIMENSION_COUNT)throw new RangeError(`Unable to add ${Object.keys(t).length} dimensions: the number of metric dimensions must be lower than ${Yr.MAX_DIMENSION_COUNT}`);this.dimensions=r}addMetadata(t,r){this.metadata[t]=r}addMetric(t,r,n,o=Ds.MetricResolution.Standard){this.storeMetric(t,r,n,o),this.isSingleMetric&&this.publishStoredMetrics()}captureColdStartMetric(){if(!this.isColdStart())return;let t=this.singleMetric();this.defaultDimensions.service&&t.setDefaultDimensions({service:this.defaultDimensions.service}),this.functionName!=null&&t.addDimension("function_name",this.functionName),t.addMetric(Yr.COLD_START_METRIC,Ds.MetricUnits.Count,1)}clearDefaultDimensions(){this.defaultDimensions={}}clearDimensions(){this.dimensions={}}clearMetadata(){this.metadata={}}clearMetrics(){this.storedMetrics={}}logMetrics(t={}){let{throwOnEmptyMetrics:r,defaultDimensions:n,captureColdStartMetric:o}=t;return r&&this.throwOnEmptyMetrics(),n!==void 0&&this.setDefaultDimensions(n),(i,s,a)=>{let c=a.value,l=this;return a.value=async function(p,f,h){l.functionName=f.functionName,o&&l.captureColdStartMetric();let g;try{g=await c.apply(this,[p,f,h])}catch(v){throw v}finally{l.publishStoredMetrics()}return g},a}}publishStoredMetrics(){!this.shouldThrowOnEmptyMetrics&&Object.keys(this.storedMetrics).length===0&&console.warn("No application metrics to publish. The cold-start metric may be published if enabled. If application metrics should never be empty, consider using `throwOnEmptyMetrics`");let t=this.serializeMetrics();this.console.log(JSON.stringify(t)),this.clearMetrics(),this.clearDimensions(),this.clearMetadata()}serializeMetrics(){let t=Object.values(this.storedMetrics).map(o=>({Name:o.name,Unit:o.unit,...o.resolution===Ds.MetricResolution.High?{StorageResolution:o.resolution}:{}}));if(t.length===0&&this.shouldThrowOnEmptyMetrics)throw new RangeError("The number of metrics recorded must be higher than zero");this.namespace||console.warn("Namespace should be defined, default used");let r=Object.values(this.storedMetrics).reduce((o,{name:i,value:s})=>(o[i]=s,o),{}),n=[...new Set([...Object.keys(this.defaultDimensions),...Object.keys(this.dimensions)])];return{_aws:{Timestamp:new Date().getTime(),CloudWatchMetrics:[{Namespace:this.namespace||Yr.DEFAULT_NAMESPACE,Dimensions:[n],Metrics:t}]},...this.defaultDimensions,...this.dimensions,...r,...this.metadata}}setDefaultDimensions(t){let r={...this.defaultDimensions,...t};if(Yr.MAX_DIMENSION_COUNT<=Object.keys(r).length)throw new Error("Max dimension count hit");this.defaultDimensions=r}setFunctionName(t){this.functionName=t}singleMetric(){return new e({namespace:this.namespace,serviceName:this.dimensions.service,defaultDimensions:this.defaultDimensions,singleMetric:!0})}throwOnEmptyMetrics(){this.shouldThrowOnEmptyMetrics=!0}getCurrentDimensionsCount(){return Object.keys(this.dimensions).length+Object.keys(this.defaultDimensions).length}getCustomConfigService(){return this.customConfigService}getEnvVarsService(){return this.envVarsService}isNewMetric(t,r){if(this.storedMetrics[t]){if(this.storedMetrics[t].unit!==r){let n=this.storedMetrics[t].unit;throw new Error(`Metric "${t}" has already been added with unit "${n}", but we received unit "${r}". Did you mean to use metric unit "${n}"?`)}return!1}else return!0}setConsole(){this.getEnvVarsService().isDevMode()?this.console=console:this.console=new mV.Console({stdout:process.stdout,stderr:process.stderr})}setCustomConfigService(t){this.customConfigService=t||void 0}setEnvVarsService(){this.envVarsService=new gV.EnvironmentVariablesService}setNamespace(t){this.namespace=t||this.getCustomConfigService()?.getNamespace()||this.getEnvVarsService().getNamespace()}setOptions(t){let{customConfigService:r,namespace:n,serviceName:o,singleMetric:i,defaultDimensions:s}=t;return this.setEnvVarsService(),this.setConsole(),this.setCustomConfigService(r),this.setNamespace(n),this.setService(o),this.setDefaultDimensions(s),this.isSingleMetric=i||!1,this}setService(t){let r=t||this.getCustomConfigService()?.getServiceName()||this.getEnvVarsService().getServiceName()||this.getDefaultServiceName();r.length>0&&this.setDefaultDimensions({service:r})}storeMetric(t,r,n,o){if(Object.keys(this.storedMetrics).length>=Yr.MAX_METRICS_SIZE&&this.publishStoredMetrics(),this.isNewMetric(t,r))this.storedMetrics[t]={unit:r,value:n,name:t,resolution:o};else{let i=this.storedMetrics[t];Array.isArray(i.value)||(i.value=[i.value]),i.value.push(n),i.value.length===Yr.MAX_METRIC_VALUES_SIZE&&this.publishStoredMetrics()}}};Cn.Metrics=lf});var CE=m(bE=>{"use strict";Object.defineProperty(bE,"__esModule",{value:!0})});var uf=m(Lt=>{"use strict";Object.defineProperty(Lt,"__esModule",{value:!0});Lt.IDEMPOTENCY_KEY=Lt.LOGGER_KEY=Lt.METRICS_KEY=Lt.TRACER_KEY=Lt.PREFIX=void 0;var $s="powertools-for-aws";Lt.PREFIX=$s;var _V=`${$s}.tracer`;Lt.TRACER_KEY=_V;var vV=`${$s}.metrics`;Lt.METRICS_KEY=vV;var yV=`${$s}.logger`;Lt.LOGGER_KEY=yV;var EV=`${$s}.idempotency`;Lt.IDEMPOTENCY_KEY=EV});var wE=m(Zc=>{"use strict";Object.defineProperty(Zc,"__esModule",{value:!0});Zc.cleanupMiddlewares=void 0;var Qc=uf(),SV=e=>typeof e=="function",bV=async e=>{let t=[Qc.TRACER_KEY,Qc.METRICS_KEY,Qc.LOGGER_KEY,Qc.IDEMPOTENCY_KEY];for(let r of t)if(Object(e.internal).hasOwnProperty(r)){let n=e.internal[r];SV(n)&&await n(e)}};Zc.cleanupMiddlewares=bV});var pf=m(wn=>{"use strict";var CV=wn&&wn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),PE=wn&&wn.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&CV(t,e,r)};Object.defineProperty(wn,"__esModule",{value:!0});PE(wE(),wn);PE(uf(),wn)});var TE=m(ed=>{"use strict";Object.defineProperty(ed,"__esModule",{value:!0});ed.logMetrics=void 0;var wV=pf(),PV=(e,t={})=>{let r=e instanceof Array?e:[e],n=s=>{s.internal={...s.internal,[wV.METRICS_KEY]:i}},o=async s=>{r.forEach(a=>{a.setFunctionName(s.context.functionName);let{throwOnEmptyMetrics:c,defaultDimensions:l,captureColdStartMetric:p}=t;c&&a.throwOnEmptyMetrics(),l!==void 0&&a.setDefaultDimensions(l),p&&a.captureColdStartMetric()}),n(s)},i=async()=>{r.forEach(s=>{s.publishStoredMetrics()})};return{before:o,after:i,onError:i}};ed.logMetrics=PV});var IE=m(yo=>{"use strict";var TV=yo&&yo.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),IV=yo&&yo.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&TV(t,e,r)};Object.defineProperty(yo,"__esModule",{value:!0});IV(TE(),yo)});var td=m(Xr=>{"use strict";var OV=Xr&&Xr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ff=Xr&&Xr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&OV(t,e,r)};Object.defineProperty(Xr,"__esModule",{value:!0});ff(SE(),Xr);ff(CE(),Xr);ff(IE(),Xr)});var OE=m(rd=>{"use strict";Object.defineProperty(rd,"__esModule",{value:!0});rd.createLogger=void 0;var RV=nd(),AV=(e={})=>new RV.Logger(e);rd.createLogger=AV});var RE=m(od=>{"use strict";Object.defineProperty(od,"__esModule",{value:!0});od.LogFormatter=void 0;var xV=e=>"cause"in e,mf=class{formatError(t){return{name:t.name,location:this.getCodeLocation(t.stack),message:t.message,stack:t.stack,cause:xV(t)?t.cause instanceof Error?this.formatError(t.cause):t.cause:void 0}}formatTimestamp(t){return t.toISOString()}getCodeLocation(t){if(!t)return"";let r=t.split(`
`),n=/\((.*):(\d+):(\d+)\)\\?$/,o;for(o=0;o<r.length;o++){let i=n.exec(r[o]);if(Array.isArray(i))return`${i[1]}:${Number(i[2])}`}return""}};od.LogFormatter=mf});var xE=m(AE=>{"use strict";Object.defineProperty(AE,"__esModule",{value:!0})});var NE=m(id=>{"use strict";Object.defineProperty(id,"__esModule",{value:!0});id.PowertoolLogFormatter=void 0;var NV=sd(),hf=class extends NV.LogFormatter{formatAttributes(t){return{cold_start:t.lambdaContext?.coldStart,function_arn:t.lambdaContext?.invokedFunctionArn,function_memory_size:t.lambdaContext?.memoryLimitInMB,function_name:t.lambdaContext?.functionName,function_request_id:t.lambdaContext?.awsRequestId,level:t.logLevel,message:t.message,sampling_rate:t.sampleRateValue,service:t.serviceName,timestamp:this.formatTimestamp(t.timestamp),xray_trace_id:t.xRayTraceId}}};id.PowertoolLogFormatter=hf});var sd=m(Qr=>{"use strict";var DV=Qr&&Qr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),gf=Qr&&Qr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&DV(t,e,r)};Object.defineProperty(Qr,"__esModule",{value:!0});gf(RE(),Qr);gf(xE(),Qr);gf(NE(),Qr)});var If=m((Ms,ci)=>{var $V=200,BE="__lodash_hash_undefined__",MV=800,kV=16,GE=9007199254740991,VE="[object Arguments]",LV="[object Array]",jV="[object AsyncFunction]",qV="[object Boolean]",UV="[object Date]",FV="[object Error]",zE="[object Function]",BV="[object GeneratorFunction]",GV="[object Map]",VV="[object Number]",zV="[object Null]",HE="[object Object]",HV="[object Proxy]",WV="[object RegExp]",KV="[object Set]",JV="[object String]",YV="[object Undefined]",XV="[object WeakMap]",QV="[object ArrayBuffer]",ZV="[object DataView]",ez="[object Float32Array]",tz="[object Float64Array]",rz="[object Int8Array]",nz="[object Int16Array]",oz="[object Int32Array]",iz="[object Uint8Array]",sz="[object Uint8ClampedArray]",az="[object Uint16Array]",cz="[object Uint32Array]",dz=/[\\^$.*+?()[\]{}|]/g,lz=/^\[object .+?Constructor\]$/,uz=/^(?:0|[1-9]\d*)$/,Te={};Te[ez]=Te[tz]=Te[rz]=Te[nz]=Te[oz]=Te[iz]=Te[sz]=Te[az]=Te[cz]=!0;Te[VE]=Te[LV]=Te[QV]=Te[qV]=Te[ZV]=Te[UV]=Te[FV]=Te[zE]=Te[GV]=Te[VV]=Te[HE]=Te[WV]=Te[KV]=Te[JV]=Te[XV]=!1;var WE=typeof global=="object"&&global&&global.Object===Object&&global,pz=typeof self=="object"&&self&&self.Object===Object&&self,js=WE||pz||Function("return this")(),KE=typeof Ms=="object"&&Ms&&!Ms.nodeType&&Ms,ks=KE&&typeof ci=="object"&&ci&&!ci.nodeType&&ci,JE=ks&&ks.exports===KE,_f=JE&&WE.process,DE=function(){try{var e=ks&&ks.require&&ks.require("util").types;return e||_f&&_f.binding&&_f.binding("util")}catch{}}(),$E=DE&&DE.isTypedArray;function fz(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function mz(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function hz(e){return function(t){return e(t)}}function gz(e,t){return e?.[t]}function _z(e,t){return function(r){return e(t(r))}}var vz=Array.prototype,yz=Function.prototype,dd=Object.prototype,vf=js["__core-js_shared__"],ld=yz.toString,Zr=dd.hasOwnProperty,ME=function(){var e=/[^.]+$/.exec(vf&&vf.keys&&vf.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),YE=dd.toString,Ez=ld.call(Object),Sz=RegExp("^"+ld.call(Zr).replace(dz,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ad=JE?js.Buffer:void 0,kE=js.Symbol,LE=js.Uint8Array,jE=ad?ad.allocUnsafe:void 0,XE=_z(Object.getPrototypeOf,Object),qE=Object.create,bz=dd.propertyIsEnumerable,Cz=vz.splice,Eo=kE?kE.toStringTag:void 0,cd=function(){try{var e=wf(Object,"defineProperty");return e({},"",{}),e}catch{}}(),wz=ad?ad.isBuffer:void 0,UE=Math.max,Pz=Date.now,QE=wf(js,"Map"),Ls=wf(Object,"create"),Tz=function(){function e(){}return function(t){if(!bo(t))return{};if(qE)return qE(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function So(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Iz(){this.__data__=Ls?Ls(null):{},this.size=0}function Oz(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Rz(e){var t=this.__data__;if(Ls){var r=t[e];return r===BE?void 0:r}return Zr.call(t,e)?t[e]:void 0}function Az(e){var t=this.__data__;return Ls?t[e]!==void 0:Zr.call(t,e)}function xz(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Ls&&t===void 0?BE:t,this}So.prototype.clear=Iz;So.prototype.delete=Oz;So.prototype.get=Rz;So.prototype.has=Az;So.prototype.set=xz;function en(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Nz(){this.__data__=[],this.size=0}function Dz(e){var t=this.__data__,r=ud(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Cz.call(t,r,1),--this.size,!0}function $z(e){var t=this.__data__,r=ud(t,e);return r<0?void 0:t[r][1]}function Mz(e){return ud(this.__data__,e)>-1}function kz(e,t){var r=this.__data__,n=ud(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}en.prototype.clear=Nz;en.prototype.delete=Dz;en.prototype.get=$z;en.prototype.has=Mz;en.prototype.set=kz;function di(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Lz(){this.size=0,this.__data__={hash:new So,map:new(QE||en),string:new So}}function jz(e){var t=fd(this,e).delete(e);return this.size-=t?1:0,t}function qz(e){return fd(this,e).get(e)}function Uz(e){return fd(this,e).has(e)}function Fz(e,t){var r=fd(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}di.prototype.clear=Lz;di.prototype.delete=jz;di.prototype.get=qz;di.prototype.has=Uz;di.prototype.set=Fz;function li(e){var t=this.__data__=new en(e);this.size=t.size}function Bz(){this.__data__=new en,this.size=0}function Gz(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function Vz(e){return this.__data__.get(e)}function zz(e){return this.__data__.has(e)}function Hz(e,t){var r=this.__data__;if(r instanceof en){var n=r.__data__;if(!QE||n.length<$V-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new di(n)}return r.set(e,t),this.size=r.size,this}li.prototype.clear=Bz;li.prototype.delete=Gz;li.prototype.get=Vz;li.prototype.has=zz;li.prototype.set=Hz;function Wz(e,t){var r=bf(e),n=!r&&Sf(e),o=!r&&!n&&rS(e),i=!r&&!n&&!o&&oS(e),s=r||n||o||i,a=s?mz(e.length,String):[],c=a.length;for(var l in e)(t||Zr.call(e,l))&&!(s&&(l=="length"||o&&(l=="offset"||l=="parent")||i&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||eS(l,c)))&&a.push(l);return a}function yf(e,t,r){(r!==void 0&&!md(e[t],r)||r===void 0&&!(t in e))&&Cf(e,t,r)}function Kz(e,t,r){var n=e[t];(!(Zr.call(e,t)&&md(n,r))||r===void 0&&!(t in e))&&Cf(e,t,r)}function ud(e,t){for(var r=e.length;r--;)if(md(e[r][0],t))return r;return-1}function Cf(e,t,r){t=="__proto__"&&cd?cd(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Jz=cH();function pd(e){return e==null?e===void 0?YV:zV:Eo&&Eo in Object(e)?dH(e):hH(e)}function FE(e){return qs(e)&&pd(e)==VE}function Yz(e){if(!bo(e)||fH(e))return!1;var t=Tf(e)?Sz:lz;return t.test(yH(e))}function Xz(e){return qs(e)&&nS(e.length)&&!!Te[pd(e)]}function Qz(e){if(!bo(e))return mH(e);var t=tS(e),r=[];for(var n in e)n=="constructor"&&(t||!Zr.call(e,n))||r.push(n);return r}function ZE(e,t,r,n,o){e!==t&&Jz(t,function(i,s){if(o||(o=new li),bo(i))Zz(e,t,s,r,ZE,n,o);else{var a=n?n(Ef(e,s),i,s+"",e,t,o):void 0;a===void 0&&(a=i),yf(e,s,a)}},iS)}function Zz(e,t,r,n,o,i,s){var a=Ef(e,r),c=Ef(t,r),l=s.get(c);if(l){yf(e,r,l);return}var p=i?i(a,c,r+"",e,t,s):void 0,f=p===void 0;if(f){var h=bf(c),g=!h&&rS(c),v=!h&&!g&&oS(c);p=c,h||g||v?bf(a)?p=a:EH(a)?p=iH(a):g?(f=!1,p=rH(c,!0)):v?(f=!1,p=oH(c,!0)):p=[]:SH(c)||Sf(c)?(p=a,Sf(a)?p=bH(a):(!bo(a)||Tf(a))&&(p=lH(c))):f=!1}f&&(s.set(c,p),o(p,c,n,i,s),s.delete(c)),yf(e,r,p)}function eH(e,t){return _H(gH(e,t,sS),e+"")}var tH=cd?function(e,t){return cd(e,"toString",{configurable:!0,enumerable:!1,value:wH(t),writable:!0})}:sS;function rH(e,t){if(t)return e.slice();var r=e.length,n=jE?jE(r):new e.constructor(r);return e.copy(n),n}function nH(e){var t=new e.constructor(e.byteLength);return new LE(t).set(new LE(e)),t}function oH(e,t){var r=t?nH(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function iH(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}function sH(e,t,r,n){var o=!r;r||(r={});for(var i=-1,s=t.length;++i<s;){var a=t[i],c=n?n(r[a],e[a],a,r,e):void 0;c===void 0&&(c=e[a]),o?Cf(r,a,c):Kz(r,a,c)}return r}function aH(e){return eH(function(t,r){var n=-1,o=r.length,i=o>1?r[o-1]:void 0,s=o>2?r[2]:void 0;for(i=e.length>3&&typeof i=="function"?(o--,i):void 0,s&&uH(r[0],r[1],s)&&(i=o<3?void 0:i,o=1),t=Object(t);++n<o;){var a=r[n];a&&e(t,a,n,i)}return t})}function cH(e){return function(t,r,n){for(var o=-1,i=Object(t),s=n(t),a=s.length;a--;){var c=s[e?a:++o];if(r(i[c],c,i)===!1)break}return t}}function fd(e,t){var r=e.__data__;return pH(t)?r[typeof t=="string"?"string":"hash"]:r.map}function wf(e,t){var r=gz(e,t);return Yz(r)?r:void 0}function dH(e){var t=Zr.call(e,Eo),r=e[Eo];try{e[Eo]=void 0;var n=!0}catch{}var o=YE.call(e);return n&&(t?e[Eo]=r:delete e[Eo]),o}function lH(e){return typeof e.constructor=="function"&&!tS(e)?Tz(XE(e)):{}}function eS(e,t){var r=typeof e;return t=t??GE,!!t&&(r=="number"||r!="symbol"&&uz.test(e))&&e>-1&&e%1==0&&e<t}function uH(e,t,r){if(!bo(r))return!1;var n=typeof t;return(n=="number"?Pf(r)&&eS(t,r.length):n=="string"&&t in r)?md(r[t],e):!1}function pH(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function fH(e){return!!ME&&ME in e}function tS(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||dd;return e===r}function mH(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}function hH(e){return YE.call(e)}function gH(e,t,r){return t=UE(t===void 0?e.length-1:t,0),function(){for(var n=arguments,o=-1,i=UE(n.length-t,0),s=Array(i);++o<i;)s[o]=n[t+o];o=-1;for(var a=Array(t+1);++o<t;)a[o]=n[o];return a[t]=r(s),fz(e,this,a)}}function Ef(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var _H=vH(tH);function vH(e){var t=0,r=0;return function(){var n=Pz(),o=kV-(n-r);if(r=n,o>0){if(++t>=MV)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function yH(e){if(e!=null){try{return ld.call(e)}catch{}try{return e+""}catch{}}return""}function md(e,t){return e===t||e!==e&&t!==t}var Sf=FE(function(){return arguments}())?FE:function(e){return qs(e)&&Zr.call(e,"callee")&&!bz.call(e,"callee")},bf=Array.isArray;function Pf(e){return e!=null&&nS(e.length)&&!Tf(e)}function EH(e){return qs(e)&&Pf(e)}var rS=wz||PH;function Tf(e){if(!bo(e))return!1;var t=pd(e);return t==zE||t==BV||t==jV||t==HV}function nS(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=GE}function bo(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function qs(e){return e!=null&&typeof e=="object"}function SH(e){if(!qs(e)||pd(e)!=HE)return!1;var t=XE(e);if(t===null)return!0;var r=Zr.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&ld.call(r)==Ez}var oS=$E?hz($E):Xz;function bH(e){return sH(e,iS(e))}function iS(e){return Pf(e)?Wz(e,!0):Qz(e)}var CH=aH(function(e,t,r){ZE(e,t,r)});function wH(e){return function(){return e}}function sS(e){return e}function PH(){return!1}ci.exports=CH});var aS=m(ui=>{"use strict";var TH=ui&&ui.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ui,"__esModule",{value:!0});ui.LogItem=void 0;var IH=TH(If()),Of=class{constructor(t){this.attributes={},this.addAttributes(t.baseAttributes),this.addAttributes(t.persistentAttributes)}addAttributes(t){return this.attributes=(0,IH.default)(this.attributes,t),this}getAttributes(){return this.attributes}prepareForPrint(){this.setAttributes(this.removeEmptyKeys(this.getAttributes()))}removeEmptyKeys(t){let r={};for(let n in t)t[n]!==void 0&&t[n]!==""&&t[n]!==null&&(r[n]=t[n]);return r}setAttributes(t){this.attributes=t}};ui.LogItem=Of});var dS=m(cS=>{"use strict";Object.defineProperty(cS,"__esModule",{value:!0})});var uS=m(Pn=>{"use strict";var OH=Pn&&Pn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),lS=Pn&&Pn.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&OH(t,e,r)};Object.defineProperty(Pn,"__esModule",{value:!0});lS(aS(),Pn);lS(dS(),Pn)});var fS=m(pS=>{"use strict";Object.defineProperty(pS,"__esModule",{value:!0})});var mS=m(hd=>{"use strict";Object.defineProperty(hd,"__esModule",{value:!0});hd.EnvironmentVariablesService=void 0;var RH=Ns(),Rf=class extends RH.EnvironmentVariablesService{constructor(){super(...arguments),this.awsLogLevelVariable="AWS_LAMBDA_LOG_LEVEL",this.awsRegionVariable="AWS_REGION",this.currentEnvironmentVariable="ENVIRONMENT",this.functionNameVariable="AWS_LAMBDA_FUNCTION_NAME",this.functionVersionVariable="AWS_LAMBDA_FUNCTION_VERSION",this.logEventVariable="POWERTOOLS_LOGGER_LOG_EVENT",this.logLevelVariable="POWERTOOLS_LOG_LEVEL",this.logLevelVariableLegacy="LOG_LEVEL",this.memoryLimitInMBVariable="AWS_LAMBDA_FUNCTION_MEMORY_SIZE",this.sampleRateValueVariable="POWERTOOLS_LOGGER_SAMPLE_RATE"}getAwsLogLevel(){let t=this.get(this.awsLogLevelVariable);return t==="FATAL"?"CRITICAL":t}getAwsRegion(){return this.get(this.awsRegionVariable)}getCurrentEnvironment(){return this.get(this.currentEnvironmentVariable)}getFunctionMemory(){let t=this.get(this.memoryLimitInMBVariable);return Number(t)}getFunctionName(){return this.get(this.functionNameVariable)}getFunctionVersion(){return this.get(this.functionVersionVariable)}getLogEvent(){let t=this.get(this.logEventVariable);return this.isValueTrue(t)}getLogLevel(){let t=this.get(this.logLevelVariable),r=this.get(this.logLevelVariableLegacy);return t!==""?t:r}getSampleRateValue(){let t=this.get(this.sampleRateValueVariable);return t&&t.length>0?Number(t):void 0}};hd.EnvironmentVariablesService=Rf});var gS=m(Tn=>{"use strict";var AH=Tn&&Tn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),hS=Tn&&Tn.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&AH(t,e,r)};Object.defineProperty(Tn,"__esModule",{value:!0});hS(fS(),Tn);hS(mS(),Tn)});var xf=m(pi=>{"use strict";var xH=pi&&pi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pi,"__esModule",{value:!0});pi.Logger=void 0;var NH=require("node:crypto"),DH=require("node:console"),$H=require("node:util"),MH=Ns(),kH=sd(),LH=uS(),gd=xH(If()),jH=gS(),Af=class e extends MH.Utility{get level(){return this.logLevel}constructor(t={}){super(),this.logEvent=!1,this.logIndentation=0,this.logLevel=12,this.logLevelThresholds={DEBUG:8,INFO:12,WARN:16,ERROR:20,CRITICAL:24,SILENT:28},this.logsSampled=!1,this.persistentLogAttributes={},this.powertoolLogData={},this.setOptions(t)}addContext(t){let r={invokedFunctionArn:t.invokedFunctionArn,coldStart:this.getColdStart(),awsRequestId:t.awsRequestId,memoryLimitInMB:Number(t.memoryLimitInMB),functionName:t.functionName,functionVersion:t.functionVersion};this.addToPowertoolLogData({lambdaContext:r})}addPersistentLogAttributes(t){(0,gd.default)(this.persistentLogAttributes,t)}appendKeys(t){this.addPersistentLogAttributes(t)}createChild(t={}){let r={logLevel:this.getLevelName(),customConfigService:this.getCustomConfigService(),logFormatter:this.getLogFormatter()},n=this.getPowertoolLogData(),o=this.createLogger((0,gd.default)(r,n,t)),i=this.getPersistentLogAttributes();return o.addPersistentLogAttributes(i),n.lambdaContext&&o.addContext(n.lambdaContext),o}critical(t,...r){this.processLogItem(24,t,r)}debug(t,...r){this.processLogItem(8,t,r)}error(t,...r){this.processLogItem(20,t,r)}getLevelName(){return this.getLogLevelNameFromNumber(this.logLevel)}getLogEvent(){return this.logEvent}getLogsSampled(){return this.logsSampled}getPersistentLogAttributes(){return this.persistentLogAttributes}info(t,...r){this.processLogItem(12,t,r)}injectLambdaContext(t){return(r,n,o)=>{let i=o.value,s=this;o.value=async function(a,c,l){let p={};t&&t.clearState===!0&&(p={...s.getPersistentLogAttributes()}),e.injectLambdaContextBefore(s,a,c,t);let f;try{f=await i.apply(this,[a,c,l])}catch(h){throw h}finally{e.injectLambdaContextAfterOrOnError(s,p,t)}return f}}}static injectLambdaContextAfterOrOnError(t,r,n){n&&n.clearState===!0&&t.setPersistentLogAttributes(r)}static injectLambdaContextBefore(t,r,n,o){t.addContext(n);let i;o&&o.hasOwnProperty("logEvent")&&(i=o.logEvent),t.logEventIfEnabled(r,i)}logEventIfEnabled(t,r){this.shouldLogEvent(r)&&this.info("Lambda invocation event",{event:t})}refreshSampleRateCalculation(){this.setLogsSampled()}removeKeys(t){this.removePersistentLogAttributes(t)}removePersistentLogAttributes(t){t.forEach(r=>{this.persistentLogAttributes&&r in this.persistentLogAttributes&&delete this.persistentLogAttributes[r]})}setLogLevel(t){if(!this.awsLogLevelShortCircuit(t))if(this.isValidLogLevel(t))this.logLevel=this.logLevelThresholds[t];else throw new Error(`Invalid log level: ${t}`)}setPersistentLogAttributes(t){this.persistentLogAttributes=t}setSampleRateValue(t){this.powertoolLogData.sampleRateValue=t||this.getCustomConfigService()?.getSampleRateValue()||this.getEnvVarsService().getSampleRateValue()}shouldLogEvent(t){return typeof t=="boolean"?t:this.getLogEvent()}warn(t,...r){this.processLogItem(16,t,r)}createLogger(t){return new e(t)}shouldPrint(t){return t>=this.logLevel?!0:this.getLogsSampled()}addToPowertoolLogData(...t){t.forEach(r=>{(0,gd.default)(this.powertoolLogData,r)})}awsLogLevelShortCircuit(t){let r=this.getEnvVarsService().getAwsLogLevel();return this.isValidLogLevel(r)?(this.logLevel=this.logLevelThresholds[r],this.isValidLogLevel(t)&&this.logLevel>this.logLevelThresholds[t]&&this.warn((0,$H.format)("Current log level (%s) does not match AWS Lambda Advanced Logging Controls minimum log level (%s). This can lead to data loss, consider adjusting them.",t,r)),!0):!1}createAndPopulateLogItem(t,r,n){let o=(0,gd.default)({logLevel:this.getLogLevelNameFromNumber(t),timestamp:new Date,message:typeof r=="string"?r:r.message,xRayTraceId:this.envVarsService.getXrayTraceId()},this.getPowertoolLogData()),i=new LH.LogItem({baseAttributes:this.getLogFormatter().formatAttributes(o),persistentAttributes:this.getPersistentLogAttributes()});return typeof r!="string"&&i.addAttributes(r),n.forEach(s=>{let a=s instanceof Error?{error:s}:typeof s=="string"?{extra:s}:s;i.addAttributes(a)}),i}getCustomConfigService(){return this.customConfigService}getEnvVarsService(){return this.envVarsService}getLogFormatter(){return this.logFormatter}getLogLevelNameFromNumber(t){return Object.entries(this.logLevelThresholds).find(([n,o])=>{if(o===t)return n})[0]}getPowertoolLogData(){return this.powertoolLogData}getReplacer(){let t=new WeakSet;return(r,n)=>{let o=n;if(o instanceof Error&&(o=this.getLogFormatter().formatError(o)),typeof o=="bigint")return o.toString();if(typeof o=="object"&&n!==null){if(t.has(o))return;t.add(o)}return o}}getSampleRateValue(){return this.powertoolLogData.sampleRateValue||this.setSampleRateValue(),this.powertoolLogData.sampleRateValue}isValidLogLevel(t){return typeof t=="string"&&t in this.logLevelThresholds}printLog(t,r){r.prepareForPrint();let n=t===24?"error":this.getLogLevelNameFromNumber(t).toLowerCase();this.console[n](JSON.stringify(r.getAttributes(),this.getReplacer(),this.logIndentation))}processLogItem(t,r,n){this.shouldPrint(t)&&this.printLog(t,this.createAndPopulateLogItem(t,r,n))}setConsole(){this.getEnvVarsService().isDevMode()?this.console=console:this.console=new DH.Console({stdout:process.stdout,stderr:process.stderr})}setCustomConfigService(t){this.customConfigService=t||void 0}setEnvVarsService(){this.envVarsService=new jH.EnvironmentVariablesService}setInitialLogLevel(t){let r=t?.toUpperCase();if(this.awsLogLevelShortCircuit(r))return;if(this.isValidLogLevel(r)){this.logLevel=this.logLevelThresholds[r];return}let n=this.getCustomConfigService()?.getLogLevel()?.toUpperCase();if(this.isValidLogLevel(n)){this.logLevel=this.logLevelThresholds[n];return}let o=this.getEnvVarsService()?.getLogLevel()?.toUpperCase();if(this.isValidLogLevel(o)){this.logLevel=this.logLevelThresholds[o];return}}setLogEvent(){this.getEnvVarsService().getLogEvent()&&(this.logEvent=!0)}setLogFormatter(t){this.logFormatter=t||new kH.PowertoolLogFormatter}setLogIndentation(){this.getEnvVarsService().isDevMode()&&(this.logIndentation=4)}setLogsSampled(){let t=this.getSampleRateValue();this.logsSampled=t!==void 0&&(t===1||(0,NH.randomInt)(0,100)/100<=t)}setOptions(t){let{logLevel:r,serviceName:n,sampleRateValue:o,logFormatter:i,customConfigService:s,persistentLogAttributes:a,environment:c}=t;return this.setEnvVarsService(),this.setConsole(),this.setCustomConfigService(s),this.setInitialLogLevel(r),this.setSampleRateValue(o),this.setLogsSampled(),this.setLogFormatter(i),this.setPowertoolLogData(n,c),this.setLogEvent(),this.setLogIndentation(),this.addPersistentLogAttributes(a),this}setPowertoolLogData(t,r,n={}){this.addToPowertoolLogData({awsRegion:this.getEnvVarsService().getAwsRegion(),environment:r||this.getCustomConfigService()?.getCurrentEnvironment()||this.getEnvVarsService().getCurrentEnvironment(),sampleRateValue:this.getSampleRateValue(),serviceName:t||this.getCustomConfigService()?.getServiceName()||this.getEnvVarsService().getServiceName()||this.getDefaultServiceName()},n)}};pi.Logger=Af});var vS=m(_d=>{"use strict";Object.defineProperty(_d,"__esModule",{value:!0});_d.injectLambdaContext=void 0;var _S=xf(),qH=pf(),UH=(e,t)=>{let r=e instanceof Array?e:[e],n=[],o=t&&t.clearState===!0,i=c=>{c.internal={...c.internal,[qH.LOGGER_KEY]:a}},s=async c=>{r.forEach((l,p)=>{o&&(n[p]={...l.getPersistentLogAttributes()},i(c)),_S.Logger.injectLambdaContextBefore(l,c.event,c.context,t)})},a=async()=>{o&&r.forEach((c,l)=>{_S.Logger.injectLambdaContextAfterOrOnError(c,n[l],t)})};return{before:s,after:a,onError:a}};_d.injectLambdaContext=UH});var yS=m(Co=>{"use strict";var FH=Co&&Co.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),BH=Co&&Co.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&FH(t,e,r)};Object.defineProperty(Co,"__esModule",{value:!0});BH(vS(),Co)});var nd=m(Pr=>{"use strict";var GH=Pr&&Pr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),vd=Pr&&Pr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&GH(t,e,r)};Object.defineProperty(Pr,"__esModule",{value:!0});vd(OE(),Pr);vd(xf(),Pr);vd(yS(),Pr);vd(sd(),Pr)});var bS={};Fc(bS,{logger:()=>yd,metrics:()=>Ed});var ES,SS,yd,Ed,Nf=Ke(()=>{ES=br(nd()),SS=br(td()),yd=new ES.Logger,Ed=new SS.Metrics});var TS=m((wS,PS)=>{"use strict";Object.defineProperty(wS,"__esModule",{value:!0});Object.defineProperty(PS,"exports",{enumerable:!0,get:()=>XH});var VH=require("events"),CS=()=>{},zH={timeoutEarlyInMillis:5,timeoutEarlyResponse:()=>{throw new Error("Timeout")}},HH=(e=CS,t={})=>{typeof e!="function"&&(t=e,e=CS),t={...zH,...t},t.timeoutEarly=t.timeoutEarlyInMillis>0,t.beforePrefetch?.();let r=[],n=[],o=[],i=(s={},a={})=>{t.requestStart?.();let c={event:s,context:a,response:void 0,error:void 0,internal:t.internal??{}};return WH(c,[...r],e,[...n],[...o],t)};return i.use=s=>{Array.isArray(s)||(s=[s]);for(let a of s){let{before:c,after:l,onError:p}=a;if(!c&&!l&&!p)throw new Error('Middleware must be an object containing at least one key among "before", "after", "onError"');c&&i.before(c),l&&i.after(l),p&&i.onError(p)}return i},i.before=s=>(r.push(s),i),i.after=s=>(n.unshift(s),i),i.onError=s=>(o.unshift(s),i),i.handler=s=>(e=s,i),i},WH=async(e,t,r,n,o,i)=>{let s=i.timeoutEarly&&e.context.getRemainingTimeInMillis;try{if(await Df(e,t,i),typeof e.response>"u"){i.beforeHandler?.();let a=new AbortController,c;s&&(c=new AbortController),e.response=await Promise.race([r(e.event,e.context,{signal:a.signal}),s?YH(e.context.getRemainingTimeInMillis()-i.timeoutEarlyInMillis,{signal:c.signal}).then(()=>(a.abort(),i.timeoutEarlyResponse())):Promise.race([])]),s&&c.abort(),i.afterHandler?.(),await Df(e,n,i)}}catch(a){e.response=void 0,e.error=a;try{await Df(e,o,i)}catch(c){throw c.originalError=e.error,e.error=c,e.error}if(typeof e.response>"u")throw e.error}finally{await i.requestEnd?.(e)}return e.response},Df=async(e,t,r)=>{for(let n of t){r.beforeMiddleware?.(n.name);let o=await n(e);if(r.afterMiddleware?.(n.name),typeof o<"u"){e.response=o;return}}},KH=()=>{if(process.version<"v15.0.0"){class e{toString(){return"[object AbortSignal]"}get[Symbol.toStringTag](){return"AbortSignal"}removeEventListener(r,n){this.eventEmitter.removeListener(r,n)}addEventListener(r,n){this.eventEmitter.on(r,n)}dispatchEvent(r){let n={type:r,target:this},o=`on${r}`;typeof this[o]=="function"&&this[o](n),this.eventEmitter.emit(r,n)}constructor(){this.eventEmitter=new VH.EventEmitter,this.onabort=null,this.aborted=!1}}return class{abort(){this.signal.aborted||(this.signal.aborted=!0,this.signal.dispatchEvent("abort"))}toString(){return"[object AbortController]"}get[Symbol.toStringTag](){return"AbortController"}constructor(){this.signal=new e}}}else return AbortController};global.AbortController=KH();var JH=()=>(e,{signal:t})=>t.aborted?Promise.reject(new Error("Aborted","AbortError")):new Promise((r,n)=>{let o=()=>{clearTimeout(i),n(new Error("Aborted","AbortError"))},i=setTimeout(()=>{r(),t.removeEventListener("abort",o)},e);t.addEventListener("abort",o)}),YH=JH(),XH=HH});var $S=m($f=>{"use strict";Object.defineProperty($f,"__esModule",{value:!0});function QH(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}QH($f,{awsClientDefaultOptions:()=>RS,createPrefetchClient:()=>AS,createClient:()=>e3,canPrefetch:()=>t3,getInternal:()=>xS,sanitizeKey:()=>NS,processCache:()=>i3,getCache:()=>DS,modifyCache:()=>s3,clearCache:()=>a3,jsonSafeParse:()=>c3,jsonSafeStringify:()=>d3,normalizeHttpResponse:()=>l3,HttpError:()=>Sd,createError:()=>p3});var ZH=require("https"),IS,RS={httpOptions:{agent:new ZH.Agent({keepAlive:!0,secureProtocol:"TLSv1_2_method"})}},AS=e=>{let t={...RS,...e.awsClientOptions},r=new e.AwsClient(t);return e.awsClientCapture&&e.disablePrefetch?e.awsClientCapture(r):(e.awsClientCapture&&console.warn("Unable to apply X-Ray outside of handler invocation scope."),r)},e3=async(e,t)=>{let r={};if(e.awsClientAssumeRole){if(!t)throw new Error("Request required when assuming role");r=await xS({credentials:e.awsClientAssumeRole},t)}return r={...r,...e.awsClientOptions},AS({...e,awsClientOptions:r})},t3=(e={})=>!e.awsClientAssumeRole&&!e.disablePrefetch,xS=async(e,t)=>{if(!e||!t)return{};let r=[],n=[];e===!0?r=n=Object.keys(t.internal):typeof e=="string"?r=n=[e]:Array.isArray(e)?r=n=e:typeof e=="object"&&(r=Object.keys(e),n=Object.values(e));let o=[];for(let s of n){let a=s.split("."),c=a.shift(),l=t.internal[c];r3(l)||(l=Promise.resolve(l)),o.push(l.then(p=>a.reduce((f,h)=>f?.[h],p)))}n=await Promise.allSettled(o);let i=n.filter(s=>s.status==="rejected").map(s=>s.reason);if(i.length){let s=new Error("Failed to resolve internal values");throw s.cause=i,s}return r.reduce((s,a,c)=>({...s,[NS(a)]:n[c].value}),{})},r3=e=>typeof e?.then=="function",n3=/^([0-9])/,o3=/[^a-zA-Z0-9]+/g,NS=e=>e.replace(n3,"_$1").replace(o3,"_"),Ot={},i3=(e,t=()=>{},r)=>{let{cacheExpiry:n,cacheKey:o}=e;if(n){let a=DS(o),c=a.expiry&&(n<0||a.expiry>Date.now());if(c&&a.modified){let l=t(r,a.value);return Ot[o]={value:{...a.value,...l},expiry:a.expiry},Ot[o]}if(c)return{...a,cache:!0}}let i=t(r),s=Date.now()+n;if(n){let a=n>0?setInterval(()=>{let c=t(r),l=Date.now()+n;Object.assign(Ot[o],{value:c,expiry:l})},n):void 0;Ot[o]={value:i,expiry:s,refresh:a}}return{value:i,expiry:s}},DS=e=>Ot[e]?Ot[e]:{},s3=(e,t)=>{Ot[e]&&(clearInterval(Ot[e]?.refresh),Ot[e]={...Ot[e],value:t,modified:!0})},a3=(e=null)=>{e=e??Object.keys(Ot),Array.isArray(e)||(e=[e]);for(let t of e)clearInterval(Ot[t]?.refresh),Ot[t]=void 0},c3=(e,t)=>{if(typeof e!="string")return e;let r=e[0];if(r!=="{"&&r!=="["&&r!=='"')return e;try{return JSON.parse(e,t)}catch{}return e},d3=(e,t,r)=>{try{return JSON.stringify(e,t,r)}catch{}return e},l3=e=>{let{response:t}=e;return typeof t>"u"?t={}:typeof t?.statusCode>"u"&&typeof t?.body>"u"&&typeof t?.headers>"u"&&(t={body:t}),(IS=t).headers??(IS.headers={}),e.response=t,t},u3=/[^a-zA-Z]/g,Sd=class extends Error{constructor(t,r,n={}){r&&typeof r!="string"&&(n=r,r=void 0),r??(r=OS[t]),super(r),this.cause=n.cause;let o=OS[t].replace(u3,"");this.name=o.substr(-5)!=="Error"?o+"Error":o,this.status=this.statusCode=t,this.expose=n.expose??t<500}},p3=(e,t,r={})=>new Sd(e,t,r),OS={100:"Continue",101:"Switching Protocols",102:"Processing",103:"Early Hints",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",306:"(Unused)",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}});var LS=m((MS,kS)=>{"use strict";Object.defineProperty(MS,"__esModule",{value:!0});Object.defineProperty(kS,"exports",{enumerable:!0,get:()=>_3});var f3=$S(),m3=/^application\/(.+\+)?json(;.*)?$/,h3={reviver:void 0},g3=(e={})=>{let{reviver:t}={...h3,...e};return{before:async n=>{let{headers:o,body:i}=n.event,s=o["Content-Type"]??o["content-type"];if(m3.test(s))try{let a=n.event.isBase64Encoded?Buffer.from(i,"base64").toString():i;n.event.rawBody=i,n.event.body=JSON.parse(a,t)}catch(a){let c=(0,f3.createError)(422,"Invalid or malformed JSON was provided");throw c.cause=a,c}}}},_3=g3});var GS=m((FS,BS)=>{"use strict";Object.defineProperty(FS,"__esModule",{value:!0});Object.defineProperty(BS,"exports",{enumerable:!0,get:()=>E3});var jS,qS,US,v3=()=>({before:async t=>{let{event:r}=t,n=r.version??"1.0";if(!y3[n]?.(r))throw new Error("[http-event-normalizer] Unknown http event format");(jS=r).pathParameters??(jS.pathParameters={}),(qS=r).queryStringParameters??(qS.queryStringParameters={}),n==="1.0"&&((US=r).multiValueQueryStringParameters??(US.multiValueQueryStringParameters={}))}}),y3={"1.0":e=>typeof e.httpMethod<"u","2.0":e=>typeof e.requestContext.http.method<"u"},E3=v3});var fi=m(fe=>{"use strict";Object.defineProperty(fe,"__esModule",{value:!0});fe.regexpCode=fe.getEsmExportName=fe.getProperty=fe.safeStringify=fe.stringify=fe.strConcat=fe.addCodeArg=fe.str=fe._=fe.nil=fe._Code=fe.Name=fe.IDENTIFIER=fe._CodeOrName=void 0;var Us=class{};fe._CodeOrName=Us;fe.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var wo=class extends Us{constructor(t){if(super(),!fe.IDENTIFIER.test(t))throw new Error("CodeGen: name must be a valid identifier");this.str=t}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};fe.Name=wo;var jt=class extends Us{constructor(t){super(),this._items=typeof t=="string"?[t]:t}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let t=this._items[0];return t===""||t==='""'}get str(){var t;return(t=this._str)!==null&&t!==void 0?t:this._str=this._items.reduce((r,n)=>`${r}${n}`,"")}get names(){var t;return(t=this._names)!==null&&t!==void 0?t:this._names=this._items.reduce((r,n)=>(n instanceof wo&&(r[n.str]=(r[n.str]||0)+1),r),{})}};fe._Code=jt;fe.nil=new jt("");function VS(e,...t){let r=[e[0]],n=0;for(;n<t.length;)kf(r,t[n]),r.push(e[++n]);return new jt(r)}fe._=VS;var Mf=new jt("+");function zS(e,...t){let r=[Fs(e[0])],n=0;for(;n<t.length;)r.push(Mf),kf(r,t[n]),r.push(Mf,Fs(e[++n]));return S3(r),new jt(r)}fe.str=zS;function kf(e,t){t instanceof jt?e.push(...t._items):t instanceof wo?e.push(t):e.push(w3(t))}fe.addCodeArg=kf;function S3(e){let t=1;for(;t<e.length-1;){if(e[t]===Mf){let r=b3(e[t-1],e[t+1]);if(r!==void 0){e.splice(t-1,3,r);continue}e[t++]="+"}t++}}function b3(e,t){if(t==='""')return e;if(e==='""')return t;if(typeof e=="string")return t instanceof wo||e[e.length-1]!=='"'?void 0:typeof t!="string"?`${e.slice(0,-1)}${t}"`:t[0]==='"'?e.slice(0,-1)+t.slice(1):void 0;if(typeof t=="string"&&t[0]==='"'&&!(e instanceof wo))return`"${e}${t.slice(1)}`}function C3(e,t){return t.emptyStr()?e:e.emptyStr()?t:zS`${e}${t}`}fe.strConcat=C3;function w3(e){return typeof e=="number"||typeof e=="boolean"||e===null?e:Fs(Array.isArray(e)?e.join(","):e)}function P3(e){return new jt(Fs(e))}fe.stringify=P3;function Fs(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}fe.safeStringify=Fs;function T3(e){return typeof e=="string"&&fe.IDENTIFIER.test(e)?new jt(`.${e}`):VS`[${e}]`}fe.getProperty=T3;function I3(e){if(typeof e=="string"&&fe.IDENTIFIER.test(e))return new jt(`${e}`);throw new Error(`CodeGen: invalid export name: ${e}, use explicit $id name mapping`)}fe.getEsmExportName=I3;function O3(e){return new jt(e.toString())}fe.regexpCode=O3});var Uf=m(ft=>{"use strict";Object.defineProperty(ft,"__esModule",{value:!0});ft.ValueScope=ft.ValueScopeName=ft.Scope=ft.varKinds=ft.UsedValueState=void 0;var Et=fi(),Lf=class extends Error{constructor(t){super(`CodeGen: "code" for ${t} not defined`),this.value=t.value}},jf;(function(e){e[e.Started=0]="Started",e[e.Completed=1]="Completed"})(jf=ft.UsedValueState||(ft.UsedValueState={}));ft.varKinds={const:new Et.Name("const"),let:new Et.Name("let"),var:new Et.Name("var")};var bd=class{constructor({prefixes:t,parent:r}={}){this._names={},this._prefixes=t,this._parent=r}toName(t){return t instanceof Et.Name?t:this.name(t)}name(t){return new Et.Name(this._newName(t))}_newName(t){let r=this._names[t]||this._nameGroup(t);return`${t}${r.index++}`}_nameGroup(t){var r,n;if(!((n=(r=this._parent)===null||r===void 0?void 0:r._prefixes)===null||n===void 0)&&n.has(t)||this._prefixes&&!this._prefixes.has(t))throw new Error(`CodeGen: prefix "${t}" is not allowed in this scope`);return this._names[t]={prefix:t,index:0}}};ft.Scope=bd;var Cd=class extends Et.Name{constructor(t,r){super(r),this.prefix=t}setValue(t,{property:r,itemIndex:n}){this.value=t,this.scopePath=(0,Et._)`.${new Et.Name(r)}[${n}]`}};ft.ValueScopeName=Cd;var R3=(0,Et._)`\n`,qf=class extends bd{constructor(t){super(t),this._values={},this._scope=t.scope,this.opts={...t,_n:t.lines?R3:Et.nil}}get(){return this._scope}name(t){return new Cd(t,this._newName(t))}value(t,r){var n;if(r.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let o=this.toName(t),{prefix:i}=o,s=(n=r.key)!==null&&n!==void 0?n:r.ref,a=this._values[i];if(a){let p=a.get(s);if(p)return p}else a=this._values[i]=new Map;a.set(s,o);let c=this._scope[i]||(this._scope[i]=[]),l=c.length;return c[l]=r.ref,o.setValue(r,{property:i,itemIndex:l}),o}getValue(t,r){let n=this._values[t];if(n)return n.get(r)}scopeRefs(t,r=this._values){return this._reduceValues(r,n=>{if(n.scopePath===void 0)throw new Error(`CodeGen: name "${n}" has no value`);return(0,Et._)`${t}${n.scopePath}`})}scopeCode(t=this._values,r,n){return this._reduceValues(t,o=>{if(o.value===void 0)throw new Error(`CodeGen: name "${o}" has no value`);return o.value.code},r,n)}_reduceValues(t,r,n={},o){let i=Et.nil;for(let s in t){let a=t[s];if(!a)continue;let c=n[s]=n[s]||new Map;a.forEach(l=>{if(c.has(l))return;c.set(l,jf.Started);let p=r(l);if(p){let f=this.opts.es5?ft.varKinds.var:ft.varKinds.const;i=(0,Et._)`${i}${f} ${l} = ${p};${this.opts._n}`}else if(p=o?.(l))i=(0,Et._)`${i}${p}${this.opts._n}`;else throw new Lf(l);c.set(l,jf.Completed)})}return i}};ft.ValueScope=qf});var X=m(oe=>{"use strict";Object.defineProperty(oe,"__esModule",{value:!0});oe.or=oe.and=oe.not=oe.CodeGen=oe.operators=oe.varKinds=oe.ValueScopeName=oe.ValueScope=oe.Scope=oe.Name=oe.regexpCode=oe.stringify=oe.getProperty=oe.nil=oe.strConcat=oe.str=oe._=void 0;var ae=fi(),tr=Uf(),In=fi();Object.defineProperty(oe,"_",{enumerable:!0,get:function(){return In._}});Object.defineProperty(oe,"str",{enumerable:!0,get:function(){return In.str}});Object.defineProperty(oe,"strConcat",{enumerable:!0,get:function(){return In.strConcat}});Object.defineProperty(oe,"nil",{enumerable:!0,get:function(){return In.nil}});Object.defineProperty(oe,"getProperty",{enumerable:!0,get:function(){return In.getProperty}});Object.defineProperty(oe,"stringify",{enumerable:!0,get:function(){return In.stringify}});Object.defineProperty(oe,"regexpCode",{enumerable:!0,get:function(){return In.regexpCode}});Object.defineProperty(oe,"Name",{enumerable:!0,get:function(){return In.Name}});var Id=Uf();Object.defineProperty(oe,"Scope",{enumerable:!0,get:function(){return Id.Scope}});Object.defineProperty(oe,"ValueScope",{enumerable:!0,get:function(){return Id.ValueScope}});Object.defineProperty(oe,"ValueScopeName",{enumerable:!0,get:function(){return Id.ValueScopeName}});Object.defineProperty(oe,"varKinds",{enumerable:!0,get:function(){return Id.varKinds}});oe.operators={GT:new ae._Code(">"),GTE:new ae._Code(">="),LT:new ae._Code("<"),LTE:new ae._Code("<="),EQ:new ae._Code("==="),NEQ:new ae._Code("!=="),NOT:new ae._Code("!"),OR:new ae._Code("||"),AND:new ae._Code("&&"),ADD:new ae._Code("+")};var tn=class{optimizeNodes(){return this}optimizeNames(t,r){return this}},Ff=class extends tn{constructor(t,r,n){super(),this.varKind=t,this.name=r,this.rhs=n}render({es5:t,_n:r}){let n=t?tr.varKinds.var:this.varKind,o=this.rhs===void 0?"":` = ${this.rhs}`;return`${n} ${this.name}${o};`+r}optimizeNames(t,r){if(t[this.name.str])return this.rhs&&(this.rhs=hi(this.rhs,t,r)),this}get names(){return this.rhs instanceof ae._CodeOrName?this.rhs.names:{}}},wd=class extends tn{constructor(t,r,n){super(),this.lhs=t,this.rhs=r,this.sideEffects=n}render({_n:t}){return`${this.lhs} = ${this.rhs};`+t}optimizeNames(t,r){if(!(this.lhs instanceof ae.Name&&!t[this.lhs.str]&&!this.sideEffects))return this.rhs=hi(this.rhs,t,r),this}get names(){let t=this.lhs instanceof ae.Name?{}:{...this.lhs.names};return Td(t,this.rhs)}},Bf=class extends wd{constructor(t,r,n,o){super(t,n,o),this.op=r}render({_n:t}){return`${this.lhs} ${this.op}= ${this.rhs};`+t}},Gf=class extends tn{constructor(t){super(),this.label=t,this.names={}}render({_n:t}){return`${this.label}:`+t}},Vf=class extends tn{constructor(t){super(),this.label=t,this.names={}}render({_n:t}){return`break${this.label?` ${this.label}`:""};`+t}},zf=class extends tn{constructor(t){super(),this.error=t}render({_n:t}){return`throw ${this.error};`+t}get names(){return this.error.names}},Hf=class extends tn{constructor(t){super(),this.code=t}render({_n:t}){return`${this.code};`+t}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(t,r){return this.code=hi(this.code,t,r),this}get names(){return this.code instanceof ae._CodeOrName?this.code.names:{}}},Bs=class extends tn{constructor(t=[]){super(),this.nodes=t}render(t){return this.nodes.reduce((r,n)=>r+n.render(t),"")}optimizeNodes(){let{nodes:t}=this,r=t.length;for(;r--;){let n=t[r].optimizeNodes();Array.isArray(n)?t.splice(r,1,...n):n?t[r]=n:t.splice(r,1)}return t.length>0?this:void 0}optimizeNames(t,r){let{nodes:n}=this,o=n.length;for(;o--;){let i=n[o];i.optimizeNames(t,r)||(A3(t,i.names),n.splice(o,1))}return n.length>0?this:void 0}get names(){return this.nodes.reduce((t,r)=>Io(t,r.names),{})}},rn=class extends Bs{render(t){return"{"+t._n+super.render(t)+"}"+t._n}},Wf=class extends Bs{},mi=class extends rn{};mi.kind="else";var Po=class e extends rn{constructor(t,r){super(r),this.condition=t}render(t){let r=`if(${this.condition})`+super.render(t);return this.else&&(r+="else "+this.else.render(t)),r}optimizeNodes(){super.optimizeNodes();let t=this.condition;if(t===!0)return this.nodes;let r=this.else;if(r){let n=r.optimizeNodes();r=this.else=Array.isArray(n)?new mi(n):n}if(r)return t===!1?r instanceof e?r:r.nodes:this.nodes.length?this:new e(HS(t),r instanceof e?[r]:r.nodes);if(!(t===!1||!this.nodes.length))return this}optimizeNames(t,r){var n;if(this.else=(n=this.else)===null||n===void 0?void 0:n.optimizeNames(t,r),!!(super.optimizeNames(t,r)||this.else))return this.condition=hi(this.condition,t,r),this}get names(){let t=super.names;return Td(t,this.condition),this.else&&Io(t,this.else.names),t}};Po.kind="if";var To=class extends rn{};To.kind="for";var Kf=class extends To{constructor(t){super(),this.iteration=t}render(t){return`for(${this.iteration})`+super.render(t)}optimizeNames(t,r){if(super.optimizeNames(t,r))return this.iteration=hi(this.iteration,t,r),this}get names(){return Io(super.names,this.iteration.names)}},Jf=class extends To{constructor(t,r,n,o){super(),this.varKind=t,this.name=r,this.from=n,this.to=o}render(t){let r=t.es5?tr.varKinds.var:this.varKind,{name:n,from:o,to:i}=this;return`for(${r} ${n}=${o}; ${n}<${i}; ${n}++)`+super.render(t)}get names(){let t=Td(super.names,this.from);return Td(t,this.to)}},Pd=class extends To{constructor(t,r,n,o){super(),this.loop=t,this.varKind=r,this.name=n,this.iterable=o}render(t){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(t)}optimizeNames(t,r){if(super.optimizeNames(t,r))return this.iterable=hi(this.iterable,t,r),this}get names(){return Io(super.names,this.iterable.names)}},Gs=class extends rn{constructor(t,r,n){super(),this.name=t,this.args=r,this.async=n}render(t){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(t)}};Gs.kind="func";var Vs=class extends Bs{render(t){return"return "+super.render(t)}};Vs.kind="return";var Yf=class extends rn{render(t){let r="try"+super.render(t);return this.catch&&(r+=this.catch.render(t)),this.finally&&(r+=this.finally.render(t)),r}optimizeNodes(){var t,r;return super.optimizeNodes(),(t=this.catch)===null||t===void 0||t.optimizeNodes(),(r=this.finally)===null||r===void 0||r.optimizeNodes(),this}optimizeNames(t,r){var n,o;return super.optimizeNames(t,r),(n=this.catch)===null||n===void 0||n.optimizeNames(t,r),(o=this.finally)===null||o===void 0||o.optimizeNames(t,r),this}get names(){let t=super.names;return this.catch&&Io(t,this.catch.names),this.finally&&Io(t,this.finally.names),t}},zs=class extends rn{constructor(t){super(),this.error=t}render(t){return`catch(${this.error})`+super.render(t)}};zs.kind="catch";var Hs=class extends rn{render(t){return"finally"+super.render(t)}};Hs.kind="finally";var Xf=class{constructor(t,r={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...r,_n:r.lines?`
`:""},this._extScope=t,this._scope=new tr.Scope({parent:t}),this._nodes=[new Wf]}toString(){return this._root.render(this.opts)}name(t){return this._scope.name(t)}scopeName(t){return this._extScope.name(t)}scopeValue(t,r){let n=this._extScope.value(t,r);return(this._values[n.prefix]||(this._values[n.prefix]=new Set)).add(n),n}getScopeValue(t,r){return this._extScope.getValue(t,r)}scopeRefs(t){return this._extScope.scopeRefs(t,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(t,r,n,o){let i=this._scope.toName(r);return n!==void 0&&o&&(this._constants[i.str]=n),this._leafNode(new Ff(t,i,n)),i}const(t,r,n){return this._def(tr.varKinds.const,t,r,n)}let(t,r,n){return this._def(tr.varKinds.let,t,r,n)}var(t,r,n){return this._def(tr.varKinds.var,t,r,n)}assign(t,r,n){return this._leafNode(new wd(t,r,n))}add(t,r){return this._leafNode(new Bf(t,oe.operators.ADD,r))}code(t){return typeof t=="function"?t():t!==ae.nil&&this._leafNode(new Hf(t)),this}object(...t){let r=["{"];for(let[n,o]of t)r.length>1&&r.push(","),r.push(n),(n!==o||this.opts.es5)&&(r.push(":"),(0,ae.addCodeArg)(r,o));return r.push("}"),new ae._Code(r)}if(t,r,n){if(this._blockNode(new Po(t)),r&&n)this.code(r).else().code(n).endIf();else if(r)this.code(r).endIf();else if(n)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(t){return this._elseNode(new Po(t))}else(){return this._elseNode(new mi)}endIf(){return this._endBlockNode(Po,mi)}_for(t,r){return this._blockNode(t),r&&this.code(r).endFor(),this}for(t,r){return this._for(new Kf(t),r)}forRange(t,r,n,o,i=this.opts.es5?tr.varKinds.var:tr.varKinds.let){let s=this._scope.toName(t);return this._for(new Jf(i,s,r,n),()=>o(s))}forOf(t,r,n,o=tr.varKinds.const){let i=this._scope.toName(t);if(this.opts.es5){let s=r instanceof ae.Name?r:this.var("_arr",r);return this.forRange("_i",0,(0,ae._)`${s}.length`,a=>{this.var(i,(0,ae._)`${s}[${a}]`),n(i)})}return this._for(new Pd("of",o,i,r),()=>n(i))}forIn(t,r,n,o=this.opts.es5?tr.varKinds.var:tr.varKinds.const){if(this.opts.ownProperties)return this.forOf(t,(0,ae._)`Object.keys(${r})`,n);let i=this._scope.toName(t);return this._for(new Pd("in",o,i,r),()=>n(i))}endFor(){return this._endBlockNode(To)}label(t){return this._leafNode(new Gf(t))}break(t){return this._leafNode(new Vf(t))}return(t){let r=new Vs;if(this._blockNode(r),this.code(t),r.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(Vs)}try(t,r,n){if(!r&&!n)throw new Error('CodeGen: "try" without "catch" and "finally"');let o=new Yf;if(this._blockNode(o),this.code(t),r){let i=this.name("e");this._currNode=o.catch=new zs(i),r(i)}return n&&(this._currNode=o.finally=new Hs,this.code(n)),this._endBlockNode(zs,Hs)}throw(t){return this._leafNode(new zf(t))}block(t,r){return this._blockStarts.push(this._nodes.length),t&&this.code(t).endBlock(r),this}endBlock(t){let r=this._blockStarts.pop();if(r===void 0)throw new Error("CodeGen: not in self-balancing block");let n=this._nodes.length-r;if(n<0||t!==void 0&&n!==t)throw new Error(`CodeGen: wrong number of nodes: ${n} vs ${t} expected`);return this._nodes.length=r,this}func(t,r=ae.nil,n,o){return this._blockNode(new Gs(t,r,n)),o&&this.code(o).endFunc(),this}endFunc(){return this._endBlockNode(Gs)}optimize(t=1){for(;t-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(t){return this._currNode.nodes.push(t),this}_blockNode(t){this._currNode.nodes.push(t),this._nodes.push(t)}_endBlockNode(t,r){let n=this._currNode;if(n instanceof t||r&&n instanceof r)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${r?`${t.kind}/${r.kind}`:t.kind}"`)}_elseNode(t){let r=this._currNode;if(!(r instanceof Po))throw new Error('CodeGen: "else" without "if"');return this._currNode=r.else=t,this}get _root(){return this._nodes[0]}get _currNode(){let t=this._nodes;return t[t.length-1]}set _currNode(t){let r=this._nodes;r[r.length-1]=t}};oe.CodeGen=Xf;function Io(e,t){for(let r in t)e[r]=(e[r]||0)+(t[r]||0);return e}function Td(e,t){return t instanceof ae._CodeOrName?Io(e,t.names):e}function hi(e,t,r){if(e instanceof ae.Name)return n(e);if(!o(e))return e;return new ae._Code(e._items.reduce((i,s)=>(s instanceof ae.Name&&(s=n(s)),s instanceof ae._Code?i.push(...s._items):i.push(s),i),[]));function n(i){let s=r[i.str];return s===void 0||t[i.str]!==1?i:(delete t[i.str],s)}function o(i){return i instanceof ae._Code&&i._items.some(s=>s instanceof ae.Name&&t[s.str]===1&&r[s.str]!==void 0)}}function A3(e,t){for(let r in t)e[r]=(e[r]||0)-(t[r]||0)}function HS(e){return typeof e=="boolean"||typeof e=="number"||e===null?!e:(0,ae._)`!${Qf(e)}`}oe.not=HS;var x3=WS(oe.operators.AND);function N3(...e){return e.reduce(x3)}oe.and=N3;var D3=WS(oe.operators.OR);function $3(...e){return e.reduce(D3)}oe.or=$3;function WS(e){return(t,r)=>t===ae.nil?r:r===ae.nil?t:(0,ae._)`${Qf(t)} ${e} ${Qf(r)}`}function Qf(e){return e instanceof ae.Name?e:(0,ae._)`(${e})`}});var me=m(ie=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0});ie.checkStrictMode=ie.getErrorPath=ie.Type=ie.useFunc=ie.setEvaluated=ie.evaluatedPropsToName=ie.mergeEvaluated=ie.eachItem=ie.unescapeJsonPointer=ie.escapeJsonPointer=ie.escapeFragment=ie.unescapeFragment=ie.schemaRefOrVal=ie.schemaHasRulesButRef=ie.schemaHasRules=ie.checkUnknownRules=ie.alwaysValidSchema=ie.toHash=void 0;var we=X(),M3=fi();function k3(e){let t={};for(let r of e)t[r]=!0;return t}ie.toHash=k3;function L3(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(YS(e,t),!XS(t,e.self.RULES.all))}ie.alwaysValidSchema=L3;function YS(e,t=e.schema){let{opts:r,self:n}=e;if(!r.strictSchema||typeof t=="boolean")return;let o=n.RULES.keywords;for(let i in t)o[i]||tb(e,`unknown keyword: "${i}"`)}ie.checkUnknownRules=YS;function XS(e,t){if(typeof e=="boolean")return!e;for(let r in e)if(t[r])return!0;return!1}ie.schemaHasRules=XS;function j3(e,t){if(typeof e=="boolean")return!e;for(let r in e)if(r!=="$ref"&&t.all[r])return!0;return!1}ie.schemaHasRulesButRef=j3;function q3({topSchemaRef:e,schemaPath:t},r,n,o){if(!o){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,we._)`${r}`}return(0,we._)`${e}${t}${(0,we.getProperty)(n)}`}ie.schemaRefOrVal=q3;function U3(e){return QS(decodeURIComponent(e))}ie.unescapeFragment=U3;function F3(e){return encodeURIComponent(Zf(e))}ie.escapeFragment=F3;function Zf(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}ie.escapeJsonPointer=Zf;function QS(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}ie.unescapeJsonPointer=QS;function B3(e,t){if(Array.isArray(e))for(let r of e)t(r);else t(e)}ie.eachItem=B3;function KS({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:n}){return(o,i,s,a)=>{let c=s===void 0?i:s instanceof we.Name?(i instanceof we.Name?e(o,i,s):t(o,i,s),s):i instanceof we.Name?(t(o,s,i),i):r(i,s);return a===we.Name&&!(c instanceof we.Name)?n(o,c):c}}ie.mergeEvaluated={props:KS({mergeNames:(e,t,r)=>e.if((0,we._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,we._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,we._)`${r} || {}`).code((0,we._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,we._)`${r} !== true`,()=>{t===!0?e.assign(r,!0):(e.assign(r,(0,we._)`${r} || {}`),em(e,r,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:ZS}),items:KS({mergeNames:(e,t,r)=>e.if((0,we._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,we._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,we._)`${r} !== true`,()=>e.assign(r,t===!0?!0:(0,we._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function ZS(e,t){if(t===!0)return e.var("props",!0);let r=e.var("props",(0,we._)`{}`);return t!==void 0&&em(e,r,t),r}ie.evaluatedPropsToName=ZS;function em(e,t,r){Object.keys(r).forEach(n=>e.assign((0,we._)`${t}${(0,we.getProperty)(n)}`,!0))}ie.setEvaluated=em;var JS={};function G3(e,t){return e.scopeValue("func",{ref:t,code:JS[t.code]||(JS[t.code]=new M3._Code(t.code))})}ie.useFunc=G3;var eb;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(eb=ie.Type||(ie.Type={}));function V3(e,t,r){if(e instanceof we.Name){let n=t===eb.Num;return r?n?(0,we._)`"[" + ${e} + "]"`:(0,we._)`"['" + ${e} + "']"`:n?(0,we._)`"/" + ${e}`:(0,we._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,we.getProperty)(e).toString():"/"+Zf(e)}ie.getErrorPath=V3;function tb(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,r===!0)throw new Error(t);e.self.logger.warn(t)}}ie.checkStrictMode=tb});var Tr=m(tm=>{"use strict";Object.defineProperty(tm,"__esModule",{value:!0});var ot=X(),z3={data:new ot.Name("data"),valCxt:new ot.Name("valCxt"),instancePath:new ot.Name("instancePath"),parentData:new ot.Name("parentData"),parentDataProperty:new ot.Name("parentDataProperty"),rootData:new ot.Name("rootData"),dynamicAnchors:new ot.Name("dynamicAnchors"),vErrors:new ot.Name("vErrors"),errors:new ot.Name("errors"),this:new ot.Name("this"),self:new ot.Name("self"),scope:new ot.Name("scope"),json:new ot.Name("json"),jsonPos:new ot.Name("jsonPos"),jsonLen:new ot.Name("jsonLen"),jsonPart:new ot.Name("jsonPart")};tm.default=z3});var gi=m(it=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0});it.extendErrors=it.resetErrorsCount=it.reportExtraError=it.reportError=it.keyword$DataError=it.keywordError=void 0;var le=X(),Od=me(),mt=Tr();it.keywordError={message:({keyword:e})=>(0,le.str)`must pass "${e}" keyword validation`};it.keyword$DataError={message:({keyword:e,schemaType:t})=>t?(0,le.str)`"${e}" keyword must be ${t} ($data)`:(0,le.str)`"${e}" keyword is invalid ($data)`};function H3(e,t=it.keywordError,r,n){let{it:o}=e,{gen:i,compositeRule:s,allErrors:a}=o,c=ob(e,t,r);n??(s||a)?rb(i,c):nb(o,(0,le._)`[${c}]`)}it.reportError=H3;function W3(e,t=it.keywordError,r){let{it:n}=e,{gen:o,compositeRule:i,allErrors:s}=n,a=ob(e,t,r);rb(o,a),i||s||nb(n,mt.default.vErrors)}it.reportExtraError=W3;function K3(e,t){e.assign(mt.default.errors,t),e.if((0,le._)`${mt.default.vErrors} !== null`,()=>e.if(t,()=>e.assign((0,le._)`${mt.default.vErrors}.length`,t),()=>e.assign(mt.default.vErrors,null)))}it.resetErrorsCount=K3;function J3({gen:e,keyword:t,schemaValue:r,data:n,errsCount:o,it:i}){if(o===void 0)throw new Error("ajv implementation error");let s=e.name("err");e.forRange("i",o,mt.default.errors,a=>{e.const(s,(0,le._)`${mt.default.vErrors}[${a}]`),e.if((0,le._)`${s}.instancePath === undefined`,()=>e.assign((0,le._)`${s}.instancePath`,(0,le.strConcat)(mt.default.instancePath,i.errorPath))),e.assign((0,le._)`${s}.schemaPath`,(0,le.str)`${i.errSchemaPath}/${t}`),i.opts.verbose&&(e.assign((0,le._)`${s}.schema`,r),e.assign((0,le._)`${s}.data`,n))})}it.extendErrors=J3;function rb(e,t){let r=e.const("err",t);e.if((0,le._)`${mt.default.vErrors} === null`,()=>e.assign(mt.default.vErrors,(0,le._)`[${r}]`),(0,le._)`${mt.default.vErrors}.push(${r})`),e.code((0,le._)`${mt.default.errors}++`)}function nb(e,t){let{gen:r,validateName:n,schemaEnv:o}=e;o.$async?r.throw((0,le._)`new ${e.ValidationError}(${t})`):(r.assign((0,le._)`${n}.errors`,t),r.return(!1))}var Oo={keyword:new le.Name("keyword"),schemaPath:new le.Name("schemaPath"),params:new le.Name("params"),propertyName:new le.Name("propertyName"),message:new le.Name("message"),schema:new le.Name("schema"),parentSchema:new le.Name("parentSchema")};function ob(e,t,r){let{createErrors:n}=e.it;return n===!1?(0,le._)`{}`:Y3(e,t,r)}function Y3(e,t,r={}){let{gen:n,it:o}=e,i=[X3(o,r),Q3(e,r)];return Z3(e,t,i),n.object(...i)}function X3({errorPath:e},{instancePath:t}){let r=t?(0,le.str)`${e}${(0,Od.getErrorPath)(t,Od.Type.Str)}`:e;return[mt.default.instancePath,(0,le.strConcat)(mt.default.instancePath,r)]}function Q3({keyword:e,it:{errSchemaPath:t}},{schemaPath:r,parentSchema:n}){let o=n?t:(0,le.str)`${t}/${e}`;return r&&(o=(0,le.str)`${o}${(0,Od.getErrorPath)(r,Od.Type.Str)}`),[Oo.schemaPath,o]}function Z3(e,{params:t,message:r},n){let{keyword:o,data:i,schemaValue:s,it:a}=e,{opts:c,propertyName:l,topSchemaRef:p,schemaPath:f}=a;n.push([Oo.keyword,o],[Oo.params,typeof t=="function"?t(e):t||(0,le._)`{}`]),c.messages&&n.push([Oo.message,typeof r=="function"?r(e):r]),c.verbose&&n.push([Oo.schema,s],[Oo.parentSchema,(0,le._)`${p}${f}`],[mt.default.data,i]),l&&n.push([Oo.propertyName,l])}});var sb=m(_i=>{"use strict";Object.defineProperty(_i,"__esModule",{value:!0});_i.boolOrEmptySchema=_i.topBoolOrEmptySchema=void 0;var eW=gi(),tW=X(),rW=Tr(),nW={message:"boolean schema is false"};function oW(e){let{gen:t,schema:r,validateName:n}=e;r===!1?ib(e,!1):typeof r=="object"&&r.$async===!0?t.return(rW.default.data):(t.assign((0,tW._)`${n}.errors`,null),t.return(!0))}_i.topBoolOrEmptySchema=oW;function iW(e,t){let{gen:r,schema:n}=e;n===!1?(r.var(t,!1),ib(e)):r.var(t,!0)}_i.boolOrEmptySchema=iW;function ib(e,t){let{gen:r,data:n}=e,o={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,eW.reportError)(o,nW,void 0,t)}});var rm=m(vi=>{"use strict";Object.defineProperty(vi,"__esModule",{value:!0});vi.getRules=vi.isJSONType=void 0;var sW=["string","number","integer","boolean","null","object","array"],aW=new Set(sW);function cW(e){return typeof e=="string"&&aW.has(e)}vi.isJSONType=cW;function dW(){let e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}vi.getRules=dW});var nm=m(On=>{"use strict";Object.defineProperty(On,"__esModule",{value:!0});On.shouldUseRule=On.shouldUseGroup=On.schemaHasRulesForType=void 0;function lW({schema:e,self:t},r){let n=t.RULES.types[r];return n&&n!==!0&&ab(e,n)}On.schemaHasRulesForType=lW;function ab(e,t){return t.rules.some(r=>cb(e,r))}On.shouldUseGroup=ab;function cb(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}On.shouldUseRule=cb});var Ks=m(Ye=>{"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});Ye.reportTypeError=Ye.checkDataTypes=Ye.checkDataType=Ye.coerceAndCheckDataType=Ye.getJSONTypes=Ye.getSchemaTypes=Ye.DataType=void 0;var uW=rm(),pW=nm(),fW=gi(),te=X(),db=me(),Ws;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(Ws=Ye.DataType||(Ye.DataType={}));function mW(e){let t=lb(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}Ye.getSchemaTypes=mW;function lb(e){let t=Array.isArray(e)?e:e?[e]:[];if(t.every(uW.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}Ye.getJSONTypes=lb;function hW(e,t){let{gen:r,data:n,opts:o}=e,i=gW(t,o.coerceTypes),s=t.length>0&&!(i.length===0&&t.length===1&&(0,pW.schemaHasRulesForType)(e,t[0]));if(s){let a=im(t,n,o.strictNumbers,Ws.Wrong);r.if(a,()=>{i.length?_W(e,t,i):sm(e)})}return s}Ye.coerceAndCheckDataType=hW;var ub=new Set(["string","number","integer","boolean","null"]);function gW(e,t){return t?e.filter(r=>ub.has(r)||t==="array"&&r==="array"):[]}function _W(e,t,r){let{gen:n,data:o,opts:i}=e,s=n.let("dataType",(0,te._)`typeof ${o}`),a=n.let("coerced",(0,te._)`undefined`);i.coerceTypes==="array"&&n.if((0,te._)`${s} == 'object' && Array.isArray(${o}) && ${o}.length == 1`,()=>n.assign(o,(0,te._)`${o}[0]`).assign(s,(0,te._)`typeof ${o}`).if(im(t,o,i.strictNumbers),()=>n.assign(a,o))),n.if((0,te._)`${a} !== undefined`);for(let l of r)(ub.has(l)||l==="array"&&i.coerceTypes==="array")&&c(l);n.else(),sm(e),n.endIf(),n.if((0,te._)`${a} !== undefined`,()=>{n.assign(o,a),vW(e,a)});function c(l){switch(l){case"string":n.elseIf((0,te._)`${s} == "number" || ${s} == "boolean"`).assign(a,(0,te._)`"" + ${o}`).elseIf((0,te._)`${o} === null`).assign(a,(0,te._)`""`);return;case"number":n.elseIf((0,te._)`${s} == "boolean" || ${o} === null
              || (${s} == "string" && ${o} && ${o} == +${o})`).assign(a,(0,te._)`+${o}`);return;case"integer":n.elseIf((0,te._)`${s} === "boolean" || ${o} === null
              || (${s} === "string" && ${o} && ${o} == +${o} && !(${o} % 1))`).assign(a,(0,te._)`+${o}`);return;case"boolean":n.elseIf((0,te._)`${o} === "false" || ${o} === 0 || ${o} === null`).assign(a,!1).elseIf((0,te._)`${o} === "true" || ${o} === 1`).assign(a,!0);return;case"null":n.elseIf((0,te._)`${o} === "" || ${o} === 0 || ${o} === false`),n.assign(a,null);return;case"array":n.elseIf((0,te._)`${s} === "string" || ${s} === "number"
              || ${s} === "boolean" || ${o} === null`).assign(a,(0,te._)`[${o}]`)}}}function vW({gen:e,parentData:t,parentDataProperty:r},n){e.if((0,te._)`${t} !== undefined`,()=>e.assign((0,te._)`${t}[${r}]`,n))}function om(e,t,r,n=Ws.Correct){let o=n===Ws.Correct?te.operators.EQ:te.operators.NEQ,i;switch(e){case"null":return(0,te._)`${t} ${o} null`;case"array":i=(0,te._)`Array.isArray(${t})`;break;case"object":i=(0,te._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":i=s((0,te._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":i=s();break;default:return(0,te._)`typeof ${t} ${o} ${e}`}return n===Ws.Correct?i:(0,te.not)(i);function s(a=te.nil){return(0,te.and)((0,te._)`typeof ${t} == "number"`,a,r?(0,te._)`isFinite(${t})`:te.nil)}}Ye.checkDataType=om;function im(e,t,r,n){if(e.length===1)return om(e[0],t,r,n);let o,i=(0,db.toHash)(e);if(i.array&&i.object){let s=(0,te._)`typeof ${t} != "object"`;o=i.null?s:(0,te._)`!${t} || ${s}`,delete i.null,delete i.array,delete i.object}else o=te.nil;i.number&&delete i.integer;for(let s in i)o=(0,te.and)(o,om(s,t,r,n));return o}Ye.checkDataTypes=im;var yW={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,te._)`{type: ${e}}`:(0,te._)`{type: ${t}}`};function sm(e){let t=EW(e);(0,fW.reportError)(t,yW)}Ye.reportTypeError=sm;function EW(e){let{gen:t,data:r,schema:n}=e,o=(0,db.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:o,schemaValue:o,parentSchema:n,params:{},it:e}}});var fb=m(Rd=>{"use strict";Object.defineProperty(Rd,"__esModule",{value:!0});Rd.assignDefaults=void 0;var yi=X(),SW=me();function bW(e,t){let{properties:r,items:n}=e.schema;if(t==="object"&&r)for(let o in r)pb(e,o,r[o].default);else t==="array"&&Array.isArray(n)&&n.forEach((o,i)=>pb(e,i,o.default))}Rd.assignDefaults=bW;function pb(e,t,r){let{gen:n,compositeRule:o,data:i,opts:s}=e;if(r===void 0)return;let a=(0,yi._)`${i}${(0,yi.getProperty)(t)}`;if(o){(0,SW.checkStrictMode)(e,`default is ignored for: ${a}`);return}let c=(0,yi._)`${a} === undefined`;s.useDefaults==="empty"&&(c=(0,yi._)`${c} || ${a} === null || ${a} === ""`),n.if(c,(0,yi._)`${a} = ${(0,yi.stringify)(r)}`)}});var qt=m(Se=>{"use strict";Object.defineProperty(Se,"__esModule",{value:!0});Se.validateUnion=Se.validateArray=Se.usePattern=Se.callValidateCode=Se.schemaProperties=Se.allSchemaProperties=Se.noPropertyInData=Se.propertyInData=Se.isOwnProperty=Se.hasPropFunc=Se.reportMissingProp=Se.checkMissingProp=Se.checkReportMissingProp=void 0;var Ie=X(),am=me(),Rn=Tr(),CW=me();function wW(e,t){let{gen:r,data:n,it:o}=e;r.if(dm(r,n,t,o.opts.ownProperties),()=>{e.setParams({missingProperty:(0,Ie._)`${t}`},!0),e.error()})}Se.checkReportMissingProp=wW;function PW({gen:e,data:t,it:{opts:r}},n,o){return(0,Ie.or)(...n.map(i=>(0,Ie.and)(dm(e,t,i,r.ownProperties),(0,Ie._)`${o} = ${i}`)))}Se.checkMissingProp=PW;function TW(e,t){e.setParams({missingProperty:t},!0),e.error()}Se.reportMissingProp=TW;function mb(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Ie._)`Object.prototype.hasOwnProperty`})}Se.hasPropFunc=mb;function cm(e,t,r){return(0,Ie._)`${mb(e)}.call(${t}, ${r})`}Se.isOwnProperty=cm;function IW(e,t,r,n){let o=(0,Ie._)`${t}${(0,Ie.getProperty)(r)} !== undefined`;return n?(0,Ie._)`${o} && ${cm(e,t,r)}`:o}Se.propertyInData=IW;function dm(e,t,r,n){let o=(0,Ie._)`${t}${(0,Ie.getProperty)(r)} === undefined`;return n?(0,Ie.or)(o,(0,Ie.not)(cm(e,t,r))):o}Se.noPropertyInData=dm;function hb(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}Se.allSchemaProperties=hb;function OW(e,t){return hb(t).filter(r=>!(0,am.alwaysValidSchema)(e,t[r]))}Se.schemaProperties=OW;function RW({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:o,errorPath:i},it:s},a,c,l){let p=l?(0,Ie._)`${e}, ${t}, ${n}${o}`:t,f=[[Rn.default.instancePath,(0,Ie.strConcat)(Rn.default.instancePath,i)],[Rn.default.parentData,s.parentData],[Rn.default.parentDataProperty,s.parentDataProperty],[Rn.default.rootData,Rn.default.rootData]];s.opts.dynamicRef&&f.push([Rn.default.dynamicAnchors,Rn.default.dynamicAnchors]);let h=(0,Ie._)`${p}, ${r.object(...f)}`;return c!==Ie.nil?(0,Ie._)`${a}.call(${c}, ${h})`:(0,Ie._)`${a}(${h})`}Se.callValidateCode=RW;var AW=(0,Ie._)`new RegExp`;function xW({gen:e,it:{opts:t}},r){let n=t.unicodeRegExp?"u":"",{regExp:o}=t.code,i=o(r,n);return e.scopeValue("pattern",{key:i.toString(),ref:i,code:(0,Ie._)`${o.code==="new RegExp"?AW:(0,CW.useFunc)(e,o)}(${r}, ${n})`})}Se.usePattern=xW;function NW(e){let{gen:t,data:r,keyword:n,it:o}=e,i=t.name("valid");if(o.allErrors){let a=t.let("valid",!0);return s(()=>t.assign(a,!1)),a}return t.var(i,!0),s(()=>t.break()),i;function s(a){let c=t.const("len",(0,Ie._)`${r}.length`);t.forRange("i",0,c,l=>{e.subschema({keyword:n,dataProp:l,dataPropType:am.Type.Num},i),t.if((0,Ie.not)(i),a)})}}Se.validateArray=NW;function DW(e){let{gen:t,schema:r,keyword:n,it:o}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(c=>(0,am.alwaysValidSchema)(o,c))&&!o.opts.unevaluated)return;let s=t.let("valid",!1),a=t.name("_valid");t.block(()=>r.forEach((c,l)=>{let p=e.subschema({keyword:n,schemaProp:l,compositeRule:!0},a);t.assign(s,(0,Ie._)`${s} || ${a}`),e.mergeValidEvaluated(p,a)||t.if((0,Ie.not)(s))})),e.result(s,()=>e.reset(),()=>e.error(!0))}Se.validateUnion=DW});var vb=m(Ir=>{"use strict";Object.defineProperty(Ir,"__esModule",{value:!0});Ir.validateKeywordUsage=Ir.validSchemaType=Ir.funcKeywordCode=Ir.macroKeywordCode=void 0;var ht=X(),Ro=Tr(),$W=qt(),MW=gi();function kW(e,t){let{gen:r,keyword:n,schema:o,parentSchema:i,it:s}=e,a=t.macro.call(s.self,o,i,s),c=_b(r,n,a);s.opts.validateSchema!==!1&&s.self.validateSchema(a,!0);let l=r.name("valid");e.subschema({schema:a,schemaPath:ht.nil,errSchemaPath:`${s.errSchemaPath}/${n}`,topSchemaRef:c,compositeRule:!0},l),e.pass(l,()=>e.error(!0))}Ir.macroKeywordCode=kW;function LW(e,t){var r;let{gen:n,keyword:o,schema:i,parentSchema:s,$data:a,it:c}=e;qW(c,t);let l=!a&&t.compile?t.compile.call(c.self,i,s,c):t.validate,p=_b(n,o,l),f=n.let("valid");e.block$data(f,h),e.ok((r=t.valid)!==null&&r!==void 0?r:f);function h(){if(t.errors===!1)S(),t.modifying&&gb(e),b(()=>e.error());else{let T=t.async?g():v();t.modifying&&gb(e),b(()=>jW(e,T))}}function g(){let T=n.let("ruleErrs",null);return n.try(()=>S((0,ht._)`await `),O=>n.assign(f,!1).if((0,ht._)`${O} instanceof ${c.ValidationError}`,()=>n.assign(T,(0,ht._)`${O}.errors`),()=>n.throw(O))),T}function v(){let T=(0,ht._)`${p}.errors`;return n.assign(T,null),S(ht.nil),T}function S(T=t.async?(0,ht._)`await `:ht.nil){let O=c.opts.passContext?Ro.default.this:Ro.default.self,$=!("compile"in t&&!a||t.schema===!1);n.assign(f,(0,ht._)`${T}${(0,$W.callValidateCode)(e,p,O,$)}`,t.modifying)}function b(T){var O;n.if((0,ht.not)((O=t.valid)!==null&&O!==void 0?O:f),T)}}Ir.funcKeywordCode=LW;function gb(e){let{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,ht._)`${n.parentData}[${n.parentDataProperty}]`))}function jW(e,t){let{gen:r}=e;r.if((0,ht._)`Array.isArray(${t})`,()=>{r.assign(Ro.default.vErrors,(0,ht._)`${Ro.default.vErrors} === null ? ${t} : ${Ro.default.vErrors}.concat(${t})`).assign(Ro.default.errors,(0,ht._)`${Ro.default.vErrors}.length`),(0,MW.extendErrors)(e)},()=>e.error())}function qW({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function _b(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,ht.stringify)(r)})}function UW(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}Ir.validSchemaType=UW;function FW({schema:e,opts:t,self:r,errSchemaPath:n},o,i){if(Array.isArray(o.keyword)?!o.keyword.includes(i):o.keyword!==i)throw new Error("ajv implementation error");let s=o.dependencies;if(s?.some(a=>!Object.prototype.hasOwnProperty.call(e,a)))throw new Error(`parent schema must have dependencies of ${i}: ${s.join(",")}`);if(o.validateSchema&&!o.validateSchema(e[i])){let c=`keyword "${i}" value is invalid at path "${n}": `+r.errorsText(o.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(c);else throw new Error(c)}}Ir.validateKeywordUsage=FW});var Eb=m(An=>{"use strict";Object.defineProperty(An,"__esModule",{value:!0});An.extendSubschemaMode=An.extendSubschemaData=An.getSubschema=void 0;var Or=X(),yb=me();function BW(e,{keyword:t,schemaProp:r,schema:n,schemaPath:o,errSchemaPath:i,topSchemaRef:s}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){let a=e.schema[t];return r===void 0?{schema:a,schemaPath:(0,Or._)`${e.schemaPath}${(0,Or.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:a[r],schemaPath:(0,Or._)`${e.schemaPath}${(0,Or.getProperty)(t)}${(0,Or.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,yb.escapeFragment)(r)}`}}if(n!==void 0){if(o===void 0||i===void 0||s===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:o,topSchemaRef:s,errSchemaPath:i}}throw new Error('either "keyword" or "schema" must be passed')}An.getSubschema=BW;function GW(e,t,{dataProp:r,dataPropType:n,data:o,dataTypes:i,propertyName:s}){if(o!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:a}=t;if(r!==void 0){let{errorPath:l,dataPathArr:p,opts:f}=t,h=a.let("data",(0,Or._)`${t.data}${(0,Or.getProperty)(r)}`,!0);c(h),e.errorPath=(0,Or.str)`${l}${(0,yb.getErrorPath)(r,n,f.jsPropertySyntax)}`,e.parentDataProperty=(0,Or._)`${r}`,e.dataPathArr=[...p,e.parentDataProperty]}if(o!==void 0){let l=o instanceof Or.Name?o:a.let("data",o,!0);c(l),s!==void 0&&(e.propertyName=s)}i&&(e.dataTypes=i);function c(l){e.data=l,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,l]}}An.extendSubschemaData=GW;function VW(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:o,allErrors:i}){n!==void 0&&(e.compositeRule=n),o!==void 0&&(e.createErrors=o),i!==void 0&&(e.allErrors=i),e.jtdDiscriminator=t,e.jtdMetadata=r}An.extendSubschemaMode=VW});var Ad=m((x0e,Sb)=>{"use strict";Sb.exports=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,o,i;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(o=n;o--!==0;)if(!e(t[o],r[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(r).length)return!1;for(o=n;o--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[o]))return!1;for(o=n;o--!==0;){var s=i[o];if(!e(t[s],r[s]))return!1}return!0}return t!==t&&r!==r}});var Cb=m((N0e,bb)=>{"use strict";var xn=bb.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},o=r.post||function(){};xd(t,n,o,e,"",e)};xn.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};xn.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};xn.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};xn.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function xd(e,t,r,n,o,i,s,a,c,l){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,o,i,s,a,c,l);for(var p in n){var f=n[p];if(Array.isArray(f)){if(p in xn.arrayKeywords)for(var h=0;h<f.length;h++)xd(e,t,r,f[h],o+"/"+p+"/"+h,i,o,p,n,h)}else if(p in xn.propsKeywords){if(f&&typeof f=="object")for(var g in f)xd(e,t,r,f[g],o+"/"+p+"/"+zW(g),i,o,p,n,g)}else(p in xn.keywords||e.allKeys&&!(p in xn.skipKeywords))&&xd(e,t,r,f,o+"/"+p,i,o,p,n)}r(n,o,i,s,a,c,l)}}function zW(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}});var Js=m(St=>{"use strict";Object.defineProperty(St,"__esModule",{value:!0});St.getSchemaRefs=St.resolveUrl=St.normalizeId=St._getFullPath=St.getFullPath=St.inlineRef=void 0;var HW=me(),WW=Ad(),KW=Cb(),JW=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function YW(e,t=!0){return typeof e=="boolean"?!0:t===!0?!lm(e):t?wb(e)<=t:!1}St.inlineRef=YW;var XW=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function lm(e){for(let t in e){if(XW.has(t))return!0;let r=e[t];if(Array.isArray(r)&&r.some(lm)||typeof r=="object"&&lm(r))return!0}return!1}function wb(e){let t=0;for(let r in e){if(r==="$ref")return 1/0;if(t++,!JW.has(r)&&(typeof e[r]=="object"&&(0,HW.eachItem)(e[r],n=>t+=wb(n)),t===1/0))return 1/0}return t}function Pb(e,t="",r){r!==!1&&(t=Ei(t));let n=e.parse(t);return Tb(e,n)}St.getFullPath=Pb;function Tb(e,t){return e.serialize(t).split("#")[0]+"#"}St._getFullPath=Tb;var QW=/#\/?$/;function Ei(e){return e?e.replace(QW,""):""}St.normalizeId=Ei;function ZW(e,t,r){return r=Ei(r),e.resolve(t,r)}St.resolveUrl=ZW;var e4=/^[a-z_][-a-z0-9._]*$/i;function t4(e,t){if(typeof e=="boolean")return{};let{schemaId:r,uriResolver:n}=this.opts,o=Ei(e[r]||t),i={"":o},s=Pb(n,o,!1),a={},c=new Set;return KW(e,{allKeys:!0},(f,h,g,v)=>{if(v===void 0)return;let S=s+h,b=i[v];typeof f[r]=="string"&&(b=T.call(this,f[r])),O.call(this,f.$anchor),O.call(this,f.$dynamicAnchor),i[h]=b;function T($){let k=this.opts.uriResolver.resolve;if($=Ei(b?k(b,$):$),c.has($))throw p($);c.add($);let j=this.refs[$];return typeof j=="string"&&(j=this.refs[j]),typeof j=="object"?l(f,j.schema,$):$!==Ei(S)&&($[0]==="#"?(l(f,a[$],$),a[$]=f):this.refs[$]=S),$}function O($){if(typeof $=="string"){if(!e4.test($))throw new Error(`invalid anchor "${$}"`);T.call(this,`#${$}`)}}}),a;function l(f,h,g){if(h!==void 0&&!WW(f,h))throw p(g)}function p(f){return new Error(`reference "${f}" resolves to more than one schema`)}}St.getSchemaRefs=t4});var Si=m(Nn=>{"use strict";Object.defineProperty(Nn,"__esModule",{value:!0});Nn.getData=Nn.KeywordCxt=Nn.validateFunctionCode=void 0;var xb=sb(),Ib=Ks(),pm=nm(),Nd=Ks(),r4=fb(),Xs=vb(),um=Eb(),F=X(),Q=Tr(),n4=Js(),nn=me(),Ys=gi();function o4(e){if($b(e)&&(Mb(e),Db(e))){a4(e);return}Nb(e,()=>(0,xb.topBoolOrEmptySchema)(e))}Nn.validateFunctionCode=o4;function Nb({gen:e,validateName:t,schema:r,schemaEnv:n,opts:o},i){o.code.es5?e.func(t,(0,F._)`${Q.default.data}, ${Q.default.valCxt}`,n.$async,()=>{e.code((0,F._)`"use strict"; ${Ob(r,o)}`),s4(e,o),e.code(i)}):e.func(t,(0,F._)`${Q.default.data}, ${i4(o)}`,n.$async,()=>e.code(Ob(r,o)).code(i))}function i4(e){return(0,F._)`{${Q.default.instancePath}="", ${Q.default.parentData}, ${Q.default.parentDataProperty}, ${Q.default.rootData}=${Q.default.data}${e.dynamicRef?(0,F._)`, ${Q.default.dynamicAnchors}={}`:F.nil}}={}`}function s4(e,t){e.if(Q.default.valCxt,()=>{e.var(Q.default.instancePath,(0,F._)`${Q.default.valCxt}.${Q.default.instancePath}`),e.var(Q.default.parentData,(0,F._)`${Q.default.valCxt}.${Q.default.parentData}`),e.var(Q.default.parentDataProperty,(0,F._)`${Q.default.valCxt}.${Q.default.parentDataProperty}`),e.var(Q.default.rootData,(0,F._)`${Q.default.valCxt}.${Q.default.rootData}`),t.dynamicRef&&e.var(Q.default.dynamicAnchors,(0,F._)`${Q.default.valCxt}.${Q.default.dynamicAnchors}`)},()=>{e.var(Q.default.instancePath,(0,F._)`""`),e.var(Q.default.parentData,(0,F._)`undefined`),e.var(Q.default.parentDataProperty,(0,F._)`undefined`),e.var(Q.default.rootData,Q.default.data),t.dynamicRef&&e.var(Q.default.dynamicAnchors,(0,F._)`{}`)})}function a4(e){let{schema:t,opts:r,gen:n}=e;Nb(e,()=>{r.$comment&&t.$comment&&Lb(e),p4(e),n.let(Q.default.vErrors,null),n.let(Q.default.errors,0),r.unevaluated&&c4(e),kb(e),h4(e)})}function c4(e){let{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,F._)`${r}.evaluated`),t.if((0,F._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,F._)`${e.evaluated}.props`,(0,F._)`undefined`)),t.if((0,F._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,F._)`${e.evaluated}.items`,(0,F._)`undefined`))}function Ob(e,t){let r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,F._)`/*# sourceURL=${r} */`:F.nil}function d4(e,t){if($b(e)&&(Mb(e),Db(e))){l4(e,t);return}(0,xb.boolOrEmptySchema)(e,t)}function Db({schema:e,self:t}){if(typeof e=="boolean")return!e;for(let r in e)if(t.RULES.all[r])return!0;return!1}function $b(e){return typeof e.schema!="boolean"}function l4(e,t){let{schema:r,gen:n,opts:o}=e;o.$comment&&r.$comment&&Lb(e),f4(e),m4(e);let i=n.const("_errs",Q.default.errors);kb(e,i),n.var(t,(0,F._)`${i} === ${Q.default.errors}`)}function Mb(e){(0,nn.checkUnknownRules)(e),u4(e)}function kb(e,t){if(e.opts.jtd)return Rb(e,[],!1,t);let r=(0,Ib.getSchemaTypes)(e.schema),n=(0,Ib.coerceAndCheckDataType)(e,r);Rb(e,r,!n,t)}function u4(e){let{schema:t,errSchemaPath:r,opts:n,self:o}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,nn.schemaHasRulesButRef)(t,o.RULES)&&o.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function p4(e){let{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,nn.checkStrictMode)(e,"default is ignored in the schema root")}function f4(e){let t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,n4.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function m4(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function Lb({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:o}){let i=r.$comment;if(o.$comment===!0)e.code((0,F._)`${Q.default.self}.logger.log(${i})`);else if(typeof o.$comment=="function"){let s=(0,F.str)`${n}/$comment`,a=e.scopeValue("root",{ref:t.root});e.code((0,F._)`${Q.default.self}.opts.$comment(${i}, ${s}, ${a}.schema)`)}}function h4(e){let{gen:t,schemaEnv:r,validateName:n,ValidationError:o,opts:i}=e;r.$async?t.if((0,F._)`${Q.default.errors} === 0`,()=>t.return(Q.default.data),()=>t.throw((0,F._)`new ${o}(${Q.default.vErrors})`)):(t.assign((0,F._)`${n}.errors`,Q.default.vErrors),i.unevaluated&&g4(e),t.return((0,F._)`${Q.default.errors} === 0`))}function g4({gen:e,evaluated:t,props:r,items:n}){r instanceof F.Name&&e.assign((0,F._)`${t}.props`,r),n instanceof F.Name&&e.assign((0,F._)`${t}.items`,n)}function Rb(e,t,r,n){let{gen:o,schema:i,data:s,allErrors:a,opts:c,self:l}=e,{RULES:p}=l;if(i.$ref&&(c.ignoreKeywordsWithRef||!(0,nn.schemaHasRulesButRef)(i,p))){o.block(()=>qb(e,"$ref",p.all.$ref.definition));return}c.jtd||_4(e,t),o.block(()=>{for(let h of p.rules)f(h);f(p.post)});function f(h){(0,pm.shouldUseGroup)(i,h)&&(h.type?(o.if((0,Nd.checkDataType)(h.type,s,c.strictNumbers)),Ab(e,h),t.length===1&&t[0]===h.type&&r&&(o.else(),(0,Nd.reportTypeError)(e)),o.endIf()):Ab(e,h),a||o.if((0,F._)`${Q.default.errors} === ${n||0}`))}}function Ab(e,t){let{gen:r,schema:n,opts:{useDefaults:o}}=e;o&&(0,r4.assignDefaults)(e,t.type),r.block(()=>{for(let i of t.rules)(0,pm.shouldUseRule)(n,i)&&qb(e,i.keyword,i.definition,t.type)})}function _4(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(v4(e,t),e.opts.allowUnionTypes||y4(e,t),E4(e,e.dataTypes))}function v4(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{jb(e.dataTypes,r)||fm(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),b4(e,t)}}function y4(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&fm(e,"use allowUnionTypes to allow union type keyword")}function E4(e,t){let r=e.self.RULES.all;for(let n in r){let o=r[n];if(typeof o=="object"&&(0,pm.shouldUseRule)(e.schema,o)){let{type:i}=o.definition;i.length&&!i.some(s=>S4(t,s))&&fm(e,`missing type "${i.join(",")}" for keyword "${n}"`)}}}function S4(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function jb(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function b4(e,t){let r=[];for(let n of e.dataTypes)jb(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function fm(e,t){let r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,nn.checkStrictMode)(e,t,e.opts.strictTypes)}var Dd=class{constructor(t,r,n){if((0,Xs.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,nn.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",Ub(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,Xs.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",Q.default.errors))}result(t,r,n){this.failResult((0,F.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,F.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);let{schemaCode:r}=this;this.fail((0,F._)`${r} !== undefined && (${(0,F.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?Ys.reportExtraError:Ys.reportError)(this,this.def.error,r)}$dataError(){(0,Ys.reportError)(this,this.def.$dataError||Ys.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Ys.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=F.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=F.nil,r=F.nil){if(!this.$data)return;let{gen:n,schemaCode:o,schemaType:i,def:s}=this;n.if((0,F.or)((0,F._)`${o} === undefined`,r)),t!==F.nil&&n.assign(t,!0),(i.length||s.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==F.nil&&n.assign(t,!1)),n.else()}invalid$data(){let{gen:t,schemaCode:r,schemaType:n,def:o,it:i}=this;return(0,F.or)(s(),a());function s(){if(n.length){if(!(r instanceof F.Name))throw new Error("ajv implementation error");let c=Array.isArray(n)?n:[n];return(0,F._)`${(0,Nd.checkDataTypes)(c,r,i.opts.strictNumbers,Nd.DataType.Wrong)}`}return F.nil}function a(){if(o.validateSchema){let c=t.scopeValue("validate$data",{ref:o.validateSchema});return(0,F._)`!${c}(${r})`}return F.nil}}subschema(t,r){let n=(0,um.getSubschema)(this.it,t);(0,um.extendSubschemaData)(n,this.it,t),(0,um.extendSubschemaMode)(n,t);let o={...this.it,...n,items:void 0,props:void 0};return d4(o,r),o}mergeEvaluated(t,r){let{it:n,gen:o}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=nn.mergeEvaluated.props(o,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=nn.mergeEvaluated.items(o,t.items,n.items,r)))}mergeValidEvaluated(t,r){let{it:n,gen:o}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return o.if(r,()=>this.mergeEvaluated(t,F.Name)),!0}};Nn.KeywordCxt=Dd;function qb(e,t,r,n){let o=new Dd(e,r,t);"code"in r?r.code(o,n):o.$data&&r.validate?(0,Xs.funcKeywordCode)(o,r):"macro"in r?(0,Xs.macroKeywordCode)(o,r):(r.compile||r.validate)&&(0,Xs.funcKeywordCode)(o,r)}var C4=/^\/(?:[^~]|~0|~1)*$/,w4=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Ub(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let o,i;if(e==="")return Q.default.rootData;if(e[0]==="/"){if(!C4.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);o=e,i=Q.default.rootData}else{let l=w4.exec(e);if(!l)throw new Error(`Invalid JSON-pointer: ${e}`);let p=+l[1];if(o=l[2],o==="#"){if(p>=t)throw new Error(c("property/index",p));return n[t-p]}if(p>t)throw new Error(c("data",p));if(i=r[t-p],!o)return i}let s=i,a=o.split("/");for(let l of a)l&&(i=(0,F._)`${i}${(0,F.getProperty)((0,nn.unescapeJsonPointer)(l))}`,s=(0,F._)`${s} && ${i}`);return s;function c(l,p){return`Cannot access ${l} ${p} levels up, current level is ${t}`}}Nn.getData=Ub});var $d=m(hm=>{"use strict";Object.defineProperty(hm,"__esModule",{value:!0});var mm=class extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}};hm.default=mm});var Md=m(vm=>{"use strict";Object.defineProperty(vm,"__esModule",{value:!0});var gm=Js(),_m=class extends Error{constructor(t,r,n,o){super(o||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,gm.resolveUrl)(t,r,n),this.missingSchema=(0,gm.normalizeId)((0,gm.getFullPath)(t,this.missingRef))}};vm.default=_m});var Ld=m(Ut=>{"use strict";Object.defineProperty(Ut,"__esModule",{value:!0});Ut.resolveSchema=Ut.getCompilingSchema=Ut.resolveRef=Ut.compileSchema=Ut.SchemaEnv=void 0;var rr=X(),P4=$d(),Ao=Tr(),nr=Js(),Fb=me(),T4=Si(),bi=class{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,nr.normalizeId)(n?.[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n?.$async,this.refs={}}};Ut.SchemaEnv=bi;function Em(e){let t=Bb.call(this,e);if(t)return t;let r=(0,nr.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:o}=this.opts.code,{ownProperties:i}=this.opts,s=new rr.CodeGen(this.scope,{es5:n,lines:o,ownProperties:i}),a;e.$async&&(a=s.scopeValue("Error",{ref:P4.default,code:(0,rr._)`require("ajv/dist/runtime/validation_error").default`}));let c=s.scopeName("validate");e.validateName=c;let l={gen:s,allErrors:this.opts.allErrors,data:Ao.default.data,parentData:Ao.default.parentData,parentDataProperty:Ao.default.parentDataProperty,dataNames:[Ao.default.data],dataPathArr:[rr.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:s.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,rr.stringify)(e.schema)}:{ref:e.schema}),validateName:c,ValidationError:a,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:rr.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,rr._)`""`,opts:this.opts,self:this},p;try{this._compilations.add(e),(0,T4.validateFunctionCode)(l),s.optimize(this.opts.code.optimize);let f=s.toString();p=`${s.scopeRefs(Ao.default.scope)}return ${f}`,this.opts.code.process&&(p=this.opts.code.process(p,e));let g=new Function(`${Ao.default.self}`,`${Ao.default.scope}`,p)(this,this.scope.get());if(this.scope.value(c,{ref:g}),g.errors=null,g.schema=e.schema,g.schemaEnv=e,e.$async&&(g.$async=!0),this.opts.code.source===!0&&(g.source={validateName:c,validateCode:f,scopeValues:s._values}),this.opts.unevaluated){let{props:v,items:S}=l;g.evaluated={props:v instanceof rr.Name?void 0:v,items:S instanceof rr.Name?void 0:S,dynamicProps:v instanceof rr.Name,dynamicItems:S instanceof rr.Name},g.source&&(g.source.evaluated=(0,rr.stringify)(g.evaluated))}return e.validate=g,e}catch(f){throw delete e.validate,delete e.validateName,p&&this.logger.error("Error compiling schema, function code:",p),f}finally{this._compilations.delete(e)}}Ut.compileSchema=Em;function I4(e,t,r){var n;r=(0,nr.resolveUrl)(this.opts.uriResolver,t,r);let o=e.refs[r];if(o)return o;let i=A4.call(this,e,r);if(i===void 0){let s=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:a}=this.opts;s&&(i=new bi({schema:s,schemaId:a,root:e,baseId:t}))}if(i!==void 0)return e.refs[r]=O4.call(this,i)}Ut.resolveRef=I4;function O4(e){return(0,nr.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:Em.call(this,e)}function Bb(e){for(let t of this._compilations)if(R4(t,e))return t}Ut.getCompilingSchema=Bb;function R4(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function A4(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||kd.call(this,e,t)}function kd(e,t){let r=this.opts.uriResolver.parse(t),n=(0,nr._getFullPath)(this.opts.uriResolver,r),o=(0,nr.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===o)return ym.call(this,r,e);let i=(0,nr.normalizeId)(n),s=this.refs[i]||this.schemas[i];if(typeof s=="string"){let a=kd.call(this,e,s);return typeof a?.schema!="object"?void 0:ym.call(this,r,a)}if(typeof s?.schema=="object"){if(s.validate||Em.call(this,s),i===(0,nr.normalizeId)(t)){let{schema:a}=s,{schemaId:c}=this.opts,l=a[c];return l&&(o=(0,nr.resolveUrl)(this.opts.uriResolver,o,l)),new bi({schema:a,schemaId:c,root:e,baseId:o})}return ym.call(this,r,s)}}Ut.resolveSchema=kd;var x4=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function ym(e,{baseId:t,schema:r,root:n}){var o;if(((o=e.fragment)===null||o===void 0?void 0:o[0])!=="/")return;for(let a of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;let c=r[(0,Fb.unescapeFragment)(a)];if(c===void 0)return;r=c;let l=typeof r=="object"&&r[this.opts.schemaId];!x4.has(a)&&l&&(t=(0,nr.resolveUrl)(this.opts.uriResolver,t,l))}let i;if(typeof r!="boolean"&&r.$ref&&!(0,Fb.schemaHasRulesButRef)(r,this.RULES)){let a=(0,nr.resolveUrl)(this.opts.uriResolver,t,r.$ref);i=kd.call(this,n,a)}let{schemaId:s}=this.opts;if(i=i||new bi({schema:r,schemaId:s,root:n,baseId:t}),i.schema!==i.root.schema)return i}});var Gb=m((j0e,N4)=>{N4.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var zb=m((jd,Vb)=>{(function(e,t){typeof jd=="object"&&typeof Vb<"u"?t(jd):typeof define=="function"&&define.amd?define(["exports"],t):t(e.URI=e.URI||{})})(jd,function(e){"use strict";function t(){for(var y=arguments.length,_=Array(y),E=0;E<y;E++)_[E]=arguments[E];if(_.length>1){_[0]=_[0].slice(0,-1);for(var C=_.length-1,P=1;P<C;++P)_[P]=_[P].slice(1,-1);return _[C]=_[C].slice(1),_.join("")}else return _[0]}function r(y){return"(?:"+y+")"}function n(y){return y===void 0?"undefined":y===null?"null":Object.prototype.toString.call(y).split(" ").pop().split("]").shift().toLowerCase()}function o(y){return y.toUpperCase()}function i(y){return y!=null?y instanceof Array?y:typeof y.length!="number"||y.split||y.setInterval||y.call?[y]:Array.prototype.slice.call(y):[]}function s(y,_){var E=y;if(_)for(var C in _)E[C]=_[C];return E}function a(y){var _="[A-Za-z]",E="[\\x0D]",C="[0-9]",P="[\\x22]",D=t(C,"[A-Fa-f]"),ee="[\\x0A]",pe="[\\x20]",ve=r(r("%[EFef]"+D+"%"+D+D+"%"+D+D)+"|"+r("%[89A-Fa-f]"+D+"%"+D+D)+"|"+r("%"+D+D)),Ue="[\\:\\/\\?\\#\\[\\]\\@]",de="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",De=t(Ue,de),Fe=y?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Re=y?"[\\uE000-\\uF8FF]":"[]",he=t(_,C,"[\\-\\.\\_\\~]",Fe),$e=r(_+t(_,C,"[\\+\\-\\.]")+"*"),Ee=r(r(ve+"|"+t(he,de,"[\\:]"))+"*"),mo=r(r("25[0-5]")+"|"+r("2[0-4]"+C)+"|"+r("1"+C+C)+"|"+r("[1-9]"+C)+"|"+C),Tt=r(r("25[0-5]")+"|"+r("2[0-4]"+C)+"|"+r("1"+C+C)+"|"+r("0?[1-9]"+C)+"|0?0?"+C),$t=r(Tt+"\\."+Tt+"\\."+Tt+"\\."+Tt),Ce=r(D+"{1,4}"),It=r(r(Ce+"\\:"+Ce)+"|"+$t),Mt=r(r(Ce+"\\:")+"{6}"+It),Sr=r("\\:\\:"+r(Ce+"\\:")+"{5}"+It),ho=r(r(Ce)+"?\\:\\:"+r(Ce+"\\:")+"{4}"+It),zr=r(r(r(Ce+"\\:")+"{0,1}"+Ce)+"?\\:\\:"+r(Ce+"\\:")+"{3}"+It),Is=r(r(r(Ce+"\\:")+"{0,2}"+Ce)+"?\\:\\:"+r(Ce+"\\:")+"{2}"+It),Lc=r(r(r(Ce+"\\:")+"{0,3}"+Ce)+"?\\:\\:"+Ce+"\\:"+It),jc=r(r(r(Ce+"\\:")+"{0,4}"+Ce)+"?\\:\\:"+It),Zo=r(r(r(Ce+"\\:")+"{0,5}"+Ce)+"?\\:\\:"+Ce),ei=r(r(r(Ce+"\\:")+"{0,6}"+Ce)+"?\\:\\:"),Hr=r([Mt,Sr,ho,zr,Is,Lc,jc,Zo,ei].join("|")),ti=r(r(he+"|"+ve)+"+"),tf=r(Hr+"\\%25"+ti),go=r(Hr+r("\\%25|\\%(?!"+D+"{2})")+ti),PG=r("[vV]"+D+"+\\."+t(he,de,"[\\:]")+"+"),TG=r("\\["+r(go+"|"+Hr+"|"+PG)+"\\]"),ky=r(r(ve+"|"+t(he,de))+"*"),Os=r(TG+"|"+$t+"(?!"+ky+")|"+ky),Rs=r(C+"*"),Ly=r(r(Ee+"@")+"?"+Os+r("\\:"+Rs)+"?"),As=r(ve+"|"+t(he,de,"[\\:\\@]")),IG=r(As+"*"),jy=r(As+"+"),OG=r(r(ve+"|"+t(he,de,"[\\@]"))+"+"),Wr=r(r("\\/"+IG)+"*"),ri=r("\\/"+r(jy+Wr)+"?"),rf=r(OG+Wr),qc=r(jy+Wr),ni="(?!"+As+")",pbe=r(Wr+"|"+ri+"|"+rf+"|"+qc+"|"+ni),oi=r(r(As+"|"+t("[\\/\\?]",Re))+"*"),xs=r(r(As+"|[\\/\\?]")+"*"),qy=r(r("\\/\\/"+Ly+Wr)+"|"+ri+"|"+qc+"|"+ni),RG=r($e+"\\:"+qy+r("\\?"+oi)+"?"+r("\\#"+xs)+"?"),AG=r(r("\\/\\/"+Ly+Wr)+"|"+ri+"|"+rf+"|"+ni),xG=r(AG+r("\\?"+oi)+"?"+r("\\#"+xs)+"?"),fbe=r(RG+"|"+xG),mbe=r($e+"\\:"+qy+r("\\?"+oi)+"?"),hbe="^("+$e+")\\:"+r(r("\\/\\/("+r("("+Ee+")@")+"?("+Os+")"+r("\\:("+Rs+")")+"?)")+"?("+Wr+"|"+ri+"|"+qc+"|"+ni+")")+r("\\?("+oi+")")+"?"+r("\\#("+xs+")")+"?$",gbe="^(){0}"+r(r("\\/\\/("+r("("+Ee+")@")+"?("+Os+")"+r("\\:("+Rs+")")+"?)")+"?("+Wr+"|"+ri+"|"+rf+"|"+ni+")")+r("\\?("+oi+")")+"?"+r("\\#("+xs+")")+"?$",_be="^("+$e+")\\:"+r(r("\\/\\/("+r("("+Ee+")@")+"?("+Os+")"+r("\\:("+Rs+")")+"?)")+"?("+Wr+"|"+ri+"|"+qc+"|"+ni+")")+r("\\?("+oi+")")+"?$",vbe="^"+r("\\#("+xs+")")+"?$",ybe="^"+r("("+Ee+")@")+"?("+Os+")"+r("\\:("+Rs+")")+"?$";return{NOT_SCHEME:new RegExp(t("[^]",_,C,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",he,de),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",he,de),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",he,de),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",he,de),"g"),NOT_QUERY:new RegExp(t("[^\\%]",he,de,"[\\:\\@\\/\\?]",Re),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",he,de,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",he,de),"g"),UNRESERVED:new RegExp(he,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",he,De),"g"),PCT_ENCODED:new RegExp(ve,"g"),IPV4ADDRESS:new RegExp("^("+$t+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Hr+")"+r(r("\\%25|\\%(?!"+D+"{2})")+"("+ti+")")+"?\\]?$")}}var c=a(!1),l=a(!0),p=function(){function y(_,E){var C=[],P=!0,D=!1,ee=void 0;try{for(var pe=_[Symbol.iterator](),ve;!(P=(ve=pe.next()).done)&&(C.push(ve.value),!(E&&C.length===E));P=!0);}catch(Ue){D=!0,ee=Ue}finally{try{!P&&pe.return&&pe.return()}finally{if(D)throw ee}}return C}return function(_,E){if(Array.isArray(_))return _;if(Symbol.iterator in Object(_))return y(_,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(y){if(Array.isArray(y)){for(var _=0,E=Array(y.length);_<y.length;_++)E[_]=y[_];return E}else return Array.from(y)},h=2147483647,g=36,v=1,S=26,b=38,T=700,O=72,$=128,k="-",j=/^xn--/,x=/[^\0-\x7E]/,U=/[\x2E\u3002\uFF0E\uFF61]/g,J={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},K=g-v,ne=Math.floor,ye=String.fromCharCode;function Z(y){throw new RangeError(J[y])}function ue(y,_){for(var E=[],C=y.length;C--;)E[C]=_(y[C]);return E}function ut(y,_){var E=y.split("@"),C="";E.length>1&&(C=E[0]+"@",y=E[1]),y=y.replace(U,".");var P=y.split("."),D=ue(P,_).join(".");return C+D}function _r(y){for(var _=[],E=0,C=y.length;E<C;){var P=y.charCodeAt(E++);if(P>=55296&&P<=56319&&E<C){var D=y.charCodeAt(E++);(D&64512)==56320?_.push(((P&1023)<<10)+(D&1023)+65536):(_.push(P),E--)}else _.push(P)}return _}var pt=function(_){return String.fromCodePoint.apply(String,f(_))},ws=function(_){return _-48<10?_-22:_-65<26?_-65:_-97<26?_-97:g},yy=function(_,E){return _+22+75*(_<26)-((E!=0)<<5)},Ey=function(_,E,C){var P=0;for(_=C?ne(_/T):_>>1,_+=ne(_/E);_>K*S>>1;P+=g)_=ne(_/K);return ne(P+(K+1)*_/(_+b))},Sy=function(_){var E=[],C=_.length,P=0,D=$,ee=O,pe=_.lastIndexOf(k);pe<0&&(pe=0);for(var ve=0;ve<pe;++ve)_.charCodeAt(ve)>=128&&Z("not-basic"),E.push(_.charCodeAt(ve));for(var Ue=pe>0?pe+1:0;Ue<C;){for(var de=P,De=1,Fe=g;;Fe+=g){Ue>=C&&Z("invalid-input");var Re=ws(_.charCodeAt(Ue++));(Re>=g||Re>ne((h-P)/De))&&Z("overflow"),P+=Re*De;var he=Fe<=ee?v:Fe>=ee+S?S:Fe-ee;if(Re<he)break;var $e=g-he;De>ne(h/$e)&&Z("overflow"),De*=$e}var Ee=E.length+1;ee=Ey(P-de,Ee,de==0),ne(P/Ee)>h-D&&Z("overflow"),D+=ne(P/Ee),P%=Ee,E.splice(P++,0,D)}return String.fromCodePoint.apply(String,E)},by=function(_){var E=[];_=_r(_);var C=_.length,P=$,D=0,ee=O,pe=!0,ve=!1,Ue=void 0;try{for(var de=_[Symbol.iterator](),De;!(pe=(De=de.next()).done);pe=!0){var Fe=De.value;Fe<128&&E.push(ye(Fe))}}catch(go){ve=!0,Ue=go}finally{try{!pe&&de.return&&de.return()}finally{if(ve)throw Ue}}var Re=E.length,he=Re;for(Re&&E.push(k);he<C;){var $e=h,Ee=!0,mo=!1,Tt=void 0;try{for(var $t=_[Symbol.iterator](),Ce;!(Ee=(Ce=$t.next()).done);Ee=!0){var It=Ce.value;It>=P&&It<$e&&($e=It)}}catch(go){mo=!0,Tt=go}finally{try{!Ee&&$t.return&&$t.return()}finally{if(mo)throw Tt}}var Mt=he+1;$e-P>ne((h-D)/Mt)&&Z("overflow"),D+=($e-P)*Mt,P=$e;var Sr=!0,ho=!1,zr=void 0;try{for(var Is=_[Symbol.iterator](),Lc;!(Sr=(Lc=Is.next()).done);Sr=!0){var jc=Lc.value;if(jc<P&&++D>h&&Z("overflow"),jc==P){for(var Zo=D,ei=g;;ei+=g){var Hr=ei<=ee?v:ei>=ee+S?S:ei-ee;if(Zo<Hr)break;var ti=Zo-Hr,tf=g-Hr;E.push(ye(yy(Hr+ti%tf,0))),Zo=ne(ti/tf)}E.push(ye(yy(Zo,0))),ee=Ey(D,Mt,he==Re),D=0,++he}}}catch(go){ho=!0,zr=go}finally{try{!Sr&&Is.return&&Is.return()}finally{if(ho)throw zr}}++D,++P}return E.join("")},nG=function(_){return ut(_,function(E){return j.test(E)?Sy(E.slice(4).toLowerCase()):E})},oG=function(_){return ut(_,function(E){return x.test(E)?"xn--"+by(E):E})},Jo={version:"2.1.0",ucs2:{decode:_r,encode:pt},decode:Sy,encode:by,toASCII:oG,toUnicode:nG},Dt={};function vr(y){var _=y.charCodeAt(0),E=void 0;return _<16?E="%0"+_.toString(16).toUpperCase():_<128?E="%"+_.toString(16).toUpperCase():_<2048?E="%"+(_>>6|192).toString(16).toUpperCase()+"%"+(_&63|128).toString(16).toUpperCase():E="%"+(_>>12|224).toString(16).toUpperCase()+"%"+(_>>6&63|128).toString(16).toUpperCase()+"%"+(_&63|128).toString(16).toUpperCase(),E}function Yo(y){for(var _="",E=0,C=y.length;E<C;){var P=parseInt(y.substr(E+1,2),16);if(P<128)_+=String.fromCharCode(P),E+=3;else if(P>=194&&P<224){if(C-E>=6){var D=parseInt(y.substr(E+4,2),16);_+=String.fromCharCode((P&31)<<6|D&63)}else _+=y.substr(E,6);E+=6}else if(P>=224){if(C-E>=9){var ee=parseInt(y.substr(E+4,2),16),pe=parseInt(y.substr(E+7,2),16);_+=String.fromCharCode((P&15)<<12|(ee&63)<<6|pe&63)}else _+=y.substr(E,9);E+=9}else _+=y.substr(E,3),E+=3}return _}function Xp(y,_){function E(C){var P=Yo(C);return P.match(_.UNRESERVED)?P:C}return y.scheme&&(y.scheme=String(y.scheme).replace(_.PCT_ENCODED,E).toLowerCase().replace(_.NOT_SCHEME,"")),y.userinfo!==void 0&&(y.userinfo=String(y.userinfo).replace(_.PCT_ENCODED,E).replace(_.NOT_USERINFO,vr).replace(_.PCT_ENCODED,o)),y.host!==void 0&&(y.host=String(y.host).replace(_.PCT_ENCODED,E).toLowerCase().replace(_.NOT_HOST,vr).replace(_.PCT_ENCODED,o)),y.path!==void 0&&(y.path=String(y.path).replace(_.PCT_ENCODED,E).replace(y.scheme?_.NOT_PATH:_.NOT_PATH_NOSCHEME,vr).replace(_.PCT_ENCODED,o)),y.query!==void 0&&(y.query=String(y.query).replace(_.PCT_ENCODED,E).replace(_.NOT_QUERY,vr).replace(_.PCT_ENCODED,o)),y.fragment!==void 0&&(y.fragment=String(y.fragment).replace(_.PCT_ENCODED,E).replace(_.NOT_FRAGMENT,vr).replace(_.PCT_ENCODED,o)),y}function Qp(y){return y.replace(/^0*(.*)/,"$1")||"0"}function Zp(y,_){var E=y.match(_.IPV4ADDRESS)||[],C=p(E,2),P=C[1];return P?P.split(".").map(Qp).join("."):y}function Cy(y,_){var E=y.match(_.IPV6ADDRESS)||[],C=p(E,3),P=C[1],D=C[2];if(P){for(var ee=P.toLowerCase().split("::").reverse(),pe=p(ee,2),ve=pe[0],Ue=pe[1],de=Ue?Ue.split(":").map(Qp):[],De=ve.split(":").map(Qp),Fe=_.IPV4ADDRESS.test(De[De.length-1]),Re=Fe?7:8,he=De.length-Re,$e=Array(Re),Ee=0;Ee<Re;++Ee)$e[Ee]=de[Ee]||De[he+Ee]||"";Fe&&($e[Re-1]=Zp($e[Re-1],_));var mo=$e.reduce(function(Mt,Sr,ho){if(!Sr||Sr==="0"){var zr=Mt[Mt.length-1];zr&&zr.index+zr.length===ho?zr.length++:Mt.push({index:ho,length:1})}return Mt},[]),Tt=mo.sort(function(Mt,Sr){return Sr.length-Mt.length})[0],$t=void 0;if(Tt&&Tt.length>1){var Ce=$e.slice(0,Tt.index),It=$e.slice(Tt.index+Tt.length);$t=Ce.join(":")+"::"+It.join(":")}else $t=$e.join(":");return D&&($t+="%"+D),$t}else return y}var iG=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,sG="".match(/(){0}/)[1]===void 0;function Gr(y){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},E={},C=_.iri!==!1?l:c;_.reference==="suffix"&&(y=(_.scheme?_.scheme+":":"")+"//"+y);var P=y.match(iG);if(P){sG?(E.scheme=P[1],E.userinfo=P[3],E.host=P[4],E.port=parseInt(P[5],10),E.path=P[6]||"",E.query=P[7],E.fragment=P[8],isNaN(E.port)&&(E.port=P[5])):(E.scheme=P[1]||void 0,E.userinfo=y.indexOf("@")!==-1?P[3]:void 0,E.host=y.indexOf("//")!==-1?P[4]:void 0,E.port=parseInt(P[5],10),E.path=P[6]||"",E.query=y.indexOf("?")!==-1?P[7]:void 0,E.fragment=y.indexOf("#")!==-1?P[8]:void 0,isNaN(E.port)&&(E.port=y.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?P[4]:void 0)),E.host&&(E.host=Cy(Zp(E.host,C),C)),E.scheme===void 0&&E.userinfo===void 0&&E.host===void 0&&E.port===void 0&&!E.path&&E.query===void 0?E.reference="same-document":E.scheme===void 0?E.reference="relative":E.fragment===void 0?E.reference="absolute":E.reference="uri",_.reference&&_.reference!=="suffix"&&_.reference!==E.reference&&(E.error=E.error||"URI is not a "+_.reference+" reference.");var D=Dt[(_.scheme||E.scheme||"").toLowerCase()];if(!_.unicodeSupport&&(!D||!D.unicodeSupport)){if(E.host&&(_.domainHost||D&&D.domainHost))try{E.host=Jo.toASCII(E.host.replace(C.PCT_ENCODED,Yo).toLowerCase())}catch(ee){E.error=E.error||"Host's domain name can not be converted to ASCII via punycode: "+ee}Xp(E,c)}else Xp(E,C);D&&D.parse&&D.parse(E,_)}else E.error=E.error||"URI can not be parsed.";return E}function aG(y,_){var E=_.iri!==!1?l:c,C=[];return y.userinfo!==void 0&&(C.push(y.userinfo),C.push("@")),y.host!==void 0&&C.push(Cy(Zp(String(y.host),E),E).replace(E.IPV6ADDRESS,function(P,D,ee){return"["+D+(ee?"%25"+ee:"")+"]"})),(typeof y.port=="number"||typeof y.port=="string")&&(C.push(":"),C.push(String(y.port))),C.length?C.join(""):void 0}var wy=/^\.\.?\//,Py=/^\/\.(\/|$)/,Ty=/^\/\.\.(\/|$)/,cG=/^\/?(?:.|\n)*?(?=\/|$)/;function Xo(y){for(var _=[];y.length;)if(y.match(wy))y=y.replace(wy,"");else if(y.match(Py))y=y.replace(Py,"/");else if(y.match(Ty))y=y.replace(Ty,"/"),_.pop();else if(y==="."||y==="..")y="";else{var E=y.match(cG);if(E){var C=E[0];y=y.slice(C.length),_.push(C)}else throw new Error("Unexpected dot segment condition")}return _.join("")}function yr(y){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},E=_.iri?l:c,C=[],P=Dt[(_.scheme||y.scheme||"").toLowerCase()];if(P&&P.serialize&&P.serialize(y,_),y.host&&!E.IPV6ADDRESS.test(y.host)){if(_.domainHost||P&&P.domainHost)try{y.host=_.iri?Jo.toUnicode(y.host):Jo.toASCII(y.host.replace(E.PCT_ENCODED,Yo).toLowerCase())}catch(pe){y.error=y.error||"Host's domain name can not be converted to "+(_.iri?"Unicode":"ASCII")+" via punycode: "+pe}}Xp(y,E),_.reference!=="suffix"&&y.scheme&&(C.push(y.scheme),C.push(":"));var D=aG(y,_);if(D!==void 0&&(_.reference!=="suffix"&&C.push("//"),C.push(D),y.path&&y.path.charAt(0)!=="/"&&C.push("/")),y.path!==void 0){var ee=y.path;!_.absolutePath&&(!P||!P.absolutePath)&&(ee=Xo(ee)),D===void 0&&(ee=ee.replace(/^\/\//,"/%2F")),C.push(ee)}return y.query!==void 0&&(C.push("?"),C.push(y.query)),y.fragment!==void 0&&(C.push("#"),C.push(y.fragment)),C.join("")}function Iy(y,_){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},C=arguments[3],P={};return C||(y=Gr(yr(y,E),E),_=Gr(yr(_,E),E)),E=E||{},!E.tolerant&&_.scheme?(P.scheme=_.scheme,P.userinfo=_.userinfo,P.host=_.host,P.port=_.port,P.path=Xo(_.path||""),P.query=_.query):(_.userinfo!==void 0||_.host!==void 0||_.port!==void 0?(P.userinfo=_.userinfo,P.host=_.host,P.port=_.port,P.path=Xo(_.path||""),P.query=_.query):(_.path?(_.path.charAt(0)==="/"?P.path=Xo(_.path):((y.userinfo!==void 0||y.host!==void 0||y.port!==void 0)&&!y.path?P.path="/"+_.path:y.path?P.path=y.path.slice(0,y.path.lastIndexOf("/")+1)+_.path:P.path=_.path,P.path=Xo(P.path)),P.query=_.query):(P.path=y.path,_.query!==void 0?P.query=_.query:P.query=y.query),P.userinfo=y.userinfo,P.host=y.host,P.port=y.port),P.scheme=y.scheme),P.fragment=_.fragment,P}function dG(y,_,E){var C=s({scheme:"null"},E);return yr(Iy(Gr(y,C),Gr(_,C),C,!0),C)}function lG(y,_){return typeof y=="string"?y=yr(Gr(y,_),_):n(y)==="object"&&(y=Gr(yr(y,_),_)),y}function uG(y,_,E){return typeof y=="string"?y=yr(Gr(y,E),E):n(y)==="object"&&(y=yr(y,E)),typeof _=="string"?_=yr(Gr(_,E),E):n(_)==="object"&&(_=yr(_,E)),y===_}function pG(y,_){return y&&y.toString().replace(!_||!_.iri?c.ESCAPE:l.ESCAPE,vr)}function Vr(y,_){return y&&y.toString().replace(!_||!_.iri?c.PCT_ENCODED:l.PCT_ENCODED,Yo)}var Ps={scheme:"http",domainHost:!0,parse:function(_,E){return _.host||(_.error=_.error||"HTTP URIs must have a host."),_},serialize:function(_,E){var C=String(_.scheme).toLowerCase()==="https";return(_.port===(C?443:80)||_.port==="")&&(_.port=void 0),_.path||(_.path="/"),_}},Oy={scheme:"https",domainHost:Ps.domainHost,parse:Ps.parse,serialize:Ps.serialize};function Ry(y){return typeof y.secure=="boolean"?y.secure:String(y.scheme).toLowerCase()==="wss"}var Ts={scheme:"ws",domainHost:!0,parse:function(_,E){var C=_;return C.secure=Ry(C),C.resourceName=(C.path||"/")+(C.query?"?"+C.query:""),C.path=void 0,C.query=void 0,C},serialize:function(_,E){if((_.port===(Ry(_)?443:80)||_.port==="")&&(_.port=void 0),typeof _.secure=="boolean"&&(_.scheme=_.secure?"wss":"ws",_.secure=void 0),_.resourceName){var C=_.resourceName.split("?"),P=p(C,2),D=P[0],ee=P[1];_.path=D&&D!=="/"?D:void 0,_.query=ee,_.resourceName=void 0}return _.fragment=void 0,_}},Ay={scheme:"wss",domainHost:Ts.domainHost,parse:Ts.parse,serialize:Ts.serialize},fG={},mG=!0,xy="[A-Za-z0-9\\-\\.\\_\\~"+(mG?"\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF":"")+"]",Er="[0-9A-Fa-f]",hG=r(r("%[EFef]"+Er+"%"+Er+Er+"%"+Er+Er)+"|"+r("%[89A-Fa-f]"+Er+"%"+Er+Er)+"|"+r("%"+Er+Er)),gG="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",_G="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",vG=t(_G,'[\\"\\\\]'),yG="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",EG=new RegExp(xy,"g"),Qo=new RegExp(hG,"g"),SG=new RegExp(t("[^]",gG,"[\\.]",'[\\"]',vG),"g"),Ny=new RegExp(t("[^]",xy,yG),"g"),bG=Ny;function ef(y){var _=Yo(y);return _.match(EG)?_:y}var Dy={scheme:"mailto",parse:function(_,E){var C=_,P=C.to=C.path?C.path.split(","):[];if(C.path=void 0,C.query){for(var D=!1,ee={},pe=C.query.split("&"),ve=0,Ue=pe.length;ve<Ue;++ve){var de=pe[ve].split("=");switch(de[0]){case"to":for(var De=de[1].split(","),Fe=0,Re=De.length;Fe<Re;++Fe)P.push(De[Fe]);break;case"subject":C.subject=Vr(de[1],E);break;case"body":C.body=Vr(de[1],E);break;default:D=!0,ee[Vr(de[0],E)]=Vr(de[1],E);break}}D&&(C.headers=ee)}C.query=void 0;for(var he=0,$e=P.length;he<$e;++he){var Ee=P[he].split("@");if(Ee[0]=Vr(Ee[0]),E.unicodeSupport)Ee[1]=Vr(Ee[1],E).toLowerCase();else try{Ee[1]=Jo.toASCII(Vr(Ee[1],E).toLowerCase())}catch(mo){C.error=C.error||"Email address's domain name can not be converted to ASCII via punycode: "+mo}P[he]=Ee.join("@")}return C},serialize:function(_,E){var C=_,P=i(_.to);if(P){for(var D=0,ee=P.length;D<ee;++D){var pe=String(P[D]),ve=pe.lastIndexOf("@"),Ue=pe.slice(0,ve).replace(Qo,ef).replace(Qo,o).replace(SG,vr),de=pe.slice(ve+1);try{de=E.iri?Jo.toUnicode(de):Jo.toASCII(Vr(de,E).toLowerCase())}catch(he){C.error=C.error||"Email address's domain name can not be converted to "+(E.iri?"Unicode":"ASCII")+" via punycode: "+he}P[D]=Ue+"@"+de}C.path=P.join(",")}var De=_.headers=_.headers||{};_.subject&&(De.subject=_.subject),_.body&&(De.body=_.body);var Fe=[];for(var Re in De)De[Re]!==fG[Re]&&Fe.push(Re.replace(Qo,ef).replace(Qo,o).replace(Ny,vr)+"="+De[Re].replace(Qo,ef).replace(Qo,o).replace(bG,vr));return Fe.length&&(C.query=Fe.join("&")),C}},CG=/^([^\:]+)\:(.*)/,$y={scheme:"urn",parse:function(_,E){var C=_.path&&_.path.match(CG),P=_;if(C){var D=E.scheme||P.scheme||"urn",ee=C[1].toLowerCase(),pe=C[2],ve=D+":"+(E.nid||ee),Ue=Dt[ve];P.nid=ee,P.nss=pe,P.path=void 0,Ue&&(P=Ue.parse(P,E))}else P.error=P.error||"URN can not be parsed.";return P},serialize:function(_,E){var C=E.scheme||_.scheme||"urn",P=_.nid,D=C+":"+(E.nid||P),ee=Dt[D];ee&&(_=ee.serialize(_,E));var pe=_,ve=_.nss;return pe.path=(P||E.nid)+":"+ve,pe}},wG=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,My={scheme:"urn:uuid",parse:function(_,E){var C=_;return C.uuid=C.nss,C.nss=void 0,!E.tolerant&&(!C.uuid||!C.uuid.match(wG))&&(C.error=C.error||"UUID is not valid."),C},serialize:function(_,E){var C=_;return C.nss=(_.uuid||"").toLowerCase(),C}};Dt[Ps.scheme]=Ps,Dt[Oy.scheme]=Oy,Dt[Ts.scheme]=Ts,Dt[Ay.scheme]=Ay,Dt[Dy.scheme]=Dy,Dt[$y.scheme]=$y,Dt[My.scheme]=My,e.SCHEMES=Dt,e.pctEncChar=vr,e.pctDecChars=Yo,e.parse=Gr,e.removeDotSegments=Xo,e.serialize=yr,e.resolveComponents=Iy,e.resolve=dG,e.normalize=lG,e.equal=uG,e.escapeComponent=pG,e.unescapeComponent=Vr,Object.defineProperty(e,"__esModule",{value:!0})})});var Wb=m(Sm=>{"use strict";Object.defineProperty(Sm,"__esModule",{value:!0});var Hb=zb();Hb.code='require("ajv/dist/runtime/uri").default';Sm.default=Hb});var t0=m(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});Xe.CodeGen=Xe.Name=Xe.nil=Xe.stringify=Xe.str=Xe._=Xe.KeywordCxt=void 0;var D4=Si();Object.defineProperty(Xe,"KeywordCxt",{enumerable:!0,get:function(){return D4.KeywordCxt}});var Ci=X();Object.defineProperty(Xe,"_",{enumerable:!0,get:function(){return Ci._}});Object.defineProperty(Xe,"str",{enumerable:!0,get:function(){return Ci.str}});Object.defineProperty(Xe,"stringify",{enumerable:!0,get:function(){return Ci.stringify}});Object.defineProperty(Xe,"nil",{enumerable:!0,get:function(){return Ci.nil}});Object.defineProperty(Xe,"Name",{enumerable:!0,get:function(){return Ci.Name}});Object.defineProperty(Xe,"CodeGen",{enumerable:!0,get:function(){return Ci.CodeGen}});var $4=$d(),Qb=Md(),M4=rm(),Qs=Ld(),k4=X(),Zs=Js(),qd=Ks(),Cm=me(),Kb=Gb(),L4=Wb(),Zb=(e,t)=>new RegExp(e,t);Zb.code="new RegExp";var j4=["removeAdditional","useDefaults","coerceTypes"],q4=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),U4={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},F4={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},Jb=200;function B4(e){var t,r,n,o,i,s,a,c,l,p,f,h,g,v,S,b,T,O,$,k,j,x,U,J,K;let ne=e.strict,ye=(t=e.code)===null||t===void 0?void 0:t.optimize,Z=ye===!0||ye===void 0?1:ye||0,ue=(n=(r=e.code)===null||r===void 0?void 0:r.regExp)!==null&&n!==void 0?n:Zb,ut=(o=e.uriResolver)!==null&&o!==void 0?o:L4.default;return{strictSchema:(s=(i=e.strictSchema)!==null&&i!==void 0?i:ne)!==null&&s!==void 0?s:!0,strictNumbers:(c=(a=e.strictNumbers)!==null&&a!==void 0?a:ne)!==null&&c!==void 0?c:!0,strictTypes:(p=(l=e.strictTypes)!==null&&l!==void 0?l:ne)!==null&&p!==void 0?p:"log",strictTuples:(h=(f=e.strictTuples)!==null&&f!==void 0?f:ne)!==null&&h!==void 0?h:"log",strictRequired:(v=(g=e.strictRequired)!==null&&g!==void 0?g:ne)!==null&&v!==void 0?v:!1,code:e.code?{...e.code,optimize:Z,regExp:ue}:{optimize:Z,regExp:ue},loopRequired:(S=e.loopRequired)!==null&&S!==void 0?S:Jb,loopEnum:(b=e.loopEnum)!==null&&b!==void 0?b:Jb,meta:(T=e.meta)!==null&&T!==void 0?T:!0,messages:(O=e.messages)!==null&&O!==void 0?O:!0,inlineRefs:($=e.inlineRefs)!==null&&$!==void 0?$:!0,schemaId:(k=e.schemaId)!==null&&k!==void 0?k:"$id",addUsedSchema:(j=e.addUsedSchema)!==null&&j!==void 0?j:!0,validateSchema:(x=e.validateSchema)!==null&&x!==void 0?x:!0,validateFormats:(U=e.validateFormats)!==null&&U!==void 0?U:!0,unicodeRegExp:(J=e.unicodeRegExp)!==null&&J!==void 0?J:!0,int32range:(K=e.int32range)!==null&&K!==void 0?K:!0,uriResolver:ut}}var ea=class{constructor(t={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,t=this.opts={...t,...B4(t)};let{es5:r,lines:n}=this.opts.code;this.scope=new k4.ValueScope({scope:{},prefixes:q4,es5:r,lines:n}),this.logger=K4(t.logger);let o=t.validateFormats;t.validateFormats=!1,this.RULES=(0,M4.getRules)(),Yb.call(this,U4,t,"NOT SUPPORTED"),Yb.call(this,F4,t,"DEPRECATED","warn"),this._metaOpts=H4.call(this),t.formats&&V4.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),t.keywords&&z4.call(this,t.keywords),typeof t.meta=="object"&&this.addMetaSchema(t.meta),G4.call(this),t.validateFormats=o}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:t,meta:r,schemaId:n}=this.opts,o=Kb;n==="id"&&(o={...Kb},o.id=o.$id,delete o.$id),r&&t&&this.addMetaSchema(o,o[n],!1)}defaultMeta(){let{meta:t,schemaId:r}=this.opts;return this.opts.defaultMeta=typeof t=="object"?t[r]||t:void 0}validate(t,r){let n;if(typeof t=="string"){if(n=this.getSchema(t),!n)throw new Error(`no schema with key or ref "${t}"`)}else n=this.compile(t);let o=n(r);return"$async"in n||(this.errors=n.errors),o}compile(t,r){let n=this._addSchema(t,r);return n.validate||this._compileSchemaEnv(n)}compileAsync(t,r){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:n}=this.opts;return o.call(this,t,r);async function o(p,f){await i.call(this,p.$schema);let h=this._addSchema(p,f);return h.validate||s.call(this,h)}async function i(p){p&&!this.getSchema(p)&&await o.call(this,{$ref:p},!0)}async function s(p){try{return this._compileSchemaEnv(p)}catch(f){if(!(f instanceof Qb.default))throw f;return a.call(this,f),await c.call(this,f.missingSchema),s.call(this,p)}}function a({missingSchema:p,missingRef:f}){if(this.refs[p])throw new Error(`AnySchema ${p} is loaded but ${f} cannot be resolved`)}async function c(p){let f=await l.call(this,p);this.refs[p]||await i.call(this,f.$schema),this.refs[p]||this.addSchema(f,p,r)}async function l(p){let f=this._loading[p];if(f)return f;try{return await(this._loading[p]=n(p))}finally{delete this._loading[p]}}}addSchema(t,r,n,o=this.opts.validateSchema){if(Array.isArray(t)){for(let s of t)this.addSchema(s,void 0,n,o);return this}let i;if(typeof t=="object"){let{schemaId:s}=this.opts;if(i=t[s],i!==void 0&&typeof i!="string")throw new Error(`schema ${s} must be string`)}return r=(0,Zs.normalizeId)(r||i),this._checkUnique(r),this.schemas[r]=this._addSchema(t,n,r,o,!0),this}addMetaSchema(t,r,n=this.opts.validateSchema){return this.addSchema(t,r,!0,n),this}validateSchema(t,r){if(typeof t=="boolean")return!0;let n;if(n=t.$schema,n!==void 0&&typeof n!="string")throw new Error("$schema must be a string");if(n=n||this.opts.defaultMeta||this.defaultMeta(),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let o=this.validate(n,t);if(!o&&r){let i="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(i);else throw new Error(i)}return o}getSchema(t){let r;for(;typeof(r=Xb.call(this,t))=="string";)t=r;if(r===void 0){let{schemaId:n}=this.opts,o=new Qs.SchemaEnv({schema:{},schemaId:n});if(r=Qs.resolveSchema.call(this,o,t),!r)return;this.refs[t]=r}return r.validate||this._compileSchemaEnv(r)}removeSchema(t){if(t instanceof RegExp)return this._removeAllSchemas(this.schemas,t),this._removeAllSchemas(this.refs,t),this;switch(typeof t){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let r=Xb.call(this,t);return typeof r=="object"&&this._cache.delete(r.schema),delete this.schemas[t],delete this.refs[t],this}case"object":{let r=t;this._cache.delete(r);let n=t[this.opts.schemaId];return n&&(n=(0,Zs.normalizeId)(n),delete this.schemas[n],delete this.refs[n]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(t){for(let r of t)this.addKeyword(r);return this}addKeyword(t,r){let n;if(typeof t=="string")n=t,typeof r=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),r.keyword=n);else if(typeof t=="object"&&r===void 0){if(r=t,n=r.keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(Y4.call(this,n,r),!r)return(0,Cm.eachItem)(n,i=>bm.call(this,i)),this;Q4.call(this,r);let o={...r,type:(0,qd.getJSONTypes)(r.type),schemaType:(0,qd.getJSONTypes)(r.schemaType)};return(0,Cm.eachItem)(n,o.type.length===0?i=>bm.call(this,i,o):i=>o.type.forEach(s=>bm.call(this,i,o,s))),this}getKeyword(t){let r=this.RULES.all[t];return typeof r=="object"?r.definition:!!r}removeKeyword(t){let{RULES:r}=this;delete r.keywords[t],delete r.all[t];for(let n of r.rules){let o=n.rules.findIndex(i=>i.keyword===t);o>=0&&n.rules.splice(o,1)}return this}addFormat(t,r){return typeof r=="string"&&(r=new RegExp(r)),this.formats[t]=r,this}errorsText(t=this.errors,{separator:r=", ",dataVar:n="data"}={}){return!t||t.length===0?"No errors":t.map(o=>`${n}${o.instancePath} ${o.message}`).reduce((o,i)=>o+r+i)}$dataMetaSchema(t,r){let n=this.RULES.all;t=JSON.parse(JSON.stringify(t));for(let o of r){let i=o.split("/").slice(1),s=t;for(let a of i)s=s[a];for(let a in n){let c=n[a];if(typeof c!="object")continue;let{$data:l}=c.definition,p=s[a];l&&p&&(s[a]=e0(p))}}return t}_removeAllSchemas(t,r){for(let n in t){let o=t[n];(!r||r.test(n))&&(typeof o=="string"?delete t[n]:o&&!o.meta&&(this._cache.delete(o.schema),delete t[n]))}}_addSchema(t,r,n,o=this.opts.validateSchema,i=this.opts.addUsedSchema){let s,{schemaId:a}=this.opts;if(typeof t=="object")s=t[a];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof t!="boolean")throw new Error("schema must be object or boolean")}let c=this._cache.get(t);if(c!==void 0)return c;n=(0,Zs.normalizeId)(s||n);let l=Zs.getSchemaRefs.call(this,t,n);return c=new Qs.SchemaEnv({schema:t,schemaId:a,meta:r,baseId:n,localRefs:l}),this._cache.set(c.schema,c),i&&!n.startsWith("#")&&(n&&this._checkUnique(n),this.refs[n]=c),o&&this.validateSchema(t,!0),c}_checkUnique(t){if(this.schemas[t]||this.refs[t])throw new Error(`schema with key or id "${t}" already exists`)}_compileSchemaEnv(t){if(t.meta?this._compileMetaSchema(t):Qs.compileSchema.call(this,t),!t.validate)throw new Error("ajv implementation error");return t.validate}_compileMetaSchema(t){let r=this.opts;this.opts=this._metaOpts;try{Qs.compileSchema.call(this,t)}finally{this.opts=r}}};Xe.default=ea;ea.ValidationError=$4.default;ea.MissingRefError=Qb.default;function Yb(e,t,r,n="error"){for(let o in e){let i=o;i in t&&this.logger[n](`${r}: option ${o}. ${e[i]}`)}}function Xb(e){return e=(0,Zs.normalizeId)(e),this.schemas[e]||this.refs[e]}function G4(){let e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(let t in e)this.addSchema(e[t],t)}function V4(){for(let e in this.opts.formats){let t=this.opts.formats[e];t&&this.addFormat(e,t)}}function z4(e){if(Array.isArray(e)){this.addVocabulary(e);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let t in e){let r=e[t];r.keyword||(r.keyword=t),this.addKeyword(r)}}function H4(){let e={...this.opts};for(let t of j4)delete e[t];return e}var W4={log(){},warn(){},error(){}};function K4(e){if(e===!1)return W4;if(e===void 0)return console;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}var J4=/^[a-z_$][a-z0-9_$:-]*$/i;function Y4(e,t){let{RULES:r}=this;if((0,Cm.eachItem)(e,n=>{if(r.keywords[n])throw new Error(`Keyword ${n} is already defined`);if(!J4.test(n))throw new Error(`Keyword ${n} has invalid name`)}),!!t&&t.$data&&!("code"in t||"validate"in t))throw new Error('$data keyword must have "code" or "validate" function')}function bm(e,t,r){var n;let o=t?.post;if(r&&o)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:i}=this,s=o?i.post:i.rules.find(({type:c})=>c===r);if(s||(s={type:r,rules:[]},i.rules.push(s)),i.keywords[e]=!0,!t)return;let a={keyword:e,definition:{...t,type:(0,qd.getJSONTypes)(t.type),schemaType:(0,qd.getJSONTypes)(t.schemaType)}};t.before?X4.call(this,s,a,t.before):s.rules.push(a),i.all[e]=a,(n=t.implements)===null||n===void 0||n.forEach(c=>this.addKeyword(c))}function X4(e,t,r){let n=e.rules.findIndex(o=>o.keyword===r);n>=0?e.rules.splice(n,0,t):(e.rules.push(t),this.logger.warn(`rule ${r} is not defined`))}function Q4(e){let{metaSchema:t}=e;t!==void 0&&(e.$data&&this.opts.$data&&(t=e0(t)),e.validateSchema=this.compile(t,!0))}var Z4={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function e0(e){return{anyOf:[e,Z4]}}});var r0=m(wm=>{"use strict";Object.defineProperty(wm,"__esModule",{value:!0});var eK={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};wm.default=eK});var s0=m(xo=>{"use strict";Object.defineProperty(xo,"__esModule",{value:!0});xo.callRef=xo.getValidate=void 0;var tK=Md(),n0=qt(),bt=X(),wi=Tr(),o0=Ld(),Ud=me(),rK={keyword:"$ref",schemaType:"string",code(e){let{gen:t,schema:r,it:n}=e,{baseId:o,schemaEnv:i,validateName:s,opts:a,self:c}=n,{root:l}=i;if((r==="#"||r==="#/")&&o===l.baseId)return f();let p=o0.resolveRef.call(c,l,o,r);if(p===void 0)throw new tK.default(n.opts.uriResolver,o,r);if(p instanceof o0.SchemaEnv)return h(p);return g(p);function f(){if(i===l)return Fd(e,s,i,i.$async);let v=t.scopeValue("root",{ref:l});return Fd(e,(0,bt._)`${v}.validate`,l,l.$async)}function h(v){let S=i0(e,v);Fd(e,S,v,v.$async)}function g(v){let S=t.scopeValue("schema",a.code.source===!0?{ref:v,code:(0,bt.stringify)(v)}:{ref:v}),b=t.name("valid"),T=e.subschema({schema:v,dataTypes:[],schemaPath:bt.nil,topSchemaRef:S,errSchemaPath:r},b);e.mergeEvaluated(T),e.ok(b)}}};function i0(e,t){let{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,bt._)`${r.scopeValue("wrapper",{ref:t})}.validate`}xo.getValidate=i0;function Fd(e,t,r,n){let{gen:o,it:i}=e,{allErrors:s,schemaEnv:a,opts:c}=i,l=c.passContext?wi.default.this:bt.nil;n?p():f();function p(){if(!a.$async)throw new Error("async schema referenced by sync schema");let v=o.let("valid");o.try(()=>{o.code((0,bt._)`await ${(0,n0.callValidateCode)(e,t,l)}`),g(t),s||o.assign(v,!0)},S=>{o.if((0,bt._)`!(${S} instanceof ${i.ValidationError})`,()=>o.throw(S)),h(S),s||o.assign(v,!1)}),e.ok(v)}function f(){e.result((0,n0.callValidateCode)(e,t,l),()=>g(t),()=>h(t))}function h(v){let S=(0,bt._)`${v}.errors`;o.assign(wi.default.vErrors,(0,bt._)`${wi.default.vErrors} === null ? ${S} : ${wi.default.vErrors}.concat(${S})`),o.assign(wi.default.errors,(0,bt._)`${wi.default.vErrors}.length`)}function g(v){var S;if(!i.opts.unevaluated)return;let b=(S=r?.validate)===null||S===void 0?void 0:S.evaluated;if(i.props!==!0)if(b&&!b.dynamicProps)b.props!==void 0&&(i.props=Ud.mergeEvaluated.props(o,b.props,i.props));else{let T=o.var("props",(0,bt._)`${v}.evaluated.props`);i.props=Ud.mergeEvaluated.props(o,T,i.props,bt.Name)}if(i.items!==!0)if(b&&!b.dynamicItems)b.items!==void 0&&(i.items=Ud.mergeEvaluated.items(o,b.items,i.items));else{let T=o.var("items",(0,bt._)`${v}.evaluated.items`);i.items=Ud.mergeEvaluated.items(o,T,i.items,bt.Name)}}}xo.callRef=Fd;xo.default=rK});var a0=m(Pm=>{"use strict";Object.defineProperty(Pm,"__esModule",{value:!0});var nK=r0(),oK=s0(),iK=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",nK.default,oK.default];Pm.default=iK});var c0=m(Tm=>{"use strict";Object.defineProperty(Tm,"__esModule",{value:!0});var Bd=X(),Dn=Bd.operators,Gd={maximum:{okStr:"<=",ok:Dn.LTE,fail:Dn.GT},minimum:{okStr:">=",ok:Dn.GTE,fail:Dn.LT},exclusiveMaximum:{okStr:"<",ok:Dn.LT,fail:Dn.GTE},exclusiveMinimum:{okStr:">",ok:Dn.GT,fail:Dn.LTE}},sK={message:({keyword:e,schemaCode:t})=>(0,Bd.str)`must be ${Gd[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,Bd._)`{comparison: ${Gd[e].okStr}, limit: ${t}}`},aK={keyword:Object.keys(Gd),type:"number",schemaType:"number",$data:!0,error:sK,code(e){let{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,Bd._)`${r} ${Gd[t].fail} ${n} || isNaN(${r})`)}};Tm.default=aK});var d0=m(Im=>{"use strict";Object.defineProperty(Im,"__esModule",{value:!0});var ta=X(),cK={message:({schemaCode:e})=>(0,ta.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,ta._)`{multipleOf: ${e}}`},dK={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:cK,code(e){let{gen:t,data:r,schemaCode:n,it:o}=e,i=o.opts.multipleOfPrecision,s=t.let("res"),a=i?(0,ta._)`Math.abs(Math.round(${s}) - ${s}) > 1e-${i}`:(0,ta._)`${s} !== parseInt(${s})`;e.fail$data((0,ta._)`(${n} === 0 || (${s} = ${r}/${n}, ${a}))`)}};Im.default=dK});var u0=m(Om=>{"use strict";Object.defineProperty(Om,"__esModule",{value:!0});function l0(e){let t=e.length,r=0,n=0,o;for(;n<t;)r++,o=e.charCodeAt(n++),o>=55296&&o<=56319&&n<t&&(o=e.charCodeAt(n),(o&64512)===56320&&n++);return r}Om.default=l0;l0.code='require("ajv/dist/runtime/ucs2length").default'});var p0=m(Rm=>{"use strict";Object.defineProperty(Rm,"__esModule",{value:!0});var No=X(),lK=me(),uK=u0(),pK={message({keyword:e,schemaCode:t}){let r=e==="maxLength"?"more":"fewer";return(0,No.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,No._)`{limit: ${e}}`},fK={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:pK,code(e){let{keyword:t,data:r,schemaCode:n,it:o}=e,i=t==="maxLength"?No.operators.GT:No.operators.LT,s=o.opts.unicode===!1?(0,No._)`${r}.length`:(0,No._)`${(0,lK.useFunc)(e.gen,uK.default)}(${r})`;e.fail$data((0,No._)`${s} ${i} ${n}`)}};Rm.default=fK});var f0=m(Am=>{"use strict";Object.defineProperty(Am,"__esModule",{value:!0});var mK=qt(),Vd=X(),hK={message:({schemaCode:e})=>(0,Vd.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,Vd._)`{pattern: ${e}}`},gK={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:hK,code(e){let{data:t,$data:r,schema:n,schemaCode:o,it:i}=e,s=i.opts.unicodeRegExp?"u":"",a=r?(0,Vd._)`(new RegExp(${o}, ${s}))`:(0,mK.usePattern)(e,n);e.fail$data((0,Vd._)`!${a}.test(${t})`)}};Am.default=gK});var m0=m(xm=>{"use strict";Object.defineProperty(xm,"__esModule",{value:!0});var ra=X(),_K={message({keyword:e,schemaCode:t}){let r=e==="maxProperties"?"more":"fewer";return(0,ra.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,ra._)`{limit: ${e}}`},vK={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:_K,code(e){let{keyword:t,data:r,schemaCode:n}=e,o=t==="maxProperties"?ra.operators.GT:ra.operators.LT;e.fail$data((0,ra._)`Object.keys(${r}).length ${o} ${n}`)}};xm.default=vK});var h0=m(Nm=>{"use strict";Object.defineProperty(Nm,"__esModule",{value:!0});var na=qt(),oa=X(),yK=me(),EK={message:({params:{missingProperty:e}})=>(0,oa.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,oa._)`{missingProperty: ${e}}`},SK={keyword:"required",type:"object",schemaType:"array",$data:!0,error:EK,code(e){let{gen:t,schema:r,schemaCode:n,data:o,$data:i,it:s}=e,{opts:a}=s;if(!i&&r.length===0)return;let c=r.length>=a.loopRequired;if(s.allErrors?l():p(),a.strictRequired){let g=e.parentSchema.properties,{definedProperties:v}=e.it;for(let S of r)if(g?.[S]===void 0&&!v.has(S)){let b=s.schemaEnv.baseId+s.errSchemaPath,T=`required property "${S}" is not defined at "${b}" (strictRequired)`;(0,yK.checkStrictMode)(s,T,s.opts.strictRequired)}}function l(){if(c||i)e.block$data(oa.nil,f);else for(let g of r)(0,na.checkReportMissingProp)(e,g)}function p(){let g=t.let("missing");if(c||i){let v=t.let("valid",!0);e.block$data(v,()=>h(g,v)),e.ok(v)}else t.if((0,na.checkMissingProp)(e,r,g)),(0,na.reportMissingProp)(e,g),t.else()}function f(){t.forOf("prop",n,g=>{e.setParams({missingProperty:g}),t.if((0,na.noPropertyInData)(t,o,g,a.ownProperties),()=>e.error())})}function h(g,v){e.setParams({missingProperty:g}),t.forOf(g,n,()=>{t.assign(v,(0,na.propertyInData)(t,o,g,a.ownProperties)),t.if((0,oa.not)(v),()=>{e.error(),t.break()})},oa.nil)}}};Nm.default=SK});var g0=m(Dm=>{"use strict";Object.defineProperty(Dm,"__esModule",{value:!0});var ia=X(),bK={message({keyword:e,schemaCode:t}){let r=e==="maxItems"?"more":"fewer";return(0,ia.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,ia._)`{limit: ${e}}`},CK={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:bK,code(e){let{keyword:t,data:r,schemaCode:n}=e,o=t==="maxItems"?ia.operators.GT:ia.operators.LT;e.fail$data((0,ia._)`${r}.length ${o} ${n}`)}};Dm.default=CK});var zd=m($m=>{"use strict";Object.defineProperty($m,"__esModule",{value:!0});var _0=Ad();_0.code='require("ajv/dist/runtime/equal").default';$m.default=_0});var v0=m(km=>{"use strict";Object.defineProperty(km,"__esModule",{value:!0});var Mm=Ks(),Qe=X(),wK=me(),PK=zd(),TK={message:({params:{i:e,j:t}})=>(0,Qe.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Qe._)`{i: ${e}, j: ${t}}`},IK={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:TK,code(e){let{gen:t,data:r,$data:n,schema:o,parentSchema:i,schemaCode:s,it:a}=e;if(!n&&!o)return;let c=t.let("valid"),l=i.items?(0,Mm.getSchemaTypes)(i.items):[];e.block$data(c,p,(0,Qe._)`${s} === false`),e.ok(c);function p(){let v=t.let("i",(0,Qe._)`${r}.length`),S=t.let("j");e.setParams({i:v,j:S}),t.assign(c,!0),t.if((0,Qe._)`${v} > 1`,()=>(f()?h:g)(v,S))}function f(){return l.length>0&&!l.some(v=>v==="object"||v==="array")}function h(v,S){let b=t.name("item"),T=(0,Mm.checkDataTypes)(l,b,a.opts.strictNumbers,Mm.DataType.Wrong),O=t.const("indices",(0,Qe._)`{}`);t.for((0,Qe._)`;${v}--;`,()=>{t.let(b,(0,Qe._)`${r}[${v}]`),t.if(T,(0,Qe._)`continue`),l.length>1&&t.if((0,Qe._)`typeof ${b} == "string"`,(0,Qe._)`${b} += "_"`),t.if((0,Qe._)`typeof ${O}[${b}] == "number"`,()=>{t.assign(S,(0,Qe._)`${O}[${b}]`),e.error(),t.assign(c,!1).break()}).code((0,Qe._)`${O}[${b}] = ${v}`)})}function g(v,S){let b=(0,wK.useFunc)(t,PK.default),T=t.name("outer");t.label(T).for((0,Qe._)`;${v}--;`,()=>t.for((0,Qe._)`${S} = ${v}; ${S}--;`,()=>t.if((0,Qe._)`${b}(${r}[${v}], ${r}[${S}])`,()=>{e.error(),t.assign(c,!1).break(T)})))}}};km.default=IK});var y0=m(jm=>{"use strict";Object.defineProperty(jm,"__esModule",{value:!0});var Lm=X(),OK=me(),RK=zd(),AK={message:"must be equal to constant",params:({schemaCode:e})=>(0,Lm._)`{allowedValue: ${e}}`},xK={keyword:"const",$data:!0,error:AK,code(e){let{gen:t,data:r,$data:n,schemaCode:o,schema:i}=e;n||i&&typeof i=="object"?e.fail$data((0,Lm._)`!${(0,OK.useFunc)(t,RK.default)}(${r}, ${o})`):e.fail((0,Lm._)`${i} !== ${r}`)}};jm.default=xK});var E0=m(qm=>{"use strict";Object.defineProperty(qm,"__esModule",{value:!0});var sa=X(),NK=me(),DK=zd(),$K={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,sa._)`{allowedValues: ${e}}`},MK={keyword:"enum",schemaType:"array",$data:!0,error:$K,code(e){let{gen:t,data:r,$data:n,schema:o,schemaCode:i,it:s}=e;if(!n&&o.length===0)throw new Error("enum must have non-empty array");let a=o.length>=s.opts.loopEnum,c,l=()=>c??(c=(0,NK.useFunc)(t,DK.default)),p;if(a||n)p=t.let("valid"),e.block$data(p,f);else{if(!Array.isArray(o))throw new Error("ajv implementation error");let g=t.const("vSchema",i);p=(0,sa.or)(...o.map((v,S)=>h(g,S)))}e.pass(p);function f(){t.assign(p,!1),t.forOf("v",i,g=>t.if((0,sa._)`${l()}(${r}, ${g})`,()=>t.assign(p,!0).break()))}function h(g,v){let S=o[v];return typeof S=="object"&&S!==null?(0,sa._)`${l()}(${r}, ${g}[${v}])`:(0,sa._)`${r} === ${S}`}}};qm.default=MK});var S0=m(Um=>{"use strict";Object.defineProperty(Um,"__esModule",{value:!0});var kK=c0(),LK=d0(),jK=p0(),qK=f0(),UK=m0(),FK=h0(),BK=g0(),GK=v0(),VK=y0(),zK=E0(),HK=[kK.default,LK.default,jK.default,qK.default,UK.default,FK.default,BK.default,GK.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},VK.default,zK.default];Um.default=HK});var Bm=m(aa=>{"use strict";Object.defineProperty(aa,"__esModule",{value:!0});aa.validateAdditionalItems=void 0;var Do=X(),Fm=me(),WK={message:({params:{len:e}})=>(0,Do.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Do._)`{limit: ${e}}`},KK={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:WK,code(e){let{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,Fm.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}b0(e,n)}};function b0(e,t){let{gen:r,schema:n,data:o,keyword:i,it:s}=e;s.items=!0;let a=r.const("len",(0,Do._)`${o}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,Do._)`${a} <= ${t.length}`);else if(typeof n=="object"&&!(0,Fm.alwaysValidSchema)(s,n)){let l=r.var("valid",(0,Do._)`${a} <= ${t.length}`);r.if((0,Do.not)(l),()=>c(l)),e.ok(l)}function c(l){r.forRange("i",t.length,a,p=>{e.subschema({keyword:i,dataProp:p,dataPropType:Fm.Type.Num},l),s.allErrors||r.if((0,Do.not)(l),()=>r.break())})}}aa.validateAdditionalItems=b0;aa.default=KK});var Gm=m(ca=>{"use strict";Object.defineProperty(ca,"__esModule",{value:!0});ca.validateTuple=void 0;var C0=X(),Hd=me(),JK=qt(),YK={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){let{schema:t,it:r}=e;if(Array.isArray(t))return w0(e,"additionalItems",t);r.items=!0,!(0,Hd.alwaysValidSchema)(r,t)&&e.ok((0,JK.validateArray)(e))}};function w0(e,t,r=e.schema){let{gen:n,parentSchema:o,data:i,keyword:s,it:a}=e;p(o),a.opts.unevaluated&&r.length&&a.items!==!0&&(a.items=Hd.mergeEvaluated.items(n,r.length,a.items));let c=n.name("valid"),l=n.const("len",(0,C0._)`${i}.length`);r.forEach((f,h)=>{(0,Hd.alwaysValidSchema)(a,f)||(n.if((0,C0._)`${l} > ${h}`,()=>e.subschema({keyword:s,schemaProp:h,dataProp:h},c)),e.ok(c))});function p(f){let{opts:h,errSchemaPath:g}=a,v=r.length,S=v===f.minItems&&(v===f.maxItems||f[t]===!1);if(h.strictTuples&&!S){let b=`"${s}" is ${v}-tuple, but minItems or maxItems/${t} are not specified or different at path "${g}"`;(0,Hd.checkStrictMode)(a,b,h.strictTuples)}}}ca.validateTuple=w0;ca.default=YK});var P0=m(Vm=>{"use strict";Object.defineProperty(Vm,"__esModule",{value:!0});var XK=Gm(),QK={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,XK.validateTuple)(e,"items")};Vm.default=QK});var I0=m(zm=>{"use strict";Object.defineProperty(zm,"__esModule",{value:!0});var T0=X(),ZK=me(),e5=qt(),t5=Bm(),r5={message:({params:{len:e}})=>(0,T0.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,T0._)`{limit: ${e}}`},n5={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:r5,code(e){let{schema:t,parentSchema:r,it:n}=e,{prefixItems:o}=r;n.items=!0,!(0,ZK.alwaysValidSchema)(n,t)&&(o?(0,t5.validateAdditionalItems)(e,o):e.ok((0,e5.validateArray)(e)))}};zm.default=n5});var O0=m(Hm=>{"use strict";Object.defineProperty(Hm,"__esModule",{value:!0});var Ft=X(),Wd=me(),o5={message:({params:{min:e,max:t}})=>t===void 0?(0,Ft.str)`must contain at least ${e} valid item(s)`:(0,Ft.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,Ft._)`{minContains: ${e}}`:(0,Ft._)`{minContains: ${e}, maxContains: ${t}}`},i5={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:o5,code(e){let{gen:t,schema:r,parentSchema:n,data:o,it:i}=e,s,a,{minContains:c,maxContains:l}=n;i.opts.next?(s=c===void 0?1:c,a=l):s=1;let p=t.const("len",(0,Ft._)`${o}.length`);if(e.setParams({min:s,max:a}),a===void 0&&s===0){(0,Wd.checkStrictMode)(i,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&s>a){(0,Wd.checkStrictMode)(i,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,Wd.alwaysValidSchema)(i,r)){let S=(0,Ft._)`${p} >= ${s}`;a!==void 0&&(S=(0,Ft._)`${S} && ${p} <= ${a}`),e.pass(S);return}i.items=!0;let f=t.name("valid");a===void 0&&s===1?g(f,()=>t.if(f,()=>t.break())):s===0?(t.let(f,!0),a!==void 0&&t.if((0,Ft._)`${o}.length > 0`,h)):(t.let(f,!1),h()),e.result(f,()=>e.reset());function h(){let S=t.name("_valid"),b=t.let("count",0);g(S,()=>t.if(S,()=>v(b)))}function g(S,b){t.forRange("i",0,p,T=>{e.subschema({keyword:"contains",dataProp:T,dataPropType:Wd.Type.Num,compositeRule:!0},S),b()})}function v(S){t.code((0,Ft._)`${S}++`),a===void 0?t.if((0,Ft._)`${S} >= ${s}`,()=>t.assign(f,!0).break()):(t.if((0,Ft._)`${S} > ${a}`,()=>t.assign(f,!1).break()),s===1?t.assign(f,!0):t.if((0,Ft._)`${S} >= ${s}`,()=>t.assign(f,!0)))}}};Hm.default=i5});var x0=m(Rr=>{"use strict";Object.defineProperty(Rr,"__esModule",{value:!0});Rr.validateSchemaDeps=Rr.validatePropertyDeps=Rr.error=void 0;var Wm=X(),s5=me(),da=qt();Rr.error={message:({params:{property:e,depsCount:t,deps:r}})=>{let n=t===1?"property":"properties";return(0,Wm.str)`must have ${n} ${r} when property ${e} is present`},params:({params:{property:e,depsCount:t,deps:r,missingProperty:n}})=>(0,Wm._)`{property: ${e},
    missingProperty: ${n},
    depsCount: ${t},
    deps: ${r}}`};var a5={keyword:"dependencies",type:"object",schemaType:"object",error:Rr.error,code(e){let[t,r]=c5(e);R0(e,t),A0(e,r)}};function c5({schema:e}){let t={},r={};for(let n in e){if(n==="__proto__")continue;let o=Array.isArray(e[n])?t:r;o[n]=e[n]}return[t,r]}function R0(e,t=e.schema){let{gen:r,data:n,it:o}=e;if(Object.keys(t).length===0)return;let i=r.let("missing");for(let s in t){let a=t[s];if(a.length===0)continue;let c=(0,da.propertyInData)(r,n,s,o.opts.ownProperties);e.setParams({property:s,depsCount:a.length,deps:a.join(", ")}),o.allErrors?r.if(c,()=>{for(let l of a)(0,da.checkReportMissingProp)(e,l)}):(r.if((0,Wm._)`${c} && (${(0,da.checkMissingProp)(e,a,i)})`),(0,da.reportMissingProp)(e,i),r.else())}}Rr.validatePropertyDeps=R0;function A0(e,t=e.schema){let{gen:r,data:n,keyword:o,it:i}=e,s=r.name("valid");for(let a in t)(0,s5.alwaysValidSchema)(i,t[a])||(r.if((0,da.propertyInData)(r,n,a,i.opts.ownProperties),()=>{let c=e.subschema({keyword:o,schemaProp:a},s);e.mergeValidEvaluated(c,s)},()=>r.var(s,!0)),e.ok(s))}Rr.validateSchemaDeps=A0;Rr.default=a5});var D0=m(Km=>{"use strict";Object.defineProperty(Km,"__esModule",{value:!0});var N0=X(),d5=me(),l5={message:"property name must be valid",params:({params:e})=>(0,N0._)`{propertyName: ${e.propertyName}}`},u5={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:l5,code(e){let{gen:t,schema:r,data:n,it:o}=e;if((0,d5.alwaysValidSchema)(o,r))return;let i=t.name("valid");t.forIn("key",n,s=>{e.setParams({propertyName:s}),e.subschema({keyword:"propertyNames",data:s,dataTypes:["string"],propertyName:s,compositeRule:!0},i),t.if((0,N0.not)(i),()=>{e.error(!0),o.allErrors||t.break()})}),e.ok(i)}};Km.default=u5});var Ym=m(Jm=>{"use strict";Object.defineProperty(Jm,"__esModule",{value:!0});var Kd=qt(),or=X(),p5=Tr(),Jd=me(),f5={message:"must NOT have additional properties",params:({params:e})=>(0,or._)`{additionalProperty: ${e.additionalProperty}}`},m5={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:f5,code(e){let{gen:t,schema:r,parentSchema:n,data:o,errsCount:i,it:s}=e;if(!i)throw new Error("ajv implementation error");let{allErrors:a,opts:c}=s;if(s.props=!0,c.removeAdditional!=="all"&&(0,Jd.alwaysValidSchema)(s,r))return;let l=(0,Kd.allSchemaProperties)(n.properties),p=(0,Kd.allSchemaProperties)(n.patternProperties);f(),e.ok((0,or._)`${i} === ${p5.default.errors}`);function f(){t.forIn("key",o,b=>{!l.length&&!p.length?v(b):t.if(h(b),()=>v(b))})}function h(b){let T;if(l.length>8){let O=(0,Jd.schemaRefOrVal)(s,n.properties,"properties");T=(0,Kd.isOwnProperty)(t,O,b)}else l.length?T=(0,or.or)(...l.map(O=>(0,or._)`${b} === ${O}`)):T=or.nil;return p.length&&(T=(0,or.or)(T,...p.map(O=>(0,or._)`${(0,Kd.usePattern)(e,O)}.test(${b})`))),(0,or.not)(T)}function g(b){t.code((0,or._)`delete ${o}[${b}]`)}function v(b){if(c.removeAdditional==="all"||c.removeAdditional&&r===!1){g(b);return}if(r===!1){e.setParams({additionalProperty:b}),e.error(),a||t.break();return}if(typeof r=="object"&&!(0,Jd.alwaysValidSchema)(s,r)){let T=t.name("valid");c.removeAdditional==="failing"?(S(b,T,!1),t.if((0,or.not)(T),()=>{e.reset(),g(b)})):(S(b,T),a||t.if((0,or.not)(T),()=>t.break()))}}function S(b,T,O){let $={keyword:"additionalProperties",dataProp:b,dataPropType:Jd.Type.Str};O===!1&&Object.assign($,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema($,T)}}};Jm.default=m5});var k0=m(Qm=>{"use strict";Object.defineProperty(Qm,"__esModule",{value:!0});var h5=Si(),$0=qt(),Xm=me(),M0=Ym(),g5={keyword:"properties",type:"object",schemaType:"object",code(e){let{gen:t,schema:r,parentSchema:n,data:o,it:i}=e;i.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&M0.default.code(new h5.KeywordCxt(i,M0.default,"additionalProperties"));let s=(0,$0.allSchemaProperties)(r);for(let f of s)i.definedProperties.add(f);i.opts.unevaluated&&s.length&&i.props!==!0&&(i.props=Xm.mergeEvaluated.props(t,(0,Xm.toHash)(s),i.props));let a=s.filter(f=>!(0,Xm.alwaysValidSchema)(i,r[f]));if(a.length===0)return;let c=t.name("valid");for(let f of a)l(f)?p(f):(t.if((0,$0.propertyInData)(t,o,f,i.opts.ownProperties)),p(f),i.allErrors||t.else().var(c,!0),t.endIf()),e.it.definedProperties.add(f),e.ok(c);function l(f){return i.opts.useDefaults&&!i.compositeRule&&r[f].default!==void 0}function p(f){e.subschema({keyword:"properties",schemaProp:f,dataProp:f},c)}}};Qm.default=g5});var U0=m(Zm=>{"use strict";Object.defineProperty(Zm,"__esModule",{value:!0});var L0=qt(),Yd=X(),j0=me(),q0=me(),_5={keyword:"patternProperties",type:"object",schemaType:"object",code(e){let{gen:t,schema:r,data:n,parentSchema:o,it:i}=e,{opts:s}=i,a=(0,L0.allSchemaProperties)(r),c=a.filter(S=>(0,j0.alwaysValidSchema)(i,r[S]));if(a.length===0||c.length===a.length&&(!i.opts.unevaluated||i.props===!0))return;let l=s.strictSchema&&!s.allowMatchingProperties&&o.properties,p=t.name("valid");i.props!==!0&&!(i.props instanceof Yd.Name)&&(i.props=(0,q0.evaluatedPropsToName)(t,i.props));let{props:f}=i;h();function h(){for(let S of a)l&&g(S),i.allErrors?v(S):(t.var(p,!0),v(S),t.if(p))}function g(S){for(let b in l)new RegExp(S).test(b)&&(0,j0.checkStrictMode)(i,`property ${b} matches pattern ${S} (use allowMatchingProperties)`)}function v(S){t.forIn("key",n,b=>{t.if((0,Yd._)`${(0,L0.usePattern)(e,S)}.test(${b})`,()=>{let T=c.includes(S);T||e.subschema({keyword:"patternProperties",schemaProp:S,dataProp:b,dataPropType:q0.Type.Str},p),i.opts.unevaluated&&f!==!0?t.assign((0,Yd._)`${f}[${b}]`,!0):!T&&!i.allErrors&&t.if((0,Yd.not)(p),()=>t.break())})})}}};Zm.default=_5});var F0=m(eh=>{"use strict";Object.defineProperty(eh,"__esModule",{value:!0});var v5=me(),y5={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){let{gen:t,schema:r,it:n}=e;if((0,v5.alwaysValidSchema)(n,r)){e.fail();return}let o=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},o),e.failResult(o,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};eh.default=y5});var B0=m(th=>{"use strict";Object.defineProperty(th,"__esModule",{value:!0});var E5=qt(),S5={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:E5.validateUnion,error:{message:"must match a schema in anyOf"}};th.default=S5});var G0=m(rh=>{"use strict";Object.defineProperty(rh,"__esModule",{value:!0});var Xd=X(),b5=me(),C5={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,Xd._)`{passingSchemas: ${e.passing}}`},w5={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:C5,code(e){let{gen:t,schema:r,parentSchema:n,it:o}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(o.opts.discriminator&&n.discriminator)return;let i=r,s=t.let("valid",!1),a=t.let("passing",null),c=t.name("_valid");e.setParams({passing:a}),t.block(l),e.result(s,()=>e.reset(),()=>e.error(!0));function l(){i.forEach((p,f)=>{let h;(0,b5.alwaysValidSchema)(o,p)?t.var(c,!0):h=e.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},c),f>0&&t.if((0,Xd._)`${c} && ${s}`).assign(s,!1).assign(a,(0,Xd._)`[${a}, ${f}]`).else(),t.if(c,()=>{t.assign(s,!0),t.assign(a,f),h&&e.mergeEvaluated(h,Xd.Name)})})}}};rh.default=w5});var V0=m(nh=>{"use strict";Object.defineProperty(nh,"__esModule",{value:!0});var P5=me(),T5={keyword:"allOf",schemaType:"array",code(e){let{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");let o=t.name("valid");r.forEach((i,s)=>{if((0,P5.alwaysValidSchema)(n,i))return;let a=e.subschema({keyword:"allOf",schemaProp:s},o);e.ok(o),e.mergeEvaluated(a)})}};nh.default=T5});var W0=m(oh=>{"use strict";Object.defineProperty(oh,"__esModule",{value:!0});var Qd=X(),H0=me(),I5={message:({params:e})=>(0,Qd.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,Qd._)`{failingKeyword: ${e.ifClause}}`},O5={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:I5,code(e){let{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,H0.checkStrictMode)(n,'"if" without "then" and "else" is ignored');let o=z0(n,"then"),i=z0(n,"else");if(!o&&!i)return;let s=t.let("valid",!0),a=t.name("_valid");if(c(),e.reset(),o&&i){let p=t.let("ifClause");e.setParams({ifClause:p}),t.if(a,l("then",p),l("else",p))}else o?t.if(a,l("then")):t.if((0,Qd.not)(a),l("else"));e.pass(s,()=>e.error(!0));function c(){let p=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);e.mergeEvaluated(p)}function l(p,f){return()=>{let h=e.subschema({keyword:p},a);t.assign(s,a),e.mergeValidEvaluated(h,s),f?t.assign(f,(0,Qd._)`${p}`):e.setParams({ifClause:p})}}}};function z0(e,t){let r=e.schema[t];return r!==void 0&&!(0,H0.alwaysValidSchema)(e,r)}oh.default=O5});var K0=m(ih=>{"use strict";Object.defineProperty(ih,"__esModule",{value:!0});var R5=me(),A5={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,R5.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};ih.default=A5});var J0=m(sh=>{"use strict";Object.defineProperty(sh,"__esModule",{value:!0});var x5=Bm(),N5=P0(),D5=Gm(),$5=I0(),M5=O0(),k5=x0(),L5=D0(),j5=Ym(),q5=k0(),U5=U0(),F5=F0(),B5=B0(),G5=G0(),V5=V0(),z5=W0(),H5=K0();function W5(e=!1){let t=[F5.default,B5.default,G5.default,V5.default,z5.default,H5.default,L5.default,j5.default,k5.default,q5.default,U5.default];return e?t.push(N5.default,$5.default):t.push(x5.default,D5.default),t.push(M5.default),t}sh.default=W5});var Y0=m(ah=>{"use strict";Object.defineProperty(ah,"__esModule",{value:!0});var je=X(),K5={message:({schemaCode:e})=>(0,je.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,je._)`{format: ${e}}`},J5={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:K5,code(e,t){let{gen:r,data:n,$data:o,schema:i,schemaCode:s,it:a}=e,{opts:c,errSchemaPath:l,schemaEnv:p,self:f}=a;if(!c.validateFormats)return;o?h():g();function h(){let v=r.scopeValue("formats",{ref:f.formats,code:c.code.formats}),S=r.const("fDef",(0,je._)`${v}[${s}]`),b=r.let("fType"),T=r.let("format");r.if((0,je._)`typeof ${S} == "object" && !(${S} instanceof RegExp)`,()=>r.assign(b,(0,je._)`${S}.type || "string"`).assign(T,(0,je._)`${S}.validate`),()=>r.assign(b,(0,je._)`"string"`).assign(T,S)),e.fail$data((0,je.or)(O(),$()));function O(){return c.strictSchema===!1?je.nil:(0,je._)`${s} && !${T}`}function $(){let k=p.$async?(0,je._)`(${S}.async ? await ${T}(${n}) : ${T}(${n}))`:(0,je._)`${T}(${n})`,j=(0,je._)`(typeof ${T} == "function" ? ${k} : ${T}.test(${n}))`;return(0,je._)`${T} && ${T} !== true && ${b} === ${t} && !${j}`}}function g(){let v=f.formats[i];if(!v){O();return}if(v===!0)return;let[S,b,T]=$(v);S===t&&e.pass(k());function O(){if(c.strictSchema===!1){f.logger.warn(j());return}throw new Error(j());function j(){return`unknown format "${i}" ignored in schema at path "${l}"`}}function $(j){let x=j instanceof RegExp?(0,je.regexpCode)(j):c.code.formats?(0,je._)`${c.code.formats}${(0,je.getProperty)(i)}`:void 0,U=r.scopeValue("formats",{key:i,ref:j,code:x});return typeof j=="object"&&!(j instanceof RegExp)?[j.type||"string",j.validate,(0,je._)`${U}.validate`]:["string",j,U]}function k(){if(typeof v=="object"&&!(v instanceof RegExp)&&v.async){if(!p.$async)throw new Error("async format in sync schema");return(0,je._)`await ${T}(${n})`}return typeof b=="function"?(0,je._)`${T}(${n})`:(0,je._)`${T}.test(${n})`}}}};ah.default=J5});var X0=m(ch=>{"use strict";Object.defineProperty(ch,"__esModule",{value:!0});var Y5=Y0(),X5=[Y5.default];ch.default=X5});var Q0=m(Pi=>{"use strict";Object.defineProperty(Pi,"__esModule",{value:!0});Pi.contentVocabulary=Pi.metadataVocabulary=void 0;Pi.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Pi.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var eC=m(dh=>{"use strict";Object.defineProperty(dh,"__esModule",{value:!0});var Q5=a0(),Z5=S0(),e6=J0(),t6=X0(),Z0=Q0(),r6=[Q5.default,Z5.default,(0,e6.default)(),t6.default,Z0.metadataVocabulary,Z0.contentVocabulary];dh.default=r6});var tC=m(la=>{"use strict";Object.defineProperty(la,"__esModule",{value:!0});la.DiscrError=void 0;var n6;(function(e){e.Tag="tag",e.Mapping="mapping"})(n6=la.DiscrError||(la.DiscrError={}))});var nC=m(uh=>{"use strict";Object.defineProperty(uh,"__esModule",{value:!0});var Ti=X(),lh=tC(),rC=Ld(),o6=me(),i6={message:({params:{discrError:e,tagName:t}})=>e===lh.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,Ti._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},s6={keyword:"discriminator",type:"object",schemaType:"object",error:i6,code(e){let{gen:t,data:r,schema:n,parentSchema:o,it:i}=e,{oneOf:s}=o;if(!i.opts.discriminator)throw new Error("discriminator: requires discriminator option");let a=n.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!s)throw new Error("discriminator: requires oneOf keyword");let c=t.let("valid",!1),l=t.const("tag",(0,Ti._)`${r}${(0,Ti.getProperty)(a)}`);t.if((0,Ti._)`typeof ${l} == "string"`,()=>p(),()=>e.error(!1,{discrError:lh.DiscrError.Tag,tag:l,tagName:a})),e.ok(c);function p(){let g=h();t.if(!1);for(let v in g)t.elseIf((0,Ti._)`${l} === ${v}`),t.assign(c,f(g[v]));t.else(),e.error(!1,{discrError:lh.DiscrError.Mapping,tag:l,tagName:a}),t.endIf()}function f(g){let v=t.name("valid"),S=e.subschema({keyword:"oneOf",schemaProp:g},v);return e.mergeEvaluated(S,Ti.Name),v}function h(){var g;let v={},S=T(o),b=!0;for(let k=0;k<s.length;k++){let j=s[k];j?.$ref&&!(0,o6.schemaHasRulesButRef)(j,i.self.RULES)&&(j=rC.resolveRef.call(i.self,i.schemaEnv.root,i.baseId,j?.$ref),j instanceof rC.SchemaEnv&&(j=j.schema));let x=(g=j?.properties)===null||g===void 0?void 0:g[a];if(typeof x!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);b=b&&(S||T(j)),O(x,k)}if(!b)throw new Error(`discriminator: "${a}" must be required`);return v;function T({required:k}){return Array.isArray(k)&&k.includes(a)}function O(k,j){if(k.const)$(k.const,j);else if(k.enum)for(let x of k.enum)$(x,j);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function $(k,j){if(typeof k!="string"||k in v)throw new Error(`discriminator: "${a}" values must be unique strings`);v[k]=j}}}};uh.default=s6});var oC=m((TCe,a6)=>{a6.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var tl=m((Me,sC)=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});Me.MissingRefError=Me.ValidationError=Me.CodeGen=Me.Name=Me.nil=Me.stringify=Me.str=Me._=Me.KeywordCxt=void 0;var c6=t0(),d6=eC(),l6=nC(),iC=oC(),u6=["/properties"],Zd="http://json-schema.org/draft-07/schema",el=class extends c6.default{_addVocabularies(){super._addVocabularies(),d6.default.forEach(t=>this.addVocabulary(t)),this.opts.discriminator&&this.addKeyword(l6.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let t=this.opts.$data?this.$dataMetaSchema(iC,u6):iC;this.addMetaSchema(t,Zd,!1),this.refs["http://json-schema.org/schema"]=Zd}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(Zd)?Zd:void 0)}};sC.exports=Me=el;Object.defineProperty(Me,"__esModule",{value:!0});Me.default=el;var p6=Si();Object.defineProperty(Me,"KeywordCxt",{enumerable:!0,get:function(){return p6.KeywordCxt}});var Ii=X();Object.defineProperty(Me,"_",{enumerable:!0,get:function(){return Ii._}});Object.defineProperty(Me,"str",{enumerable:!0,get:function(){return Ii.str}});Object.defineProperty(Me,"stringify",{enumerable:!0,get:function(){return Ii.stringify}});Object.defineProperty(Me,"nil",{enumerable:!0,get:function(){return Ii.nil}});Object.defineProperty(Me,"Name",{enumerable:!0,get:function(){return Ii.Name}});Object.defineProperty(Me,"CodeGen",{enumerable:!0,get:function(){return Ii.CodeGen}});var f6=$d();Object.defineProperty(Me,"ValidationError",{enumerable:!0,get:function(){return f6.default}});var m6=Md();Object.defineProperty(Me,"MissingRefError",{enumerable:!0,get:function(){return m6.default}})});var pC=m(Ar=>{"use strict";Object.defineProperty(Ar,"__esModule",{value:!0});Ar.formatNames=Ar.fastFormats=Ar.fullFormats=void 0;function Oi(e,t){return{validate:e,compare:t}}Ar.fullFormats={date:Oi(dC,mh),time:Oi(lC,hh),"date-time":Oi(v6,uC),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:S6,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:O6,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:b6,int32:{type:"number",validate:P6},int64:{type:"number",validate:T6},float:{type:"number",validate:cC},double:{type:"number",validate:cC},password:!0,binary:!0};Ar.fastFormats={...Ar.fullFormats,date:Oi(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,mh),time:Oi(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,hh),"date-time":Oi(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uC),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i};Ar.formatNames=Object.keys(Ar.fullFormats);function h6(e){return e%4===0&&(e%100!==0||e%400===0)}var g6=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,_6=[0,31,28,31,30,31,30,31,31,30,31,30,31];function dC(e){let t=g6.exec(e);if(!t)return!1;let r=+t[1],n=+t[2],o=+t[3];return n>=1&&n<=12&&o>=1&&o<=(n===2&&h6(r)?29:_6[n])}function mh(e,t){if(e&&t)return e>t?1:e<t?-1:0}var ph=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function lC(e,t){let r=ph.exec(e);if(!r)return!1;let n=+r[1],o=+r[2],i=+r[3],s=r[5];return(n<=23&&o<=59&&i<=59||n===23&&o===59&&i===60)&&(!t||s!=="")}function hh(e,t){if(!(e&&t))return;let r=ph.exec(e),n=ph.exec(t);if(r&&n)return e=r[1]+r[2]+r[3]+(r[4]||""),t=n[1]+n[2]+n[3]+(n[4]||""),e>t?1:e<t?-1:0}var fh=/t|\s/i;function v6(e){let t=e.split(fh);return t.length===2&&dC(t[0])&&lC(t[1],!0)}function uC(e,t){if(!(e&&t))return;let[r,n]=e.split(fh),[o,i]=t.split(fh),s=mh(r,o);if(s!==void 0)return s||hh(n,i)}var y6=/\/|:/,E6=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function S6(e){return y6.test(e)&&E6.test(e)}var aC=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function b6(e){return aC.lastIndex=0,aC.test(e)}var C6=-(2**31),w6=2**31-1;function P6(e){return Number.isInteger(e)&&e<=w6&&e>=C6}function T6(e){return Number.isInteger(e)}function cC(){return!0}var I6=/[^\\]\\Z/;function O6(e){if(I6.test(e))return!1;try{return new RegExp(e),!0}catch{return!1}}});var fC=m(Ri=>{"use strict";Object.defineProperty(Ri,"__esModule",{value:!0});Ri.formatLimitDefinition=void 0;var R6=tl(),ir=X(),$n=ir.operators,rl={formatMaximum:{okStr:"<=",ok:$n.LTE,fail:$n.GT},formatMinimum:{okStr:">=",ok:$n.GTE,fail:$n.LT},formatExclusiveMaximum:{okStr:"<",ok:$n.LT,fail:$n.GTE},formatExclusiveMinimum:{okStr:">",ok:$n.GT,fail:$n.LTE}},A6={message:({keyword:e,schemaCode:t})=>ir.str`should be ${rl[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>ir._`{comparison: ${rl[e].okStr}, limit: ${t}}`};Ri.formatLimitDefinition={keyword:Object.keys(rl),type:"string",schemaType:"string",$data:!0,error:A6,code(e){let{gen:t,data:r,schemaCode:n,keyword:o,it:i}=e,{opts:s,self:a}=i;if(!s.validateFormats)return;let c=new R6.KeywordCxt(i,a.RULES.all.format.definition,"format");c.$data?l():p();function l(){let h=t.scopeValue("formats",{ref:a.formats,code:s.code.formats}),g=t.const("fmt",ir._`${h}[${c.schemaCode}]`);e.fail$data(ir.or(ir._`typeof ${g} != "object"`,ir._`${g} instanceof RegExp`,ir._`typeof ${g}.compare != "function"`,f(g)))}function p(){let h=c.schema,g=a.formats[h];if(!g||g===!0)return;if(typeof g!="object"||g instanceof RegExp||typeof g.compare!="function")throw new Error(`"${o}": format "${h}" does not define "compare" function`);let v=t.scopeValue("formats",{key:h,ref:g,code:s.code.formats?ir._`${s.code.formats}${ir.getProperty(h)}`:void 0});e.fail$data(f(v))}function f(h){return ir._`${h}.compare(${r}, ${n}) ${rl[o].fail} 0`}},dependencies:["format"]};var x6=e=>(e.addKeyword(Ri.formatLimitDefinition),e);Ri.default=x6});var _C=m((ua,gC)=>{"use strict";Object.defineProperty(ua,"__esModule",{value:!0});var Ai=pC(),N6=fC(),gh=X(),mC=new gh.Name("fullFormats"),D6=new gh.Name("fastFormats"),_h=(e,t={keywords:!0})=>{if(Array.isArray(t))return hC(e,t,Ai.fullFormats,mC),e;let[r,n]=t.mode==="fast"?[Ai.fastFormats,D6]:[Ai.fullFormats,mC],o=t.formats||Ai.formatNames;return hC(e,o,r,n),t.keywords&&N6.default(e),e};_h.get=(e,t="full")=>{let n=(t==="fast"?Ai.fastFormats:Ai.fullFormats)[e];if(!n)throw new Error(`Unknown format "${e}"`);return n};function hC(e,t,r,n){var o,i;(o=(i=e.opts.code).formats)!==null&&o!==void 0||(i.formats=gh._`require("ajv-formats/dist/formats").${n}`);for(let s of t)e.addFormat(s,r[s])}gC.exports=ua=_h;Object.defineProperty(ua,"__esModule",{value:!0});ua.default=_h});var SC=m((yh,Eh)=>{"use strict";Object.defineProperty(yh,"__esModule",{value:!0});var N=tl(),Mn=X(),vC=fi(),$6=Si(),pa=gi(),sr=Tr(),nl="errorMessage",kn=new N.Name("emUsed"),yC={required:"missingProperty",dependencies:"property",dependentRequired:"property"},EC=/\$\{[^}]+\}/,M6=/\$\{([^}]+)\}/g,k6=/^""\s*\+\s*|\s*\+\s*""$/g;function L6(e){return{keyword:nl,schemaType:["string","object"],post:!0,code(t){let{gen:r,data:n,schema:o,schemaValue:i,it:s}=t;if(s.createErrors===!1)return;let a=o,c=Mn.strConcat(sr.default.instancePath,s.errorPath);r.if(N._`${sr.default.errors} > 0`,()=>{if(typeof a=="object"){let[U,J]=p(a);J&&f(J),U&&h(U),g(l(a))}let x=typeof a=="string"?a:a._;x&&v(x),e.keepErrors||S()});function l({properties:x,items:U}){let J={};if(x){J.props={};for(let K in x)J.props[K]=[]}if(U){J.items={};for(let K=0;K<U.length;K++)J.items[K]=[]}return J}function p(x){let U,J;for(let K in x){if(K==="properties"||K==="items")continue;let ne=x[K];if(typeof ne=="object"){U||(U={});let ye=U[K]={};for(let Z in ne)ye[Z]=[]}else J||(J={}),J[K]=[]}return[U,J]}function f(x){let U=r.const("emErrors",N.stringify(x)),J=r.const("templates",$(x,o));r.forOf("err",sr.default.vErrors,Z=>r.if(b(Z,U),()=>r.code(N._`${U}[${Z}.keyword].push(${Z})`).assign(N._`${Z}.${kn}`,!0)));let{singleError:K}=e;if(K){let Z=r.let("message",N._`""`),ue=r.let("paramsErrors",N._`[]`);ne(ut=>{r.if(Z,()=>r.code(N._`${Z} += ${typeof K=="string"?K:";"}`)),r.code(N._`${Z} += ${ye(ut)}`),r.assign(ue,N._`${ue}.concat(${U}[${ut}])`)}),pa.reportError(t,{message:Z,params:N._`{errors: ${ue}}`})}else ne(Z=>pa.reportError(t,{message:ye(Z),params:N._`{errors: ${U}[${Z}]}`}));function ne(Z){r.forIn("key",U,ue=>r.if(N._`${U}[${ue}].length`,()=>Z(ue)))}function ye(Z){return N._`${Z} in ${J} ? ${J}[${Z}]() : ${i}[${Z}]`}}function h(x){let U=r.const("emErrors",N.stringify(x)),J=[];for(let ue in x)J.push([ue,$(x[ue],o[ue])]);let K=r.const("templates",r.object(...J)),ne=r.scopeValue("obj",{ref:yC,code:N.stringify(yC)}),ye=r.let("emPropParams"),Z=r.let("emParamsErrors");r.forOf("err",sr.default.vErrors,ue=>r.if(b(ue,U),()=>{r.assign(ye,N._`${ne}[${ue}.keyword]`),r.assign(Z,N._`${U}[${ue}.keyword][${ue}.params[${ye}]]`),r.if(Z,()=>r.code(N._`${Z}.push(${ue})`).assign(N._`${ue}.${kn}`,!0))})),r.forIn("key",U,ue=>r.forIn("keyProp",N._`${U}[${ue}]`,ut=>{r.assign(Z,N._`${U}[${ue}][${ut}]`),r.if(N._`${Z}.length`,()=>{let _r=r.const("tmpl",N._`${K}[${ue}] && ${K}[${ue}][${ut}]`);pa.reportError(t,{message:N._`${_r} ? ${_r}() : ${i}[${ue}][${ut}]`,params:N._`{errors: ${Z}}`})})}))}function g(x){let{props:U,items:J}=x;if(!U&&!J)return;let K=N._`typeof ${n} == "object"`,ne=N._`Array.isArray(${n})`,ye=r.let("emErrors"),Z,ue,ut=r.let("templates");U&&J?(Z=r.let("emChildKwd"),r.if(K),r.if(ne,()=>{_r(J,o.items),r.assign(Z,N.str`items`)},()=>{_r(U,o.properties),r.assign(Z,N.str`properties`)}),ue=N._`[${Z}]`):J?(r.if(ne),_r(J,o.items),ue=N._`.items`):U&&(r.if(Mn.and(K,Mn.not(ne))),_r(U,o.properties),ue=N._`.properties`),r.forOf("err",sr.default.vErrors,pt=>T(pt,ye,ws=>r.code(N._`${ye}[${ws}].push(${pt})`).assign(N._`${pt}.${kn}`,!0))),r.forIn("key",ye,pt=>r.if(N._`${ye}[${pt}].length`,()=>{pa.reportError(t,{message:N._`${pt} in ${ut} ? ${ut}[${pt}]() : ${i}${ue}[${pt}]`,params:N._`{errors: ${ye}[${pt}]}`}),r.assign(N._`${sr.default.vErrors}[${sr.default.errors}-1].instancePath`,N._`${c} + "/" + ${pt}.replace(/~/g, "~0").replace(/\\//g, "~1")`)})),r.endIf();function _r(pt,ws){r.assign(ye,N.stringify(pt)),r.assign(ut,$(pt,ws))}}function v(x){let U=r.const("emErrs",N._`[]`);r.forOf("err",sr.default.vErrors,J=>r.if(O(J),()=>r.code(N._`${U}.push(${J})`).assign(N._`${J}.${kn}`,!0))),r.if(N._`${U}.length`,()=>pa.reportError(t,{message:k(x),params:N._`{errors: ${U}}`}))}function S(){let x=r.const("emErrs",N._`[]`);r.forOf("err",sr.default.vErrors,U=>r.if(N._`!${U}.${kn}`,()=>r.code(N._`${x}.push(${U})`))),r.assign(sr.default.vErrors,x).assign(sr.default.errors,N._`${x}.length`)}function b(x,U){return Mn.and(N._`${x}.keyword !== ${nl}`,N._`!${x}.${kn}`,N._`${x}.instancePath === ${c}`,N._`${x}.keyword in ${U}`,N._`${x}.schemaPath.indexOf(${s.errSchemaPath}) === 0`,N._`/^\\/[^\\/]*$/.test(${x}.schemaPath.slice(${s.errSchemaPath.length}))`)}function T(x,U,J){r.if(Mn.and(N._`${x}.keyword !== ${nl}`,N._`!${x}.${kn}`,N._`${x}.instancePath.indexOf(${c}) === 0`),()=>{let K=r.scopeValue("pattern",{ref:/^\/([^/]*)(?:\/|$)/,code:N._`new RegExp("^\\\/([^/]*)(?:\\\/|$)")`}),ne=r.const("emMatches",N._`${K}.exec(${x}.instancePath.slice(${c}.length))`),ye=r.const("emChild",N._`${ne} && ${ne}[1].replace(/~1/g, "/").replace(/~0/g, "~")`);r.if(N._`${ye} !== undefined && ${ye} in ${U}`,()=>J(ye))})}function O(x){return Mn.and(N._`${x}.keyword !== ${nl}`,N._`!${x}.${kn}`,Mn.or(N._`${x}.instancePath === ${c}`,Mn.and(N._`${x}.instancePath.indexOf(${c}) === 0`,N._`${x}.instancePath[${c}.length] === "/"`)),N._`${x}.schemaPath.indexOf(${s.errSchemaPath}) === 0`,N._`${x}.schemaPath[${s.errSchemaPath}.length] === "/"`)}function $(x,U){let J=[];for(let K in x){let ne=U[K];EC.test(ne)&&J.push([K,j(ne)])}return r.object(...J)}function k(x){return EC.test(x)?new vC._Code(vC.safeStringify(x).replace(M6,(U,J)=>`" + JSON.stringify(${$6.getData(J,s)}) + "`).replace(k6,"")):N.stringify(x)}function j(x){return N._`function(){return ${k(x)}}`}},metaSchema:{anyOf:[{type:"string"},{type:"object",properties:{properties:{$ref:"#/$defs/stringMap"},items:{$ref:"#/$defs/stringList"},required:{$ref:"#/$defs/stringOrMap"},dependencies:{$ref:"#/$defs/stringOrMap"}},additionalProperties:{type:"string"}}],$defs:{stringMap:{type:"object",additionalProperties:{type:"string"}},stringOrMap:{anyOf:[{type:"string"},{$ref:"#/$defs/stringMap"}]},stringList:{type:"array",items:{type:"string"}}}}}}var vh=(e,t={})=>{if(!e.opts.allErrors)throw new Error("ajv-errors: Ajv option allErrors must be true");if(e.opts.jsPropertySyntax)throw new Error("ajv-errors: ajv option jsPropertySyntax is not supported");return e.addKeyword(L6(t))};yh.default=vh;Eh.exports=vh;Eh.exports.default=vh});var TC=m((Sh,PC)=>{"use strict";Object.defineProperty(Sh,"__esModule",{value:!0});var bC=X(),CC=["undefined","string","number","object","function","boolean","symbol"];function wC(){return{keyword:"typeof",schemaType:["string","array"],code(e){let{data:t,schema:r,schemaValue:n}=e;e.fail(typeof r=="string"?(0,bC._)`typeof ${t} != ${r}`:(0,bC._)`${n}.indexOf(typeof ${t}) < 0`)},metaSchema:{anyOf:[{type:"string",enum:CC},{type:"array",items:{type:"string",enum:CC}}]}}}Sh.default=wC;PC.exports=wC});var RC=m((fa,OC)=>{"use strict";var j6=fa&&fa.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fa,"__esModule",{value:!0});var q6=j6(TC()),IC=e=>e.addKeyword((0,q6.default)());fa.default=IC;OC.exports=IC});var DC=m((bh,NC)=>{"use strict";Object.defineProperty(bh,"__esModule",{value:!0});var ol={Object,Array,Function,Number,String,Date,RegExp};typeof Buffer<"u"&&(ol.Buffer=Buffer);typeof Promise<"u"&&(ol.Promise=Promise);var xC=Object.assign(U6,{CONSTRUCTORS:ol});function U6(){return{keyword:"instanceof",schemaType:["string","array"],compile(e){if(typeof e=="string"){let t=AC(e);return r=>r instanceof t}if(Array.isArray(e)){let t=e.map(AC);return r=>{for(let n of t)if(r instanceof n)return!0;return!1}}throw new Error("ajv implementation error")},metaSchema:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}]}}}function AC(e){let t=ol[e];if(t)return t;throw new Error(`invalid "instanceof" keyword value ${e}`)}bh.default=xC;NC.exports=xC});var kC=m((ma,MC)=>{"use strict";var F6=ma&&ma.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ma,"__esModule",{value:!0});var B6=F6(DC()),$C=e=>e.addKeyword((0,B6.default)());ma.default=$C;MC.exports=$C});var wh=m(Ch=>{"use strict";Object.defineProperty(Ch,"__esModule",{value:!0});function G6(e){return()=>({keyword:e,type:"number",schemaType:"array",macro:function([r,n]){return t(r,n),e==="range"?{minimum:r,maximum:n}:{exclusiveMinimum:r,exclusiveMaximum:n}},metaSchema:{type:"array",minItems:2,maxItems:2,items:{type:"number"}}});function t(r,n){if(r>n||e==="exclusiveRange"&&r===n)throw new Error("There are no numbers in range")}}Ch.default=G6});var qC=m((ha,jC)=>{"use strict";var V6=ha&&ha.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ha,"__esModule",{value:!0});var z6=V6(wh()),LC=(0,z6.default)("range");ha.default=LC;jC.exports=LC});var BC=m((ga,FC)=>{"use strict";var H6=ga&&ga.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ga,"__esModule",{value:!0});var W6=H6(qC()),UC=e=>e.addKeyword((0,W6.default)());ga.default=UC;FC.exports=UC});var zC=m((_a,VC)=>{"use strict";var K6=_a&&_a.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_a,"__esModule",{value:!0});var J6=K6(wh()),GC=(0,J6.default)("exclusiveRange");_a.default=GC;VC.exports=GC});var KC=m((va,WC)=>{"use strict";var Y6=va&&va.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(va,"__esModule",{value:!0});var X6=Y6(zC()),HC=e=>e.addKeyword((0,X6.default)());va.default=HC;WC.exports=HC});var ya=m(xi=>{"use strict";Object.defineProperty(xi,"__esModule",{value:!0});xi.usePattern=xi.metaSchemaRef=void 0;var Q6=X(),Z6="http://json-schema.org/schema";function e9({defaultMeta:e}={}){return e===!1?{}:{$ref:e||Z6}}xi.metaSchemaRef=e9;function t9({gen:e,it:{opts:t}},r,n=t.unicodeRegExp?"u":""){let o=new RegExp(r,n);return e.scopeValue("pattern",{key:o.toString(),ref:o,code:(0,Q6._)`new RegExp(${r}, ${n})`})}xi.usePattern=t9});var QC=m((Ph,XC)=>{"use strict";Object.defineProperty(Ph,"__esModule",{value:!0});var r9=X(),JC=ya(),n9={type:"object",properties:{pattern:{type:"string"},flags:{type:"string",nullable:!0}},required:["pattern"],additionalProperties:!1},o9=/^\/(.*)\/([gimuy]*)$/;function YC(){return{keyword:"regexp",type:"string",schemaType:["string","object"],code(e){let{data:t,schema:r}=e,n=o(r);e.pass((0,r9._)`${n}.test(${t})`);function o(i){if(typeof i=="object")return(0,JC.usePattern)(e,i.pattern,i.flags);let s=o9.exec(i);if(s)return(0,JC.usePattern)(e,s[1],s[2]);throw new Error("cannot parse string into RegExp")}},metaSchema:{anyOf:[{type:"string"},n9]}}}Ph.default=YC;XC.exports=YC});var tw=m((Ea,ew)=>{"use strict";var i9=Ea&&Ea.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ea,"__esModule",{value:!0});var s9=i9(QC()),ZC=e=>e.addKeyword((0,s9.default)());Ea.default=ZC;ew.exports=ZC});var iw=m((Th,ow)=>{"use strict";Object.defineProperty(Th,"__esModule",{value:!0});var $o=X(),il={trimStart:e=>e.trimStart(),trimEnd:e=>e.trimEnd(),trimLeft:e=>e.trimStart(),trimRight:e=>e.trimEnd(),trim:e=>e.trim(),toLowerCase:e=>e.toLowerCase(),toUpperCase:e=>e.toUpperCase(),toEnumCase:(e,t)=>t?.hash[nw(e)]||e},rw=Object.assign(a9,{transform:il});function a9(){return{keyword:"transform",schemaType:"array",before:"enum",code(e){let{gen:t,data:r,schema:n,parentSchema:o,it:i}=e,{parentData:s,parentDataProperty:a}=i,c=n;if(!c.length)return;let l;if(c.includes("toEnumCase")){let f=c9(o);l=t.scopeValue("obj",{ref:f,code:(0,$o.stringify)(f)})}t.if((0,$o._)`typeof ${r} == "string" && ${s} !== undefined`,()=>{t.assign(r,p(c.slice())),t.assign((0,$o._)`${s}[${a}]`,r)});function p(f){if(!f.length)return r;let h=f.pop();if(!(h in il))throw new Error(`transform: unknown transformation ${h}`);let g=t.scopeValue("func",{ref:il[h],code:(0,$o._)`require("ajv-keywords/dist/definitions/transform").transform${(0,$o.getProperty)(h)}`}),v=p(f);return l&&h==="toEnumCase"?(0,$o._)`${g}(${v}, ${l})`:(0,$o._)`${g}(${v})`}},metaSchema:{type:"array",items:{type:"string",enum:Object.keys(il)}}}}function c9(e){let t={hash:{}};if(!e.enum)throw new Error('transform: "toEnumCase" requires "enum"');for(let r of e.enum){if(typeof r!="string")continue;let n=nw(r);if(t.hash[n])throw new Error('transform: "toEnumCase" requires all lowercased "enum" values to be unique');t.hash[n]=r}return t}function nw(e){return e.toLowerCase()}Th.default=rw;ow.exports=rw});var cw=m((Sa,aw)=>{"use strict";var d9=Sa&&Sa.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Sa,"__esModule",{value:!0});var l9=d9(iw()),sw=e=>e.addKeyword((0,l9.default)());Sa.default=sw;aw.exports=sw});var uw=m((Ih,lw)=>{"use strict";Object.defineProperty(Ih,"__esModule",{value:!0});var u9=Ad(),p9=["number","integer","string","boolean","null"];function dw(){return{keyword:"uniqueItemProperties",type:"array",schemaType:"array",compile(e,t){let r=f9(e,t);return n=>{if(n.length<=1)return!0;for(let o=0;o<e.length;o++){let i=e[o];if(r[o]){let s={};for(let a of n){if(!a||typeof a!="object")continue;let c=a[i];if(!(c&&typeof c=="object")){if(typeof c=="string"&&(c='"'+c),s[c])return!1;s[c]=!0}}}else for(let s=n.length;s--;){let a=n[s];if(!(!a||typeof a!="object"))for(let c=s;c--;){let l=n[c];if(l&&typeof l=="object"&&u9(a[i],l[i]))return!1}}}return!0}},metaSchema:{type:"array",items:{type:"string"}}}}Ih.default=dw;function f9(e,t){return e.map(r=>{var n,o,i;let s=(i=(o=(n=t.items)===null||n===void 0?void 0:n.properties)===null||o===void 0?void 0:o[r])===null||i===void 0?void 0:i.type;return Array.isArray(s)?!s.includes("object")&&!s.includes("array"):p9.includes(s)})}lw.exports=dw});var mw=m((ba,fw)=>{"use strict";var m9=ba&&ba.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ba,"__esModule",{value:!0});var h9=m9(uw()),pw=e=>e.addKeyword((0,h9.default)());ba.default=pw;fw.exports=pw});var _w=m((Oh,gw)=>{"use strict";Object.defineProperty(Oh,"__esModule",{value:!0});function hw(){return{keyword:"allRequired",type:"object",schemaType:"boolean",macro(e,t){if(!e)return!0;let r=Object.keys(t.properties);return r.length===0?!0:{required:r}},dependencies:["properties"]}}Oh.default=hw;gw.exports=hw});var Ew=m((Ca,yw)=>{"use strict";var g9=Ca&&Ca.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ca,"__esModule",{value:!0});var _9=g9(_w()),vw=e=>e.addKeyword((0,_9.default)());Ca.default=vw;yw.exports=vw});var Ah=m(Rh=>{"use strict";Object.defineProperty(Rh,"__esModule",{value:!0});function v9(e){return()=>({keyword:e,type:"object",schemaType:"array",macro(t){return t.length===0?!0:t.length===1?{required:t}:{[e==="anyRequired"?"anyOf":"oneOf"]:t.map(n=>({required:[n]}))}},metaSchema:{type:"array",items:{type:"string"}}})}Rh.default=v9});var Cw=m((wa,bw)=>{"use strict";var y9=wa&&wa.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wa,"__esModule",{value:!0});var E9=y9(Ah()),Sw=(0,E9.default)("anyRequired");wa.default=Sw;bw.exports=Sw});var Tw=m((Pa,Pw)=>{"use strict";var S9=Pa&&Pa.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pa,"__esModule",{value:!0});var b9=S9(Cw()),ww=e=>e.addKeyword((0,b9.default)());Pa.default=ww;Pw.exports=ww});var Rw=m((Ta,Ow)=>{"use strict";var C9=Ta&&Ta.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ta,"__esModule",{value:!0});var w9=C9(Ah()),Iw=(0,w9.default)("oneRequired");Ta.default=Iw;Ow.exports=Iw});var Nw=m((Ia,xw)=>{"use strict";var P9=Ia&&Ia.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ia,"__esModule",{value:!0});var T9=P9(Rw()),Aw=e=>e.addKeyword((0,T9.default)());Ia.default=Aw;xw.exports=Aw});var Mw=m((xh,$w)=>{"use strict";Object.defineProperty(xh,"__esModule",{value:!0});var sl=X(),I9=ya(),O9={message:({params:{missingPattern:e}})=>(0,sl.str)`should have property matching pattern '${e}'`,params:({params:{missingPattern:e}})=>(0,sl._)`{missingPattern: ${e}}`};function Dw(){return{keyword:"patternRequired",type:"object",schemaType:"array",error:O9,code(e){let{gen:t,schema:r,data:n}=e;if(r.length===0)return;let o=t.let("valid",!0);for(let s of r)i(s);function i(s){let a=t.let("matched",!1);t.forIn("key",n,c=>{t.assign(a,(0,sl._)`${(0,I9.usePattern)(e,s)}.test(${c})`),t.if(a,()=>t.break())}),e.setParams({missingPattern:s}),t.assign(o,(0,sl.and)(o,a)),e.pass(o)}},metaSchema:{type:"array",items:{type:"string",format:"regex"},uniqueItems:!0}}}xh.default=Dw;$w.exports=Dw});var jw=m((Oa,Lw)=>{"use strict";var R9=Oa&&Oa.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Oa,"__esModule",{value:!0});var A9=R9(Mw()),kw=e=>e.addKeyword((0,A9.default)());Oa.default=kw;Lw.exports=kw});var Fw=m((Nh,Uw)=>{"use strict";Object.defineProperty(Nh,"__esModule",{value:!0});function qw(){return{keyword:"prohibited",type:"object",schemaType:"array",macro:function(e){return e.length===0?!0:e.length===1?{not:{required:e}}:{not:{anyOf:e.map(t=>({required:[t]}))}}},metaSchema:{type:"array",items:{type:"string"}}}}Nh.default=qw;Uw.exports=qw});var Vw=m((Ra,Gw)=>{"use strict";var x9=Ra&&Ra.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ra,"__esModule",{value:!0});var N9=x9(Fw()),Bw=e=>e.addKeyword((0,N9.default)());Ra.default=Bw;Gw.exports=Bw});var Ww=m((Dh,Hw)=>{"use strict";Object.defineProperty(Dh,"__esModule",{value:!0});var D9=ya();function zw(e){return{keyword:"deepProperties",type:"object",schemaType:"object",macro:function(t){let r=[];for(let n in t)r.push($9(n,t[n]));return{allOf:r}},metaSchema:{type:"object",propertyNames:{type:"string",format:"json-pointer"},additionalProperties:(0,D9.metaSchemaRef)(e)}}}Dh.default=zw;function $9(e,t){let r=e.split("/"),n={},o=n;for(let i=1;i<r.length;i++){let s=r[i],a=i===r.length-1;s=M9(s);let c=o.properties={},l;if(/[0-9]+/.test(s)){let p=+s;for(l=o.items=[],o.type=["object","array"];p--;)l.push({})}else o.type="object";o=a?t:{},c[s]=o,l&&l.push(o)}return n}function M9(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}Hw.exports=zw});var Yw=m((Aa,Jw)=>{"use strict";var k9=Aa&&Aa.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Aa,"__esModule",{value:!0});var L9=k9(Ww()),Kw=(e,t)=>e.addKeyword((0,L9.default)(t));Aa.default=Kw;Jw.exports=Kw});var Zw=m(($h,Qw)=>{"use strict";Object.defineProperty($h,"__esModule",{value:!0});var xa=X();function Xw(){return{keyword:"deepRequired",type:"object",schemaType:"array",code(e){let{schema:t,data:r}=e,n=t.map(i=>(0,xa._)`(${o(i)}) === undefined`);e.fail((0,xa.or)(...n));function o(i){if(i==="")throw new Error("empty JSON pointer not allowed");let s=i.split("/"),a=r,c=s.map((l,p)=>p?a=(0,xa._)`${a}${(0,xa.getProperty)(j9(l))}`:a);return(0,xa.and)(...c)}},metaSchema:{type:"array",items:{type:"string",format:"json-pointer"}}}}$h.default=Xw;function j9(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}Qw.exports=Xw});var rP=m((Na,tP)=>{"use strict";var q9=Na&&Na.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Na,"__esModule",{value:!0});var U9=q9(Zw()),eP=e=>e.addKeyword((0,U9.default)());Na.default=eP;tP.exports=eP});var sP=m((Lh,iP)=>{"use strict";Object.defineProperty(Lh,"__esModule",{value:!0});var Mh={},kh={timestamp:()=>()=>Date.now(),datetime:()=>()=>new Date().toISOString(),date:()=>()=>new Date().toISOString().slice(0,10),time:()=>()=>new Date().toISOString().slice(11),random:()=>()=>Math.random(),randomint:e=>{var t;let r=(t=e?.max)!==null&&t!==void 0?t:2;return()=>Math.floor(Math.random()*r)},seq:e=>{var t;let r=(t=e?.name)!==null&&t!==void 0?t:"";return Mh[r]||(Mh[r]=0),()=>Mh[r]++}},nP=Object.assign(F9,{DEFAULTS:kh});function F9(){return{keyword:"dynamicDefaults",type:"object",schemaType:["string","object"],modifying:!0,valid:!0,compile(e,t,r){if(!r.opts.useDefaults||r.compositeRule)return()=>!0;let n={};for(let i in e)n[i]=B9(e[i]);let o=r.opts.useDefaults==="empty";return i=>{for(let s in e)(i[s]===void 0||o&&(i[s]===null||i[s]===""))&&(i[s]=n[s]());return!0}},metaSchema:{type:"object",additionalProperties:{anyOf:[{type:"string"},{type:"object",additionalProperties:!1,required:["func","args"],properties:{func:{type:"string"},args:{type:"object"}}}]}}}}function B9(e){return typeof e=="object"?G9(e):V9(e)}function G9({func:e,args:t}){let r=kh[e];return oP(e,r),r(t)}function V9(e=""){let t=kh[e];return oP(e,t),t()}function oP(e,t){if(!t)throw new Error(`invalid "dynamicDefaults" keyword property value: ${e}`)}Lh.default=nP;iP.exports=nP});var dP=m((Da,cP)=>{"use strict";var z9=Da&&Da.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Da,"__esModule",{value:!0});var H9=z9(sP()),aP=e=>e.addKeyword((0,H9.default)());Da.default=aP;cP.exports=aP});var pP=m((jh,uP)=>{"use strict";Object.defineProperty(jh,"__esModule",{value:!0});var on=X(),W9=ya(),K9={message:({params:{schemaProp:e}})=>e?(0,on.str)`should match case "${e}" schema`:(0,on.str)`should match default case schema`,params:({params:{schemaProp:e}})=>e?(0,on._)`{failingCase: ${e}}`:(0,on._)`{failingDefault: true}`};function lP(e){let t=(0,W9.metaSchemaRef)(e);return[{keyword:"select",schemaType:["string","number","boolean","null"],$data:!0,error:K9,dependencies:["selectCases"],code(r){let{gen:n,schemaCode:o,parentSchema:i}=r;r.block$data(on.nil,()=>{let s=n.let("valid",!0),a=n.name("_valid"),c=n.const("value",(0,on._)`${o} === null ? "null" : ${o}`);n.if(!1);for(let l in i.selectCases){r.setParams({schemaProp:l}),n.elseIf((0,on._)`"" + ${c} == ${l}`);let p=r.subschema({keyword:"selectCases",schemaProp:l},a);r.mergeEvaluated(p,on.Name),n.assign(s,a)}if(n.else(),i.selectDefault!==void 0){r.setParams({schemaProp:void 0});let l=r.subschema({keyword:"selectDefault"},a);r.mergeEvaluated(l,on.Name),n.assign(s,a)}n.endIf(),r.pass(s)})}},{keyword:"selectCases",dependencies:["select"],metaSchema:{type:"object",additionalProperties:t}},{keyword:"selectDefault",dependencies:["select","selectCases"],metaSchema:t}]}jh.default=lP;uP.exports=lP});var hP=m(($a,mP)=>{"use strict";var J9=$a&&$a.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($a,"__esModule",{value:!0});var Y9=J9(pP()),fP=(e,t)=>((0,Y9.default)(t).forEach(r=>e.addKeyword(r)),e);$a.default=fP;mP.exports=fP});var vP=m((Ma,_P)=>{"use strict";var st=Ma&&Ma.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ma,"__esModule",{value:!0});var X9=st(RC()),Q9=st(kC()),Z9=st(BC()),e8=st(KC()),t8=st(tw()),r8=st(cw()),n8=st(mw()),o8=st(Ew()),i8=st(Tw()),s8=st(Nw()),a8=st(jw()),c8=st(Vw()),d8=st(Yw()),l8=st(rP()),u8=st(dP()),p8=st(hP()),gP={typeof:X9.default,instanceof:Q9.default,range:Z9.default,exclusiveRange:e8.default,regexp:t8.default,transform:r8.default,uniqueItemProperties:n8.default,allRequired:o8.default,anyRequired:i8.default,oneRequired:s8.default,patternRequired:a8.default,prohibited:c8.default,deepProperties:d8.default,deepRequired:l8.default,dynamicDefaults:u8.default,select:p8.default};Ma.default=gP;_P.exports=gP});var EP=m((ka,qh)=>{"use strict";var f8=ka&&ka.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ka,"__esModule",{value:!0});var yP=f8(vP()),cl=(e,t)=>{if(Array.isArray(t)){for(let r of t)al(r)(e);return e}if(t)return al(t)(e),e;for(t in yP.default)al(t)(e);return e};cl.get=al;function al(e){let t=yP.default[e];if(!t)throw new Error("Unknown keyword "+e);return t}ka.default=cl;qh.exports=cl;qh.exports.default=cl});var bP=m((NCe,SP)=>{var m8=tl(),h8=_C(),g8=SC(),_8=EP(),La=new m8({allErrors:!0,removeAdditional:!0});h8(La);g8(La);_8(La,"transform");var dl=class extends Error{constructor(t){super(t),this.statusCode=400,this.expose=!0,this.type="urn:problem:invalid-request",this.title="Bad Request"}},v8=({eventSchema:e,contextSchema:t})=>({before:async n=>{if(e){let o=La.compile(e);if(!o(n.event))throw new dl(o.errors[0].message)}if(t){let o=La.compile(t);if(!o(n.context))throw new dl(o.errors[0].message)}}});SP.exports=v8});var wP=m((DCe,CP)=>{var y8=()=>({onError:async t=>{if(t.response!==void 0||!t.error)return;(!t.error.statusCode||!t.error.expose)&&(t.error={type:"urn:problem:server-error",title:"Server Error",message:"An unexpected error has occurred, contact the administrator.",statusCode:500});let{statusCode:r,type:n,title:o,name:i}=t.error,{message:s}=t.error;r===400&&t.error.cause&&(s=t.error.cause[0].message);let a=null;t.event.requestContext!==void 0&&(a=t.event.requestContext.path),t.response={statusCode:r,body:JSON.stringify({type:n??"about:blank",title:o??i,detail:s,instance:a,status:r}),headers:{"Content-Type":"application/problem+json"}}}});CP.exports=y8});var TP=m(($Ce,PP)=>{var ll=class extends Error{constructor(t){super(t),this.statusCode=400,this.expose=!0,this.type="urn:problem:invalid-request",this.title="Bad Request"}},E8=()=>({before:async t=>{if(!t.event.Records||!Array.isArray(t.event.Records))throw new ll("Invalid or malformed Event was provided");try{t.event.Records.forEach(r=>{r.rawBody=r.body,r.body=JSON.parse(r.body)})}catch(r){throw console.log({error:r,req:t}),new ll("Invalid or malformed JSON was provided")}}});PP.exports=E8});var OP=m((MCe,IP)=>{var Uh=TS(),S8=LS(),b8=GS(),{injectLambdaContext:Fh}=nd(),{logMetrics:Bh}=td(),{logger:Gh,metrics:Vh}=(Nf(),Kr(bS)),zh=bP(),Hh=wP(),C8=TP(),w8=(e,t={},r={})=>Uh(e).use(S8()).use(b8()).use(zh({eventSchema:t,contextSchema:r})).use(Hh()).use(Fh(Gh,{logEvent:!1})).use(Bh(Vh)),P8=(e,t={},r={})=>Uh(e).use(C8()).use(zh({eventSchema:t,contextSchema:r})).use(Hh()).use(Fh(Gh,{logEvent:!1})).use(Bh(Vh)),T8=(e,t={},r={})=>Uh(e).use(zh({eventSchema:t,contextSchema:r})).use(Hh()).use(Fh(Gh,{logEvent:!1})).use(Bh(Vh));IP.exports={adapter:w8,adapterEvent:P8,adapterDynamoEvent:T8}});var ar=m((jCe,jP)=>{var ul=Object.defineProperty,j8=Object.getOwnPropertyDescriptor,q8=Object.getOwnPropertyNames,U8=Object.prototype.hasOwnProperty,pl=(e,t)=>ul(e,"name",{value:t,configurable:!0}),F8=(e,t)=>{for(var r in t)ul(e,r,{get:t[r],enumerable:!0})},B8=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of q8(t))!U8.call(e,o)&&o!==r&&ul(e,o,{get:()=>t[o],enumerable:!(n=j8(t,o))||n.enumerable});return e},G8=e=>B8(ul({},"__esModule",{value:!0}),e),AP={};F8(AP,{AlgorithmId:()=>$P,EndpointURLScheme:()=>DP,FieldPosition:()=>MP,HttpApiKeyAuthLocation:()=>NP,HttpAuthLocation:()=>xP,IniSectionType:()=>kP,RequestHandlerProtocol:()=>LP,SMITHY_CONTEXT_KEY:()=>K8,getDefaultClientConfiguration:()=>H8,resolveDefaultRuntimeConfig:()=>W8});jP.exports=G8(AP);var xP=(e=>(e.HEADER="header",e.QUERY="query",e))(xP||{}),NP=(e=>(e.HEADER="header",e.QUERY="query",e))(NP||{}),DP=(e=>(e.HTTP="http",e.HTTPS="https",e))(DP||{}),$P=(e=>(e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256",e))($P||{}),V8=pl(e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:()=>"sha256",checksumConstructor:()=>e.sha256}),e.md5!=null&&t.push({algorithmId:()=>"md5",checksumConstructor:()=>e.md5}),{_checksumAlgorithms:t,addChecksumAlgorithm(r){this._checksumAlgorithms.push(r)},checksumAlgorithms(){return this._checksumAlgorithms}}},"getChecksumConfiguration"),z8=pl(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),H8=pl(e=>({...V8(e)}),"getDefaultClientConfiguration"),W8=pl(e=>({...z8(e)}),"resolveDefaultRuntimeConfig"),MP=(e=>(e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER",e))(MP||{}),K8="__smithy_context",kP=(e=>(e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services",e))(kP||{}),LP=(e=>(e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0",e))(LP||{})});var at=m((BCe,WP)=>{var fl=Object.defineProperty,J8=Object.getOwnPropertyDescriptor,Y8=Object.getOwnPropertyNames,X8=Object.prototype.hasOwnProperty,Ln=(e,t)=>fl(e,"name",{value:t,configurable:!0}),Q8=(e,t)=>{for(var r in t)fl(e,r,{get:t[r],enumerable:!0})},Z8=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Y8(t))!X8.call(e,o)&&o!==r&&fl(e,o,{get:()=>t[o],enumerable:!(n=J8(t,o))||n.enumerable});return e},eJ=e=>Z8(fl({},"__esModule",{value:!0}),e),qP={};Q8(qP,{Field:()=>oJ,Fields:()=>iJ,HttpRequest:()=>sJ,HttpResponse:()=>aJ,getHttpHandlerExtensionConfiguration:()=>tJ,isValidHostname:()=>HP,resolveHttpHandlerRuntimeConfig:()=>rJ});WP.exports=eJ(qP);var tJ=Ln(e=>{let t=e.httpHandler;return{setHttpHandler(r){t=r},httpHandler(){return t},updateHttpClientConfig(r,n){t.updateHttpClientConfig(r,n)},httpHandlerConfigs(){return t.httpHandlerConfigs()}}},"getHttpHandlerExtensionConfiguration"),rJ=Ln(e=>({httpHandler:e.httpHandler()}),"resolveHttpHandlerRuntimeConfig"),nJ=ar(),UP=class{constructor({name:t,kind:r=nJ.FieldPosition.HEADER,values:n=[]}){this.name=t,this.kind=r,this.values=n}add(t){this.values.push(t)}set(t){this.values=t}remove(t){this.values=this.values.filter(r=>r!==t)}toString(){return this.values.map(t=>t.includes(",")||t.includes(" ")?`"${t}"`:t).join(", ")}get(){return this.values}};Ln(UP,"Field");var oJ=UP,FP=class{constructor({fields:t=[],encoding:r="utf-8"}){this.entries={},t.forEach(this.setField.bind(this)),this.encoding=r}setField(t){this.entries[t.name.toLowerCase()]=t}getField(t){return this.entries[t.toLowerCase()]}removeField(t){delete this.entries[t.toLowerCase()]}getByType(t){return Object.values(this.entries).filter(r=>r.kind===t)}};Ln(FP,"Fields");var iJ=FP,BP=class GP{constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){let t=new GP({...this,headers:{...this.headers}});return t.query&&(t.query=VP(t.query)),t}};Ln(BP,"HttpRequest");var sJ=BP;function VP(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}Ln(VP,"cloneQuery");var zP=class{constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};Ln(zP,"HttpResponse");var aJ=zP;function HP(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}Ln(HP,"isValidHostname")});var JP=m((GCe,KP)=>{function sn(e){Object.defineProperty(this,"_next",{writable:!1,enumerable:!1,value:e}),this.done=!1}sn.prototype.next=function(){if(this.done)return{done:!0};var e=this._next();return e.done&&(this.done=!0),e};typeof Symbol<"u"&&(sn.prototype[Symbol.iterator]=function(){return this});sn.of=function(){var e=arguments,t=e.length,r=0;return new sn(function(){return r>=t?{done:!0}:{done:!1,value:e[r++]}})};sn.empty=function(){var e=new sn(null);return e.done=!0,e};sn.is=function(e){return e instanceof sn?!0:typeof e=="object"&&e!==null&&typeof e.next=="function"};KP.exports=sn});var Kh=m((VCe,ZP)=>{var YP=typeof ArrayBuffer<"u",XP=typeof Symbol<"u";function QP(e,t){var r,n,o,i,s;if(!e)throw new Error("obliterator/forEach: invalid iterable.");if(typeof t!="function")throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(e)||YP&&ArrayBuffer.isView(e)||typeof e=="string"||e.toString()==="[object Arguments]"){for(o=0,i=e.length;o<i;o++)t(e[o],o);return}if(typeof e.forEach=="function"){e.forEach(t);return}if(XP&&Symbol.iterator in e&&typeof e.next!="function"&&(e=e[Symbol.iterator]()),typeof e.next=="function"){for(r=e,o=0;s=r.next(),s.done!==!0;)t(s.value,o),o++;return}for(n in e)e.hasOwnProperty(n)&&t(e[n],n)}QP.forEachWithNullKeys=function(e,t){var r,n,o,i,s;if(!e)throw new Error("obliterator/forEachWithNullKeys: invalid iterable.");if(typeof t!="function")throw new Error("obliterator/forEachWithNullKeys: expecting a callback.");if(Array.isArray(e)||YP&&ArrayBuffer.isView(e)||typeof e=="string"||e.toString()==="[object Arguments]"){for(o=0,i=e.length;o<i;o++)t(e[o],null);return}if(e instanceof Set){e.forEach(function(a){t(a,null)});return}if(typeof e.forEach=="function"){e.forEach(t);return}if(XP&&Symbol.iterator in e&&typeof e.next!="function"&&(e=e[Symbol.iterator]()),typeof e.next=="function"){for(r=e,o=0;s=r.next(),s.done!==!0;)t(s.value,null),o++;return}for(n in e)e.hasOwnProperty(n)&&t(e[n],n)};ZP.exports=QP});var Jh=m(xr=>{var cJ=Math.pow(2,8)-1,dJ=Math.pow(2,16)-1,lJ=Math.pow(2,32)-1,uJ=Math.pow(2,7)-1,pJ=Math.pow(2,15)-1,fJ=Math.pow(2,31)-1;xr.getPointerArray=function(e){var t=e-1;return t<=cJ?Uint8Array:t<=dJ?Uint16Array:t<=lJ?Uint32Array:Float64Array};xr.getSignedPointerArray=function(e){var t=e-1;return t<=uJ?Int8Array:t<=pJ?Int16Array:t<=fJ?Int32Array:Float64Array};xr.getNumberType=function(e){return e===(e|0)?Math.sign(e)===-1?e<=127&&e>=-128?Int8Array:e<=32767&&e>=-32768?Int16Array:Int32Array:e<=255?Uint8Array:e<=65535?Uint16Array:Uint32Array:Float64Array};var mJ={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};xr.getMinimalRepresentation=function(e,t){var r=null,n=0,o,i,s,a,c;for(a=0,c=e.length;a<c;a++)s=t?t(e[a]):e[a],i=xr.getNumberType(s),o=mJ[i.name],o>n&&(n=o,r=i);return r};xr.isTypedArray=function(e){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(e)};xr.concat=function(){var e=0,t,r,n;for(t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=new arguments[0].constructor(e);for(t=0,r=0;t<n;t++)o.set(arguments[t],r),r+=arguments[t].length;return o};xr.indices=function(e){for(var t=xr.getPointerArray(e),r=new t(e),n=0;n<e;n++)r[n]=n;return r}});var rT=m(ja=>{var eT=Kh(),tT=Jh();function hJ(e){return Array.isArray(e)||tT.isTypedArray(e)}function Yh(e){if(typeof e.length=="number")return e.length;if(typeof e.size=="number")return e.size}function gJ(e){var t=Yh(e),r=typeof t=="number"?new Array(t):[],n=0;return eT(e,function(o){r[n++]=o}),r}function _J(e){var t=Yh(e),r=typeof t=="number"?tT.getPointerArray(t):Array,n=typeof t=="number"?new Array(t):[],o=typeof t=="number"?new r(t):[],i=0;return eT(e,function(s){n[i]=s,o[i]=i++}),[n,o]}ja.isArrayLike=hJ;ja.guessLength=Yh;ja.toArray=gJ;ja.toArrayWithIndices=_J});var oT=m((WCe,nT)=>{var Xh=JP(),vJ=Kh(),yJ=Jh(),EJ=rT();function Ge(e,t,r){if(arguments.length<2&&(r=e,e=null,t=null),this.capacity=r,typeof this.capacity!="number"||this.capacity<=0)throw new Error("mnemonist/lru-cache: capacity should be positive number.");var n=yJ.getPointerArray(r);this.forward=new n(r),this.backward=new n(r),this.K=typeof e=="function"?new e(r):new Array(r),this.V=typeof t=="function"?new t(r):new Array(r),this.size=0,this.head=0,this.tail=0,this.items={}}Ge.prototype.clear=function(){this.size=0,this.head=0,this.tail=0,this.items={}};Ge.prototype.splayOnTop=function(e){var t=this.head;if(this.head===e)return this;var r=this.backward[e],n=this.forward[e];return this.tail===e?this.tail=r:this.backward[n]=r,this.forward[r]=n,this.backward[t]=e,this.head=e,this.forward[e]=t,this};Ge.prototype.set=function(e,t){var r=this.items[e];if(typeof r<"u"){this.splayOnTop(r),this.V[r]=t;return}this.size<this.capacity?r=this.size++:(r=this.tail,this.tail=this.backward[r],delete this.items[this.K[r]]),this.items[e]=r,this.K[r]=e,this.V[r]=t,this.forward[r]=this.head,this.backward[this.head]=r,this.head=r};Ge.prototype.setpop=function(e,t){var r=null,n=null,o=this.items[e];return typeof o<"u"?(this.splayOnTop(o),r=this.V[o],this.V[o]=t,{evicted:!1,key:e,value:r}):(this.size<this.capacity?o=this.size++:(o=this.tail,this.tail=this.backward[o],r=this.V[o],n=this.K[o],delete this.items[this.K[o]]),this.items[e]=o,this.K[o]=e,this.V[o]=t,this.forward[o]=this.head,this.backward[this.head]=o,this.head=o,n?{evicted:!0,key:n,value:r}:null)};Ge.prototype.has=function(e){return e in this.items};Ge.prototype.get=function(e){var t=this.items[e];if(!(typeof t>"u"))return this.splayOnTop(t),this.V[t]};Ge.prototype.peek=function(e){var t=this.items[e];if(!(typeof t>"u"))return this.V[t]};Ge.prototype.forEach=function(e,t){t=arguments.length>1?t:this;for(var r=0,n=this.size,o=this.head,i=this.K,s=this.V,a=this.forward;r<n;)e.call(t,s[o],i[o],this),o=a[o],r++};Ge.prototype.keys=function(){var e=0,t=this.size,r=this.head,n=this.K,o=this.forward;return new Xh(function(){if(e>=t)return{done:!0};var i=n[r];return e++,e<t&&(r=o[r]),{done:!1,value:i}})};Ge.prototype.values=function(){var e=0,t=this.size,r=this.head,n=this.V,o=this.forward;return new Xh(function(){if(e>=t)return{done:!0};var i=n[r];return e++,e<t&&(r=o[r]),{done:!1,value:i}})};Ge.prototype.entries=function(){var e=0,t=this.size,r=this.head,n=this.K,o=this.V,i=this.forward;return new Xh(function(){if(e>=t)return{done:!0};var s=n[r],a=o[r];return e++,e<t&&(r=i[r]),{done:!1,value:[s,a]}})};typeof Symbol<"u"&&(Ge.prototype[Symbol.iterator]=Ge.prototype.entries);Ge.prototype.inspect=function(){for(var e=new Map,t=this.entries(),r;r=t.next(),!r.done;)e.set(r.value[0],r.value[1]);return Object.defineProperty(e,"constructor",{value:Ge,enumerable:!1}),e};typeof Symbol<"u"&&(Ge.prototype[Symbol.for("nodejs.util.inspect.custom")]=Ge.prototype.inspect);Ge.from=function(e,t,r,n){if(arguments.length<2){if(n=EJ.guessLength(e),typeof n!="number")throw new Error("mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.")}else arguments.length===2&&(n=t,t=null,r=null);var o=new Ge(t,r,n);return vJ(e,function(i,s){o.set(s,i)}),o};nT.exports=Ge});var dT=m((JCe,cT)=>{var SJ=Object.create,qa=Object.defineProperty,bJ=Object.getOwnPropertyDescriptor,CJ=Object.getOwnPropertyNames,wJ=Object.getPrototypeOf,PJ=Object.prototype.hasOwnProperty,TJ=(e,t)=>qa(e,"name",{value:t,configurable:!0}),IJ=(e,t)=>{for(var r in t)qa(e,r,{get:t[r],enumerable:!0})},iT=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of CJ(t))!PJ.call(e,o)&&o!==r&&qa(e,o,{get:()=>t[o],enumerable:!(n=bJ(t,o))||n.enumerable});return e},OJ=(e,t,r)=>(r=e!=null?SJ(wJ(e)):{},iT(t||!e||!e.__esModule?qa(r,"default",{value:e,enumerable:!0}):r,e)),RJ=e=>iT(qa({},"__esModule",{value:!0}),e),sT={};IJ(sT,{EndpointCache:()=>xJ});cT.exports=RJ(sT);var AJ=OJ(oT()),aT=class{constructor(t){this.cache=new AJ.default(t)}getEndpoint(t){let r=this.get(t);if(!r||r.length===0)return;let n=r.map(o=>o.Address);return n[Math.floor(Math.random()*n.length)]}get(t){if(!this.has(t))return;let r=this.cache.get(t);if(!r)return;let n=Date.now(),o=r.filter(i=>n<i.Expires);if(o.length===0){this.delete(t);return}return o}set(t,r){let n=Date.now();this.cache.set(t,r.map(({Address:o,CachePeriodInMinutes:i})=>({Address:o,Expires:n+i*60*1e3})))}delete(t){this.cache.set(t,[])}has(t){if(!this.cache.has(t))return!1;let r=this.cache.peek(t);return r?r.length>0:!1}clear(){this.cache.clear()}};TJ(aT,"EndpointCache");var xJ=aT});var eg=m((YCe,mT)=>{var ml=Object.defineProperty,NJ=Object.getOwnPropertyDescriptor,DJ=Object.getOwnPropertyNames,$J=Object.prototype.hasOwnProperty,jn=(e,t)=>ml(e,"name",{value:t,configurable:!0}),MJ=(e,t)=>{for(var r in t)ml(e,r,{get:t[r],enumerable:!0})},kJ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of DJ(t))!$J.call(e,o)&&o!==r&&ml(e,o,{get:()=>t[o],enumerable:!(n=NJ(t,o))||n.enumerable});return e},LJ=e=>kJ(ml({},"__esModule",{value:!0}),e),fT={};MJ(fT,{NODE_ENDPOINT_DISCOVERY_CONFIG_OPTIONS:()=>jJ,endpointDiscoveryMiddlewareOptions:()=>hl,getEndpointDiscoveryOptionalPlugin:()=>GJ,getEndpointDiscoveryPlugin:()=>FJ,getEndpointDiscoveryRequiredPlugin:()=>BJ,resolveEndpointDiscoveryConfig:()=>zJ});mT.exports=LJ(fT);var lT=["AWS_ENABLE_ENDPOINT_DISCOVERY","AWS_ENDPOINT_DISCOVERY_ENABLED"],Qh="endpoint_discovery_enabled",uT=jn(e=>["false","0"].indexOf(e)>=0,"isFalsy"),jJ={environmentVariableSelector:e=>{for(let t=0;t<lT.length;t++){let r=lT[t];if(r in e){let n=e[r];if(n==="")throw Error(`Environment variable ${r} can't be empty of undefined, got "${n}"`);return!uT(n)}}},configFileSelector:e=>{if(Qh in e){let t=e[Qh];if(t===void 0)throw Error(`Shared config entry ${Qh} can't be undefined, got "${t}"`);return!uT(t)}},default:void 0},qJ=at(),UJ=jn(async(e,t,r)=>{let{accessKeyId:n}=await t.credentials(),{identifiers:o}=r;return JSON.stringify({...n&&{accessKeyId:n},...o&&{commandName:e,identifiers:Object.entries(o).sort().reduce((i,[s,a])=>({...i,[s]:a}),{})}})},"getCacheKey"),an={},pT=jn(async(e,t)=>new Promise((r,n)=>{let{endpointCache:o}=e,{cacheKey:i,commandName:s,identifiers:a}=t,c=o.get(i);if(c&&c.length===1&&c[0].Address==="")t.isDiscoveredEndpointRequired?(an[i]||(an[i]=[]),an[i].push({resolve:r,reject:n})):r();else if(c&&c.length>0)r();else{let l=[{Address:"",CachePeriodInMinutes:1}];o.set(i,l);let p=new t.endpointDiscoveryCommandCtor({Operation:s.slice(0,-7),Identifiers:a});p.resolveMiddleware(t.clientStack,e,t.options)(p).then(h=>{o.set(i,h.output.Endpoints),an[i]&&(an[i].forEach(({resolve:g})=>{g()}),delete an[i]),r()}).catch(h=>{o.delete(i);let g=Object.assign(new Error("The operation to discover endpoint failed. Please retry, or provide a custom endpoint and disable endpoint discovery to proceed."),{reason:h});an[i]&&(an[i].forEach(({reject:v})=>{v(g)}),delete an[i]),t.isDiscoveredEndpointRequired?n(g):(o.set(i,l),r())})}}),"updateDiscoveredEndpointInCache"),Zh=jn((e,t)=>(r,n)=>async o=>{if(e.isCustomEndpoint){if(e.isClientEndpointDiscoveryEnabled)throw new Error("Custom endpoint is supplied; endpointDiscoveryEnabled must not be true.");return r(o)}let{endpointDiscoveryCommandCtor:i}=e,{isDiscoveredEndpointRequired:s,identifiers:a}=t,c=n.clientName,l=n.commandName,p=await e.endpointDiscoveryEnabled(),f=await UJ(l,e,{identifiers:a});if(s){if(p===!1)throw new Error(`Endpoint Discovery is disabled but ${l} on ${c} requires it. Please check your configurations.`);await pT(e,{...t,commandName:l,cacheKey:f,endpointDiscoveryCommandCtor:i})}else p&&pT(e,{...t,commandName:l,cacheKey:f,endpointDiscoveryCommandCtor:i});let{request:h}=o;if(f&&qJ.HttpRequest.isInstance(h)){let g=e.endpointCache.getEndpoint(f);g&&(h.hostname=g)}return r(o)},"endpointDiscoveryMiddleware"),hl={name:"endpointDiscoveryMiddleware",step:"build",tags:["ENDPOINT_DISCOVERY"],override:!0},FJ=jn((e,t)=>({applyToStack:r=>{r.add(Zh(e,t),hl)}}),"getEndpointDiscoveryPlugin"),BJ=jn((e,t)=>({applyToStack:r=>{r.add(Zh(e,{...t,isDiscoveredEndpointRequired:!0}),hl)}}),"getEndpointDiscoveryRequiredPlugin"),GJ=jn((e,t)=>({applyToStack:r=>{r.add(Zh(e,{...t,isDiscoveredEndpointRequired:!1}),hl)}}),"getEndpointDiscoveryOptionalPlugin"),VJ=dT(),zJ=jn((e,{endpointDiscoveryCommandCtor:t})=>({...e,endpointDiscoveryCommandCtor:t,endpointCache:new VJ.EndpointCache(e.endpointCacheSize??1e3),endpointDiscoveryEnabled:e.endpointDiscoveryEnabled!==void 0?()=>Promise.resolve(e.endpointDiscoveryEnabled):e.endpointDiscoveryEnabledProvider,isClientEndpointDiscoveryEnabled:e.endpointDiscoveryEnabled!==void 0}),"resolveEndpointDiscoveryConfig")});var Ua=m((XCe,yT)=>{var gl=Object.defineProperty,HJ=Object.getOwnPropertyDescriptor,WJ=Object.getOwnPropertyNames,KJ=Object.prototype.hasOwnProperty,tg=(e,t)=>gl(e,"name",{value:t,configurable:!0}),JJ=(e,t)=>{for(var r in t)gl(e,r,{get:t[r],enumerable:!0})},YJ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of WJ(t))!KJ.call(e,o)&&o!==r&&gl(e,o,{get:()=>t[o],enumerable:!(n=HJ(t,o))||n.enumerable});return e},XJ=e=>YJ(gl({},"__esModule",{value:!0}),e),hT={};JJ(hT,{getHostHeaderPlugin:()=>ZJ,hostHeaderMiddleware:()=>_T,hostHeaderMiddlewareOptions:()=>vT,resolveHostHeaderConfig:()=>gT});yT.exports=XJ(hT);var QJ=at();function gT(e){return e}tg(gT,"resolveHostHeaderConfig");var _T=tg(e=>t=>async r=>{if(!QJ.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:o=""}=e.requestHandler.metadata||{};if(o.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let i=n.hostname;n.port!=null&&(i+=`:${n.port}`),n.headers.host=i}return t(r)},"hostHeaderMiddleware"),vT={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},ZJ=tg(e=>({applyToStack:t=>{t.add(_T(e),vT)}}),"getHostHeaderPlugin")});var Fa=m((QCe,wT)=>{var _l=Object.defineProperty,eY=Object.getOwnPropertyDescriptor,tY=Object.getOwnPropertyNames,rY=Object.prototype.hasOwnProperty,ET=(e,t)=>_l(e,"name",{value:t,configurable:!0}),nY=(e,t)=>{for(var r in t)_l(e,r,{get:t[r],enumerable:!0})},oY=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of tY(t))!rY.call(e,o)&&o!==r&&_l(e,o,{get:()=>t[o],enumerable:!(n=eY(t,o))||n.enumerable});return e},iY=e=>oY(_l({},"__esModule",{value:!0}),e),ST={};nY(ST,{getLoggerPlugin:()=>sY,loggerMiddleware:()=>bT,loggerMiddlewareOptions:()=>CT});wT.exports=iY(ST);var bT=ET(()=>(e,t)=>async r=>{var n,o;try{let i=await e(r),{clientName:s,commandName:a,logger:c,dynamoDbDocumentClientOptions:l={}}=t,{overrideInputFilterSensitiveLog:p,overrideOutputFilterSensitiveLog:f}=l,h=p??t.inputFilterSensitiveLog,g=f??t.outputFilterSensitiveLog,{$metadata:v,...S}=i.output;return(n=c?.info)==null||n.call(c,{clientName:s,commandName:a,input:h(r.input),output:g(S),metadata:v}),i}catch(i){let{clientName:s,commandName:a,logger:c,dynamoDbDocumentClientOptions:l={}}=t,{overrideInputFilterSensitiveLog:p}=l,f=p??t.inputFilterSensitiveLog;throw(o=c?.error)==null||o.call(c,{clientName:s,commandName:a,input:f(r.input),error:i,metadata:i.$metadata}),i}},"loggerMiddleware"),CT={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},sY=ET(e=>({applyToStack:t=>{t.add(bT(),CT)}}),"getLoggerPlugin")});var Ba=m((ZCe,RT)=>{var vl=Object.defineProperty,aY=Object.getOwnPropertyDescriptor,cY=Object.getOwnPropertyNames,dY=Object.prototype.hasOwnProperty,rg=(e,t)=>vl(e,"name",{value:t,configurable:!0}),lY=(e,t)=>{for(var r in t)vl(e,r,{get:t[r],enumerable:!0})},uY=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of cY(t))!dY.call(e,o)&&o!==r&&vl(e,o,{get:()=>t[o],enumerable:!(n=aY(t,o))||n.enumerable});return e},pY=e=>uY(vl({},"__esModule",{value:!0}),e),TT={};lY(TT,{addRecursionDetectionMiddlewareOptions:()=>OT,getRecursionDetectionPlugin:()=>gY,recursionDetectionMiddleware:()=>IT});RT.exports=pY(TT);var fY=at(),PT="X-Amzn-Trace-Id",mY="AWS_LAMBDA_FUNCTION_NAME",hY="_X_AMZN_TRACE_ID",IT=rg(e=>t=>async r=>{let{request:n}=r;if(!fY.HttpRequest.isInstance(n)||e.runtime!=="node"||n.headers.hasOwnProperty(PT))return t(r);let o=process.env[mY],i=process.env[hY],s=rg(a=>typeof a=="string"&&a.length>0,"nonEmptyString");return s(o)&&s(i)&&(n.headers[PT]=i),t({...r,request:n})},"recursionDetectionMiddleware"),OT={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},gY=rg(e=>({applyToStack:t=>{t.add(IT(e),OT)}}),"getRecursionDetectionPlugin")});var Ni=m((twe,qT)=>{var yl=Object.defineProperty,_Y=Object.getOwnPropertyDescriptor,vY=Object.getOwnPropertyNames,yY=Object.prototype.hasOwnProperty,be=(e,t)=>yl(e,"name",{value:t,configurable:!0}),EY=(e,t)=>{for(var r in t)yl(e,r,{get:t[r],enumerable:!0})},SY=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of vY(t))!yY.call(e,o)&&o!==r&&yl(e,o,{get:()=>t[o],enumerable:!(n=_Y(t,o))||n.enumerable});return e},bY=e=>SY(yl({},"__esModule",{value:!0}),e),AT={};EY(AT,{EndpointError:()=>Ct,customEndpointFunctions:()=>og,isIpAddress:()=>xT,isValidHostLabel:()=>sg,resolveEndpoint:()=>FY});qT.exports=bY(AT);var CY=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),xT=be(e=>CY.test(e)||e.startsWith("[")&&e.endsWith("]"),"isIpAddress"),wY=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),sg=be((e,t=!1)=>{if(!t)return wY.test(e);let r=e.split(".");for(let n of r)if(!sg(n))return!1;return!0},"isValidHostLabel"),og={},Ga="endpoints";function cn(e){return typeof e!="object"||e==null?e:"ref"in e?`$${cn(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(cn).join(", ")})`:JSON.stringify(e,null,2)}be(cn,"toDebugString");var NT=class extends Error{constructor(t){super(t),this.name="EndpointError"}};be(NT,"EndpointError");var Ct=NT,PY=be((e,t)=>e===t,"booleanEquals"),TY=be(e=>{let t=e.split("."),r=[];for(let n of t){let o=n.indexOf("[");if(o!==-1){if(n.indexOf("]")!==n.length-1)throw new Ct(`Path: '${e}' does not end with ']'`);let i=n.slice(o+1,-1);if(Number.isNaN(parseInt(i)))throw new Ct(`Invalid array index: '${i}' in path: '${e}'`);o!==0&&r.push(n.slice(0,o)),r.push(i)}else r.push(n)}return r},"getAttrPathList"),DT=be((e,t)=>TY(t).reduce((r,n)=>{if(typeof r!="object")throw new Ct(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),"getAttr"),IY=be(e=>e!=null,"isSet"),OY=be(e=>!e,"not"),ig=ar(),ng={[ig.EndpointURLScheme.HTTP]:80,[ig.EndpointURLScheme.HTTPS]:443},RY=be(e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:h,port:g,protocol:v="",path:S="",query:b={}}=e,T=new URL(`${v}//${h}${g?`:${g}`:""}${S}`);return T.search=Object.entries(b).map(([O,$])=>`${O}=${$}`).join("&"),T}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:o,pathname:i,protocol:s,search:a}=t;if(a)return null;let c=s.slice(0,-1);if(!Object.values(ig.EndpointURLScheme).includes(c))return null;let l=xT(o),p=r.includes(`${n}:${ng[c]}`)||typeof e=="string"&&e.includes(`${n}:${ng[c]}`),f=`${n}${p?`:${ng[c]}`:""}`;return{scheme:c,authority:f,path:i,normalizedPath:i.endsWith("/")?i:`${i}/`,isIp:l}},"parseURL"),AY=be((e,t)=>e===t,"stringEquals"),xY=be((e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),"substring"),NY=be(e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),"uriEncode"),DY={booleanEquals:PY,getAttr:DT,isSet:IY,isValidHostLabel:sg,not:OY,parseURL:RY,stringEquals:AY,substring:xY,uriEncode:NY},$T=be((e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},o=0;for(;o<e.length;){let i=e.indexOf("{",o);if(i===-1){r.push(e.slice(o));break}r.push(e.slice(o,i));let s=e.indexOf("}",i);if(s===-1){r.push(e.slice(i));break}e[i+1]==="{"&&e[s+1]==="}"&&(r.push(e.slice(i+1,s)),o=s+2);let a=e.substring(i+1,s);if(a.includes("#")){let[c,l]=a.split("#");r.push(DT(n[c],l))}else r.push(n[a]);o=s+1}return r.join("")},"evaluateTemplate"),$Y=be(({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],"getReferenceValue"),El=be((e,t,r)=>{if(typeof e=="string")return $T(e,r);if(e.fn)return MT(e,r);if(e.ref)return $Y(e,r);throw new Ct(`'${t}': ${String(e)} is not a string, function or reference.`)},"evaluateExpression"),MT=be(({fn:e,argv:t},r)=>{let n=t.map(i=>["boolean","number"].includes(typeof i)?i:El(i,"arg",r)),o=e.split(".");return o[0]in og&&o[1]!=null?og[o[0]][o[1]](...n):DY[e](...n)},"callFunction"),MY=be(({assign:e,...t},r)=>{var n,o;if(e&&e in r.referenceRecord)throw new Ct(`'${e}' is already defined in Reference Record.`);let i=MT(t,r);return(o=(n=r.logger)==null?void 0:n.debug)==null||o.call(n,Ga,`evaluateCondition: ${cn(t)} = ${cn(i)}`),{result:i===""?!0:!!i,...e!=null&&{toAssign:{name:e,value:i}}}},"evaluateCondition"),ag=be((e=[],t)=>{var r,n;let o={};for(let i of e){let{result:s,toAssign:a}=MY(i,{...t,referenceRecord:{...t.referenceRecord,...o}});if(!s)return{result:s};a&&(o[a.name]=a.value,(n=(r=t.logger)==null?void 0:r.debug)==null||n.call(r,Ga,`assign: ${a.name} := ${cn(a.value)}`))}return{result:!0,referenceRecord:o}},"evaluateConditions"),kY=be((e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:o.map(i=>{let s=El(i,"Header value entry",t);if(typeof s!="string")throw new Ct(`Header '${n}' value '${s}' is not a string`);return s})}),{}),"getEndpointHeaders"),kT=be((e,t)=>{if(Array.isArray(e))return e.map(r=>kT(r,t));switch(typeof e){case"string":return $T(e,t);case"object":if(e===null)throw new Ct(`Unexpected endpoint property: ${e}`);return LT(e,t);case"boolean":return e;default:throw new Ct(`Unexpected endpoint property type: ${typeof e}`)}},"getEndpointProperty"),LT=be((e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:kT(o,t)}),{}),"getEndpointProperties"),LY=be((e,t)=>{let r=El(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new Ct(`Endpoint URL must be a string, got ${typeof r}`)},"getEndpointUrl"),jY=be((e,t)=>{var r,n;let{conditions:o,endpoint:i}=e,{result:s,referenceRecord:a}=ag(o,t);if(!s)return;let c={...t,referenceRecord:{...t.referenceRecord,...a}},{url:l,properties:p,headers:f}=i;return(n=(r=t.logger)==null?void 0:r.debug)==null||n.call(r,Ga,`Resolving endpoint from template: ${cn(i)}`),{...f!=null&&{headers:kY(f,c)},...p!=null&&{properties:LT(p,c)},url:LY(l,c)}},"evaluateEndpointRule"),qY=be((e,t)=>{let{conditions:r,error:n}=e,{result:o,referenceRecord:i}=ag(r,t);if(o)throw new Ct(El(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...i}}))},"evaluateErrorRule"),UY=be((e,t)=>{let{conditions:r,rules:n}=e,{result:o,referenceRecord:i}=ag(r,t);if(o)return jT(n,{...t,referenceRecord:{...t.referenceRecord,...i}})},"evaluateTreeRule"),jT=be((e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=jY(r,t);if(n)return n}else if(r.type==="error")qY(r,t);else if(r.type==="tree"){let n=UY(r,t);if(n)return n}else throw new Ct(`Unknown endpoint rule: ${r}`);throw new Ct("Rules evaluation failed")},"evaluateRules"),FY=be((e,t)=>{var r,n,o,i,s;let{endpointParams:a,logger:c}=t,{parameters:l,rules:p}=e;(n=(r=t.logger)==null?void 0:r.debug)==null||n.call(r,`${Ga} Initial EndpointParams: ${cn(a)}`);let f=Object.entries(l).filter(([,v])=>v.default!=null).map(([v,S])=>[v,S.default]);if(f.length>0)for(let[v,S]of f)a[v]=a[v]??S;let h=Object.entries(l).filter(([,v])=>v.required).map(([v])=>v);for(let v of h)if(a[v]==null)throw new Ct(`Missing required parameter: '${v}'`);let g=jT(p,{endpointParams:a,logger:c,referenceRecord:{}});if((o=t.endpointParams)!=null&&o.Endpoint)try{let v=new URL(t.endpointParams.Endpoint),{protocol:S,port:b}=v;g.url.protocol=S,g.url.port=b}catch{}return(s=(i=t.logger)==null?void 0:i.debug)==null||s.call(i,`${Ga} Resolved endpoint: ${cn(g)}`),g},"resolveEndpoint")});var $i=m((rwe,KT)=>{var Sl=Object.defineProperty,BY=Object.getOwnPropertyDescriptor,GY=Object.getOwnPropertyNames,VY=Object.prototype.hasOwnProperty,Di=(e,t)=>Sl(e,"name",{value:t,configurable:!0}),zY=(e,t)=>{for(var r in t)Sl(e,r,{get:t[r],enumerable:!0})},HY=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of GY(t))!VY.call(e,o)&&o!==r&&Sl(e,o,{get:()=>t[o],enumerable:!(n=BY(t,o))||n.enumerable});return e},WY=e=>HY(Sl({},"__esModule",{value:!0}),e),UT={};zY(UT,{ConditionObject:()=>Pe.ConditionObject,DeprecatedObject:()=>Pe.DeprecatedObject,EndpointError:()=>Pe.EndpointError,EndpointObject:()=>Pe.EndpointObject,EndpointObjectHeaders:()=>Pe.EndpointObjectHeaders,EndpointObjectProperties:()=>Pe.EndpointObjectProperties,EndpointParams:()=>Pe.EndpointParams,EndpointResolverOptions:()=>Pe.EndpointResolverOptions,EndpointRuleObject:()=>Pe.EndpointRuleObject,ErrorRuleObject:()=>Pe.ErrorRuleObject,EvaluateOptions:()=>Pe.EvaluateOptions,Expression:()=>Pe.Expression,FunctionArgv:()=>Pe.FunctionArgv,FunctionObject:()=>Pe.FunctionObject,FunctionReturn:()=>Pe.FunctionReturn,ParameterObject:()=>Pe.ParameterObject,ReferenceObject:()=>Pe.ReferenceObject,ReferenceRecord:()=>Pe.ReferenceRecord,RuleSetObject:()=>Pe.RuleSetObject,RuleSetRules:()=>Pe.RuleSetRules,TreeRuleObject:()=>Pe.TreeRuleObject,awsEndpointFunctions:()=>WT,getUserAgentPrefix:()=>YY,isIpAddress:()=>Pe.isIpAddress,partition:()=>zT,resolveEndpoint:()=>Pe.resolveEndpoint,setPartitionInfo:()=>HT,useDefaultPartitionInfo:()=>JY});KT.exports=WY(UT);var Pe=Ni(),FT=Di((e,t=!1)=>{if(t){for(let r of e.split("."))if(!FT(r))return!1;return!0}return!(!(0,Pe.isValidHostLabel)(e)||e.length<3||e.length>63||e!==e.toLowerCase()||(0,Pe.isIpAddress)(e))},"isVirtualHostableS3Bucket"),KY=Di(e=>{let t=e.split(":");if(t.length<6)return null;let[r,n,o,i,s,...a]=t;return r!=="arn"||n===""||o===""||a[0]===""?null:{partition:n,service:o,region:i,accountId:s,resourceId:a[0].includes("/")?a[0].split("/"):a}},"parseArn"),BT={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{}}],version:"1.1"},GT=BT,VT="",zT=Di(e=>{let{partitions:t}=GT;for(let n of t){let{regions:o,outputs:i}=n;for(let[s,a]of Object.entries(o))if(s===e)return{...i,...a}}for(let n of t){let{regionRegex:o,outputs:i}=n;if(new RegExp(o).test(e))return{...i}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},"partition"),HT=Di((e,t="")=>{GT=e,VT=t},"setPartitionInfo"),JY=Di(()=>{HT(BT,"")},"useDefaultPartitionInfo"),YY=Di(()=>VT,"getUserAgentPrefix"),WT={isVirtualHostableS3Bucket:FT,parseArn:KY,partition:zT};Pe.customEndpointFunctions.aws=WT});var Va=m((nwe,rI)=>{var bl=Object.defineProperty,XY=Object.getOwnPropertyDescriptor,QY=Object.getOwnPropertyNames,ZY=Object.prototype.hasOwnProperty,Cl=(e,t)=>bl(e,"name",{value:t,configurable:!0}),eX=(e,t)=>{for(var r in t)bl(e,r,{get:t[r],enumerable:!0})},tX=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of QY(t))!ZY.call(e,o)&&o!==r&&bl(e,o,{get:()=>t[o],enumerable:!(n=XY(t,o))||n.enumerable});return e},rX=e=>tX(bl({},"__esModule",{value:!0}),e),QT={};eX(QT,{getUserAgentMiddlewareOptions:()=>tI,getUserAgentPlugin:()=>aX,resolveUserAgentConfig:()=>ZT,userAgentMiddleware:()=>eI});rI.exports=rX(QT);function ZT(e){return{...e,customUserAgent:typeof e.customUserAgent=="string"?[[e.customUserAgent]]:e.customUserAgent}}Cl(ZT,"resolveUserAgentConfig");var nX=$i(),oX=at(),JT="user-agent",cg="x-amz-user-agent",YT=" ",dg="/",iX=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,sX=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,XT="-",eI=Cl(e=>(t,r)=>async n=>{var o,i;let{request:s}=n;if(!oX.HttpRequest.isInstance(s))return t(n);let{headers:a}=s,c=((o=r?.userAgent)==null?void 0:o.map(lg))||[],l=(await e.defaultUserAgentProvider()).map(lg),p=((i=e?.customUserAgent)==null?void 0:i.map(lg))||[],f=(0,nX.getUserAgentPrefix)(),h=(f?[f]:[]).concat([...l,...c,...p]).join(YT),g=[...l.filter(v=>v.startsWith("aws-sdk-")),...p].join(YT);return e.runtime!=="browser"?(g&&(a[cg]=a[cg]?`${a[JT]} ${g}`:g),a[JT]=h):a[cg]=h,t({...n,request:s})},"userAgentMiddleware"),lg=Cl(e=>{var t;let r=e[0].split(dg).map(a=>a.replace(iX,XT)).join(dg),n=(t=e[1])==null?void 0:t.replace(sX,XT),o=r.indexOf(dg),i=r.substring(0,o),s=r.substring(o+1);return i==="api"&&(s=s.toLowerCase()),[i,s,n].filter(a=>a&&a.length>0).reduce((a,c,l)=>{switch(l){case 0:return c;case 1:return`${a}/${c}`;default:return`${a}#${c}`}},"")},"escapeUserAgent"),tI={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},aX=Cl(e=>({applyToStack:t=>{t.add(eI(e),tI)}}),"getUserAgentPlugin")});var aI=m((owe,sI)=>{var wl=Object.defineProperty,cX=Object.getOwnPropertyDescriptor,dX=Object.getOwnPropertyNames,lX=Object.prototype.hasOwnProperty,nI=(e,t)=>wl(e,"name",{value:t,configurable:!0}),uX=(e,t)=>{for(var r in t)wl(e,r,{get:t[r],enumerable:!0})},pX=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of dX(t))!lX.call(e,o)&&o!==r&&wl(e,o,{get:()=>t[o],enumerable:!(n=cX(t,o))||n.enumerable});return e},fX=e=>pX(wl({},"__esModule",{value:!0}),e),oI={};uX(oI,{SelectorType:()=>iI,booleanSelector:()=>mX,numberSelector:()=>hX});sI.exports=fX(oI);var mX=nI((e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}},"booleanSelector"),hX=nI((e,t,r)=>{if(!(t in e))return;let n=parseInt(e[t],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${t}'. Expected number, got '${e[t]}'.`);return n},"numberSelector"),iI=(e=>(e.ENV="env",e.CONFIG="shared config entry",e))(iI||{})});var Nr=m((iwe,uI)=>{var Pl=Object.defineProperty,gX=Object.getOwnPropertyDescriptor,_X=Object.getOwnPropertyNames,vX=Object.prototype.hasOwnProperty,dI=(e,t)=>Pl(e,"name",{value:t,configurable:!0}),yX=(e,t)=>{for(var r in t)Pl(e,r,{get:t[r],enumerable:!0})},EX=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of _X(t))!vX.call(e,o)&&o!==r&&Pl(e,o,{get:()=>t[o],enumerable:!(n=gX(t,o))||n.enumerable});return e},SX=e=>EX(Pl({},"__esModule",{value:!0}),e),lI={};yX(lI,{getSmithyContext:()=>bX,normalizeProvider:()=>CX});uI.exports=SX(lI);var cI=ar(),bX=dI(e=>e[cI.SMITHY_CONTEXT_KEY]||(e[cI.SMITHY_CONTEXT_KEY]={}),"getSmithyContext"),CX=dI(e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t},"normalizeProvider")});var Dr=m((swe,bI)=>{var Il=Object.defineProperty,wX=Object.getOwnPropertyDescriptor,PX=Object.getOwnPropertyNames,TX=Object.prototype.hasOwnProperty,cr=(e,t)=>Il(e,"name",{value:t,configurable:!0}),IX=(e,t)=>{for(var r in t)Il(e,r,{get:t[r],enumerable:!0})},OX=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of PX(t))!TX.call(e,o)&&o!==r&&Il(e,o,{get:()=>t[o],enumerable:!(n=wX(t,o))||n.enumerable});return e},RX=e=>OX(Il({},"__esModule",{value:!0}),e),mI={};IX(mI,{CONFIG_USE_DUALSTACK_ENDPOINT:()=>gI,CONFIG_USE_FIPS_ENDPOINT:()=>vI,DEFAULT_USE_DUALSTACK_ENDPOINT:()=>AX,DEFAULT_USE_FIPS_ENDPOINT:()=>NX,ENV_USE_DUALSTACK_ENDPOINT:()=>hI,ENV_USE_FIPS_ENDPOINT:()=>_I,NODE_REGION_CONFIG_FILE_OPTIONS:()=>jX,NODE_REGION_CONFIG_OPTIONS:()=>LX,NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS:()=>xX,NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS:()=>DX,REGION_ENV_NAME:()=>yI,REGION_INI_NAME:()=>EI,getRegionInfo:()=>GX,resolveCustomEndpointsConfig:()=>$X,resolveEndpointsConfig:()=>kX,resolveRegionConfig:()=>qX});bI.exports=RX(mI);var qn=aI(),hI="AWS_USE_DUALSTACK_ENDPOINT",gI="use_dualstack_endpoint",AX=!1,xX={environmentVariableSelector:e=>(0,qn.booleanSelector)(e,hI,qn.SelectorType.ENV),configFileSelector:e=>(0,qn.booleanSelector)(e,gI,qn.SelectorType.CONFIG),default:!1},_I="AWS_USE_FIPS_ENDPOINT",vI="use_fips_endpoint",NX=!1,DX={environmentVariableSelector:e=>(0,qn.booleanSelector)(e,_I,qn.SelectorType.ENV),configFileSelector:e=>(0,qn.booleanSelector)(e,vI,qn.SelectorType.CONFIG),default:!1},Tl=Nr(),$X=cr(e=>{let{endpoint:t,urlParser:r}=e;return{...e,tls:e.tls??!0,endpoint:(0,Tl.normalizeProvider)(typeof t=="string"?r(t):t),isCustomEndpoint:!0,useDualstackEndpoint:(0,Tl.normalizeProvider)(e.useDualstackEndpoint??!1)}},"resolveCustomEndpointsConfig"),MX=cr(async e=>{let{tls:t=!0}=e,r=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let o=await e.useDualstackEndpoint(),i=await e.useFipsEndpoint(),{hostname:s}=await e.regionInfoProvider(r,{useDualstackEndpoint:o,useFipsEndpoint:i})??{};if(!s)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${t?"https:":"http:"}//${s}`)},"getEndpointFromRegion"),kX=cr(e=>{let t=(0,Tl.normalizeProvider)(e.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:o}=e;return{...e,tls:e.tls??!0,endpoint:r?(0,Tl.normalizeProvider)(typeof r=="string"?o(r):r):()=>MX({...e,useDualstackEndpoint:t,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:t}},"resolveEndpointsConfig"),yI="AWS_REGION",EI="region",LX={environmentVariableSelector:e=>e[yI],configFileSelector:e=>e[EI],default:()=>{throw new Error("Region is missing")}},jX={preferredFile:"credentials"},SI=cr(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),pI=cr(e=>SI(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),qX=cr(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if(typeof t=="string")return pI(t);let n=await t();return pI(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return SI(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}},"resolveRegionConfig"),fI=cr((e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>{var n;return(n=e.find(({tags:o})=>t===o.includes("fips")&&r===o.includes("dualstack")))==null?void 0:n.hostname},"getHostnameFromVariants"),UX=cr((e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0),"getResolvedHostname"),FX=cr((e,{partitionHash:t})=>Object.keys(t||{}).find(r=>t[r].regions.includes(e))??"aws","getResolvedPartition"),BX=cr((e,{signingRegion:t,regionRegex:r,useFipsEndpoint:n})=>{if(t)return t;if(n){let o=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),i=e.match(o);if(i)return i[0].slice(1,-1)}},"getResolvedSigningRegion"),GX=cr((e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:o,partitionHash:i})=>{var s,a,c,l,p;let f=FX(e,{partitionHash:i}),h=e in o?e:((s=i[f])==null?void 0:s.endpoint)??e,g={useFipsEndpoint:t,useDualstackEndpoint:r},v=fI((a=o[h])==null?void 0:a.variants,g),S=fI((c=i[f])==null?void 0:c.variants,g),b=UX(h,{regionHostname:v,partitionHostname:S});if(b===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:h,useFipsEndpoint:t,useDualstackEndpoint:r}}`);let T=BX(b,{signingRegion:(l=o[h])==null?void 0:l.signingRegion,regionRegex:i[f].regionRegex,useFipsEndpoint:t});return{partition:f,signingService:n,hostname:b,...T&&{signingRegion:T},...((p=o[h])==null?void 0:p.signingService)&&{signingService:o[h].signingService}}},"getRegionInfo")});var wt=m((awe,AI)=>{var Ol=Object.defineProperty,VX=Object.getOwnPropertyDescriptor,zX=Object.getOwnPropertyNames,HX=Object.prototype.hasOwnProperty,Mo=(e,t)=>Ol(e,"name",{value:t,configurable:!0}),WX=(e,t)=>{for(var r in t)Ol(e,r,{get:t[r],enumerable:!0})},KX=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of zX(t))!HX.call(e,o)&&o!==r&&Ol(e,o,{get:()=>t[o],enumerable:!(n=VX(t,o))||n.enumerable});return e},JX=e=>KX(Ol({},"__esModule",{value:!0}),e),CI={};WX(CI,{CredentialsProviderError:()=>YX,ProviderError:()=>Rl,TokenProviderError:()=>XX,chain:()=>QX,fromStatic:()=>ZX,memoize:()=>e7});AI.exports=JX(CI);var wI=class PI extends Error{constructor(t,r=!0){super(t),this.tryNextLink=r,this.name="ProviderError",Object.setPrototypeOf(this,PI.prototype)}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}};Mo(wI,"ProviderError");var Rl=wI,TI=class II extends Rl{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="CredentialsProviderError",Object.setPrototypeOf(this,II.prototype)}};Mo(TI,"CredentialsProviderError");var YX=TI,OI=class RI extends Rl{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="TokenProviderError",Object.setPrototypeOf(this,RI.prototype)}};Mo(OI,"TokenProviderError");var XX=OI,QX=Mo((...e)=>async()=>{if(e.length===0)throw new Rl("No providers in chain");let t;for(let r of e)try{return await r()}catch(n){if(t=n,n?.tryNextLink)continue;throw n}throw t},"chain"),ZX=Mo(e=>()=>Promise.resolve(e),"fromStatic"),e7=Mo((e,t,r)=>{let n,o,i,s=!1,a=Mo(async()=>{o||(o=e());try{n=await o,i=!0,s=!1}finally{o=void 0}return n},"coalesceProvider");return t===void 0?async c=>((!i||c?.forceRefresh)&&(n=await a()),n):async c=>((!i||c?.forceRefresh)&&(n=await a()),s?n:r&&!r(n)?(s=!0,n):(t(n)&&await a(),n))},"memoize")});var za=m(Al=>{"use strict";Object.defineProperty(Al,"__esModule",{value:!0});Al.getHomeDir=void 0;var t7=require("os"),r7=require("path"),ug={},n7=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",o7=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${r7.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let o=n7();return ug[o]||(ug[o]=(0,t7.homedir)()),ug[o]};Al.getHomeDir=o7});var pg=m(xl=>{"use strict";Object.defineProperty(xl,"__esModule",{value:!0});xl.getSSOTokenFilepath=void 0;var i7=require("crypto"),s7=require("path"),a7=za(),c7=e=>{let r=(0,i7.createHash)("sha1").update(e).digest("hex");return(0,s7.join)((0,a7.getHomeDir)(),".aws","sso","cache",`${r}.json`)};xl.getSSOTokenFilepath=c7});var xI=m(Nl=>{"use strict";Object.defineProperty(Nl,"__esModule",{value:!0});Nl.getSSOTokenFromFile=void 0;var d7=require("fs"),l7=pg(),{readFile:u7}=d7.promises,p7=async e=>{let t=(0,l7.getSSOTokenFilepath)(e),r=await u7(t,"utf8");return JSON.parse(r)};Nl.getSSOTokenFromFile=p7});var mg=m(Dl=>{"use strict";Object.defineProperty(Dl,"__esModule",{value:!0});Dl.slurpFile=void 0;var f7=require("fs"),{readFile:m7}=f7.promises,fg={},h7=(e,t)=>((!fg[e]||t?.ignoreCache)&&(fg[e]=m7(e,"utf8")),fg[e]);Dl.slurpFile=h7});var Un=m((pwe,Wa)=>{var Ml=Object.defineProperty,g7=Object.getOwnPropertyDescriptor,_7=Object.getOwnPropertyNames,v7=Object.prototype.hasOwnProperty,Bt=(e,t)=>Ml(e,"name",{value:t,configurable:!0}),y7=(e,t)=>{for(var r in t)Ml(e,r,{get:t[r],enumerable:!0})},hg=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of _7(t))!v7.call(e,o)&&o!==r&&Ml(e,o,{get:()=>t[o],enumerable:!(n=g7(t,o))||n.enumerable});return e},_g=(e,t,r)=>(hg(e,t,"default"),r&&hg(r,t,"default")),E7=e=>hg(Ml({},"__esModule",{value:!0}),e),Ha={};y7(Ha,{CONFIG_PREFIX_SEPARATOR:()=>ko,DEFAULT_PROFILE:()=>MI,ENV_PROFILE:()=>$I,getProfileName:()=>S7,loadSharedConfigFiles:()=>jI,loadSsoSessionData:()=>D7,parseKnownFiles:()=>M7});Wa.exports=E7(Ha);_g(Ha,za(),Wa.exports);var $I="AWS_PROFILE",MI="default",S7=Bt(e=>e.profile||process.env[$I]||MI,"getProfileName");_g(Ha,pg(),Wa.exports);_g(Ha,xI(),Wa.exports);var $l=ar(),b7=Bt(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(ko);return r===-1?!1:Object.values($l.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let o=r.indexOf(ko),i=r.substring(0,o)===$l.IniSectionType.PROFILE?r.substring(o+1):r;return t[i]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),kI=require("path"),C7=za(),w7="AWS_CONFIG_FILE",LI=Bt(()=>process.env[w7]||(0,kI.join)((0,C7.getHomeDir)(),".aws","config"),"getConfigFilepath"),P7=za(),T7="AWS_SHARED_CREDENTIALS_FILE",I7=Bt(()=>process.env[T7]||(0,kI.join)((0,P7.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),O7=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,R7=["__proto__","profile __proto__"],gg=Bt(e=>{let t={},r,n;for(let o of e.split(/\r?\n/)){let i=o.split(/(^|\s)[;#]/)[0].trim();if(i[0]==="["&&i[i.length-1]==="]"){r=void 0,n=void 0;let a=i.substring(1,i.length-1),c=O7.exec(a);if(c){let[,l,,p]=c;Object.values($l.IniSectionType).includes(l)&&(r=[l,p].join(ko))}else r=a;if(R7.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=i.indexOf("=");if(![0,-1].includes(a)){let[c,l]=[i.substring(0,a).trim(),i.substring(a+1).trim()];if(l==="")n=c;else{n&&o.trimStart()===o&&(n=void 0),t[r]=t[r]||{};let p=n?[n,c].join(ko):c;t[r][p]=l}}}}return t},"parseIni"),NI=mg(),DI=Bt(()=>({}),"swallowError"),ko=".",jI=Bt(async(e={})=>{let{filepath:t=I7(),configFilepath:r=LI()}=e,n=await Promise.all([(0,NI.slurpFile)(r,{ignoreCache:e.ignoreCache}).then(gg).then(b7).catch(DI),(0,NI.slurpFile)(t,{ignoreCache:e.ignoreCache}).then(gg).catch(DI)]);return{configFile:n[0],credentialsFile:n[1]}},"loadSharedConfigFiles"),A7=Bt(e=>Object.entries(e).filter(([t])=>t.startsWith($l.IniSectionType.SSO_SESSION+ko)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(ko)+1)]:n}),{}),"getSsoSessionData"),x7=mg(),N7=Bt(()=>({}),"swallowError"),D7=Bt(async(e={})=>(0,x7.slurpFile)(e.configFilepath??LI()).then(gg).then(A7).catch(N7),"loadSsoSessionData"),$7=Bt((...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t},"mergeConfigFiles"),M7=Bt(async e=>{let t=await jI(e);return $7(t.configFile,t.credentialsFile)},"parseKnownFiles")});var dn=m((fwe,FI)=>{var kl=Object.defineProperty,k7=Object.getOwnPropertyDescriptor,L7=Object.getOwnPropertyNames,j7=Object.prototype.hasOwnProperty,Ja=(e,t)=>kl(e,"name",{value:t,configurable:!0}),q7=(e,t)=>{for(var r in t)kl(e,r,{get:t[r],enumerable:!0})},U7=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of L7(t))!j7.call(e,o)&&o!==r&&kl(e,o,{get:()=>t[o],enumerable:!(n=k7(t,o))||n.enumerable});return e},F7=e=>U7(kl({},"__esModule",{value:!0}),e),UI={};q7(UI,{loadConfig:()=>H7});FI.exports=F7(UI);var Ka=wt(),B7=Ja(e=>async()=>{try{let t=e(process.env);if(t===void 0)throw new Error;return t}catch(t){throw new Ka.CredentialsProviderError(t.message||`Cannot load config from environment variables with getter: ${e}`)}},"fromEnv"),qI=Un(),G7=Ja((e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,qI.getProfileName)(r),{configFile:o,credentialsFile:i}=await(0,qI.loadSharedConfigFiles)(r),s=i[n]||{},a=o[n]||{},c=t==="config"?{...s,...a}:{...a,...s};try{let p=e(c,t==="config"?o:i);if(p===void 0)throw new Error;return p}catch(l){throw new Ka.CredentialsProviderError(l.message||`Cannot load config for profile ${n} in SDK configuration files with getter: ${e}`)}},"fromSharedConfigFiles"),V7=Ja(e=>typeof e=="function","isFunction"),z7=Ja(e=>V7(e)?async()=>await e():(0,Ka.fromStatic)(e),"fromStatic"),H7=Ja(({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>(0,Ka.memoize)((0,Ka.chain)(B7(e),G7(t,n),z7(r))),"loadConfig")});var zI=m(Ll=>{"use strict";Object.defineProperty(Ll,"__esModule",{value:!0});Ll.getEndpointUrlConfig=void 0;var BI=Un(),GI="AWS_ENDPOINT_URL",VI="endpoint_url",W7=e=>({environmentVariableSelector:t=>{let r=e.split(" ").map(i=>i.toUpperCase()),n=t[[GI,...r].join("_")];if(n)return n;let o=t[GI];if(o)return o},configFileSelector:(t,r)=>{if(r&&t.services){let o=r[["services",t.services].join(BI.CONFIG_PREFIX_SEPARATOR)];if(o){let i=e.split(" ").map(a=>a.toLowerCase()),s=o[[i.join("_"),VI].join(BI.CONFIG_PREFIX_SEPARATOR)];if(s)return s}}let n=t[VI];if(n)return n},default:void 0});Ll.getEndpointUrlConfig=W7});var HI=m(jl=>{"use strict";Object.defineProperty(jl,"__esModule",{value:!0});jl.getEndpointFromConfig=void 0;var K7=dn(),J7=zI(),Y7=async e=>(0,K7.loadConfig)((0,J7.getEndpointUrlConfig)(e))();jl.getEndpointFromConfig=Y7});var YI=m((gwe,JI)=>{var ql=Object.defineProperty,X7=Object.getOwnPropertyDescriptor,Q7=Object.getOwnPropertyNames,Z7=Object.prototype.hasOwnProperty,eQ=(e,t)=>ql(e,"name",{value:t,configurable:!0}),tQ=(e,t)=>{for(var r in t)ql(e,r,{get:t[r],enumerable:!0})},rQ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Q7(t))!Z7.call(e,o)&&o!==r&&ql(e,o,{get:()=>t[o],enumerable:!(n=X7(t,o))||n.enumerable});return e},nQ=e=>rQ(ql({},"__esModule",{value:!0}),e),WI={};tQ(WI,{parseQueryString:()=>KI});JI.exports=nQ(WI);function KI(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,o=null]=r.split("=");n=decodeURIComponent(n),o&&(o=decodeURIComponent(o)),n in t?Array.isArray(t[n])?t[n].push(o):t[n]=[t[n],o]:t[n]=o}return t}eQ(KI,"parseQueryString")});var Lo=m((_we,ZI)=>{var Ul=Object.defineProperty,oQ=Object.getOwnPropertyDescriptor,iQ=Object.getOwnPropertyNames,sQ=Object.prototype.hasOwnProperty,aQ=(e,t)=>Ul(e,"name",{value:t,configurable:!0}),cQ=(e,t)=>{for(var r in t)Ul(e,r,{get:t[r],enumerable:!0})},dQ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of iQ(t))!sQ.call(e,o)&&o!==r&&Ul(e,o,{get:()=>t[o],enumerable:!(n=oQ(t,o))||n.enumerable});return e},lQ=e=>dQ(Ul({},"__esModule",{value:!0}),e),XI={};cQ(XI,{parseUrl:()=>QI});ZI.exports=lQ(XI);var uQ=YI(),QI=aQ(e=>{if(typeof e=="string")return QI(new URL(e));let{hostname:t,pathname:r,port:n,protocol:o,search:i}=e,s;return i&&(s=(0,uQ.parseQueryString)(i)),{hostname:t,port:n?parseInt(n):void 0,protocol:o,path:r,query:s}},"parseUrl")});var jo=m((vwe,sO)=>{var Fl=Object.defineProperty,pQ=Object.getOwnPropertyDescriptor,fQ=Object.getOwnPropertyNames,mQ=Object.prototype.hasOwnProperty,vg=(e,t)=>Fl(e,"name",{value:t,configurable:!0}),hQ=(e,t)=>{for(var r in t)Fl(e,r,{get:t[r],enumerable:!0})},gQ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of fQ(t))!mQ.call(e,o)&&o!==r&&Fl(e,o,{get:()=>t[o],enumerable:!(n=pQ(t,o))||n.enumerable});return e},_Q=e=>gQ(Fl({},"__esModule",{value:!0}),e),eO={};hQ(eO,{deserializerMiddleware:()=>tO,deserializerMiddlewareOption:()=>nO,getSerdePlugin:()=>iO,serializerMiddleware:()=>rO,serializerMiddlewareOption:()=>oO});sO.exports=_Q(eO);var tO=vg((e,t)=>(r,n)=>async o=>{let{response:i}=await r(o);try{let s=await t(i,e);return{response:i,output:s}}catch(s){if(Object.defineProperty(s,"$response",{value:i}),!("$metadata"in s)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";s.message+=`
  `+a,typeof s.$responseBodyText<"u"&&s.$response&&(s.$response.body=s.$responseBodyText)}throw s}},"deserializerMiddleware"),rO=vg((e,t)=>(r,n)=>async o=>{var i;let s=(i=n.endpointV2)!=null&&i.url&&e.urlParser?async()=>e.urlParser(n.endpointV2.url):e.endpoint;if(!s)throw new Error("No valid endpoint provider available.");let a=await t(o.input,{...e,endpoint:s});return r({...o,request:a})},"serializerMiddleware"),nO={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},oO={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function iO(e,t,r){return{applyToStack:n=>{n.add(tO(e,r),nO),n.add(rO(e,t),oO)}}}vg(iO,"getSerdePlugin")});var qo=m((ywe,fO)=>{var Gl=Object.defineProperty,vQ=Object.getOwnPropertyDescriptor,yQ=Object.getOwnPropertyNames,EQ=Object.prototype.hasOwnProperty,dr=(e,t)=>Gl(e,"name",{value:t,configurable:!0}),SQ=(e,t)=>{for(var r in t)Gl(e,r,{get:t[r],enumerable:!0})},bQ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of yQ(t))!EQ.call(e,o)&&o!==r&&Gl(e,o,{get:()=>t[o],enumerable:!(n=vQ(t,o))||n.enumerable});return e},CQ=e=>bQ(Gl({},"__esModule",{value:!0}),e),cO={};SQ(cO,{endpointMiddleware:()=>uO,endpointMiddlewareOptions:()=>pO,getEndpointFromInstructions:()=>dO,getEndpointPlugin:()=>DQ,resolveEndpointConfig:()=>$Q,resolveParams:()=>lO,toEndpointV1:()=>yg});fO.exports=CQ(cO);var wQ=dr(async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),RQ(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!OQ(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},"resolveParamsForS3"),PQ=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,TQ=/(\d+\.){3}\d+/,IQ=/\.\./,OQ=dr(e=>PQ.test(e)&&!TQ.test(e)&&!IQ.test(e),"isDnsCompatibleBucketName"),RQ=dr(e=>{let[t,r,n,,,o]=e.split(":"),i=t==="arn"&&e.split(":").length>=6,s=!!(i&&r&&n&&o);if(i&&!s)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return s},"isArnBucketName"),AQ=dr((e,t,r)=>{let n=dr(async()=>{let o=r[e]??r[t];return typeof o=="function"?o():o},"configProvider");return e==="credentialScope"||t==="CredentialScope"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.credentialScope??o?.CredentialScope}:e==="endpoint"||t==="endpoint"?async()=>{let o=await n();if(o&&typeof o=="object"){if("url"in o)return o.url.href;if("hostname"in o){let{protocol:i,hostname:s,port:a,path:c}=o;return`${i}//${s}${a?":"+a:""}${c}`}}return o}:n},"createConfigValueProvider"),xQ=HI(),aO=Lo(),yg=dr(e=>typeof e=="object"?"url"in e?(0,aO.parseUrl)(e.url):e:(0,aO.parseUrl)(e),"toEndpointV1"),dO=dr(async(e,t,r,n)=>{if(!r.endpoint){let s=await(0,xQ.getEndpointFromConfig)(r.serviceId||"");s&&(r.endpoint=()=>Promise.resolve(yg(s)))}let o=await lO(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(o,n)},"getEndpointFromInstructions"),lO=dr(async(e,t,r)=>{var n;let o={},i=((n=t?.getEndpointParameterInstructions)==null?void 0:n.call(t))||{};for(let[s,a]of Object.entries(i))switch(a.type){case"staticContextParams":o[s]=a.value;break;case"contextParams":o[s]=e[a.name];break;case"clientContextParams":case"builtInParams":o[s]=await AQ(a.name,s,r)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(i).length===0&&Object.assign(o,r),String(r.serviceId).toLowerCase()==="s3"&&await wQ(o),o},"resolveParams"),Bl=Nr(),uO=dr(({config:e,instructions:t})=>(r,n)=>async o=>{var i,s,a;let c=await dO(o.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=c,n.authSchemes=(i=c.properties)==null?void 0:i.authSchemes;let l=(s=n.authSchemes)==null?void 0:s[0];if(l){n.signing_region=l.signingRegion,n.signing_service=l.signingName;let p=(0,Bl.getSmithyContext)(n),f=(a=p?.selectedHttpAuthScheme)==null?void 0:a.httpAuthOption;f&&(f.signingProperties=Object.assign(f.signingProperties||{},{signing_region:l.signingRegion,signingRegion:l.signingRegion,signing_service:l.signingName,signingName:l.signingName,signingRegionSet:l.signingRegionSet},l.properties))}return r({...o})},"endpointMiddleware"),NQ=jo(),pO={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:NQ.serializerMiddlewareOption.name},DQ=dr((e,t)=>({applyToStack:r=>{r.addRelativeTo(uO({config:e,instructions:t}),pO)}}),"getEndpointPlugin"),$Q=dr(e=>{let t=e.tls??!0,{endpoint:r}=e,n=r!=null?async()=>yg(await(0,Bl.normalizeProvider)(r)()):void 0;return{...e,endpoint:n,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:(0,Bl.normalizeProvider)(e.useDualstackEndpoint??!1),useFipsEndpoint:(0,Bl.normalizeProvider)(e.useFipsEndpoint??!1)}},"resolveEndpointConfig")});function Ya(){return Vl>zl.length-16&&(mO.default.randomFillSync(zl),Vl=0),zl.slice(Vl,Vl+=16)}var mO,zl,Vl,Eg=Ke(()=>{mO=br(require("crypto")),zl=new Uint8Array(256),Vl=zl.length});var hO,gO=Ke(()=>{hO=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function MQ(e){return typeof e=="string"&&hO.test(e)}var Fn,Xa=Ke(()=>{gO();Fn=MQ});function Uo(e,t=0){return Ze[e[t+0]]+Ze[e[t+1]]+Ze[e[t+2]]+Ze[e[t+3]]+"-"+Ze[e[t+4]]+Ze[e[t+5]]+"-"+Ze[e[t+6]]+Ze[e[t+7]]+"-"+Ze[e[t+8]]+Ze[e[t+9]]+"-"+Ze[e[t+10]]+Ze[e[t+11]]+Ze[e[t+12]]+Ze[e[t+13]]+Ze[e[t+14]]+Ze[e[t+15]]}function kQ(e,t=0){let r=Uo(e,t);if(!Fn(r))throw TypeError("Stringified UUID is invalid");return r}var Ze,_O,Qa=Ke(()=>{Xa();Ze=[];for(let e=0;e<256;++e)Ze.push((e+256).toString(16).slice(1));_O=kQ});function LQ(e,t,r){let n=t&&r||0,o=t||new Array(16);e=e||{};let i=e.node||vO,s=e.clockseq!==void 0?e.clockseq:Sg;if(i==null||s==null){let h=e.random||(e.rng||Ya)();i==null&&(i=vO=[h[0]|1,h[1],h[2],h[3],h[4],h[5]]),s==null&&(s=Sg=(h[6]<<8|h[7])&16383)}let a=e.msecs!==void 0?e.msecs:Date.now(),c=e.nsecs!==void 0?e.nsecs:Cg+1,l=a-bg+(c-Cg)/1e4;if(l<0&&e.clockseq===void 0&&(s=s+1&16383),(l<0||a>bg)&&e.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");bg=a,Cg=c,Sg=s,a+=122192928e5;let p=((a&268435455)*1e4+c)%4294967296;o[n++]=p>>>24&255,o[n++]=p>>>16&255,o[n++]=p>>>8&255,o[n++]=p&255;let f=a/4294967296*1e4&268435455;o[n++]=f>>>8&255,o[n++]=f&255,o[n++]=f>>>24&15|16,o[n++]=f>>>16&255,o[n++]=s>>>8|128,o[n++]=s&255;for(let h=0;h<6;++h)o[n+h]=i[h];return t||Uo(o)}var vO,Sg,bg,Cg,yO,EO=Ke(()=>{Eg();Qa();bg=0,Cg=0;yO=LQ});function jQ(e){if(!Fn(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var Hl,wg=Ke(()=>{Xa();Hl=jQ});function qQ(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function Za(e,t,r){function n(o,i,s,a){var c;if(typeof o=="string"&&(o=qQ(o)),typeof i=="string"&&(i=Hl(i)),((c=i)===null||c===void 0?void 0:c.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+o.length);if(l.set(i),l.set(o,i.length),l=r(l),l[6]=l[6]&15|t,l[8]=l[8]&63|128,s){a=a||0;for(let p=0;p<16;++p)s[a+p]=l[p];return s}return Uo(l)}try{n.name=e}catch{}return n.DNS=UQ,n.URL=FQ,n}var UQ,FQ,Pg=Ke(()=>{Qa();wg();UQ="6ba7b810-9dad-11d1-80b4-00c04fd430c8",FQ="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function BQ(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),SO.default.createHash("md5").update(e).digest()}var SO,bO,CO=Ke(()=>{SO=br(require("crypto"));bO=BQ});var GQ,wO,PO=Ke(()=>{Pg();CO();GQ=Za("v3",48,bO),wO=GQ});var TO,Tg,IO=Ke(()=>{TO=br(require("crypto")),Tg={randomUUID:TO.default.randomUUID}});function VQ(e,t,r){if(Tg.randomUUID&&!t&&!e)return Tg.randomUUID();e=e||{};let n=e.random||(e.rng||Ya)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let o=0;o<16;++o)t[r+o]=n[o];return t}return Uo(n)}var OO,RO=Ke(()=>{IO();Eg();Qa();OO=VQ});function zQ(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),AO.default.createHash("sha1").update(e).digest()}var AO,xO,NO=Ke(()=>{AO=br(require("crypto"));xO=zQ});var HQ,DO,$O=Ke(()=>{Pg();NO();HQ=Za("v5",80,xO),DO=HQ});var MO,kO=Ke(()=>{MO="00000000-0000-0000-0000-000000000000"});function WQ(e){if(!Fn(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}var LO,jO=Ke(()=>{Xa();LO=WQ});var Ig={};Fc(Ig,{NIL:()=>MO,parse:()=>Hl,stringify:()=>_O,v1:()=>yO,v3:()=>wO,v4:()=>OO,v5:()=>DO,validate:()=>Fn,version:()=>LO});var Og=Ke(()=>{EO();PO();RO();$O();kO();jO();Xa();Qa();wg()});var Rg=m((iPe,BO)=>{var Wl=Object.defineProperty,KQ=Object.getOwnPropertyDescriptor,JQ=Object.getOwnPropertyNames,YQ=Object.prototype.hasOwnProperty,Mi=(e,t)=>Wl(e,"name",{value:t,configurable:!0}),XQ=(e,t)=>{for(var r in t)Wl(e,r,{get:t[r],enumerable:!0})},QQ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of JQ(t))!YQ.call(e,o)&&o!==r&&Wl(e,o,{get:()=>t[o],enumerable:!(n=KQ(t,o))||n.enumerable});return e},ZQ=e=>QQ(Wl({},"__esModule",{value:!0}),e),qO={};XQ(qO,{isClockSkewCorrectedError:()=>UO,isClockSkewError:()=>sZ,isRetryableByTrait:()=>iZ,isServerError:()=>cZ,isThrottlingError:()=>aZ,isTransientError:()=>FO});BO.exports=ZQ(qO);var eZ=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],tZ=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],rZ=["TimeoutError","RequestTimeout","RequestTimeoutException"],nZ=[500,502,503,504],oZ=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],iZ=Mi(e=>e.$retryable!==void 0,"isRetryableByTrait"),sZ=Mi(e=>eZ.includes(e.name),"isClockSkewError"),UO=Mi(e=>{var t;return(t=e.$metadata)==null?void 0:t.clockSkewCorrected},"isClockSkewCorrectedError"),aZ=Mi(e=>{var t,r;return((t=e.$metadata)==null?void 0:t.httpStatusCode)===429||tZ.includes(e.name)||((r=e.$retryable)==null?void 0:r.throttling)==!0},"isThrottlingError"),FO=Mi(e=>{var t;return UO(e)||rZ.includes(e.name)||oZ.includes(e?.code||"")||nZ.includes(((t=e.$metadata)==null?void 0:t.httpStatusCode)||0)},"isTransientError"),cZ=Mi(e=>{var t;if(((t=e.$metadata)==null?void 0:t.httpStatusCode)!==void 0){let r=e.$metadata.httpStatusCode;return 500<=r&&r<=599&&!FO(e)}return!1},"isServerError")});var ki=m((lPe,tR)=>{var Kl=Object.defineProperty,dZ=Object.getOwnPropertyDescriptor,lZ=Object.getOwnPropertyNames,uZ=Object.prototype.hasOwnProperty,lr=(e,t)=>Kl(e,"name",{value:t,configurable:!0}),pZ=(e,t)=>{for(var r in t)Kl(e,r,{get:t[r],enumerable:!0})},fZ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of lZ(t))!uZ.call(e,o)&&o!==r&&Kl(e,o,{get:()=>t[o],enumerable:!(n=dZ(t,o))||n.enumerable});return e},mZ=e=>fZ(Kl({},"__esModule",{value:!0}),e),VO={};pZ(VO,{AdaptiveRetryStrategy:()=>EZ,ConfiguredRetryStrategy:()=>SZ,DEFAULT_MAX_ATTEMPTS:()=>Ag,DEFAULT_RETRY_DELAY_BASE:()=>ec,DEFAULT_RETRY_MODE:()=>hZ,DefaultRateLimiter:()=>WO,INITIAL_RETRY_TOKENS:()=>xg,INVOCATION_ID_HEADER:()=>_Z,MAXIMUM_RETRY_DELAY:()=>Ng,NO_RETRY_INCREMENT:()=>XO,REQUEST_HEADER:()=>vZ,RETRY_COST:()=>JO,RETRY_MODES:()=>zO,StandardRetryStrategy:()=>Dg,THROTTLING_RETRY_DELAY_BASE:()=>KO,TIMEOUT_RETRY_COST:()=>YO});tR.exports=mZ(VO);var zO=(e=>(e.STANDARD="standard",e.ADAPTIVE="adaptive",e))(zO||{}),Ag=3,hZ="standard",gZ=Rg(),HO=class{constructor(t){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>setTimeout(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),(0,gZ.isThrottlingError)(t)){let o=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=o,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(o),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}};lr(HO,"DefaultRateLimiter");var WO=HO,ec=100,Ng=20*1e3,KO=500,xg=500,JO=5,YO=10,XO=1,_Z="amz-sdk-invocation-id",vZ="amz-sdk-request",yZ=lr(()=>{let e=ec;return{computeNextBackoffDelay:lr(n=>Math.floor(Math.min(Ng,Math.random()*2**n*e)),"computeNextBackoffDelay"),setDelayBase:lr(n=>{e=n},"setDelayBase")}},"getDefaultRetryBackoffStrategy"),GO=lr(({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:lr(()=>t,"getRetryCount"),getRetryDelay:lr(()=>Math.min(Ng,e),"getRetryDelay"),getRetryCost:lr(()=>r,"getRetryCost")}),"createDefaultRetryToken"),QO=class{constructor(t){this.maxAttempts=t,this.mode="standard",this.capacity=xg,this.retryBackoffStrategy=yZ(),this.maxAttemptsProvider=typeof t=="function"?t:async()=>t}async acquireInitialRetryToken(t){return GO({retryDelay:ec,retryCount:0})}async refreshRetryTokenForRetry(t,r){let n=await this.getMaxAttempts();if(this.shouldRetry(t,r,n)){let o=r.errorType;this.retryBackoffStrategy.setDelayBase(o==="THROTTLING"?KO:ec);let i=this.retryBackoffStrategy.computeNextBackoffDelay(t.getRetryCount()),s=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,i):i,a=this.getCapacityCost(o);return this.capacity-=a,GO({retryDelay:s,retryCount:t.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(t){this.capacity=Math.max(xg,this.capacity+(t.getRetryCost()??XO))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${Ag}`),Ag}}shouldRetry(t,r,n){return t.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(t){return t==="TRANSIENT"?YO:JO}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}};lr(QO,"StandardRetryStrategy");var Dg=QO,ZO=class{constructor(t,r){this.maxAttemptsProvider=t,this.mode="adaptive";let{rateLimiter:n}=r??{};this.rateLimiter=n??new WO,this.standardRetryStrategy=new Dg(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(t,r)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}};lr(ZO,"AdaptiveRetryStrategy");var EZ=ZO,eR=class extends Dg{constructor(t,r=ec){super(typeof t=="function"?t:async()=>t),typeof r=="number"?this.computeNextBackoffDelay=()=>r:this.computeNextBackoffDelay=r}async refreshRetryTokenForRetry(t,r){let n=await super.refreshRetryTokenForRetry(t,r);return n.getRetryDelay=()=>this.computeNextBackoffDelay(n.getRetryCount()),n}};lr(eR,"ConfiguredRetryStrategy");var SZ=eR});var sR=m((uPe,iR)=>{var Jl=Object.defineProperty,bZ=Object.getOwnPropertyDescriptor,CZ=Object.getOwnPropertyNames,wZ=Object.prototype.hasOwnProperty,Gt=(e,t)=>Jl(e,"name",{value:t,configurable:!0}),PZ=(e,t)=>{for(var r in t)Jl(e,r,{get:t[r],enumerable:!0})},TZ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of CZ(t))!wZ.call(e,o)&&o!==r&&Jl(e,o,{get:()=>t[o],enumerable:!(n=bZ(t,o))||n.enumerable});return e},IZ=e=>TZ(Jl({},"__esModule",{value:!0}),e),oR={};PZ(oR,{constructStack:()=>$g});iR.exports=IZ(oR);var Fo=Gt((e,t)=>{let r=[];if(e&&r.push(e),t)for(let n of t)r.push(n);return r},"getAllAliases"),Bn=Gt((e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,"getMiddlewareNameWithAliases"),$g=Gt(()=>{let e=[],t=[],r=!1,n=new Set,o=Gt(f=>f.sort((h,g)=>rR[g.step]-rR[h.step]||nR[g.priority||"normal"]-nR[h.priority||"normal"]),"sort"),i=Gt(f=>{let h=!1,g=Gt(v=>{let S=Fo(v.name,v.aliases);if(S.includes(f)){h=!0;for(let b of S)n.delete(b);return!1}return!0},"filterCb");return e=e.filter(g),t=t.filter(g),h},"removeByName"),s=Gt(f=>{let h=!1,g=Gt(v=>{if(v.middleware===f){h=!0;for(let S of Fo(v.name,v.aliases))n.delete(S);return!1}return!0},"filterCb");return e=e.filter(g),t=t.filter(g),h},"removeByReference"),a=Gt(f=>{var h;return e.forEach(g=>{f.add(g.middleware,{...g})}),t.forEach(g=>{f.addRelativeTo(g.middleware,{...g})}),(h=f.identifyOnResolve)==null||h.call(f,p.identifyOnResolve()),f},"cloneTo"),c=Gt(f=>{let h=[];return f.before.forEach(g=>{g.before.length===0&&g.after.length===0?h.push(g):h.push(...c(g))}),h.push(f),f.after.reverse().forEach(g=>{g.before.length===0&&g.after.length===0?h.push(g):h.push(...c(g))}),h},"expandRelativeMiddlewareList"),l=Gt((f=!1)=>{let h=[],g=[],v={};return e.forEach(b=>{let T={...b,before:[],after:[]};for(let O of Fo(T.name,T.aliases))v[O]=T;h.push(T)}),t.forEach(b=>{let T={...b,before:[],after:[]};for(let O of Fo(T.name,T.aliases))v[O]=T;g.push(T)}),g.forEach(b=>{if(b.toMiddleware){let T=v[b.toMiddleware];if(T===void 0){if(f)return;throw new Error(`${b.toMiddleware} is not found when adding ${Bn(b.name,b.aliases)} middleware ${b.relation} ${b.toMiddleware}`)}b.relation==="after"&&T.after.push(b),b.relation==="before"&&T.before.push(b)}}),o(h).map(c).reduce((b,T)=>(b.push(...T),b),[])},"getMiddlewareList"),p={add:(f,h={})=>{let{name:g,override:v,aliases:S}=h,b={step:"initialize",priority:"normal",middleware:f,...h},T=Fo(g,S);if(T.length>0){if(T.some(O=>n.has(O))){if(!v)throw new Error(`Duplicate middleware name '${Bn(g,S)}'`);for(let O of T){let $=e.findIndex(j=>{var x;return j.name===O||((x=j.aliases)==null?void 0:x.some(U=>U===O))});if($===-1)continue;let k=e[$];if(k.step!==b.step||b.priority!==k.priority)throw new Error(`"${Bn(k.name,k.aliases)}" middleware with ${k.priority} priority in ${k.step} step cannot be overridden by "${Bn(g,S)}" middleware with ${b.priority} priority in ${b.step} step.`);e.splice($,1)}}for(let O of T)n.add(O)}e.push(b)},addRelativeTo:(f,h)=>{let{name:g,override:v,aliases:S}=h,b={middleware:f,...h},T=Fo(g,S);if(T.length>0){if(T.some(O=>n.has(O))){if(!v)throw new Error(`Duplicate middleware name '${Bn(g,S)}'`);for(let O of T){let $=t.findIndex(j=>{var x;return j.name===O||((x=j.aliases)==null?void 0:x.some(U=>U===O))});if($===-1)continue;let k=t[$];if(k.toMiddleware!==b.toMiddleware||k.relation!==b.relation)throw new Error(`"${Bn(k.name,k.aliases)}" middleware ${k.relation} "${k.toMiddleware}" middleware cannot be overridden by "${Bn(g,S)}" middleware ${b.relation} "${b.toMiddleware}" middleware.`);t.splice($,1)}}for(let O of T)n.add(O)}t.push(b)},clone:()=>a($g()),use:f=>{f.applyToStack(p)},remove:f=>typeof f=="string"?i(f):s(f),removeByTag:f=>{let h=!1,g=Gt(v=>{let{tags:S,name:b,aliases:T}=v;if(S&&S.includes(f)){let O=Fo(b,T);for(let $ of O)n.delete($);return h=!0,!1}return!0},"filterCb");return e=e.filter(g),t=t.filter(g),h},concat:f=>{var h;let g=a($g());return g.use(f),g.identifyOnResolve(r||g.identifyOnResolve()||(((h=f.identifyOnResolve)==null?void 0:h.call(f))??!1)),g},applyToStack:a,identify:()=>l(!0).map(f=>{let h=f.step??f.relation+" "+f.toMiddleware;return Bn(f.name,f.aliases)+" - "+h}),identifyOnResolve(f){return typeof f=="boolean"&&(r=f),r},resolve:(f,h)=>{for(let g of l().map(v=>v.middleware).reverse())f=g(f,h);return r&&console.log(p.identify()),f}};return p},"constructStack"),rR={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},nR={high:3,normal:2,low:1}});var Mg=m((pPe,cR)=>{var Yl=Object.defineProperty,OZ=Object.getOwnPropertyDescriptor,RZ=Object.getOwnPropertyNames,AZ=Object.prototype.hasOwnProperty,xZ=(e,t)=>Yl(e,"name",{value:t,configurable:!0}),NZ=(e,t)=>{for(var r in t)Yl(e,r,{get:t[r],enumerable:!0})},DZ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of RZ(t))!AZ.call(e,o)&&o!==r&&Yl(e,o,{get:()=>t[o],enumerable:!(n=OZ(t,o))||n.enumerable});return e},$Z=e=>DZ(Yl({},"__esModule",{value:!0}),e),aR={};NZ(aR,{isArrayBuffer:()=>MZ});cR.exports=$Z(aR);var MZ=xZ(e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]","isArrayBuffer")});var Li=m((fPe,uR)=>{var Xl=Object.defineProperty,kZ=Object.getOwnPropertyDescriptor,LZ=Object.getOwnPropertyNames,jZ=Object.prototype.hasOwnProperty,dR=(e,t)=>Xl(e,"name",{value:t,configurable:!0}),qZ=(e,t)=>{for(var r in t)Xl(e,r,{get:t[r],enumerable:!0})},UZ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of LZ(t))!jZ.call(e,o)&&o!==r&&Xl(e,o,{get:()=>t[o],enumerable:!(n=kZ(t,o))||n.enumerable});return e},FZ=e=>UZ(Xl({},"__esModule",{value:!0}),e),lR={};qZ(lR,{fromArrayBuffer:()=>GZ,fromString:()=>VZ});uR.exports=FZ(lR);var BZ=Mg(),kg=require("buffer"),GZ=dR((e,t=0,r=e.byteLength-t)=>{if(!(0,BZ.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return kg.Buffer.from(e,t,r)},"fromArrayBuffer"),VZ=dR((e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?kg.Buffer.from(e,t):kg.Buffer.from(e)},"fromString")});var pR=m(Ql=>{"use strict";Object.defineProperty(Ql,"__esModule",{value:!0});Ql.fromBase64=void 0;var zZ=Li(),HZ=/^[A-Za-z0-9+/]*={0,2}$/,WZ=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!HZ.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,zZ.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};Ql.fromBase64=WZ});var Vt=m((hPe,gR)=>{var Zl=Object.defineProperty,KZ=Object.getOwnPropertyDescriptor,JZ=Object.getOwnPropertyNames,YZ=Object.prototype.hasOwnProperty,Lg=(e,t)=>Zl(e,"name",{value:t,configurable:!0}),XZ=(e,t)=>{for(var r in t)Zl(e,r,{get:t[r],enumerable:!0})},QZ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of JZ(t))!YZ.call(e,o)&&o!==r&&Zl(e,o,{get:()=>t[o],enumerable:!(n=KZ(t,o))||n.enumerable});return e},ZZ=e=>QZ(Zl({},"__esModule",{value:!0}),e),fR={};XZ(fR,{fromUtf8:()=>hR,toUint8Array:()=>eee,toUtf8:()=>tee});gR.exports=ZZ(fR);var mR=Li(),hR=Lg(e=>{let t=(0,mR.fromString)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),eee=Lg(e=>typeof e=="string"?hR(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),"toUint8Array"),tee=Lg(e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,mR.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},"toUtf8")});var _R=m(eu=>{"use strict";Object.defineProperty(eu,"__esModule",{value:!0});eu.toBase64=void 0;var ree=Li(),nee=Vt(),oee=e=>{let t;if(typeof e=="string"?t=(0,nee.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,ree.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};eu.toBase64=oee});var ji=m((_Pe,tu)=>{var vR=Object.defineProperty,iee=Object.getOwnPropertyDescriptor,see=Object.getOwnPropertyNames,aee=Object.prototype.hasOwnProperty,jg=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of see(t))!aee.call(e,o)&&o!==r&&vR(e,o,{get:()=>t[o],enumerable:!(n=iee(t,o))||n.enumerable});return e},yR=(e,t,r)=>(jg(e,t,"default"),r&&jg(r,t,"default")),cee=e=>jg(vR({},"__esModule",{value:!0}),e),qg={};tu.exports=cee(qg);yR(qg,pR(),tu.exports);yR(qg,_R(),tu.exports)});var ER=m(ru=>{"use strict";Object.defineProperty(ru,"__esModule",{value:!0});ru.getAwsChunkedEncodingStream=void 0;var dee=require("stream"),lee=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:o,checksumLocationName:i,streamHasher:s}=t,a=r!==void 0&&o!==void 0&&i!==void 0&&s!==void 0,c=a?s(o,e):void 0,l=new dee.Readable({read:()=>{}});return e.on("data",p=>{let f=n(p)||0;l.push(`${f.toString(16)}\r
`),l.push(p),l.push(`\r
`)}),e.on("end",async()=>{if(l.push(`0\r
`),a){let p=r(await c);l.push(`${i}:${p}\r
`),l.push(`\r
`)}l.push(null)}),l};ru.getAwsChunkedEncodingStream=lee});var Fg=m((yPe,CR)=>{var nu=Object.defineProperty,uee=Object.getOwnPropertyDescriptor,pee=Object.getOwnPropertyNames,fee=Object.prototype.hasOwnProperty,Ug=(e,t)=>nu(e,"name",{value:t,configurable:!0}),mee=(e,t)=>{for(var r in t)nu(e,r,{get:t[r],enumerable:!0})},hee=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of pee(t))!fee.call(e,o)&&o!==r&&nu(e,o,{get:()=>t[o],enumerable:!(n=uee(t,o))||n.enumerable});return e},gee=e=>hee(nu({},"__esModule",{value:!0}),e),SR={};mee(SR,{escapeUri:()=>bR,escapeUriPath:()=>vee});CR.exports=gee(SR);var bR=Ug(e=>encodeURIComponent(e).replace(/[!'()*]/g,_ee),"escapeUri"),_ee=Ug(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,"hexEncode"),vee=Ug(e=>e.split("/").map(bR).join("/"),"escapeUriPath")});var IR=m((EPe,TR)=>{var ou=Object.defineProperty,yee=Object.getOwnPropertyDescriptor,Eee=Object.getOwnPropertyNames,See=Object.prototype.hasOwnProperty,bee=(e,t)=>ou(e,"name",{value:t,configurable:!0}),Cee=(e,t)=>{for(var r in t)ou(e,r,{get:t[r],enumerable:!0})},wee=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Eee(t))!See.call(e,o)&&o!==r&&ou(e,o,{get:()=>t[o],enumerable:!(n=yee(t,o))||n.enumerable});return e},Pee=e=>wee(ou({},"__esModule",{value:!0}),e),wR={};Cee(wR,{buildQueryString:()=>PR});TR.exports=Pee(wR);var Bg=Fg();function PR(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=(0,Bg.escapeUri)(r),Array.isArray(n))for(let o=0,i=n.length;o<i;o++)t.push(`${r}=${(0,Bg.escapeUri)(n[o])}`);else{let o=r;(n||typeof n=="string")&&(o+=`=${(0,Bg.escapeUri)(n)}`),t.push(o)}}return t.join("&")}bee(PR,"buildQueryString")});var Bo=m((wPe,GR)=>{var Tee=Object.create,tc=Object.defineProperty,Iee=Object.getOwnPropertyDescriptor,Oee=Object.getOwnPropertyNames,Ree=Object.getPrototypeOf,Aee=Object.prototype.hasOwnProperty,Je=(e,t)=>tc(e,"name",{value:t,configurable:!0}),xee=(e,t)=>{for(var r in t)tc(e,r,{get:t[r],enumerable:!0})},AR=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Oee(t))!Aee.call(e,o)&&o!==r&&tc(e,o,{get:()=>t[o],enumerable:!(n=Iee(t,o))||n.enumerable});return e},Nee=(e,t,r)=>(r=e!=null?Tee(Ree(e)):{},AR(t||!e||!e.__esModule?tc(r,"default",{value:e,enumerable:!0}):r,e)),Dee=e=>AR(tc({},"__esModule",{value:!0}),e),xR={};xee(xR,{DEFAULT_REQUEST_TIMEOUT:()=>jee,NodeHttp2Handler:()=>Gee,NodeHttpHandler:()=>qee,streamCollector:()=>zee});GR.exports=Dee(xR);var NR=at(),DR=IR(),Gg=require("http"),Vg=require("https"),$ee=["ECONNRESET","EPIPE","ETIMEDOUT"],$R=Je(e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t},"getTransformedHeaders"),Mee=Je((e,t,r=0)=>{if(!r)return;let n=setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`Socket timed out without establishing a connection within ${r} ms`),{name:"TimeoutError"}))},r);e.on("socket",o=>{o.connecting?o.on("connect",()=>{clearTimeout(n)}):clearTimeout(n)})},"setConnectionTimeout"),kee=Je((e,{keepAlive:t,keepAliveMsecs:r})=>{t===!0&&e.on("socket",n=>{n.setKeepAlive(t,r||0)})},"setSocketKeepAlive"),Lee=Je((e,t,r=0)=>{e.setTimeout(r,()=>{e.destroy(),t(Object.assign(new Error(`Connection timed out after ${r} ms`),{name:"TimeoutError"}))})},"setSocketTimeout"),MR=require("stream"),OR=1e3;async function Hg(e,t,r=OR){let n=t.headers??{},o=n.Expect||n.expect,i=-1,s=!1;o==="100-continue"&&await Promise.race([new Promise(a=>{i=Number(setTimeout(a,Math.max(OR,r)))}),new Promise(a=>{e.on("continue",()=>{clearTimeout(i),a()}),e.on("error",()=>{s=!0,clearTimeout(i),a()})})]),s||kR(e,t.body)}Je(Hg,"writeRequestBody");function kR(e,t){if(t instanceof MR.Readable){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){e.end(t);return}let r=t;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}e.end(Buffer.from(t));return}e.end()}Je(kR,"writeBody");var jee=0,LR=class zg{constructor(t){this.socketWarningTimestamp=0,this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(this.resolveDefaultConfig(o))}).catch(n):r(this.resolveDefaultConfig(t))})}static create(t){return typeof t?.handle=="function"?t:new zg(t)}static checkSocketUsage(t,r){var n,o;let{sockets:i,requests:s,maxSockets:a}=t;if(typeof a!="number"||a===1/0||Date.now()-15e3<r)return r;if(i&&s)for(let l in i){let p=((n=i[l])==null?void 0:n.length)??0,f=((o=s[l])==null?void 0:o.length)??0;if(p>=a&&f>=2*a)return console.warn("@smithy/node-http-handler:WARN",`socket usage at capacity=${p} and ${f} additional requests are enqueued.`,"See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html","or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config."),Date.now()}return r}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:o,httpAgent:i,httpsAgent:s}=t||{},a=!0,c=50;return{connectionTimeout:n,requestTimeout:r??o,httpAgent:i instanceof Gg.Agent||typeof i?.destroy=="function"?i:new Gg.Agent({keepAlive:a,maxSockets:c,...i}),httpsAgent:s instanceof Vg.Agent||typeof s?.destroy=="function"?s:new Vg.Agent({keepAlive:a,maxSockets:c,...s})}}destroy(){var t,r,n,o;(r=(t=this.config)==null?void 0:t.httpAgent)==null||r.destroy(),(o=(n=this.config)==null?void 0:n.httpsAgent)==null||o.destroy()}async handle(t,{abortSignal:r}={}){this.config||(this.config=await this.configProvider);let n;return new Promise((o,i)=>{let s,a=Je(async O=>{await s,clearTimeout(n),o(O)},"resolve"),c=Je(async O=>{await s,i(O)},"reject");if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(r?.aborted){let O=new Error("Request aborted");O.name="AbortError",c(O);return}let l=t.protocol==="https:",p=l?this.config.httpsAgent:this.config.httpAgent;n=setTimeout(()=>{this.socketWarningTimestamp=zg.checkSocketUsage(p,this.socketWarningTimestamp)},this.config.socketAcquisitionWarningTimeout??(this.config.requestTimeout??2e3)+(this.config.connectionTimeout??1e3));let f=(0,DR.buildQueryString)(t.query||{}),h;if(t.username!=null||t.password!=null){let O=t.username??"",$=t.password??"";h=`${O}:${$}`}let g=t.path;f&&(g+=`?${f}`),t.fragment&&(g+=`#${t.fragment}`);let v={headers:t.headers,host:t.hostname,method:t.method,path:g,port:t.port,agent:p,auth:h},b=(l?Vg.request:Gg.request)(v,O=>{let $=new NR.HttpResponse({statusCode:O.statusCode||-1,reason:O.statusMessage,headers:$R(O.headers),body:O});a({response:$})});b.on("error",O=>{$ee.includes(O.code)?c(Object.assign(O,{name:"TimeoutError"})):c(O)}),Mee(b,c,this.config.connectionTimeout),Lee(b,c,this.config.requestTimeout),r&&(r.onabort=()=>{b.abort();let O=new Error("Request aborted");O.name="AbortError",c(O)});let T=v.agent;typeof T=="object"&&"keepAlive"in T&&kee(b,{keepAlive:T.keepAlive,keepAliveMsecs:T.keepAliveMsecs}),s=Hg(b,t,this.config.requestTimeout).catch(i)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}};Je(LR,"NodeHttpHandler");var qee=LR,RR=require("http2"),Uee=Nee(require("http2")),jR=class{constructor(t){this.sessions=[],this.sessions=t??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(t){this.sessions.push(t)}contains(t){return this.sessions.includes(t)}remove(t){this.sessions=this.sessions.filter(r=>r!==t)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(t){for(let r of this.sessions)r===t&&(r.destroyed||r.destroy())}};Je(jR,"NodeHttp2ConnectionPool");var Fee=jR,qR=class{constructor(t){if(this.sessionCache=new Map,this.config=t,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}lease(t,r){let n=this.getUrlString(t),o=this.sessionCache.get(n);if(o){let c=o.poll();if(c&&!this.config.disableConcurrency)return c}let i=Uee.default.connect(n);this.config.maxConcurrency&&i.settings({maxConcurrentStreams:this.config.maxConcurrency},c=>{if(c)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+t.destination.toString())}),i.unref();let s=Je(()=>{i.destroy(),this.deleteSession(n,i)},"destroySessionCb");i.on("goaway",s),i.on("error",s),i.on("frameError",s),i.on("close",()=>this.deleteSession(n,i)),r.requestTimeout&&i.setTimeout(r.requestTimeout,s);let a=this.sessionCache.get(n)||new Fee;return a.offerLast(i),this.sessionCache.set(n,a),i}deleteSession(t,r){let n=this.sessionCache.get(t);n&&n.contains(r)&&(n.remove(r),this.sessionCache.set(t,n))}release(t,r){var n;let o=this.getUrlString(t);(n=this.sessionCache.get(o))==null||n.offerLast(r)}destroy(){for(let[t,r]of this.sessionCache){for(let n of r)n.destroyed||n.destroy(),r.remove(n);this.sessionCache.delete(t)}}setMaxConcurrentStreams(t){if(this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=t}setDisableConcurrentStreams(t){this.config.disableConcurrency=t}getUrlString(t){return t.destination.toString()}};Je(qR,"NodeHttp2ConnectionManager");var Bee=qR,UR=class FR{constructor(t){this.metadata={handlerProtocol:"h2"},this.connectionManager=new Bee({}),this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(o||{})}).catch(n):r(t||{})})}static create(t){return typeof t?.handle=="function"?t:new FR(t)}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:r}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:n,disableConcurrentStreams:o}=this.config;return new Promise((i,s)=>{var a;let c=!1,l,p=Je(async K=>{await l,i(K)},"resolve"),f=Je(async K=>{await l,s(K)},"reject");if(r?.aborted){c=!0;let K=new Error("Request aborted");K.name="AbortError",f(K);return}let{hostname:h,method:g,port:v,protocol:S,query:b}=t,T="";if(t.username!=null||t.password!=null){let K=t.username??"",ne=t.password??"";T=`${K}:${ne}@`}let O=`${S}//${T}${h}${v?`:${v}`:""}`,$={destination:new URL(O)},k=this.connectionManager.lease($,{requestTimeout:(a=this.config)==null?void 0:a.sessionTimeout,disableConcurrentStreams:o||!1}),j=Je(K=>{o&&this.destroySession(k),c=!0,f(K)},"rejectWithDestroy"),x=(0,DR.buildQueryString)(b||{}),U=t.path;x&&(U+=`?${x}`),t.fragment&&(U+=`#${t.fragment}`);let J=k.request({...t.headers,[RR.constants.HTTP2_HEADER_PATH]:U,[RR.constants.HTTP2_HEADER_METHOD]:g});k.ref(),J.on("response",K=>{let ne=new NR.HttpResponse({statusCode:K[":status"]||-1,headers:$R(K),body:J});c=!0,p({response:ne}),o&&(k.close(),this.connectionManager.deleteSession(O,k))}),n&&J.setTimeout(n,()=>{J.close();let K=new Error(`Stream timed out because of no activity for ${n} ms`);K.name="TimeoutError",j(K)}),r&&(r.onabort=()=>{J.close();let K=new Error("Request aborted");K.name="AbortError",j(K)}),J.on("frameError",(K,ne,ye)=>{j(new Error(`Frame type id ${K} in stream id ${ye} has failed with code ${ne}.`))}),J.on("error",j),J.on("aborted",()=>{j(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${J.rstCode}.`))}),J.on("close",()=>{k.unref(),o&&k.destroy(),c||j(new Error("Unexpected error: http2 request did not get a response"))}),l=Hg(J,t,n)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}};Je(UR,"NodeHttp2Handler");var Gee=UR,BR=class extends MR.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}_write(t,r,n){this.bufferedBytes.push(t),n()}};Je(BR,"Collector");var Vee=BR,zee=Je(e=>new Promise((t,r)=>{let n=new Vee;e.pipe(n),e.on("error",o=>{n.end(),r(o)}),n.on("error",r),n.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.bufferedBytes));t(o)})}),"streamCollector")});var zR=m(iu=>{"use strict";Object.defineProperty(iu,"__esModule",{value:!0});iu.sdkStreamMixin=void 0;var Hee=Bo(),Wee=Li(),Wg=require("stream"),Kee=require("util"),VR="The stream has already been transformed.",Jee=e=>{var t,r;if(!(e instanceof Wg.Readable)){let i=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${i}`)}let n=!1,o=async()=>{if(n)throw new Error(VR);return n=!0,await(0,Hee.streamCollector)(e)};return Object.assign(e,{transformToByteArray:o,transformToString:async i=>{let s=await o();return i===void 0||Buffer.isEncoding(i)?(0,Wee.fromArrayBuffer)(s.buffer,s.byteOffset,s.byteLength).toString(i):new Kee.TextDecoder(i).decode(s)},transformToWebStream:()=>{if(n)throw new Error(VR);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof Wg.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please make sure you are using Node.js >= 17.0.0, or polyfill is available.");return n=!0,Wg.Readable.toWeb(e)}})};iu.sdkStreamMixin=Jee});var Xg=m((TPe,cu)=>{var su=Object.defineProperty,Yee=Object.getOwnPropertyDescriptor,Xee=Object.getOwnPropertyNames,Qee=Object.prototype.hasOwnProperty,Yg=(e,t)=>su(e,"name",{value:t,configurable:!0}),Zee=(e,t)=>{for(var r in t)su(e,r,{get:t[r],enumerable:!0})},Kg=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Xee(t))!Qee.call(e,o)&&o!==r&&su(e,o,{get:()=>t[o],enumerable:!(n=Yee(t,o))||n.enumerable});return e},HR=(e,t,r)=>(Kg(e,t,"default"),r&&Kg(r,t,"default")),ete=e=>Kg(su({},"__esModule",{value:!0}),e),au={};Zee(au,{Uint8ArrayBlobAdapter:()=>Jg});cu.exports=ete(au);var WR=ji(),KR=Vt();function JR(e,t="utf-8"){return t==="base64"?(0,WR.toBase64)(e):(0,KR.toUtf8)(e)}Yg(JR,"transformToString");function YR(e,t){return t==="base64"?Jg.mutate((0,WR.fromBase64)(e)):Jg.mutate((0,KR.fromUtf8)(e))}Yg(YR,"transformFromString");var XR=class QR extends Uint8Array{static fromString(t,r="utf-8"){switch(typeof t){case"string":return YR(t,r);default:throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}}static mutate(t){return Object.setPrototypeOf(t,QR.prototype),t}transformToString(t="utf-8"){return JR(this,t)}};Yg(XR,"Uint8ArrayBlobAdapter");var Jg=XR;HR(au,ER(),cu.exports);HR(au,zR(),cu.exports)});var ke=m((xPe,bA)=>{var fu=Object.defineProperty,tte=Object.getOwnPropertyDescriptor,rte=Object.getOwnPropertyNames,nte=Object.prototype.hasOwnProperty,A=(e,t)=>fu(e,"name",{value:t,configurable:!0}),ote=(e,t)=>{for(var r in t)fu(e,r,{get:t[r],enumerable:!0})},ite=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of rte(t))!nte.call(e,o)&&o!==r&&fu(e,o,{get:()=>t[o],enumerable:!(n=tte(t,o))||n.enumerable});return e},ste=e=>ite(fu({},"__esModule",{value:!0}),e),eA={};ote(eA,{Client:()=>cte,Command:()=>iA,LazyJsonString:()=>ore,NoOpLogger:()=>ate,SENSITIVE_STRING:()=>ute,ServiceException:()=>Hte,StringWrapper:()=>sc,_json:()=>o_,collectBody:()=>dte,convertMap:()=>ire,createAggregatedClient:()=>pte,dateToUtcString:()=>pA,decorateServiceException:()=>hA,emitWarningIfUnsupportedVersion:()=>Yte,expectBoolean:()=>mte,expectByte:()=>n_,expectFloat32:()=>lu,expectInt:()=>gte,expectInt32:()=>t_,expectLong:()=>oc,expectNonNull:()=>vte,expectNumber:()=>nc,expectObject:()=>aA,expectShort:()=>r_,expectString:()=>yte,expectUnion:()=>Ete,extendedEncodeURIComponent:()=>pu,getArrayIfSingleItem:()=>nre,getDefaultClientConfiguration:()=>tre,getDefaultExtensionConfiguration:()=>_A,getValueFromTextNode:()=>vA,handleFloat:()=>Cte,limitedParseDouble:()=>a_,limitedParseFloat:()=>wte,limitedParseFloat32:()=>Pte,loadConfigsForDefaultMode:()=>Jte,logger:()=>ic,map:()=>d_,parseBoolean:()=>fte,parseEpochTimestamp:()=>Lte,parseRfc3339DateTime:()=>Ate,parseRfc3339DateTimeWithOffset:()=>Nte,parseRfc7231DateTime:()=>kte,resolveDefaultRuntimeConfig:()=>rre,resolvedPath:()=>lre,serializeFloat:()=>ure,splitEvery:()=>SA,strictParseByte:()=>uA,strictParseDouble:()=>s_,strictParseFloat:()=>Ste,strictParseFloat32:()=>cA,strictParseInt:()=>Tte,strictParseInt32:()=>Ite,strictParseLong:()=>lA,strictParseShort:()=>qi,take:()=>sre,throwDefaultError:()=>gA,withBaseException:()=>Wte});bA.exports=ste(eA);var tA=class{trace(){}debug(){}info(){}warn(){}error(){}};A(tA,"NoOpLogger");var ate=tA,rA=sR(),nA=class{constructor(t){this.middlewareStack=(0,rA.constructStack)(),this.config=t}send(t,r,n){let o=typeof r!="function"?r:void 0,i=typeof r=="function"?r:n,s=t.resolveMiddleware(this.middlewareStack,this.config,o);if(i)s(t).then(a=>i(null,a.output),a=>i(a)).catch(()=>{});else return s(t).then(a=>a.output)}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}};A(nA,"Client");var cte=nA,Qg=Xg(),dte=A(async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return Qg.Uint8ArrayBlobAdapter.mutate(e);if(!e)return Qg.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return Qg.Uint8ArrayBlobAdapter.mutate(await r)},"collectBody"),e_=ar(),oA=class{constructor(){this.middlewareStack=(0,rA.constructStack)()}static classBuilder(){return new lte}resolveMiddlewareWithContext(t,r,n,{middlewareFn:o,clientName:i,commandName:s,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,smithyContext:l,additionalContext:p,CommandCtor:f}){for(let b of o.bind(this)(f,t,r,n))this.middlewareStack.use(b);let h=t.concat(this.middlewareStack),{logger:g}=r,v={logger:g,clientName:i,commandName:s,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,[e_.SMITHY_CONTEXT_KEY]:{...l},...p},{requestHandler:S}=r;return h.resolve(b=>S.handle(b.request,n||{}),v)}};A(oA,"Command");var iA=oA,sA=class{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=t=>t,this._outputFilterSensitiveLog=t=>t,this._serializer=null,this._deserializer=null}init(t){this._init=t}ep(t){return this._ep=t,this}m(t){return this._middlewareFn=t,this}s(t,r,n={}){return this._smithyContext={service:t,operation:r,...n},this}c(t={}){return this._additionalContext=t,this}n(t,r){return this._clientName=t,this._commandName=r,this}f(t=n=>n,r=n=>n){return this._inputFilterSensitiveLog=t,this._outputFilterSensitiveLog=r,this}ser(t){return this._serializer=t,this}de(t){return this._deserializer=t,this}build(){var t;let r=this,n;return n=(t=class extends iA{constructor(...[o]){super(),this.serialize=r._serializer,this.deserialize=r._deserializer,this.input=o??{},r._init(this)}static getEndpointParameterInstructions(){return r._ep}resolveMiddleware(o,i,s){return this.resolveMiddlewareWithContext(o,i,s,{CommandCtor:n,middlewareFn:r._middlewareFn,clientName:r._clientName,commandName:r._commandName,inputFilterSensitiveLog:r._inputFilterSensitiveLog,outputFilterSensitiveLog:r._outputFilterSensitiveLog,smithyContext:r._smithyContext,additionalContext:r._additionalContext})}},A(t,"CommandRef"),t)}};A(sA,"ClassBuilder");var lte=sA,ute="***SensitiveInformation***",pte=A((e,t)=>{for(let r of Object.keys(e)){let n=e[r],o=A(async function(s,a,c){let l=new n(s);if(typeof a=="function")this.send(l,a);else if(typeof c=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(l,a||{},c)}else return this.send(l,a)},"methodImpl"),i=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[i]=o}},"createAggregatedClient"),fte=A(e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},"parseBoolean"),mte=A(e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&ic.warn(uu(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&ic.warn(uu(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},"expectBoolean"),nc=A(e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&ic.warn(uu(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},"expectNumber"),hte=Math.ceil(2**127*(2-2**-23)),lu=A(e=>{let t=nc(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>hte)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},"expectFloat32"),oc=A(e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},"expectLong"),gte=oc,t_=A(e=>i_(e,32),"expectInt32"),r_=A(e=>i_(e,16),"expectShort"),n_=A(e=>i_(e,8),"expectByte"),i_=A((e,t)=>{let r=oc(e);if(r!==void 0&&_te(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},"expectSizedInt"),_te=A((e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},"castInt"),vte=A((e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},"expectNonNull"),aA=A(e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},"expectObject"),yte=A(e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return ic.warn(uu(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},"expectString"),Ete=A(e=>{if(e==null)return;let t=aA(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},"expectUnion"),s_=A(e=>nc(typeof e=="string"?Fi(e):e),"strictParseDouble"),Ste=s_,cA=A(e=>lu(typeof e=="string"?Fi(e):e),"strictParseFloat32"),bte=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Fi=A(e=>{let t=e.match(bte);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},"parseNumber"),a_=A(e=>typeof e=="string"?dA(e):nc(e),"limitedParseDouble"),Cte=a_,wte=a_,Pte=A(e=>typeof e=="string"?dA(e):lu(e),"limitedParseFloat32"),dA=A(e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},"parseFloatString"),lA=A(e=>oc(typeof e=="string"?Fi(e):e),"strictParseLong"),Tte=lA,Ite=A(e=>t_(typeof e=="string"?Fi(e):e),"strictParseInt32"),qi=A(e=>r_(typeof e=="string"?Fi(e):e),"strictParseShort"),uA=A(e=>n_(typeof e=="string"?Fi(e):e),"strictParseByte"),uu=A(e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),"stackTraceWarning"),ic={warn:console.warn},Ote=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],c_=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function pA(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),o=e.getUTCDate(),i=e.getUTCHours(),s=e.getUTCMinutes(),a=e.getUTCSeconds(),c=o<10?`0${o}`:`${o}`,l=i<10?`0${i}`:`${i}`,p=s<10?`0${s}`:`${s}`,f=a<10?`0${a}`:`${a}`;return`${Ote[n]}, ${c} ${c_[r]} ${t} ${l}:${p}:${f} GMT`}A(pA,"dateToUtcString");var Rte=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),Ate=A(e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=Rte.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,i,s,a,c,l]=t,p=qi(Ui(n)),f=$r(o,"month",1,12),h=$r(i,"day",1,31);return rc(p,f,h,{hours:s,minutes:a,seconds:c,fractionalMilliseconds:l})},"parseRfc3339DateTime"),xte=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),Nte=A(e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=xte.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,i,s,a,c,l,p]=t,f=qi(Ui(n)),h=$r(o,"month",1,12),g=$r(i,"day",1,31),v=rc(f,h,g,{hours:s,minutes:a,seconds:c,fractionalMilliseconds:l});return p.toUpperCase()!="Z"&&v.setTime(v.getTime()-zte(p)),v},"parseRfc3339DateTimeWithOffset"),Dte=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),$te=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Mte=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),kte=A(e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=Dte.exec(e);if(t){let[r,n,o,i,s,a,c,l]=t;return rc(qi(Ui(i)),Zg(o),$r(n,"day",1,31),{hours:s,minutes:a,seconds:c,fractionalMilliseconds:l})}if(t=$te.exec(e),t){let[r,n,o,i,s,a,c,l]=t;return Ute(rc(jte(i),Zg(o),$r(n,"day",1,31),{hours:s,minutes:a,seconds:c,fractionalMilliseconds:l}))}if(t=Mte.exec(e),t){let[r,n,o,i,s,a,c,l]=t;return rc(qi(Ui(l)),Zg(n),$r(o.trimLeft(),"day",1,31),{hours:i,minutes:s,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")},"parseRfc7231DateTime"),Lte=A(e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=s_(e);else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},"parseEpochTimestamp"),rc=A((e,t,r,n)=>{let o=t-1;return Bte(e,o,r),new Date(Date.UTC(e,o,r,$r(n.hours,"hour",0,23),$r(n.minutes,"minute",0,59),$r(n.seconds,"seconds",0,60),Vte(n.fractionalMilliseconds)))},"buildDate"),jte=A(e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+qi(Ui(e));return r<t?r+100:r},"parseTwoDigitYear"),qte=50*365*24*60*60*1e3,Ute=A(e=>e.getTime()-new Date().getTime()>qte?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,"adjustRfc850Year"),Zg=A(e=>{let t=c_.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},"parseMonthByShortName"),Fte=[31,28,31,30,31,30,31,31,30,31,30,31],Bte=A((e,t,r)=>{let n=Fte[t];if(t===1&&Gte(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${c_[t]} in ${e}: ${r}`)},"validateDayOfMonth"),Gte=A(e=>e%4===0&&(e%100!==0||e%400===0),"isLeapYear"),$r=A((e,t,r,n)=>{let o=uA(Ui(e));if(o<r||o>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return o},"parseDateValue"),Vte=A(e=>e==null?0:cA("0."+e)*1e3,"parseMilliseconds"),zte=A(e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),o=Number(e.substring(4,6));return r*(n*60+o)*60*1e3},"parseOffsetToMilliseconds"),Ui=A(e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)},"stripLeadingZeroes"),fA=class mA extends Error{constructor(t){super(t.message),Object.setPrototypeOf(this,mA.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}};A(fA,"ServiceException");var Hte=fA,hA=A((e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,o])=>{(e[n]==null||e[n]==="")&&(e[n]=o)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},"decorateServiceException"),gA=A(({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let o=Kte(e),i=o.httpStatusCode?o.httpStatusCode+"":void 0,s=new r({name:t?.code||t?.Code||n||i||"UnknownError",$fault:"client",$metadata:o});throw hA(s,t)},"throwDefaultError"),Wte=A(e=>({output:t,parsedBody:r,errorCode:n})=>{gA({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},"withBaseException"),Kte=A(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),Jte=A(e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},"loadConfigsForDefaultMode"),ZR=!1,Yte=A(e=>{e&&!ZR&&parseInt(e.substring(1,e.indexOf(".")))<14&&(ZR=!0)},"emitWarningIfUnsupportedVersion"),Xte=A(e=>{let t=[];for(let r in e_.AlgorithmId){let n=e_.AlgorithmId[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{_checksumAlgorithms:t,addChecksumAlgorithm(r){this._checksumAlgorithms.push(r)},checksumAlgorithms(){return this._checksumAlgorithms}}},"getChecksumConfiguration"),Qte=A(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),Zte=A(e=>{let t=e.retryStrategy;return{setRetryStrategy(r){t=r},retryStrategy(){return t}}},"getRetryConfiguration"),ere=A(e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},"resolveRetryRuntimeConfig"),_A=A(e=>({...Xte(e),...Zte(e)}),"getDefaultExtensionConfiguration"),tre=_A,rre=A(e=>({...Qte(e),...ere(e)}),"resolveDefaultRuntimeConfig");function pu(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}A(pu,"extendedEncodeURIComponent");var nre=A(e=>Array.isArray(e)?e:[e],"getArrayIfSingleItem"),vA=A(e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=vA(e[r]));return e},"getValueFromTextNode"),sc=A(function(){let e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,[null,...arguments]),r=new t;return Object.setPrototypeOf(r,e.prototype),r},"StringWrapper");sc.prototype=Object.create(String.prototype,{constructor:{value:sc,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(sc,String);var yA=class du extends sc{deserializeJSON(){return JSON.parse(super.toString())}toJSON(){return super.toString()}static fromObject(t){return t instanceof du?t:t instanceof String||typeof t=="string"?new du(t):new du(JSON.stringify(t))}};A(yA,"LazyJsonString");var ore=yA;function d_(e,t,r){let n,o,i;if(typeof t>"u"&&typeof r>"u")n={},i=e;else{if(n=e,typeof t=="function")return o=t,i=r,are(n,o,i);i=t}for(let s of Object.keys(i)){if(!Array.isArray(i[s])){n[s]=i[s];continue}EA(n,null,i,s)}return n}A(d_,"map");var ire=A(e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t},"convertMap"),sre=A((e,t)=>{let r={};for(let n in t)EA(r,e,t,n);return r},"take"),are=A((e,t,r)=>d_(e,Object.entries(r).reduce((n,[o,i])=>(Array.isArray(i)?n[o]=i:typeof i=="function"?n[o]=[t,i()]:n[o]=[t,i],n),{})),"mapWithFilter"),EA=A((e,t,r,n)=>{if(t!==null){let s=r[n];typeof s=="function"&&(s=[,s]);let[a=cre,c=dre,l=n]=s;(typeof a=="function"&&a(t[l])||typeof a!="function"&&a)&&(e[n]=c(t[l]));return}let[o,i]=r[n];if(typeof i=="function"){let s,a=o===void 0&&(s=i())!=null,c=typeof o=="function"&&!!o(void 0)||typeof o!="function"&&!!o;a?e[n]=s:c&&(e[n]=i())}else{let s=o===void 0&&i!=null,a=typeof o=="function"&&!!o(i)||typeof o!="function"&&!!o;(s||a)&&(e[n]=i)}},"applyInstruction"),cre=A(e=>e!=null,"nonNullish"),dre=A(e=>e,"pass"),lre=A((e,t,r,n,o,i)=>{if(t!=null&&t[r]!==void 0){let s=n();if(s.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(o,i?s.split("/").map(a=>pu(a)).join("/"):pu(s))}else throw new Error("No value provided for input HTTP label: "+r+".");return e},"resolvedPath"),ure=A(e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},"serializeFloat"),o_=A(e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(o_);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=o_(e[r]));return t}return e},"_json");function SA(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let o=[],i="";for(let s=0;s<n.length;s++)i===""?i=n[s]:i+=t+n[s],(s+1)%r===0&&(o.push(i),i="");return i!==""&&o.push(i),o}A(SA,"splitEvery")});var CA=m(mu=>{"use strict";Object.defineProperty(mu,"__esModule",{value:!0});mu.isStreamingPayload=void 0;var pre=require("stream"),fre=e=>e?.body instanceof pre.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream;mu.isStreamingPayload=fre});var Mr=m((kPe,UA)=>{var hu=Object.defineProperty,mre=Object.getOwnPropertyDescriptor,hre=Object.getOwnPropertyNames,gre=Object.prototype.hasOwnProperty,Ve=(e,t)=>hu(e,"name",{value:t,configurable:!0}),_re=(e,t)=>{for(var r in t)hu(e,r,{get:t[r],enumerable:!0})},vre=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of hre(t))!gre.call(e,o)&&o!==r&&hu(e,o,{get:()=>t[o],enumerable:!(n=mre(t,o))||n.enumerable});return e},yre=e=>vre(hu({},"__esModule",{value:!0}),e),PA={};_re(PA,{AdaptiveRetryStrategy:()=>bre,CONFIG_MAX_ATTEMPTS:()=>u_,CONFIG_RETRY_MODE:()=>$A,ENV_MAX_ATTEMPTS:()=>l_,ENV_RETRY_MODE:()=>DA,NODE_MAX_ATTEMPT_CONFIG_OPTIONS:()=>Cre,NODE_RETRY_MODE_CONFIG_OPTIONS:()=>Pre,StandardRetryStrategy:()=>xA,defaultDelayDecider:()=>IA,defaultRetryDecider:()=>OA,getOmitRetryHeadersPlugin:()=>Tre,getRetryAfterHint:()=>qA,getRetryPlugin:()=>Nre,omitRetryHeadersMiddleware:()=>MA,omitRetryHeadersMiddlewareOptions:()=>kA,resolveRetryConfig:()=>wre,retryMiddleware:()=>LA,retryMiddlewareOptions:()=>jA});UA.exports=yre(PA);var Bi=at(),TA=(Og(),Kr(Ig)),Le=ki(),Ere=Ve((e,t)=>{let r=e,n=t?.noRetryIncrement??Le.NO_RETRY_INCREMENT,o=t?.retryCost??Le.RETRY_COST,i=t?.timeoutRetryCost??Le.TIMEOUT_RETRY_COST,s=e,a=Ve(f=>f.name==="TimeoutError"?i:o,"getCapacityAmount"),c=Ve(f=>a(f)<=s,"hasRetryTokens");return Object.freeze({hasRetryTokens:c,retrieveRetryTokens:Ve(f=>{if(!c(f))throw new Error("No retry token available");let h=a(f);return s-=h,h},"retrieveRetryTokens"),releaseRetryTokens:Ve(f=>{s+=f??n,s=Math.min(s,r)},"releaseRetryTokens")})},"getDefaultRetryQuota"),IA=Ve((e,t)=>Math.floor(Math.min(Le.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e)),"defaultDelayDecider"),Gn=Rg(),OA=Ve(e=>e?(0,Gn.isRetryableByTrait)(e)||(0,Gn.isClockSkewError)(e)||(0,Gn.isThrottlingError)(e)||(0,Gn.isTransientError)(e):!1,"defaultRetryDecider"),RA=Ve(e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),"asSdkError"),AA=class{constructor(t,r){this.maxAttemptsProvider=t,this.mode=Le.RETRY_MODES.STANDARD,this.retryDecider=r?.retryDecider??OA,this.delayDecider=r?.delayDecider??IA,this.retryQuota=r?.retryQuota??Ere(Le.INITIAL_RETRY_TOKENS)}shouldRetry(t,r,n){return r<n&&this.retryDecider(t)&&this.retryQuota.hasRetryTokens(t)}async getMaxAttempts(){let t;try{t=await this.maxAttemptsProvider()}catch{t=Le.DEFAULT_MAX_ATTEMPTS}return t}async retry(t,r,n){let o,i=0,s=0,a=await this.getMaxAttempts(),{request:c}=r;for(Bi.HttpRequest.isInstance(c)&&(c.headers[Le.INVOCATION_ID_HEADER]=(0,TA.v4)());;)try{Bi.HttpRequest.isInstance(c)&&(c.headers[Le.REQUEST_HEADER]=`attempt=${i+1}; max=${a}`),n?.beforeRequest&&await n.beforeRequest();let{response:l,output:p}=await t(r);return n?.afterRequest&&n.afterRequest(l),this.retryQuota.releaseRetryTokens(o),p.$metadata.attempts=i+1,p.$metadata.totalRetryDelay=s,{response:l,output:p}}catch(l){let p=RA(l);if(i++,this.shouldRetry(p,i,a)){o=this.retryQuota.retrieveRetryTokens(p);let f=this.delayDecider((0,Gn.isThrottlingError)(p)?Le.THROTTLING_RETRY_DELAY_BASE:Le.DEFAULT_RETRY_DELAY_BASE,i),h=Sre(p.$response),g=Math.max(h||0,f);s+=g,await new Promise(v=>setTimeout(v,g));continue}throw p.$metadata||(p.$metadata={}),p.$metadata.attempts=i,p.$metadata.totalRetryDelay=s,p}}};Ve(AA,"StandardRetryStrategy");var xA=AA,Sre=Ve(e=>{if(!Bi.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(i=>i.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},"getDelayFromRetryAfterHeader"),NA=class extends xA{constructor(t,r){let{rateLimiter:n,...o}=r??{};super(t,o),this.rateLimiter=n??new Le.DefaultRateLimiter,this.mode=Le.RETRY_MODES.ADAPTIVE}async retry(t,r){return super.retry(t,r,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:n=>{this.rateLimiter.updateClientSendingRate(n)}})}};Ve(NA,"AdaptiveRetryStrategy");var bre=NA,wA=Nr(),l_="AWS_MAX_ATTEMPTS",u_="max_attempts",Cre={environmentVariableSelector:e=>{let t=e[l_];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${l_} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[u_];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${u_} mast be a number, got "${t}"`);return r},default:Le.DEFAULT_MAX_ATTEMPTS},wre=Ve(e=>{let{retryStrategy:t}=e,r=(0,wA.normalizeProvider)(e.maxAttempts??Le.DEFAULT_MAX_ATTEMPTS);return{...e,maxAttempts:r,retryStrategy:async()=>t||(await(0,wA.normalizeProvider)(e.retryMode)()===Le.RETRY_MODES.ADAPTIVE?new Le.AdaptiveRetryStrategy(r):new Le.StandardRetryStrategy(r))}},"resolveRetryConfig"),DA="AWS_RETRY_MODE",$A="retry_mode",Pre={environmentVariableSelector:e=>e[DA],configFileSelector:e=>e[$A],default:Le.DEFAULT_RETRY_MODE},MA=Ve(()=>e=>async t=>{let{request:r}=t;return Bi.HttpRequest.isInstance(r)&&(delete r.headers[Le.INVOCATION_ID_HEADER],delete r.headers[Le.REQUEST_HEADER]),e(t)},"omitRetryHeadersMiddleware"),kA={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},Tre=Ve(e=>({applyToStack:t=>{t.addRelativeTo(MA(),kA)}}),"getOmitRetryHeadersPlugin"),Ire=ke(),Ore=CA(),LA=Ve(e=>(t,r)=>async n=>{var o;let i=await e.retryStrategy(),s=await e.maxAttempts();if(Rre(i)){i=i;let a=await i.acquireInitialRetryToken(r.partition_id),c=new Error,l=0,p=0,{request:f}=n,h=Bi.HttpRequest.isInstance(f);for(h&&(f.headers[Le.INVOCATION_ID_HEADER]=(0,TA.v4)());;)try{h&&(f.headers[Le.REQUEST_HEADER]=`attempt=${l+1}; max=${s}`);let{response:g,output:v}=await t(n);return i.recordSuccess(a),v.$metadata.attempts=l+1,v.$metadata.totalRetryDelay=p,{response:g,output:v}}catch(g){let v=Are(g);if(c=RA(g),h&&(0,Ore.isStreamingPayload)(f))throw(o=r.logger instanceof Ire.NoOpLogger?console:r.logger)==null||o.warn("An error was encountered in a non-retryable streaming request."),c;try{a=await i.refreshRetryTokenForRetry(a,v)}catch{throw c.$metadata||(c.$metadata={}),c.$metadata.attempts=l+1,c.$metadata.totalRetryDelay=p,c}l=a.getRetryCount();let S=a.getRetryDelay();p+=S,await new Promise(b=>setTimeout(b,S))}}else return i=i,i?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",i.mode]]),i.retry(t,n)},"retryMiddleware"),Rre=Ve(e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u","isRetryStrategyV2"),Are=Ve(e=>{let t={error:e,errorType:xre(e)},r=qA(e.$response);return r&&(t.retryAfterHint=r),t},"getRetryErrorInfo"),xre=Ve(e=>(0,Gn.isThrottlingError)(e)?"THROTTLING":(0,Gn.isTransientError)(e)?"TRANSIENT":(0,Gn.isServerError)(e)?"SERVER_ERROR":"CLIENT_ERROR","getRetryErrorType"),jA={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},Nre=Ve(e=>({applyToStack:t=>{t.add(LA(e),jA)}}),"getRetryPlugin"),qA=Ve(e=>{if(!Bi.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(i=>i.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)},"getRetryAfterHint")});var ct=m((BPe,sx)=>{var _u=Object.defineProperty,Dre=Object.getOwnPropertyDescriptor,$re=Object.getOwnPropertyNames,Mre=Object.prototype.hasOwnProperty,Ae=(e,t)=>_u(e,"name",{value:t,configurable:!0}),kre=(e,t)=>{for(var r in t)_u(e,r,{get:t[r],enumerable:!0})},Lre=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of $re(t))!Mre.call(e,o)&&o!==r&&_u(e,o,{get:()=>t[o],enumerable:!(n=Dre(t,o))||n.enumerable});return e},jre=e=>Lre(_u({},"__esModule",{value:!0}),e),FA={};kre(FA,{DefaultIdentityProviderConfig:()=>Wre,EXPIRATION_MS:()=>ex,HttpApiKeyAuthSigner:()=>Kre,HttpBearerAuthSigner:()=>Jre,NoAuthSigner:()=>Yre,RequestBuilder:()=>ox,createIsIdentityExpiredFunction:()=>ZA,createPaginator:()=>ix,doesIdentityRequireRefresh:()=>tx,getHttpAuthSchemeEndpointRuleSetPlugin:()=>Ure,getHttpAuthSchemePlugin:()=>Bre,getHttpSigningPlugin:()=>Hre,getSmithyContext:()=>Zre,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>VA,httpAuthSchemeMiddleware:()=>p_,httpAuthSchemeMiddlewareOptions:()=>zA,httpSigningMiddleware:()=>WA,httpSigningMiddlewareOptions:()=>KA,isIdentityExpired:()=>Xre,memoizeIdentityProvider:()=>Qre,normalizeProvider:()=>ene,requestBuilder:()=>rx});sx.exports=jre(FA);var BA=Nr();function GA(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}Ae(GA,"convertHttpAuthSchemesToMap");var p_=Ae((e,t)=>(r,n)=>async o=>{var i;let s=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,o.input)),a=GA(e.httpAuthSchemes),c=(0,BA.getSmithyContext)(n),l=[];for(let p of s){let f=a.get(p.schemeId);if(!f){l.push(`HttpAuthScheme \`${p.schemeId}\` was not enabled for this service.`);continue}let h=f.identityProvider(await t.identityProviderConfigProvider(e));if(!h){l.push(`HttpAuthScheme \`${p.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:g={},signingProperties:v={}}=((i=p.propertiesExtractor)==null?void 0:i.call(p,e,n))||{};p.identityProperties=Object.assign(p.identityProperties||{},g),p.signingProperties=Object.assign(p.signingProperties||{},v),c.selectedHttpAuthScheme={httpAuthOption:p,identity:await h(p.identityProperties),signer:f.signer};break}if(!c.selectedHttpAuthScheme)throw new Error(l.join(`
`));return r(o)},"httpAuthSchemeMiddleware"),qre=qo(),VA={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:qre.endpointMiddlewareOptions.name},Ure=Ae((e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(p_(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),VA)}}),"getHttpAuthSchemeEndpointRuleSetPlugin"),Fre=jo(),zA={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:Fre.serializerMiddlewareOption.name},Bre=Ae((e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(p_(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),zA)}}),"getHttpAuthSchemePlugin"),HA=at(),Gre=Ae(e=>t=>{throw t},"defaultErrorHandler"),Vre=Ae((e,t)=>{},"defaultSuccessHandler"),WA=Ae(e=>(t,r)=>async n=>{if(!HA.HttpRequest.isInstance(n.request))return t(n);let i=(0,BA.getSmithyContext)(r).selectedHttpAuthScheme;if(!i)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:s={}},identity:a,signer:c}=i,l=await t({...n,request:await c.sign(n.request,a,s)}).catch((c.errorHandler||Gre)(s));return(c.successHandler||Vre)(l.response,s),l},"httpSigningMiddleware"),zre=Mr(),KA={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:zre.retryMiddlewareOptions.name},Hre=Ae(e=>({applyToStack:t=>{t.addRelativeTo(WA(e),KA)}}),"getHttpSigningPlugin"),JA=class{constructor(t){this.authSchemes=new Map;for(let[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}};Ae(JA,"DefaultIdentityProviderConfig");var Wre=JA,gu=ar(),YA=class{async sign(t,r,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let o=t.clone();if(n.in===gu.HttpApiKeyAuthLocation.QUERY)o.query[n.name]=r.apiKey;else if(n.in===gu.HttpApiKeyAuthLocation.HEADER)o.headers[n.name]=n.scheme?`${n.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return o}};Ae(YA,"HttpApiKeyAuthSigner");var Kre=YA,XA=class{async sign(t,r,n){let o=t.clone();if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return o.headers.Authorization=`Bearer ${r.token}`,o}};Ae(XA,"HttpBearerAuthSigner");var Jre=XA,QA=class{async sign(t,r,n){return t}};Ae(QA,"NoAuthSigner");var Yre=QA,ZA=Ae(e=>t=>tx(t)&&t.expiration.getTime()-Date.now()<e,"createIsIdentityExpiredFunction"),ex=3e5,Xre=ZA(ex),tx=Ae(e=>e.expiration!==void 0,"doesIdentityRequireRefresh"),Qre=Ae((e,t,r)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,o,i,s,a=!1,c=Ae(async l=>{i||(i=n(l));try{o=await i,s=!0,a=!1}finally{i=void 0}return o},"coalesceProvider");return t===void 0?async l=>((!s||l?.forceRefresh)&&(o=await c(l)),o):async l=>((!s||l?.forceRefresh)&&(o=await c(l)),a?o:r(o)?(t(o)&&await c(l),o):(a=!0,o))},"memoizeIdentityProvider"),Zre=Ae(e=>e[gu.SMITHY_CONTEXT_KEY]||(e[gu.SMITHY_CONTEXT_KEY]={}),"getSmithyContext"),ene=Ae(e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t},"normalizeProvider"),tne=ke();function rx(e,t){return new ox(e,t)}Ae(rx,"requestBuilder");var nx=class{constructor(t,r){this.input=t,this.context=r,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){let{hostname:t,protocol:r="https",port:n,path:o}=await this.context.endpoint();this.path=o;for(let i of this.resolvePathStack)i(this.path);return new HA.HttpRequest({protocol:r,hostname:this.hostname||t,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,n,o){return this.resolvePathStack.push(i=>{this.path=(0,tne.resolvedPath)(i,this.input,t,r,n,o)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}};Ae(nx,"RequestBuilder");var ox=nx,rne=Ae(async(e,t,r,...n)=>await t.send(new e(r),...n),"makePagedClientRequest");function ix(e,t,r,n,o){return Ae(async function*(s,a,...c){let l=s.startingToken||void 0,p=!0,f;for(;p;){if(a[r]=l,o&&(a[o]=a[o]??s.pageSize),s.client instanceof e)f=await rne(t,s.client,a,...c);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield f;let h=l;l=nne(f,n),p=!!(l&&(!s.stopOnSameToken||l!==h))}return void 0},"paginateOperation")}Ae(ix,"createPaginator");var nne=Ae((e,t)=>{let r=e,n=t.split(".");for(let o of n){if(!r||typeof r!="object")return;r=r[o]}return r},"get")});var ac=m((GPe,ux)=>{var vu=Object.defineProperty,one=Object.getOwnPropertyDescriptor,ine=Object.getOwnPropertyNames,sne=Object.prototype.hasOwnProperty,cx=(e,t)=>vu(e,"name",{value:t,configurable:!0}),ane=(e,t)=>{for(var r in t)vu(e,r,{get:t[r],enumerable:!0})},cne=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of ine(t))!sne.call(e,o)&&o!==r&&vu(e,o,{get:()=>t[o],enumerable:!(n=one(t,o))||n.enumerable});return e},dne=e=>cne(vu({},"__esModule",{value:!0}),e),dx={};ane(dx,{contentLengthMiddleware:()=>f_,contentLengthMiddlewareOptions:()=>lx,getContentLengthPlugin:()=>une});ux.exports=dne(dx);var lne=at(),ax="content-length";function f_(e){return t=>async r=>{let n=r.request;if(lne.HttpRequest.isInstance(n)){let{body:o,headers:i}=n;if(o&&Object.keys(i).map(s=>s.toLowerCase()).indexOf(ax)===-1)try{let s=e(o);n.headers={...n.headers,[ax]:String(s)}}catch{}}return t({...r,request:n})}}cx(f_,"contentLengthMiddleware");var lx={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},une=cx(e=>({applyToStack:t=>{t.add(f_(e.bodyLengthChecker),lx)}}),"getContentLengthPlugin")});var vx=m((VPe,_x)=>{var yu=Object.defineProperty,pne=Object.getOwnPropertyDescriptor,fne=Object.getOwnPropertyNames,mne=Object.prototype.hasOwnProperty,px=(e,t)=>yu(e,"name",{value:t,configurable:!0}),hne=(e,t)=>{for(var r in t)yu(e,r,{get:t[r],enumerable:!0})},gne=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of fne(t))!mne.call(e,o)&&o!==r&&yu(e,o,{get:()=>t[o],enumerable:!(n=pne(t,o))||n.enumerable});return e},_ne=e=>gne(yu({},"__esModule",{value:!0}),e),fx={};hne(fx,{fromHex:()=>hx,toHex:()=>gx});_x.exports=_ne(fx);var mx={},m_={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),mx[e]=t,m_[t]=e}function hx(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in m_)t[r/2]=m_[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}px(hx,"fromHex");function gx(e){let t="";for(let r=0;r<e.byteLength;r++)t+=mx[e[r]];return t}px(gx,"toHex")});var qx=m((WPe,jx)=>{var wu=Object.defineProperty,vne=Object.getOwnPropertyDescriptor,yne=Object.getOwnPropertyNames,Ene=Object.prototype.hasOwnProperty,ze=(e,t)=>wu(e,"name",{value:t,configurable:!0}),Sne=(e,t)=>{for(var r in t)wu(e,r,{get:t[r],enumerable:!0})},bne=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of yne(t))!Ene.call(e,o)&&o!==r&&wu(e,o,{get:()=>t[o],enumerable:!(n=vne(t,o))||n.enumerable});return e},Cne=e=>bne(wu({},"__esModule",{value:!0}),e),Cx={};Sne(Cx,{SignatureV4:()=>Yne,clearCredentialCache:()=>Une,createScope:()=>bu,getCanonicalHeaders:()=>v_,getCanonicalQuery:()=>xx,getPayloadHash:()=>Cu,getSigningKey:()=>Ax,moveHeadersToQuery:()=>kx,prepareRequest:()=>E_});jx.exports=Cne(Cx);var yx=Nr(),h_=Vt(),wne="X-Amz-Algorithm",Pne="X-Amz-Credential",wx="X-Amz-Date",Tne="X-Amz-SignedHeaders",Ine="X-Amz-Expires",Px="X-Amz-Signature",Tx="X-Amz-Security-Token",Ix="authorization",Ox=wx.toLowerCase(),One="date",Rne=[Ix,Ox,One],Ane=Px.toLowerCase(),__="x-amz-content-sha256",xne=Tx.toLowerCase(),Nne={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},Dne=/^proxy-/,$ne=/^sec-/,g_="AWS4-HMAC-SHA256",Mne="AWS4-HMAC-SHA256-PAYLOAD",kne="UNSIGNED-PAYLOAD",Lne=50,Rx="aws4_request",jne=60*60*24*7,Vn=vx(),qne=Vt(),Gi={},Su=[],bu=ze((e,t,r)=>`${e}/${t}/${r}/${Rx}`,"createScope"),Ax=ze(async(e,t,r,n,o)=>{let i=await Ex(e,t.secretAccessKey,t.accessKeyId),s=`${r}:${n}:${o}:${(0,Vn.toHex)(i)}:${t.sessionToken}`;if(s in Gi)return Gi[s];for(Su.push(s);Su.length>Lne;)delete Gi[Su.shift()];let a=`AWS4${t.secretAccessKey}`;for(let c of[r,n,o,Rx])a=await Ex(e,a,c);return Gi[s]=a},"getSigningKey"),Une=ze(()=>{Su.length=0,Object.keys(Gi).forEach(e=>{delete Gi[e]})},"clearCredentialCache"),Ex=ze((e,t,r)=>{let n=new e(t);return n.update((0,qne.toUint8Array)(r)),n.digest()},"hmac"),v_=ze(({headers:e},t,r)=>{let n={};for(let o of Object.keys(e).sort()){if(e[o]==null)continue;let i=o.toLowerCase();(i in Nne||t?.has(i)||Dne.test(i)||$ne.test(i))&&(!r||r&&!r.has(i))||(n[i]=e[o].trim().replace(/\s+/g," "))}return n},"getCanonicalHeaders"),cc=Fg(),xx=ze(({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e).sort()){if(n.toLowerCase()===Ane)continue;t.push(n);let o=e[n];typeof o=="string"?r[n]=`${(0,cc.escapeUri)(n)}=${(0,cc.escapeUri)(o)}`:Array.isArray(o)&&(r[n]=o.slice(0).reduce((i,s)=>i.concat([`${(0,cc.escapeUri)(n)}=${(0,cc.escapeUri)(s)}`]),[]).sort().join("&"))}return t.map(n=>r[n]).filter(n=>n).join("&")},"getCanonicalQuery"),Fne=Mg(),Bne=Vt(),Cu=ze(async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===__)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||(0,Fne.isArrayBuffer)(t)){let n=new r;return n.update((0,Bne.toUint8Array)(t)),(0,Vn.toHex)(await n.digest())}return kne},"getPayloadHash"),Sx=Vt(),Nx=class{format(t){let r=[];for(let i of Object.keys(t)){let s=(0,Sx.fromUtf8)(i);r.push(Uint8Array.from([s.byteLength]),s,this.formatHeaderValue(t[i]))}let n=new Uint8Array(r.reduce((i,s)=>i+s.byteLength,0)),o=0;for(let i of r)n.set(i,o),o+=i.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":let o=new Uint8Array(9);return o[0]=5,o.set(t.value.bytes,1),o;case"binary":let i=new DataView(new ArrayBuffer(3+t.value.byteLength));i.setUint8(0,6),i.setUint16(1,t.value.byteLength,!1);let s=new Uint8Array(i.buffer);return s.set(t.value,3),s;case"string":let a=(0,Sx.fromUtf8)(t.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);let l=new Uint8Array(c.buffer);return l.set(a,3),l;case"timestamp":let p=new Uint8Array(9);return p[0]=8,p.set(zne.fromNumber(t.value.valueOf()).bytes,1),p;case"uuid":if(!Vne.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);let f=new Uint8Array(17);return f[0]=9,f.set((0,Vn.fromHex)(t.value.replace(/\-/g,"")),1),f}}};ze(Nx,"HeaderFormatter");var Gne=Nx,Vne=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,Dx=class $x{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,o=Math.abs(Math.round(t));n>-1&&o>0;n--,o/=256)r[n]=o;return t<0&&y_(r),new $x(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&y_(t),parseInt((0,Vn.toHex)(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};ze(Dx,"Int64");var zne=Dx;function y_(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}ze(y_,"negate");var Hne=ze((e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},"hasHeader"),Mx=ze(({headers:e,query:t,...r})=>({...r,headers:{...e},query:t?Wne(t):void 0}),"cloneRequest"),Wne=ze(e=>Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{}),"cloneQuery"),kx=ze((e,t={})=>{var r;let{headers:n,query:o={}}=typeof e.clone=="function"?e.clone():Mx(e);for(let i of Object.keys(n)){let s=i.toLowerCase();s.slice(0,6)==="x-amz-"&&!((r=t.unhoistableHeaders)!=null&&r.has(s))&&(o[i]=n[i],delete n[i])}return{...e,headers:n,query:o}},"moveHeadersToQuery"),E_=ze(e=>{e=typeof e.clone=="function"?e.clone():Mx(e);for(let t of Object.keys(e.headers))Rne.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},"prepareRequest"),Kne=ze(e=>Jne(e).toISOString().replace(/\.\d{3}Z$/,"Z"),"iso8601"),Jne=ze(e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,"toDate"),Lx=class{constructor({applyChecksum:t,credentials:r,region:n,service:o,sha256:i,uriEscapePath:s=!0}){this.headerFormatter=new Gne,this.service=o,this.sha256=i,this.uriEscapePath=s,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=(0,yx.normalizeProvider)(n),this.credentialProvider=(0,yx.normalizeProvider)(r)}async presign(t,r={}){let{signingDate:n=new Date,expiresIn:o=3600,unsignableHeaders:i,unhoistableHeaders:s,signableHeaders:a,signingRegion:c,signingService:l}=r,p=await this.credentialProvider();this.validateResolvedCredentials(p);let f=c??await this.regionProvider(),{longDate:h,shortDate:g}=Eu(n);if(o>jne)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let v=bu(g,f,l??this.service),S=kx(E_(t),{unhoistableHeaders:s});p.sessionToken&&(S.query[Tx]=p.sessionToken),S.query[wne]=g_,S.query[Pne]=`${p.accessKeyId}/${v}`,S.query[wx]=h,S.query[Ine]=o.toString(10);let b=v_(S,i,a);return S.query[Tne]=bx(b),S.query[Px]=await this.getSignature(h,v,this.getSigningKey(p,f,g,l),this.createCanonicalRequest(S,b,await Cu(t,this.sha256))),S}async sign(t,r){return typeof t=="string"?this.signString(t,r):t.headers&&t.payload?this.signEvent(t,r):t.message?this.signMessage(t,r):this.signRequest(t,r)}async signEvent({headers:t,payload:r},{signingDate:n=new Date,priorSignature:o,signingRegion:i,signingService:s}){let a=i??await this.regionProvider(),{shortDate:c,longDate:l}=Eu(n),p=bu(c,a,s??this.service),f=await Cu({headers:{},body:r},this.sha256),h=new this.sha256;h.update(t);let g=(0,Vn.toHex)(await h.digest()),v=[Mne,l,p,o,g,f].join(`
`);return this.signString(v,{signingDate:n,signingRegion:a,signingService:s})}async signMessage(t,{signingDate:r=new Date,signingRegion:n,signingService:o}){return this.signEvent({headers:this.headerFormatter.format(t.message.headers),payload:t.message.body},{signingDate:r,signingRegion:n,signingService:o,priorSignature:t.priorSignature}).then(s=>({message:t.message,signature:s}))}async signString(t,{signingDate:r=new Date,signingRegion:n,signingService:o}={}){let i=await this.credentialProvider();this.validateResolvedCredentials(i);let s=n??await this.regionProvider(),{shortDate:a}=Eu(r),c=new this.sha256(await this.getSigningKey(i,s,a,o));return c.update((0,h_.toUint8Array)(t)),(0,Vn.toHex)(await c.digest())}async signRequest(t,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:o,signingRegion:i,signingService:s}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let c=i??await this.regionProvider(),l=E_(t),{longDate:p,shortDate:f}=Eu(r),h=bu(f,c,s??this.service);l.headers[Ox]=p,a.sessionToken&&(l.headers[xne]=a.sessionToken);let g=await Cu(l,this.sha256);!Hne(__,l.headers)&&this.applyChecksum&&(l.headers[__]=g);let v=v_(l,o,n),S=await this.getSignature(p,h,this.getSigningKey(a,c,f,s),this.createCanonicalRequest(l,v,g));return l.headers[Ix]=`${g_} Credential=${a.accessKeyId}/${h}, SignedHeaders=${bx(v)}, Signature=${S}`,l}createCanonicalRequest(t,r,n){let o=Object.keys(r).sort();return`${t.method}
${this.getCanonicalPath(t)}
${xx(t)}
${o.map(i=>`${i}:${r[i]}`).join(`
`)}

${o.join(";")}
${n}`}async createStringToSign(t,r,n){let o=new this.sha256;o.update((0,h_.toUint8Array)(n));let i=await o.digest();return`${g_}
${t}
${r}
${(0,Vn.toHex)(i)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){let r=[];for(let i of t.split("/"))i?.length!==0&&i!=="."&&(i===".."?r.pop():r.push(i));let n=`${t?.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&t?.endsWith("/")?"/":""}`;return(0,cc.escapeUri)(n).replace(/%2F/g,"/")}return t}async getSignature(t,r,n,o){let i=await this.createStringToSign(t,r,o),s=new this.sha256(await n);return s.update((0,h_.toUint8Array)(i)),(0,Vn.toHex)(await s.digest())}getSigningKey(t,r,n,o){return Ax(this.sha256,t,n,r,o||this.service)}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}};ze(Lx,"SignatureV4");var Yne=Lx,Eu=ze(e=>{let t=Kne(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}},"formatDate"),bx=ze(e=>Object.keys(e).sort().join(";"),"getCanonicalHeaderList")});var Pu=m(ln=>{"use strict";var Ux=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",Xne=Ux+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",Fx="["+Ux+"]["+Xne+"]*",Qne=new RegExp("^"+Fx+"$"),Zne=function(e,t){let r=[],n=t.exec(e);for(;n;){let o=[];o.startIndex=t.lastIndex-n[0].length;let i=n.length;for(let s=0;s<i;s++)o.push(n[s]);r.push(o),n=t.exec(e)}return r},eoe=function(e){let t=Qne.exec(e);return!(t===null||typeof t>"u")};ln.isExist=function(e){return typeof e<"u"};ln.isEmptyObject=function(e){return Object.keys(e).length===0};ln.merge=function(e,t,r){if(t){let n=Object.keys(t),o=n.length;for(let i=0;i<o;i++)r==="strict"?e[n[i]]=[t[n[i]]]:e[n[i]]=t[n[i]]}};ln.getValue=function(e){return ln.isExist(e)?e:""};ln.isName=eoe;ln.getAllMatches=Zne;ln.nameRegexp=Fx});var b_=m(Hx=>{"use strict";var S_=Pu(),toe={allowBooleanAttributes:!1,unpairedTags:[]};Hx.validate=function(e,t){t=Object.assign({},toe,t);let r=[],n=!1,o=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let i=0;i<e.length;i++)if(e[i]==="<"&&e[i+1]==="?"){if(i+=2,i=Gx(e,i),i.err)return i}else if(e[i]==="<"){let s=i;if(i++,e[i]==="!"){i=Vx(e,i);continue}else{let a=!1;e[i]==="/"&&(a=!0,i++);let c="";for(;i<e.length&&e[i]!==">"&&e[i]!==" "&&e[i]!=="	"&&e[i]!==`
`&&e[i]!=="\r";i++)c+=e[i];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),i--),!doe(c)){let f;return c.trim().length===0?f="Invalid space after '<'.":f="Tag '"+c+"' is an invalid name.",He("InvalidTag",f,Pt(e,i))}let l=ooe(e,i);if(l===!1)return He("InvalidAttr","Attributes for '"+c+"' have open quote.",Pt(e,i));let p=l.value;if(i=l.index,p[p.length-1]==="/"){let f=i-p.length;p=p.substring(0,p.length-1);let h=zx(p,t);if(h===!0)n=!0;else return He(h.err.code,h.err.msg,Pt(e,f+h.err.line))}else if(a)if(l.tagClosed){if(p.trim().length>0)return He("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",Pt(e,s));{let f=r.pop();if(c!==f.tagName){let h=Pt(e,f.tagStartPos);return He("InvalidTag","Expected closing tag '"+f.tagName+"' (opened in line "+h.line+", col "+h.col+") instead of closing tag '"+c+"'.",Pt(e,s))}r.length==0&&(o=!0)}}else return He("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",Pt(e,i));else{let f=zx(p,t);if(f!==!0)return He(f.err.code,f.err.msg,Pt(e,i-p.length+f.err.line));if(o===!0)return He("InvalidXml","Multiple possible root nodes found.",Pt(e,i));t.unpairedTags.indexOf(c)!==-1||r.push({tagName:c,tagStartPos:s}),n=!0}for(i++;i<e.length;i++)if(e[i]==="<")if(e[i+1]==="!"){i++,i=Vx(e,i);continue}else if(e[i+1]==="?"){if(i=Gx(e,++i),i.err)return i}else break;else if(e[i]==="&"){let f=aoe(e,i);if(f==-1)return He("InvalidChar","char '&' is not expected.",Pt(e,i));i=f}else if(o===!0&&!Bx(e[i]))return He("InvalidXml","Extra text at the end",Pt(e,i));e[i]==="<"&&i--}}else{if(Bx(e[i]))continue;return He("InvalidChar","char '"+e[i]+"' is not expected.",Pt(e,i))}if(n){if(r.length==1)return He("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",Pt(e,r[0].tagStartPos));if(r.length>0)return He("InvalidXml","Invalid '"+JSON.stringify(r.map(i=>i.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return He("InvalidXml","Start tag expected.",1);return!0};function Bx(e){return e===" "||e==="	"||e===`
`||e==="\r"}function Gx(e,t){let r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){let n=e.substr(r,t-r);if(t>5&&n==="xml")return He("InvalidXml","XML declaration allowed only at the start of the document.",Pt(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function Vx(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}var roe='"',noe="'";function ooe(e,t){let r="",n="",o=!1;for(;t<e.length;t++){if(e[t]===roe||e[t]===noe)n===""?n=e[t]:n!==e[t]||(n="");else if(e[t]===">"&&n===""){o=!0;break}r+=e[t]}return n!==""?!1:{value:r,index:t,tagClosed:o}}var ioe=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function zx(e,t){let r=S_.getAllMatches(e,ioe),n={};for(let o=0;o<r.length;o++){if(r[o][1].length===0)return He("InvalidAttr","Attribute '"+r[o][2]+"' has no space in starting.",dc(r[o]));if(r[o][3]!==void 0&&r[o][4]===void 0)return He("InvalidAttr","Attribute '"+r[o][2]+"' is without value.",dc(r[o]));if(r[o][3]===void 0&&!t.allowBooleanAttributes)return He("InvalidAttr","boolean attribute '"+r[o][2]+"' is not allowed.",dc(r[o]));let i=r[o][2];if(!coe(i))return He("InvalidAttr","Attribute '"+i+"' is an invalid name.",dc(r[o]));if(!n.hasOwnProperty(i))n[i]=1;else return He("InvalidAttr","Attribute '"+i+"' is repeated.",dc(r[o]))}return!0}function soe(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}function aoe(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,soe(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}function He(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function coe(e){return S_.isName(e)}function doe(e){return S_.isName(e)}function Pt(e,t){let r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function dc(e){return e.startIndex+e[1].length}});var Kx=m(C_=>{var Wx={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,r){return e}},loe=function(e){return Object.assign({},Wx,e)};C_.buildOptions=loe;C_.defaultOptions=Wx});var Yx=m((XPe,Jx)=>{"use strict";var w_=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,r){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:r})}addChild(t){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child})}};Jx.exports=w_});var Qx=m((QPe,Xx)=>{var uoe=Pu();function poe(e,t){let r={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let n=1,o=!1,i=!1,s="";for(;t<e.length;t++)if(e[t]==="<"&&!i){if(o&&hoe(e,t))t+=7,[entityName,val,t]=foe(e,t+1),val.indexOf("&")===-1&&(r[yoe(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(o&&goe(e,t))t+=8;else if(o&&_oe(e,t))t+=8;else if(o&&voe(e,t))t+=9;else if(moe)i=!0;else throw new Error("Invalid DOCTYPE");n++,s=""}else if(e[t]===">"){if(i?e[t-1]==="-"&&e[t-2]==="-"&&(i=!1,n--):n--,n===0)break}else e[t]==="["?o=!0:s+=e[t];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}function foe(e,t){let r="";for(;t<e.length&&e[t]!=="'"&&e[t]!=='"';t++)r+=e[t];if(r=r.trim(),r.indexOf(" ")!==-1)throw new Error("External entites are not supported");let n=e[t++],o="";for(;t<e.length&&e[t]!==n;t++)o+=e[t];return[r,o,t]}function moe(e,t){return e[t+1]==="!"&&e[t+2]==="-"&&e[t+3]==="-"}function hoe(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="N"&&e[t+4]==="T"&&e[t+5]==="I"&&e[t+6]==="T"&&e[t+7]==="Y"}function goe(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="L"&&e[t+4]==="E"&&e[t+5]==="M"&&e[t+6]==="E"&&e[t+7]==="N"&&e[t+8]==="T"}function _oe(e,t){return e[t+1]==="!"&&e[t+2]==="A"&&e[t+3]==="T"&&e[t+4]==="T"&&e[t+5]==="L"&&e[t+6]==="I"&&e[t+7]==="S"&&e[t+8]==="T"}function voe(e,t){return e[t+1]==="!"&&e[t+2]==="N"&&e[t+3]==="O"&&e[t+4]==="T"&&e[t+5]==="A"&&e[t+6]==="T"&&e[t+7]==="I"&&e[t+8]==="O"&&e[t+9]==="N"}function yoe(e){if(uoe.isName(e))return e;throw new Error(`Invalid entity name ${e}`)}Xx.exports=poe});var eN=m((ZPe,Zx)=>{var Eoe=/^[-+]?0x[a-fA-F0-9]+$/,Soe=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var boe={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function Coe(e,t={}){if(t=Object.assign({},boe,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(t.hex&&Eoe.test(r))return Number.parseInt(r,16);{let n=Soe.exec(r);if(n){let o=n[1],i=n[2],s=woe(n[3]),a=n[4]||n[6];if(!t.leadingZeros&&i.length>0&&o&&r[2]!==".")return e;if(!t.leadingZeros&&i.length>0&&!o&&r[1]!==".")return e;{let c=Number(r),l=""+c;return l.search(/[eE]/)!==-1||a?t.eNotation?c:e:r.indexOf(".")!==-1?l==="0"&&s===""||l===s||o&&l==="-"+s?c:e:i?s===l||o+s===l?c:e:r===l||r===o+l?c:e}}else return e}}function woe(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substr(0,e.length-1))),e}Zx.exports=Coe});var rN=m((tTe,tN)=>{"use strict";var O_=Pu(),lc=Yx(),Poe=Qx(),Toe=eN(),eTe="<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,O_.nameRegexp),P_=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"}},this.addExternalEntities=Ioe,this.parseXml=Noe,this.parseTextData=Ooe,this.resolveNameSpace=Roe,this.buildAttributesMap=xoe,this.isItStopNode=koe,this.replaceEntitiesValue=$oe,this.readStopNodeData=joe,this.saveTextToParentTag=Moe,this.addChild=Doe}};function Ioe(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function Ooe(e,t,r,n,o,i,s){if(e!==void 0&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){s||(e=this.replaceEntitiesValue(e));let a=this.options.tagValueProcessor(t,e,r,o,i);return a==null?e:typeof a!=typeof e||a!==e?a:this.options.trimValues?I_(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?I_(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function Roe(e){if(this.options.removeNSPrefix){let t=e.split(":"),r=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=r+t[1])}return e}var Aoe=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function xoe(e,t,r){if(!this.options.ignoreAttributes&&typeof e=="string"){let n=O_.getAllMatches(e,Aoe),o=n.length,i={};for(let s=0;s<o;s++){let a=this.resolveNameSpace(n[s][1]),c=n[s][4],l=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(l=this.options.transformAttributeName(l)),l==="__proto__"&&(l="#__proto__"),c!==void 0){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);let p=this.options.attributeValueProcessor(a,c,t);p==null?i[l]=c:typeof p!=typeof c||p!==c?i[l]=p:i[l]=I_(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(i[l]=!0)}if(!Object.keys(i).length)return;if(this.options.attributesGroupName){let s={};return s[this.options.attributesGroupName]=i,s}return i}}var Noe=function(e){e=e.replace(/\r\n?/g,`
`);let t=new lc("!xml"),r=t,n="",o="";for(let i=0;i<e.length;i++)if(e[i]==="<")if(e[i+1]==="/"){let a=Go(e,">",i,"Closing Tag is not closed."),c=e.substring(i+2,a).trim();if(this.options.removeNSPrefix){let f=c.indexOf(":");f!==-1&&(c=c.substr(f+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&(n=this.saveTextToParentTag(n,r,o));let l=o.substring(o.lastIndexOf(".")+1);if(c&&this.options.unpairedTags.indexOf(c)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${c}>`);let p=0;l&&this.options.unpairedTags.indexOf(l)!==-1?(p=o.lastIndexOf(".",o.lastIndexOf(".")-1),this.tagsNodeStack.pop()):p=o.lastIndexOf("."),o=o.substring(0,p),r=this.tagsNodeStack.pop(),n="",i=a}else if(e[i+1]==="?"){let a=T_(e,i,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,o),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let c=new lc(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,o,a.tagName)),this.addChild(r,c,o)}i=a.closeIndex+1}else if(e.substr(i+1,3)==="!--"){let a=Go(e,"-->",i+4,"Comment is not closed.");if(this.options.commentPropName){let c=e.substring(i+4,a-2);n=this.saveTextToParentTag(n,r,o),r.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}i=a}else if(e.substr(i+1,2)==="!D"){let a=Poe(e,i);this.docTypeEntities=a.entities,i=a.i}else if(e.substr(i+1,2)==="!["){let a=Go(e,"]]>",i,"CDATA is not closed.")-2,c=e.substring(i+9,a);if(n=this.saveTextToParentTag(n,r,o),this.options.cdataPropName)r.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]);else{let l=this.parseTextData(c,r.tagname,o,!0,!1,!0);l==null&&(l=""),r.add(this.options.textNodeName,l)}i=a+2}else{let a=T_(e,i,this.options.removeNSPrefix),c=a.tagName,l=a.tagExp,p=a.attrExpPresent,f=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,o,!1));let h=r;if(h&&this.options.unpairedTags.indexOf(h.tagname)!==-1&&(r=this.tagsNodeStack.pop(),o=o.substring(0,o.lastIndexOf("."))),c!==t.tagname&&(o+=o?"."+c:c),this.isItStopNode(this.options.stopNodes,o,c)){let g="";if(l.length>0&&l.lastIndexOf("/")===l.length-1)i=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)i=a.closeIndex;else{let S=this.readStopNodeData(e,c,f+1);if(!S)throw new Error(`Unexpected end of ${c}`);i=S.i,g=S.tagContent}let v=new lc(c);c!==l&&p&&(v[":@"]=this.buildAttributesMap(l,o,c)),g&&(g=this.parseTextData(g,c,o,!0,p,!0,!0)),o=o.substr(0,o.lastIndexOf(".")),v.add(this.options.textNodeName,g),this.addChild(r,v,o)}else{if(l.length>0&&l.lastIndexOf("/")===l.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),l=c):l=l.substr(0,l.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));let g=new lc(c);c!==l&&p&&(g[":@"]=this.buildAttributesMap(l,o,c)),this.addChild(r,g,o),o=o.substr(0,o.lastIndexOf("."))}else{let g=new lc(c);this.tagsNodeStack.push(r),c!==l&&p&&(g[":@"]=this.buildAttributesMap(l,o,c)),this.addChild(r,g,o),r=g}n="",i=f}}else n+=e[i];return t.child};function Doe(e,t,r){let n=this.options.updateTag(t.tagname,r,t[":@"]);n===!1||(typeof n=="string"&&(t.tagname=n),e.addChild(t))}var $oe=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){let r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){let r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){let r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function Moe(e,t,r,n){return e&&(n===void 0&&(n=Object.keys(t.child).length===0),e=this.parseTextData(e,t.tagname,r,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,n),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function koe(e,t,r){let n="*."+r;for(let o in e){let i=e[o];if(n===i||t===i)return!0}return!1}function Loe(e,t,r=">"){let n,o="";for(let i=t;i<e.length;i++){let s=e[i];if(n)s===n&&(n="");else if(s==='"'||s==="'")n=s;else if(s===r[0])if(r[1]){if(e[i+1]===r[1])return{data:o,index:i}}else return{data:o,index:i};else s==="	"&&(s=" ");o+=s}}function Go(e,t,r,n){let o=e.indexOf(t,r);if(o===-1)throw new Error(n);return o+t.length-1}function T_(e,t,r,n=">"){let o=Loe(e,t+1,n);if(!o)return;let i=o.data,s=o.index,a=i.search(/\s/),c=i,l=!0;if(a!==-1&&(c=i.substr(0,a).replace(/\s\s*$/,""),i=i.substr(a+1)),r){let p=c.indexOf(":");p!==-1&&(c=c.substr(p+1),l=c!==o.data.substr(p+1))}return{tagName:c,tagExp:i,closeIndex:s,attrExpPresent:l}}function joe(e,t,r){let n=r,o=1;for(;r<e.length;r++)if(e[r]==="<")if(e[r+1]==="/"){let i=Go(e,">",r,`${t} is not closed`);if(e.substring(r+2,i).trim()===t&&(o--,o===0))return{tagContent:e.substring(n,r),i};r=i}else if(e[r+1]==="?")r=Go(e,"?>",r+1,"StopNode is not closed.");else if(e.substr(r+1,3)==="!--")r=Go(e,"-->",r+3,"StopNode is not closed.");else if(e.substr(r+1,2)==="![")r=Go(e,"]]>",r,"StopNode is not closed.")-2;else{let i=T_(e,r,">");i&&((i&&i.tagName)===t&&i.tagExp[i.tagExp.length-1]!=="/"&&o++,r=i.closeIndex)}}function I_(e,t,r){if(t&&typeof e=="string"){let n=e.trim();return n==="true"?!0:n==="false"?!1:Toe(e,r)}else return O_.isExist(e)?e:""}tN.exports=P_});var iN=m(oN=>{"use strict";function qoe(e,t){return nN(e,t)}function nN(e,t,r){let n,o={};for(let i=0;i<e.length;i++){let s=e[i],a=Uoe(s),c="";if(r===void 0?c=a:c=r+"."+a,a===t.textNodeName)n===void 0?n=s[a]:n+=""+s[a];else{if(a===void 0)continue;if(s[a]){let l=nN(s[a],t,c),p=Boe(l,t);s[":@"]?Foe(l,s[":@"],c,t):Object.keys(l).length===1&&l[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?l=l[t.textNodeName]:Object.keys(l).length===0&&(t.alwaysCreateTextNode?l[t.textNodeName]="":l=""),o[a]!==void 0&&o.hasOwnProperty(a)?(Array.isArray(o[a])||(o[a]=[o[a]]),o[a].push(l)):t.isArray(a,c,p)?o[a]=[l]:o[a]=l}}}return typeof n=="string"?n.length>0&&(o[t.textNodeName]=n):n!==void 0&&(o[t.textNodeName]=n),o}function Uoe(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function Foe(e,t,r,n){if(t){let o=Object.keys(t),i=o.length;for(let s=0;s<i;s++){let a=o[s];n.isArray(a,r+"."+a,!0,!0)?e[a]=[t[a]]:e[a]=t[a]}}}function Boe(e,t){let{textNodeName:r}=t,n=Object.keys(e).length;return!!(n===0||n===1&&(e[r]||typeof e[r]=="boolean"||e[r]===0))}oN.prettify=qoe});var aN=m((nTe,sN)=>{var{buildOptions:Goe}=Kx(),Voe=rN(),{prettify:zoe}=iN(),Hoe=b_(),R_=class{constructor(t){this.externalEntities={},this.options=Goe(t)}parse(t,r){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let i=Hoe.validate(t,r);if(i!==!0)throw Error(`${i.err.msg}:${i.err.line}:${i.err.col}`)}let n=new Voe(this.options);n.addExternalEntities(this.externalEntities);let o=n.parseXml(t);return this.options.preserveOrder||o===void 0?o:zoe(o,this.options)}addEntity(t,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=r}};sN.exports=R_});var pN=m((oTe,uN)=>{var Woe=`
`;function Koe(e,t){let r="";return t.format&&t.indentBy.length>0&&(r=Woe),dN(e,t,"",r)}function dN(e,t,r,n){let o="",i=!1;for(let s=0;s<e.length;s++){let a=e[s],c=Joe(a),l="";if(r.length===0?l=c:l=`${r}.${c}`,c===t.textNodeName){let v=a[c];Yoe(l,t)||(v=t.tagValueProcessor(c,v),v=lN(v,t)),i&&(o+=n),o+=v,i=!1;continue}else if(c===t.cdataPropName){i&&(o+=n),o+=`<![CDATA[${a[c][0][t.textNodeName]}]]>`,i=!1;continue}else if(c===t.commentPropName){o+=n+`<!--${a[c][0][t.textNodeName]}-->`,i=!0;continue}else if(c[0]==="?"){let v=cN(a[":@"],t),S=c==="?xml"?"":n,b=a[c][0][t.textNodeName];b=b.length!==0?" "+b:"",o+=S+`<${c}${b}${v}?>`,i=!0;continue}let p=n;p!==""&&(p+=t.indentBy);let f=cN(a[":@"],t),h=n+`<${c}${f}`,g=dN(a[c],t,l,p);t.unpairedTags.indexOf(c)!==-1?t.suppressUnpairedNode?o+=h+">":o+=h+"/>":(!g||g.length===0)&&t.suppressEmptyNode?o+=h+"/>":g&&g.endsWith(">")?o+=h+`>${g}${n}</${c}>`:(o+=h+">",g&&n!==""&&(g.includes("/>")||g.includes("</"))?o+=n+t.indentBy+g+n:o+=g,o+=`</${c}>`),i=!0}return o}function Joe(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function cN(e,t){let r="";if(e&&!t.ignoreAttributes)for(let n in e){let o=t.attributeValueProcessor(n,e[n]);o=lN(o,t),o===!0&&t.suppressBooleanAttributes?r+=` ${n.substr(t.attributeNamePrefix.length)}`:r+=` ${n.substr(t.attributeNamePrefix.length)}="${o}"`}return r}function Yoe(e,t){e=e.substr(0,e.length-t.textNodeName.length-1);let r=e.substr(e.lastIndexOf(".")+1);for(let n in t.stopNodes)if(t.stopNodes[n]===e||t.stopNodes[n]==="*."+r)return!0;return!1}function lN(e,t){if(e&&e.length>0&&t.processEntities)for(let r=0;r<t.entities.length;r++){let n=t.entities[r];e=e.replace(n.regex,n.val)}return e}uN.exports=Koe});var mN=m((iTe,fN)=>{"use strict";var Xoe=pN(),Qoe={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function zn(e){this.options=Object.assign({},Qoe,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=tie),this.processTextOrObjNode=Zoe,this.options.format?(this.indentate=eie,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}zn.prototype.build=function(e){return this.options.preserveOrder?Xoe(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0).val)};zn.prototype.j2x=function(e,t){let r="",n="";for(let o in e)if(!(typeof e[o]>"u"))if(e[o]===null)o[0]==="?"?n+=this.indentate(t)+"<"+o+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+o+"/"+this.tagEndChar;else if(e[o]instanceof Date)n+=this.buildTextValNode(e[o],o,"",t);else if(typeof e[o]!="object"){let i=this.isAttribute(o);if(i)r+=this.buildAttrPairStr(i,""+e[o]);else if(o===this.options.textNodeName){let s=this.options.tagValueProcessor(o,""+e[o]);n+=this.replaceEntitiesValue(s)}else n+=this.buildTextValNode(e[o],o,"",t)}else if(Array.isArray(e[o])){let i=e[o].length,s="";for(let a=0;a<i;a++){let c=e[o][a];typeof c>"u"||(c===null?o[0]==="?"?n+=this.indentate(t)+"<"+o+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+o+"/"+this.tagEndChar:typeof c=="object"?this.options.oneListGroup?s+=this.j2x(c,t+1).val:s+=this.processTextOrObjNode(c,o,t):s+=this.buildTextValNode(c,o,"",t))}this.options.oneListGroup&&(s=this.buildObjectNode(s,o,"",t)),n+=s}else if(this.options.attributesGroupName&&o===this.options.attributesGroupName){let i=Object.keys(e[o]),s=i.length;for(let a=0;a<s;a++)r+=this.buildAttrPairStr(i[a],""+e[o][i[a]])}else n+=this.processTextOrObjNode(e[o],o,t);return{attrStr:r,val:n}};zn.prototype.buildAttrPairStr=function(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&t==="true"?" "+e:" "+e+'="'+t+'"'};function Zoe(e,t,r){let n=this.j2x(e,r+1);return e[this.options.textNodeName]!==void 0&&Object.keys(e).length===1?this.buildTextValNode(e[this.options.textNodeName],t,n.attrStr,r):this.buildObjectNode(n.val,t,n.attrStr,r)}zn.prototype.buildObjectNode=function(e,t,r,n){if(e==="")return t[0]==="?"?this.indentate(n)+"<"+t+r+"?"+this.tagEndChar:this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar;{let o="</"+t+this.tagEndChar,i="";return t[0]==="?"&&(i="?",o=""),r&&e.indexOf("<")===-1?this.indentate(n)+"<"+t+r+i+">"+e+o:this.options.commentPropName!==!1&&t===this.options.commentPropName&&i.length===0?this.indentate(n)+`<!--${e}-->`+this.newLine:this.indentate(n)+"<"+t+r+i+this.tagEndChar+e+this.indentate(n)+o}};zn.prototype.closeTag=function(e){let t="";return this.options.unpairedTags.indexOf(e)!==-1?this.options.suppressUnpairedNode||(t="/"):this.options.suppressEmptyNode?t="/":t=`></${e}`,t};zn.prototype.buildTextValNode=function(e,t,r,n){if(this.options.cdataPropName!==!1&&t===this.options.cdataPropName)return this.indentate(n)+`<![CDATA[${e}]]>`+this.newLine;if(this.options.commentPropName!==!1&&t===this.options.commentPropName)return this.indentate(n)+`<!--${e}-->`+this.newLine;if(t[0]==="?")return this.indentate(n)+"<"+t+r+"?"+this.tagEndChar;{let o=this.options.tagValueProcessor(t,e);return o=this.replaceEntitiesValue(o),o===""?this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar:this.indentate(n)+"<"+t+r+">"+o+"</"+t+this.tagEndChar}};zn.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){let r=this.options.entities[t];e=e.replace(r.regex,r.val)}return e};function eie(e){return this.options.indentBy.repeat(e)}function tie(e){return e.startsWith(this.options.attributeNamePrefix)?e.substr(this.attrPrefixLen):!1}fN.exports=zn});var gN=m((sTe,hN)=>{"use strict";var rie=b_(),nie=aN(),oie=mN();hN.exports={XMLParser:nie,XMLValidator:rie,XMLBuilder:oie}});var et=m((cTe,AN)=>{var Tu=Object.defineProperty,iie=Object.getOwnPropertyDescriptor,sie=Object.getOwnPropertyNames,aie=Object.prototype.hasOwnProperty,Oe=(e,t)=>Tu(e,"name",{value:t,configurable:!0}),cie=(e,t)=>{for(var r in t)Tu(e,r,{get:t[r],enumerable:!0})},die=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of sie(t))!aie.call(e,o)&&o!==r&&Tu(e,o,{get:()=>t[o],enumerable:!(n=iie(t,o))||n.enumerable});return e},lie=e=>die(Tu({},"__esModule",{value:!0}),e),SN={};cie(SN,{AWSSDKSigV4Signer:()=>mie,AwsSdkSigV4Signer:()=>PN,_toBool:()=>_ie,_toNum:()=>vie,_toStr:()=>gie,awsExpectUnion:()=>yie,emitWarningIfUnsupportedVersion:()=>uie,loadRestJsonErrorCode:()=>Sie,loadRestXmlErrorCode:()=>wie,parseJsonBody:()=>ON,parseJsonErrorBody:()=>Eie,parseXmlBody:()=>RN,parseXmlErrorBody:()=>Cie,resolveAWSSDKSigV4Config:()=>hie,resolveAwsSdkSigV4Config:()=>TN});AN.exports=lie(SN);var _N=!1,uie=Oe(e=>{e&&!_N&&parseInt(e.substring(1,e.indexOf(".")))<16&&(_N=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 14.x on May 1, 2024.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to an active Node.js LTS version.

More information can be found at: https://a.co/dzr2AJd`))},"emitWarningIfUnsupportedVersion"),bN=at(),vN=Oe(e=>{var t,r;return bN.HttpResponse.isInstance(e)?((t=e.headers)==null?void 0:t.date)??((r=e.headers)==null?void 0:r.Date):void 0},"getDateHeader"),CN=Oe(e=>new Date(Date.now()+e),"getSkewCorrectedDate"),pie=Oe((e,t)=>Math.abs(CN(t).getTime()-e)>=3e5,"isClockSkewed"),yN=Oe((e,t)=>{let r=Date.parse(e);return pie(r,t)?r-Date.now():t},"getUpdatedSystemClockOffset"),uc=Oe((e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},"throwSigningPropertyError"),fie=Oe(async e=>{var t,r,n;let o=uc("context",e.context),i=uc("config",e.config),s=(n=(r=(t=o.endpointV2)==null?void 0:t.properties)==null?void 0:r.authSchemes)==null?void 0:n[0],c=await uc("signer",i.signer)(s),l=e?.signingRegion,p=e?.signingName;return{config:i,signer:c,signingRegion:l,signingName:p}},"validateSigningProperties"),wN=class{async sign(t,r,n){if(!bN.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:o,signer:i,signingRegion:s,signingName:a}=await fie(n);return await i.sign(t,{signingDate:CN(o.systemClockOffset),signingRegion:s,signingService:a})}errorHandler(t){return r=>{let n=r.ServerTime??vN(r.$response);if(n){let o=uc("config",t.config),i=o.systemClockOffset;o.systemClockOffset=yN(n,o.systemClockOffset),o.systemClockOffset!==i&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=vN(t);if(n){let o=uc("config",r.config);o.systemClockOffset=yN(n,o.systemClockOffset)}}};Oe(wN,"AwsSdkSigV4Signer");var PN=wN,mie=PN,Vo=ct(),EN=qx(),TN=Oe(e=>{let t;e.credentials&&(t=(0,Vo.memoizeIdentityProvider)(e.credentials,Vo.isIdentityExpired,Vo.doesIdentityRequireRefresh)),t||(e.credentialDefaultProvider?t=(0,Vo.normalizeProvider)(e.credentialDefaultProvider(Object.assign({},e,{parentClientConfig:e}))):t=Oe(async()=>{throw new Error("`credentials` is missing")},"normalizedCreds"));let{signingEscapePath:r=!0,systemClockOffset:n=e.systemClockOffset||0,sha256:o}=e,i;return e.signer?i=(0,Vo.normalizeProvider)(e.signer):e.regionInfoProvider?i=Oe(()=>(0,Vo.normalizeProvider)(e.region)().then(async s=>[await e.regionInfoProvider(s,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},s]).then(([s,a])=>{let{signingRegion:c,signingService:l}=s;e.signingRegion=e.signingRegion||c||a,e.signingName=e.signingName||l||e.serviceId;let p={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:r},f=e.signerConstructor||EN.SignatureV4;return new f(p)}),"signer"):i=Oe(async s=>{s=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await(0,Vo.normalizeProvider)(e.region)(),properties:{}},s);let a=s.signingRegion,c=s.signingName;e.signingRegion=e.signingRegion||a,e.signingName=e.signingName||c||e.serviceId;let l={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:r},p=e.signerConstructor||EN.SignatureV4;return new p(l)},"signer"),{...e,systemClockOffset:n,signingEscapePath:r,credentials:t,signer:i}},"resolveAwsSdkSigV4Config"),hie=TN,gie=Oe(e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},"_toStr"),_ie=Oe(e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},"_toBool"),vie=Oe(e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e},"_toNum"),A_=ke(),yie=Oe(e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,A_.expectUnion)(e)},"awsExpectUnion"),IN=Oe((e,t)=>(0,A_.collectBody)(e,t).then(r=>t.utf8Encoder(r)),"collectBodyString"),ON=Oe((e,t)=>IN(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),"parseJsonBody"),Eie=Oe(async(e,t)=>{let r=await ON(e,t);return r.message=r.message??r.Message,r},"parseJsonErrorBody"),Sie=Oe((e,t)=>{let r=Oe((i,s)=>Object.keys(i).find(a=>a.toLowerCase()===s.toLowerCase()),"findKey"),n=Oe(i=>{let s=i;return typeof s=="number"&&(s=s.toString()),s.indexOf(",")>=0&&(s=s.split(",")[0]),s.indexOf(":")>=0&&(s=s.split(":")[0]),s.indexOf("#")>=0&&(s=s.split("#")[1]),s},"sanitizeErrorCode"),o=r(e.headers,"x-amzn-errortype");if(o!==void 0)return n(e.headers[o]);if(t.code!==void 0)return n(t.code);if(t.__type!==void 0)return n(t.__type)},"loadRestJsonErrorCode"),bie=gN(),RN=Oe((e,t)=>IN(e,t).then(r=>{if(r.length){let n=new bie.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,l)=>l.trim()===""&&l.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let o;try{o=n.parse(r,!0)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:r}),c}let i="#text",s=Object.keys(o)[0],a=o[s];return a[i]&&(a[s]=a[i],delete a[i]),(0,A_.getValueFromTextNode)(a)}return{}}),"parseXmlBody"),Cie=Oe(async(e,t)=>{let r=await RN(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},"parseXmlErrorBody"),wie=Oe((e,t)=>{var r;if(((r=t?.Error)==null?void 0:r.Code)!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"},"loadRestXmlErrorCode")});var x_=m(Hn=>{"use strict";Object.defineProperty(Hn,"__esModule",{value:!0});Hn.resolveHttpAuthSchemeConfig=Hn.defaultDynamoDBHttpAuthSchemeProvider=Hn.defaultDynamoDBHttpAuthSchemeParametersProvider=void 0;var Pie=et(),xN=Nr(),Tie=async(e,t,r)=>({operation:(0,xN.getSmithyContext)(t).operation,region:await(0,xN.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Hn.defaultDynamoDBHttpAuthSchemeParametersProvider=Tie;function Iie(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"dynamodb",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}var Oie=e=>{let t=[];switch(e.operation){default:t.push(Iie(e))}return t};Hn.defaultDynamoDBHttpAuthSchemeProvider=Oie;var Rie=e=>({...(0,Pie.resolveAwsSdkSigV4Config)(e)});Hn.resolveHttpAuthSchemeConfig=Rie});var zi={};Fc(zi,{__addDisposableResource:()=>QN,__assign:()=>Iu,__asyncDelegator:()=>VN,__asyncGenerator:()=>GN,__asyncValues:()=>zN,__await:()=>Vi,__awaiter:()=>LN,__classPrivateFieldGet:()=>JN,__classPrivateFieldIn:()=>XN,__classPrivateFieldSet:()=>YN,__createBinding:()=>Ru,__decorate:()=>$N,__disposeResources:()=>ZN,__esDecorate:()=>Aie,__exportStar:()=>qN,__extends:()=>NN,__generator:()=>jN,__importDefault:()=>KN,__importStar:()=>WN,__makeTemplateObject:()=>HN,__metadata:()=>kN,__param:()=>MN,__propKey:()=>Nie,__read:()=>D_,__rest:()=>DN,__runInitializers:()=>xie,__setFunctionName:()=>Die,__spread:()=>UN,__spreadArray:()=>BN,__spreadArrays:()=>FN,__values:()=>Ou,default:()=>kie});function NN(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");N_(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function DN(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function $N(e,t,r,n){var o=arguments.length,i=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,r,i):s(t,r))||i);return o>3&&i&&Object.defineProperty(t,r,i),i}function MN(e,t){return function(r,n){t(r,n,e)}}function Aie(e,t,r,n,o,i){function s(T){if(T!==void 0&&typeof T!="function")throw new TypeError("Function expected");return T}for(var a=n.kind,c=a==="getter"?"get":a==="setter"?"set":"value",l=!t&&e?n.static?e:e.prototype:null,p=t||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),f,h=!1,g=r.length-1;g>=0;g--){var v={};for(var S in n)v[S]=S==="access"?{}:n[S];for(var S in n.access)v.access[S]=n.access[S];v.addInitializer=function(T){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(s(T||null))};var b=(0,r[g])(a==="accessor"?{get:p.get,set:p.set}:p[c],v);if(a==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(f=s(b.get))&&(p.get=f),(f=s(b.set))&&(p.set=f),(f=s(b.init))&&o.unshift(f)}else(f=s(b))&&(a==="field"?o.unshift(f):p[c]=f)}l&&Object.defineProperty(l,n.name,p),h=!0}function xie(e,t,r){for(var n=arguments.length>2,o=0;o<t.length;o++)r=n?t[o].call(e,r):t[o].call(e);return n?r:void 0}function Nie(e){return typeof e=="symbol"?e:"".concat(e)}function Die(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function kN(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function LN(e,t,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(p){try{l(n.next(p))}catch(f){s(f)}}function c(p){try{l(n.throw(p))}catch(f){s(f)}}function l(p){p.done?i(p.value):o(p.value).then(a,c)}l((n=n.apply(e,t||[])).next())})}function jN(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(p){return c([l,p])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(r=0)),r;)try{if(n=1,o&&(i=l[0]&2?o.return:l[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,l[1])).done)return i;switch(o=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,o=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){r.label=l[1];break}if(l[0]===6&&r.label<i[1]){r.label=i[1],i=l;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(l);break}i[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(p){l=[6,p],o=0}finally{n=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function qN(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Ru(t,e,r)}function Ou(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function D_(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],s;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i}function UN(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(D_(arguments[t]));return e}function FN(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),o=0,t=0;t<r;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)n[o]=i[s];return n}function BN(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function Vi(e){return this instanceof Vi?(this.v=e,this):new Vi(e)}function GN(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(h){n[h]&&(o[h]=function(g){return new Promise(function(v,S){i.push([h,g,v,S])>1||a(h,g)})})}function a(h,g){try{c(n[h](g))}catch(v){f(i[0][3],v)}}function c(h){h.value instanceof Vi?Promise.resolve(h.value.v).then(l,p):f(i[0][2],h)}function l(h){a("next",h)}function p(h){a("throw",h)}function f(h,g){h(g),i.shift(),i.length&&a(i[0][0],i[0][1])}}function VN(e){var t,r;return t={},n("next"),n("throw",function(o){throw o}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(o,i){t[o]=e[o]?function(s){return(r=!r)?{value:Vi(e[o](s)),done:!1}:i?i(s):s}:i}}function zN(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Ou=="function"?Ou(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(s){return new Promise(function(a,c){s=e[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},s)}}function HN(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function WN(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Ru(t,e,r);return $ie(t,e),t}function KN(e){return e&&e.__esModule?e:{default:e}}function JN(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function YN(e,t,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r}function XN(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function QN(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose]}if(typeof n!="function")throw new TypeError("Object not disposable.");e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}function ZN(e){function t(n){e.error=e.hasError?new Mie(n,e.error,"An error was suppressed during disposal."):n,e.hasError=!0}function r(){for(;e.stack.length;){var n=e.stack.pop();try{var o=n.dispose&&n.dispose.call(n.value);if(n.async)return Promise.resolve(o).then(r,function(i){return t(i),r()})}catch(i){t(i)}}if(e.hasError)throw e.error}return r()}var N_,Iu,Ru,$ie,Mie,kie,Hi=Ke(()=>{N_=function(e,t){return N_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},N_(e,t)};Iu=function(){return Iu=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Iu.apply(this,arguments)};Ru=Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};$ie=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};Mie=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};kie={__extends:NN,__assign:Iu,__rest:DN,__decorate:$N,__param:MN,__metadata:kN,__awaiter:LN,__generator:jN,__createBinding:Ru,__exportStar:qN,__values:Ou,__read:D_,__spread:UN,__spreadArrays:FN,__spreadArray:BN,__await:Vi,__asyncGenerator:GN,__asyncDelegator:VN,__asyncValues:zN,__makeTemplateObject:HN,__importStar:WN,__importDefault:KN,__classPrivateFieldGet:JN,__classPrivateFieldSet:YN,__classPrivateFieldIn:XN,__addDisposableResource:QN,__disposeResources:ZN}});var eD=m((lTe,Lie)=>{Lie.exports={name:"@aws-sdk/client-dynamodb",description:"AWS SDK for JavaScript Dynamodb Client for Node.js, Browser and React Native",version:"3.556.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-dynamodb","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo dynamodb"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.556.0","@aws-sdk/core":"3.556.0","@aws-sdk/credential-provider-node":"3.556.0","@aws-sdk/middleware-endpoint-discovery":"3.535.0","@aws-sdk/middleware-host-header":"3.535.0","@aws-sdk/middleware-logger":"3.535.0","@aws-sdk/middleware-recursion-detection":"3.535.0","@aws-sdk/middleware-user-agent":"3.540.0","@aws-sdk/region-config-resolver":"3.535.0","@aws-sdk/types":"3.535.0","@aws-sdk/util-endpoints":"3.540.0","@aws-sdk/util-user-agent-browser":"3.535.0","@aws-sdk/util-user-agent-node":"3.535.0","@smithy/config-resolver":"^2.2.0","@smithy/core":"^1.4.2","@smithy/fetch-http-handler":"^2.5.0","@smithy/hash-node":"^2.2.0","@smithy/invalid-dependency":"^2.2.0","@smithy/middleware-content-length":"^2.2.0","@smithy/middleware-endpoint":"^2.5.1","@smithy/middleware-retry":"^2.3.1","@smithy/middleware-serde":"^2.3.0","@smithy/middleware-stack":"^2.2.0","@smithy/node-config-provider":"^2.3.0","@smithy/node-http-handler":"^2.5.0","@smithy/protocol-http":"^3.3.0","@smithy/smithy-client":"^2.5.1","@smithy/types":"^2.12.0","@smithy/url-parser":"^2.2.0","@smithy/util-base64":"^2.3.0","@smithy/util-body-length-browser":"^2.2.0","@smithy/util-body-length-node":"^2.3.0","@smithy/util-defaults-mode-browser":"^2.2.1","@smithy/util-defaults-mode-node":"^2.3.1","@smithy/util-endpoints":"^1.2.0","@smithy/util-middleware":"^2.2.0","@smithy/util-retry":"^2.2.0","@smithy/util-utf8":"^2.3.0","@smithy/util-waiter":"^2.2.0",tslib:"^2.6.2",uuid:"^9.0.1"},devDependencies:{"@smithy/service-client-documentation-generator":"^2.2.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31","@types/uuid":"^9.0.4",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-dynamodb",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-dynamodb"}}});var pc=m((uTe,hD)=>{var Nu=Object.defineProperty,jie=Object.getOwnPropertyDescriptor,qie=Object.getOwnPropertyNames,Uie=Object.prototype.hasOwnProperty,We=(e,t)=>Nu(e,"name",{value:t,configurable:!0}),Fie=(e,t)=>{for(var r in t)Nu(e,r,{get:t[r],enumerable:!0})},Bie=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of qie(t))!Uie.call(e,o)&&o!==r&&Nu(e,o,{get:()=>t[o],enumerable:!(n=jie(t,o))||n.enumerable});return e},Gie=e=>Bie(Nu({},"__esModule",{value:!0}),e),oD={};Fie(oD,{DEFAULT_MAX_RETRIES:()=>cD,DEFAULT_TIMEOUT:()=>aD,ENV_CMDS_AUTH_TOKEN:()=>k_,ENV_CMDS_FULL_URI:()=>Au,ENV_CMDS_RELATIVE_URI:()=>xu,Endpoint:()=>uD,fromContainerMetadata:()=>Wie,fromInstanceMetadata:()=>mse,getInstanceMetadataEndpoint:()=>fD,httpRequest:()=>Wi,providerConfigFromInit:()=>L_});hD.exports=Gie(oD);var Vie=require("url"),kr=wt(),zie=require("buffer"),Hie=require("http");function Wi(e){return new Promise((t,r)=>{var n;let o=(0,Hie.request)({method:"GET",...e,hostname:(n=e.hostname)==null?void 0:n.replace(/^\[(.+)\]$/,"$1")});o.on("error",i=>{r(Object.assign(new kr.ProviderError("Unable to connect to instance metadata service"),i)),o.destroy()}),o.on("timeout",()=>{r(new kr.ProviderError("TimeoutError from instance metadata service")),o.destroy()}),o.on("response",i=>{let{statusCode:s=400}=i;(s<200||300<=s)&&(r(Object.assign(new kr.ProviderError("Error response received from instance metadata service"),{statusCode:s})),o.destroy());let a=[];i.on("data",c=>{a.push(c)}),i.on("end",()=>{t(zie.Buffer.concat(a)),o.destroy()})}),o.end()})}We(Wi,"httpRequest");var iD=We(e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string","isImdsCredentials"),sD=We(e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration)}),"fromImdsCredentials"),aD=1e3,cD=0,L_=We(({maxRetries:e=cD,timeout:t=aD})=>({maxRetries:e,timeout:t}),"providerConfigFromInit"),M_=We((e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r},"retry"),Au="AWS_CONTAINER_CREDENTIALS_FULL_URI",xu="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",k_="AWS_CONTAINER_AUTHORIZATION_TOKEN",Wie=We((e={})=>{let{timeout:t,maxRetries:r}=L_(e);return()=>M_(async()=>{let n=await Qie(),o=JSON.parse(await Kie(t,n));if(!iD(o))throw new kr.CredentialsProviderError("Invalid response received from instance metadata service.");return sD(o)},r)},"fromContainerMetadata"),Kie=We(async(e,t)=>(process.env[k_]&&(t.headers={...t.headers,Authorization:process.env[k_]}),(await Wi({...t,timeout:e})).toString()),"requestFromEcsImds"),Jie="169.254.170.2",Yie={localhost:!0,"127.0.0.1":!0},Xie={"http:":!0,"https:":!0},Qie=We(async()=>{if(process.env[xu])return{hostname:Jie,path:process.env[xu]};if(process.env[Au]){let e=(0,Vie.parse)(process.env[Au]);if(!e.hostname||!(e.hostname in Yie))throw new kr.CredentialsProviderError(`${e.hostname} is not a valid container metadata service hostname`,!1);if(!e.protocol||!(e.protocol in Xie))throw new kr.CredentialsProviderError(`${e.protocol} is not a valid container metadata service protocol`,!1);return{...e,port:e.port?parseInt(e.port,10):void 0}}throw new kr.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${xu} or ${Au} environment variable is set`,!1)},"getCmdsUri"),dD=class lD extends kr.CredentialsProviderError{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="InstanceMetadataV1FallbackError",Object.setPrototypeOf(this,lD.prototype)}};We(dD,"InstanceMetadataV1FallbackError");var Zie=dD,j_=dn(),ese=Lo(),uD=(e=>(e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]",e))(uD||{}),tse="AWS_EC2_METADATA_SERVICE_ENDPOINT",rse="ec2_metadata_service_endpoint",nse={environmentVariableSelector:e=>e[tse],configFileSelector:e=>e[rse],default:void 0},pD=(e=>(e.IPv4="IPv4",e.IPv6="IPv6",e))(pD||{}),ose="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",ise="ec2_metadata_service_endpoint_mode",sse={environmentVariableSelector:e=>e[ose],configFileSelector:e=>e[ise],default:"IPv4"},fD=We(async()=>(0,ese.parseUrl)(await ase()||await cse()),"getInstanceMetadataEndpoint"),ase=We(async()=>(0,j_.loadConfig)(nse)(),"getFromEndpointConfig"),cse=We(async()=>{let e=await(0,j_.loadConfig)(sse)();switch(e){case"IPv4":return"http://169.254.169.254";case"IPv6":return"http://[fd00:ec2::254]";default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(pD)}`)}},"getFromEndpointModeConfig"),dse=5*60,lse=5*60,use="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",tD=We((e,t)=>{let r=dse+Math.floor(Math.random()*lse),n=new Date(Date.now()+r*1e3);t.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+use);let o=e.originalExpiration??e.expiration;return{...e,...o?{originalExpiration:o}:{},expiration:n}},"getExtendedInstanceMetadataCredentials"),pse=We((e,t={})=>{let r=t?.logger||console,n;return async()=>{let o;try{o=await e(),o.expiration&&o.expiration.getTime()<Date.now()&&(o=tD(o,r))}catch(i){if(n)r.warn("Credential renew failed: ",i),o=tD(n,r);else throw i}return n=o,o}},"staticStabilityProvider"),mD="/latest/meta-data/iam/security-credentials/",fse="/latest/api/token",$_="AWS_EC2_METADATA_V1_DISABLED",rD="ec2_metadata_v1_disabled",nD="x-aws-ec2-metadata-token",mse=We((e={})=>pse(hse(e),{logger:e.logger}),"fromInstanceMetadata"),hse=We(e=>{let t=!1,{logger:r,profile:n}=e,{timeout:o,maxRetries:i}=L_(e),s=We(async(a,c)=>{var l;if(t||((l=c.headers)==null?void 0:l[nD])==null){let h=!1,g=!1,v=await(0,j_.loadConfig)({environmentVariableSelector:S=>{let b=S[$_];if(g=!!b&&b!=="false",b===void 0)throw new kr.CredentialsProviderError(`${$_} not set in env, checking config file next.`);return g},configFileSelector:S=>{let b=S[rD];return h=!!b&&b!=="false",h},default:!1},{profile:n})();if(e.ec2MetadataV1Disabled||v){let S=[];throw e.ec2MetadataV1Disabled&&S.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),h&&S.push(`config file profile (${rD})`),g&&S.push(`process environment variable (${$_})`),new Zie(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${S.join(", ")}].`)}}let f=(await M_(async()=>{let h;try{h=await _se(c)}catch(g){throw g.statusCode===401&&(t=!1),g}return h},a)).trim();return M_(async()=>{let h;try{h=await vse(f,c)}catch(g){throw g.statusCode===401&&(t=!1),g}return h},a)},"getCredentials");return async()=>{let a=await fD();if(t)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),s(i,{...a,timeout:o});{let c;try{c=(await gse({...a,timeout:o})).toString()}catch(l){if(l?.statusCode===400)throw Object.assign(l,{message:"EC2 Metadata token request returned error"});return(l.message==="TimeoutError"||[403,404,405].includes(l.statusCode))&&(t=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),s(i,{...a,timeout:o})}return s(i,{...a,headers:{[nD]:c},timeout:o})}}},"getInstanceImdsProvider"),gse=We(async e=>Wi({...e,path:fse,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),"getMetadataToken"),_se=We(async e=>(await Wi({...e,path:mD})).toString(),"getProfile"),vse=We(async(e,t)=>{let r=JSON.parse((await Wi({...t,path:mD+e})).toString());if(!iD(r))throw new kr.CredentialsProviderError("Invalid response received from instance metadata service.");return sD(r)},"getCredentialsFromProfile")});var gD=m(Du=>{"use strict";Object.defineProperty(Du,"__esModule",{value:!0});Du.checkUrl=void 0;var yse=wt(),Ese="169.254.170.2",Sse="169.254.170.23",bse="[fd00:ec2::23]",Cse=e=>{if(e.protocol!=="https:"&&!(e.hostname===Ese||e.hostname===Sse||e.hostname===bse)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let t=e.hostname.split("."),r=n=>{let o=parseInt(n,10);return 0<=o&&o<=255};if(t[0]==="127"&&r(t[1])&&r(t[2])&&r(t[3])&&t.length===4)return}throw new yse.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`)}};Du.checkUrl=Cse});var _D=m(Ki=>{"use strict";Object.defineProperty(Ki,"__esModule",{value:!0});Ki.getCredentials=Ki.createGetRequest=void 0;var q_=wt(),wse=at(),Pse=ke(),Tse=Xg();function Ise(e){return new wse.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((t,[r,n])=>(t[r]=n,t),{}),fragment:e.hash})}Ki.createGetRequest=Ise;async function Ose(e){var t,r;let n=(r=(t=e?.headers["content-type"])!==null&&t!==void 0?t:e?.headers["Content-Type"])!==null&&r!==void 0?r:"";n.includes("json")||console.warn("HTTP credential provider response header content-type was not application/json. Observed: "+n+".");let i=await(0,Tse.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let s=JSON.parse(i);if(typeof s.AccessKeyId!="string"||typeof s.SecretAccessKey!="string"||typeof s.Token!="string"||typeof s.Expiration!="string")throw new q_.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }");return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.Token,expiration:(0,Pse.parseRfc3339DateTime)(s.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let s={};try{s=JSON.parse(i)}catch{}throw Object.assign(new q_.CredentialsProviderError(`Server responded with status: ${e.statusCode}`),{Code:s.Code,Message:s.Message})}throw new q_.CredentialsProviderError(`Server responded with status: ${e.statusCode}`)}Ki.getCredentials=Ose});var vD=m($u=>{"use strict";Object.defineProperty($u,"__esModule",{value:!0});$u.retryWrapper=void 0;var Rse=(e,t,r)=>async()=>{for(let n=0;n<t;++n)try{return await e()}catch{await new Promise(i=>setTimeout(i,r))}return await e()};$u.retryWrapper=Rse});var SD=m(Mu=>{"use strict";Object.defineProperty(Mu,"__esModule",{value:!0});Mu.fromHttp=void 0;var Ase=(Hi(),Kr(zi)),xse=Bo(),yD=wt(),Nse=Ase.__importDefault(require("fs/promises")),Dse=gD(),ED=_D(),$se=vD(),Mse="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",kse="http://169.254.170.2",Lse="AWS_CONTAINER_CREDENTIALS_FULL_URI",jse="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",qse="AWS_CONTAINER_AUTHORIZATION_TOKEN",Use=e=>{var t,r,n,o,i,s,a,c,l;(t=e.logger)===null||t===void 0||t.debug("@aws-sdk/credential-provider-http","fromHttp");let p,f=(r=e.awsContainerCredentialsRelativeUri)!==null&&r!==void 0?r:process.env[Mse],h=(n=e.awsContainerCredentialsFullUri)!==null&&n!==void 0?n:process.env[Lse],g=(o=e.awsContainerAuthorizationToken)!==null&&o!==void 0?o:process.env[qse],v=(i=e.awsContainerAuthorizationTokenFile)!==null&&i!==void 0?i:process.env[jse];if(f&&h&&(console.warn("AWS SDK HTTP credentials provider:","you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),console.warn("awsContainerCredentialsFullUri will take precedence.")),g&&v&&(console.warn("AWS SDK HTTP credentials provider:","you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),console.warn("awsContainerAuthorizationToken will take precedence.")),h)p=h;else if(f)p=`${kse}${f}`;else throw new yD.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`);let S=new URL(p);(0,Dse.checkUrl)(S);let b=new xse.NodeHttpHandler({requestTimeout:(s=e.timeout)!==null&&s!==void 0?s:1e3,connectionTimeout:(a=e.timeout)!==null&&a!==void 0?a:1e3});return(0,$se.retryWrapper)(async()=>{let T=(0,ED.createGetRequest)(S);g?T.headers.Authorization=g:v&&(T.headers.Authorization=(await Nse.default.readFile(v)).toString());try{let O=await b.handle(T);return(0,ED.getCredentials)(O.response)}catch(O){throw new yD.CredentialsProviderError(String(O))}},(c=e.maxRetries)!==null&&c!==void 0?c:3,(l=e.timeout)!==null&&l!==void 0?l:1e3)};Mu.fromHttp=Use});var bD=m(ku=>{"use strict";Object.defineProperty(ku,"__esModule",{value:!0});ku.fromHttp=void 0;var Fse=SD();Object.defineProperty(ku,"fromHttp",{enumerable:!0,get:function(){return Fse.fromHttp}})});var U_=m((_Te,RD)=>{var Lu=Object.defineProperty,Bse=Object.getOwnPropertyDescriptor,Gse=Object.getOwnPropertyNames,Vse=Object.prototype.hasOwnProperty,zse=(e,t)=>Lu(e,"name",{value:t,configurable:!0}),Hse=(e,t)=>{for(var r in t)Lu(e,r,{get:t[r],enumerable:!0})},Wse=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Gse(t))!Vse.call(e,o)&&o!==r&&Lu(e,o,{get:()=>t[o],enumerable:!(n=Bse(t,o))||n.enumerable});return e},Kse=e=>Wse(Lu({},"__esModule",{value:!0}),e),CD={};Hse(CD,{ENV_CREDENTIAL_SCOPE:()=>OD,ENV_EXPIRATION:()=>ID,ENV_KEY:()=>wD,ENV_SECRET:()=>PD,ENV_SESSION:()=>TD,fromEnv:()=>Yse});RD.exports=Kse(CD);var Jse=wt(),wD="AWS_ACCESS_KEY_ID",PD="AWS_SECRET_ACCESS_KEY",TD="AWS_SESSION_TOKEN",ID="AWS_CREDENTIAL_EXPIRATION",OD="AWS_CREDENTIAL_SCOPE",Yse=zse(e=>async()=>{var t;(t=e?.logger)==null||t.debug("@aws-sdk/credential-provider-env","fromEnv");let r=process.env[wD],n=process.env[PD],o=process.env[TD],i=process.env[ID],s=process.env[OD];if(r&&n)return{accessKeyId:r,secretAccessKey:n,...o&&{sessionToken:o},...i&&{expiration:new Date(i)},...s&&{credentialScope:s}};throw new Jse.CredentialsProviderError("Unable to find environment variable credentials.")},"fromEnv")});var F_=m(Wn=>{"use strict";Object.defineProperty(Wn,"__esModule",{value:!0});Wn.resolveHttpAuthSchemeConfig=Wn.defaultSSOHttpAuthSchemeProvider=Wn.defaultSSOHttpAuthSchemeParametersProvider=void 0;var Xse=et(),AD=Nr(),Qse=async(e,t,r)=>({operation:(0,AD.getSmithyContext)(t).operation,region:await(0,AD.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Wn.defaultSSOHttpAuthSchemeParametersProvider=Qse;function Zse(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function ju(e){return{schemeId:"smithy.api#noAuth"}}var eae=e=>{let t=[];switch(e.operation){case"GetRoleCredentials":{t.push(ju(e));break}case"ListAccountRoles":{t.push(ju(e));break}case"ListAccounts":{t.push(ju(e));break}case"Logout":{t.push(ju(e));break}default:t.push(Zse(e))}return t};Wn.defaultSSOHttpAuthSchemeProvider=eae;var tae=e=>({...(0,Xse.resolveAwsSdkSigV4Config)(e)});Wn.resolveHttpAuthSchemeConfig=tae});var xD=m((yTe,rae)=>{rae.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.556.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/core":"3.556.0","@aws-sdk/middleware-host-header":"3.535.0","@aws-sdk/middleware-logger":"3.535.0","@aws-sdk/middleware-recursion-detection":"3.535.0","@aws-sdk/middleware-user-agent":"3.540.0","@aws-sdk/region-config-resolver":"3.535.0","@aws-sdk/types":"3.535.0","@aws-sdk/util-endpoints":"3.540.0","@aws-sdk/util-user-agent-browser":"3.535.0","@aws-sdk/util-user-agent-node":"3.535.0","@smithy/config-resolver":"^2.2.0","@smithy/core":"^1.4.2","@smithy/fetch-http-handler":"^2.5.0","@smithy/hash-node":"^2.2.0","@smithy/invalid-dependency":"^2.2.0","@smithy/middleware-content-length":"^2.2.0","@smithy/middleware-endpoint":"^2.5.1","@smithy/middleware-retry":"^2.3.1","@smithy/middleware-serde":"^2.3.0","@smithy/middleware-stack":"^2.2.0","@smithy/node-config-provider":"^2.3.0","@smithy/node-http-handler":"^2.5.0","@smithy/protocol-http":"^3.3.0","@smithy/smithy-client":"^2.5.1","@smithy/types":"^2.12.0","@smithy/url-parser":"^2.2.0","@smithy/util-base64":"^2.3.0","@smithy/util-body-length-browser":"^2.2.0","@smithy/util-body-length-node":"^2.3.0","@smithy/util-defaults-mode-browser":"^2.2.1","@smithy/util-defaults-mode-node":"^2.3.1","@smithy/util-endpoints":"^1.2.0","@smithy/util-middleware":"^2.2.0","@smithy/util-retry":"^2.2.0","@smithy/util-utf8":"^2.3.0",tslib:"^2.6.2"},devDependencies:{"@smithy/service-client-documentation-generator":"^2.2.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var fc=m((ETe,jD)=>{var qu=Object.defineProperty,nae=Object.getOwnPropertyDescriptor,oae=Object.getOwnPropertyNames,iae=Object.prototype.hasOwnProperty,DD=(e,t)=>qu(e,"name",{value:t,configurable:!0}),sae=(e,t)=>{for(var r in t)qu(e,r,{get:t[r],enumerable:!0})},aae=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of oae(t))!iae.call(e,o)&&o!==r&&qu(e,o,{get:()=>t[o],enumerable:!(n=nae(t,o))||n.enumerable});return e},cae=e=>aae(qu({},"__esModule",{value:!0}),e),$D={};sae($D,{UA_APP_ID_ENV_NAME:()=>kD,UA_APP_ID_INI_NAME:()=>LD,crtAvailability:()=>MD,defaultUserAgent:()=>uae});jD.exports=cae($D);var dae=dn(),ND=require("os"),B_=require("process"),MD={isCrtAvailable:!1},lae=DD(()=>MD.isCrtAvailable?["md/crt-avail"]:null,"isCrtAvailable"),kD="AWS_SDK_UA_APP_ID",LD="sdk-ua-app-id",uae=DD(({serviceId:e,clientVersion:t})=>{let r=[["aws-sdk-js",t],["ua","2.0"],[`os/${(0,ND.platform)()}`,(0,ND.release)()],["lang/js"],["md/nodejs",`${B_.versions.node}`]],n=lae();n&&r.push(n),e&&r.push([`api/${e}`,t]),B_.env.AWS_EXECUTION_ENV&&r.push([`exec-env/${B_.env.AWS_EXECUTION_ENV}`]);let o=(0,dae.loadConfig)({environmentVariableSelector:s=>s[kD],configFileSelector:s=>s[LD],default:void 0})(),i;return async()=>{if(!i){let s=await o;i=s?[...r,[`app/${s}`]]:[...r]}return i}},"defaultUserAgent")});var mc=m((bTe,GD)=>{var Uu=Object.defineProperty,pae=Object.getOwnPropertyDescriptor,fae=Object.getOwnPropertyNames,mae=Object.prototype.hasOwnProperty,UD=(e,t)=>Uu(e,"name",{value:t,configurable:!0}),hae=(e,t)=>{for(var r in t)Uu(e,r,{get:t[r],enumerable:!0})},gae=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of fae(t))!mae.call(e,o)&&o!==r&&Uu(e,o,{get:()=>t[o],enumerable:!(n=pae(t,o))||n.enumerable});return e},_ae=e=>gae(Uu({},"__esModule",{value:!0}),e),FD={};hae(FD,{Hash:()=>Eae});GD.exports=_ae(FD);var G_=Li(),vae=Vt(),yae=require("buffer"),qD=require("crypto"),BD=class{constructor(t,r){this.algorithmIdentifier=t,this.secret=r,this.reset()}update(t,r){this.hash.update((0,vae.toUint8Array)(V_(t,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,qD.createHmac)(this.algorithmIdentifier,V_(this.secret)):(0,qD.createHash)(this.algorithmIdentifier)}};UD(BD,"Hash");var Eae=BD;function V_(e,t){return yae.Buffer.isBuffer(e)?e:typeof e=="string"?(0,G_.fromString)(e,t):ArrayBuffer.isView(e)?(0,G_.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength):(0,G_.fromArrayBuffer)(e)}UD(V_,"castSourceData")});var hc=m((CTe,HD)=>{var Fu=Object.defineProperty,Sae=Object.getOwnPropertyDescriptor,bae=Object.getOwnPropertyNames,Cae=Object.prototype.hasOwnProperty,wae=(e,t)=>Fu(e,"name",{value:t,configurable:!0}),Pae=(e,t)=>{for(var r in t)Fu(e,r,{get:t[r],enumerable:!0})},Tae=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of bae(t))!Cae.call(e,o)&&o!==r&&Fu(e,o,{get:()=>t[o],enumerable:!(n=Sae(t,o))||n.enumerable});return e},Iae=e=>Tae(Fu({},"__esModule",{value:!0}),e),zD={};Pae(zD,{calculateBodyLength:()=>Oae});HD.exports=Iae(zD);var VD=require("fs"),Oae=wae(e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(typeof e.path=="string"||Buffer.isBuffer(e.path))return(0,VD.lstatSync)(e.path).size;if(typeof e.fd=="number")return(0,VD.fstatSync)(e.fd).size;throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")});var a$=m(Bu=>{"use strict";Object.defineProperty(Bu,"__esModule",{value:!0});Bu.ruleSet=void 0;var n$="required",Ht="fn",Wt="argv",Xi="ref",WD=!0,KD="isSet",gc="booleanEquals",Ji="error",Yi="endpoint",un="tree",z_="PartitionResult",H_="getAttr",JD={[n$]:!1,type:"String"},YD={[n$]:!0,default:!1,type:"Boolean"},XD={[Xi]:"Endpoint"},o$={[Ht]:gc,[Wt]:[{[Xi]:"UseFIPS"},!0]},i$={[Ht]:gc,[Wt]:[{[Xi]:"UseDualStack"},!0]},zt={},QD={[Ht]:H_,[Wt]:[{[Xi]:z_},"supportsFIPS"]},s$={[Xi]:z_},ZD={[Ht]:gc,[Wt]:[!0,{[Ht]:H_,[Wt]:[s$,"supportsDualStack"]}]},e$=[o$],t$=[i$],r$=[{[Xi]:"Region"}],Rae={version:"1.0",parameters:{Region:JD,UseDualStack:YD,UseFIPS:YD,Endpoint:JD},rules:[{conditions:[{[Ht]:KD,[Wt]:[XD]}],rules:[{conditions:e$,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Ji},{conditions:t$,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Ji},{endpoint:{url:XD,properties:zt,headers:zt},type:Yi}],type:un},{conditions:[{[Ht]:KD,[Wt]:r$}],rules:[{conditions:[{[Ht]:"aws.partition",[Wt]:r$,assign:z_}],rules:[{conditions:[o$,i$],rules:[{conditions:[{[Ht]:gc,[Wt]:[WD,QD]},ZD],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:zt,headers:zt},type:Yi}],type:un},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Ji}],type:un},{conditions:e$,rules:[{conditions:[{[Ht]:gc,[Wt]:[QD,WD]}],rules:[{conditions:[{[Ht]:"stringEquals",[Wt]:[{[Ht]:H_,[Wt]:[s$,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:zt,headers:zt},type:Yi},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:zt,headers:zt},type:Yi}],type:un},{error:"FIPS is enabled but this partition does not support FIPS",type:Ji}],type:un},{conditions:t$,rules:[{conditions:[ZD],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:zt,headers:zt},type:Yi}],type:un},{error:"DualStack is enabled but this partition does not support DualStack",type:Ji}],type:un},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:zt,headers:zt},type:Yi}],type:un}],type:un},{error:"Invalid Configuration: Missing Region",type:Ji}]};Bu.ruleSet=Rae});var d$=m(Gu=>{"use strict";Object.defineProperty(Gu,"__esModule",{value:!0});Gu.defaultEndpointResolver=void 0;var Aae=$i(),c$=Ni(),xae=a$(),Nae=(e,t={})=>(0,c$.resolveEndpoint)(xae.ruleSet,{endpointParams:e,logger:t.logger});Gu.defaultEndpointResolver=Nae;c$.customEndpointFunctions.aws=Aae.awsEndpointFunctions});var p$=m(Vu=>{"use strict";Object.defineProperty(Vu,"__esModule",{value:!0});Vu.getRuntimeConfig=void 0;var Dae=et(),$ae=ct(),Mae=ke(),kae=Lo(),l$=ji(),u$=Vt(),Lae=F_(),jae=d$(),qae=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??l$.fromBase64,base64Encoder:e?.base64Encoder??l$.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??jae.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??Lae.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Dae.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new $ae.NoAuthSigner}],logger:e?.logger??new Mae.NoOpLogger,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??kae.parseUrl,utf8Decoder:e?.utf8Decoder??u$.fromUtf8,utf8Encoder:e?.utf8Encoder??u$.toUtf8});Vu.getRuntimeConfig=qae});var vc=m((ITe,v$)=>{var Uae=Object.create,_c=Object.defineProperty,Fae=Object.getOwnPropertyDescriptor,Bae=Object.getOwnPropertyNames,Gae=Object.getPrototypeOf,Vae=Object.prototype.hasOwnProperty,W_=(e,t)=>_c(e,"name",{value:t,configurable:!0}),zae=(e,t)=>{for(var r in t)_c(e,r,{get:t[r],enumerable:!0})},g$=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Bae(t))!Vae.call(e,o)&&o!==r&&_c(e,o,{get:()=>t[o],enumerable:!(n=Fae(t,o))||n.enumerable});return e},Hae=(e,t,r)=>(r=e!=null?Uae(Gae(e)):{},g$(t||!e||!e.__esModule?_c(r,"default",{value:e,enumerable:!0}):r,e)),Wae=e=>g$(_c({},"__esModule",{value:!0}),e),_$={};zae(_$,{resolveDefaultsModeConfig:()=>nce});v$.exports=Wae(_$);var Kae=Dr(),f$=dn(),Jae=wt(),Yae="AWS_EXECUTION_ENV",m$="AWS_REGION",h$="AWS_DEFAULT_REGION",Xae="AWS_EC2_METADATA_DISABLED",Qae=["in-region","cross-region","mobile","standard","legacy"],Zae="/latest/meta-data/placement/region",ece="AWS_DEFAULTS_MODE",tce="defaults_mode",rce={environmentVariableSelector:e=>e[ece],configFileSelector:e=>e[tce],default:"legacy"},nce=W_(({region:e=(0,f$.loadConfig)(Kae.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=(0,f$.loadConfig)(rce)}={})=>(0,Jae.memoize)(async()=>{let r=typeof t=="function"?await t():t;switch(r?.toLowerCase()){case"auto":return oce(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${Qae.join(", ")}, got ${r}`)}}),"resolveDefaultsModeConfig"),oce=W_(async e=>{if(e){let t=typeof e=="function"?await e():e,r=await ice();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},"resolveNodeDefaultsModeAuto"),ice=W_(async()=>{if(process.env[Yae]&&(process.env[m$]||process.env[h$]))return process.env[m$]??process.env[h$];if(!process.env[Xae])try{let{getInstanceMetadataEndpoint:e,httpRequest:t}=await Promise.resolve().then(()=>Hae(pc())),r=await e();return(await t({...r,path:Zae})).toString()}catch{}},"inferPhysicalRegion")});var S$=m(Hu=>{"use strict";Object.defineProperty(Hu,"__esModule",{value:!0});Hu.getRuntimeConfig=void 0;var sce=(Hi(),Kr(zi)),ace=sce.__importDefault(xD()),cce=et(),dce=fc(),zu=Dr(),lce=mc(),y$=Mr(),yc=dn(),E$=Bo(),uce=hc(),pce=ki(),fce=p$(),mce=ke(),hce=vc(),gce=ke(),_ce=e=>{(0,gce.emitWarningIfUnsupportedVersion)(process.version);let t=(0,hce.resolveDefaultsModeConfig)(e),r=()=>t().then(mce.loadConfigsForDefaultMode),n=(0,fce.getRuntimeConfig)(e);return(0,cce.emitWarningIfUnsupportedVersion)(process.version),{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??uce.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,dce.defaultUserAgent)({serviceId:n.serviceId,clientVersion:ace.default.version}),maxAttempts:e?.maxAttempts??(0,yc.loadConfig)(y$.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:e?.region??(0,yc.loadConfig)(zu.NODE_REGION_CONFIG_OPTIONS,zu.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:E$.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,yc.loadConfig)({...y$.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||pce.DEFAULT_RETRY_MODE}),sha256:e?.sha256??lce.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??E$.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,yc.loadConfig)(zu.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,yc.loadConfig)(zu.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};Hu.getRuntimeConfig=_ce});var Ec=m((RTe,I$)=>{var Wu=Object.defineProperty,vce=Object.getOwnPropertyDescriptor,yce=Object.getOwnPropertyNames,Ece=Object.prototype.hasOwnProperty,Qi=(e,t)=>Wu(e,"name",{value:t,configurable:!0}),Sce=(e,t)=>{for(var r in t)Wu(e,r,{get:t[r],enumerable:!0})},bce=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of yce(t))!Ece.call(e,o)&&o!==r&&Wu(e,o,{get:()=>t[o],enumerable:!(n=vce(t,o))||n.enumerable});return e},Cce=e=>bce(Wu({},"__esModule",{value:!0}),e),C$={};Sce(C$,{NODE_REGION_CONFIG_FILE_OPTIONS:()=>Ice,NODE_REGION_CONFIG_OPTIONS:()=>Tce,REGION_ENV_NAME:()=>w$,REGION_INI_NAME:()=>P$,getAwsRegionExtensionConfiguration:()=>wce,resolveAwsRegionExtensionConfiguration:()=>Pce,resolveRegionConfig:()=>Oce});I$.exports=Cce(C$);var wce=Qi(e=>{let t=Qi(async()=>{if(e.region===void 0)throw new Error("Region is missing from runtimeConfig");let r=e.region;return typeof r=="string"?r:r()},"runtimeConfigRegion");return{setRegion(r){t=r},region(){return t}}},"getAwsRegionExtensionConfiguration"),Pce=Qi(e=>({region:e.region()}),"resolveAwsRegionExtensionConfiguration"),w$="AWS_REGION",P$="region",Tce={environmentVariableSelector:e=>e[w$],configFileSelector:e=>e[P$],default:()=>{throw new Error("Region is missing")}},Ice={preferredFile:"credentials"},T$=Qi(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),b$=Qi(e=>T$(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),Oce=Qi(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if(typeof t=="string")return b$(t);let n=await t();return b$(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return T$(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}},"resolveRegionConfig")});var _1=m((LTe,g1)=>{"use strict";var Ju=Object.defineProperty,Rce=Object.getOwnPropertyDescriptor,Ace=Object.getOwnPropertyNames,xce=Object.prototype.hasOwnProperty,se=(e,t)=>Ju(e,"name",{value:t,configurable:!0}),Nce=(e,t)=>{for(var r in t)Ju(e,r,{get:t[r],enumerable:!0})},Dce=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Ace(t))!xce.call(e,o)&&o!==r&&Ju(e,o,{get:()=>t[o],enumerable:!(n=Rce(t,o))||n.enumerable});return e},$ce=e=>Dce(Ju({},"__esModule",{value:!0}),e),$$={};Nce($$,{GetRoleCredentialsCommand:()=>d1,GetRoleCredentialsRequestFilterSensitiveLog:()=>Y$,GetRoleCredentialsResponseFilterSensitiveLog:()=>Q$,InvalidRequestException:()=>U$,ListAccountRolesCommand:()=>K_,ListAccountRolesRequestFilterSensitiveLog:()=>Z$,ListAccountsCommand:()=>J_,ListAccountsRequestFilterSensitiveLog:()=>e1,LogoutCommand:()=>f1,LogoutRequestFilterSensitiveLog:()=>t1,ResourceNotFoundException:()=>G$,RoleCredentialsFilterSensitiveLog:()=>X$,SSO:()=>h1,SSOClient:()=>Xu,SSOServiceException:()=>Zi,TooManyRequestsException:()=>H$,UnauthorizedException:()=>J$,__Client:()=>L.Client,paginateListAccountRoles:()=>sde,paginateListAccounts:()=>ade});g1.exports=$ce($$);var O$=Ua(),Mce=Fa(),kce=Ba(),R$=Va(),Lce=Dr(),pn=ct(),jce=ac(),bc=qo(),A$=Mr(),x$=F_(),qce=se(e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),"resolveClientEndpointParameters"),Yu={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},Uce=S$(),N$=Ec(),D$=at(),L=ke(),Fce=se(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let i=t.findIndex(s=>s.schemeId===o.schemeId);i===-1?t.push(o):t.splice(i,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),Bce=se(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),Ku=se(e=>e,"asPartial"),Gce=se((e,t)=>{let r={...Ku((0,N$.getAwsRegionExtensionConfiguration)(e)),...Ku((0,L.getDefaultExtensionConfiguration)(e)),...Ku((0,D$.getHttpHandlerExtensionConfiguration)(e)),...Ku(Fce(e))};return t.forEach(n=>n.configure(r)),{...e,...(0,N$.resolveAwsRegionExtensionConfiguration)(r),...(0,L.resolveDefaultRuntimeConfig)(r),...(0,D$.resolveHttpHandlerRuntimeConfig)(r),...Bce(r)}},"resolveRuntimeExtensions"),M$=class extends L.Client{constructor(...[t]){let r=(0,Uce.getRuntimeConfig)(t||{}),n=qce(r),o=(0,Lce.resolveRegionConfig)(n),i=(0,bc.resolveEndpointConfig)(o),s=(0,A$.resolveRetryConfig)(i),a=(0,O$.resolveHostHeaderConfig)(s),c=(0,R$.resolveUserAgentConfig)(a),l=(0,x$.resolveHttpAuthSchemeConfig)(c),p=Gce(l,t?.extensions||[]);super(p),this.config=p,this.middlewareStack.use((0,A$.getRetryPlugin)(this.config)),this.middlewareStack.use((0,jce.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,O$.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,Mce.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,kce.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,R$.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,pn.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:this.getDefaultHttpAuthSchemeParametersProvider(),identityProviderConfigProvider:this.getIdentityProviderConfigProvider()})),this.middlewareStack.use((0,pn.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}getDefaultHttpAuthSchemeParametersProvider(){return x$.defaultSSOHttpAuthSchemeParametersProvider}getIdentityProviderConfigProvider(){return async t=>new pn.DefaultIdentityProviderConfig({"aws.auth#sigv4":t.credentials})}};se(M$,"SSOClient");var Xu=M$,Qu=jo(),xTe=ar(),k$=class L$ extends L.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,L$.prototype)}};se(k$,"SSOServiceException");var Zi=k$,j$=class q$ extends Zi{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,q$.prototype)}};se(j$,"InvalidRequestException");var U$=j$,F$=class B$ extends Zi{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,B$.prototype)}};se(F$,"ResourceNotFoundException");var G$=F$,V$=class z$ extends Zi{constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,z$.prototype)}};se(V$,"TooManyRequestsException");var H$=V$,W$=class K$ extends Zi{constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),this.name="UnauthorizedException",this.$fault="client",Object.setPrototypeOf(this,K$.prototype)}};se(W$,"UnauthorizedException");var J$=W$,Y$=se(e=>({...e,...e.accessToken&&{accessToken:L.SENSITIVE_STRING}}),"GetRoleCredentialsRequestFilterSensitiveLog"),X$=se(e=>({...e,...e.secretAccessKey&&{secretAccessKey:L.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:L.SENSITIVE_STRING}}),"RoleCredentialsFilterSensitiveLog"),Q$=se(e=>({...e,...e.roleCredentials&&{roleCredentials:X$(e.roleCredentials)}}),"GetRoleCredentialsResponseFilterSensitiveLog"),Z$=se(e=>({...e,...e.accessToken&&{accessToken:L.SENSITIVE_STRING}}),"ListAccountRolesRequestFilterSensitiveLog"),e1=se(e=>({...e,...e.accessToken&&{accessToken:L.SENSITIVE_STRING}}),"ListAccountsRequestFilterSensitiveLog"),t1=se(e=>({...e,...e.accessToken&&{accessToken:L.SENSITIVE_STRING}}),"LogoutRequestFilterSensitiveLog"),Sc=et(),Vce=se(async(e,t)=>{let r=(0,pn.requestBuilder)(e,t),n=(0,L.map)({},ep,{[rp]:e[tp]});r.bp("/federation/credentials");let o=(0,L.map)({[ode]:[,(0,L.expectNonNull)(e[nde],"roleName")],[n1]:[,(0,L.expectNonNull)(e[r1],"accountId")]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_GetRoleCredentialsCommand"),zce=se(async(e,t)=>{let r=(0,pn.requestBuilder)(e,t),n=(0,L.map)({},ep,{[rp]:e[tp]});r.bp("/assignment/roles");let o=(0,L.map)({[a1]:[,e[s1]],[i1]:[()=>e.maxResults!==void 0,()=>e[o1].toString()],[n1]:[,(0,L.expectNonNull)(e[r1],"accountId")]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_ListAccountRolesCommand"),Hce=se(async(e,t)=>{let r=(0,pn.requestBuilder)(e,t),n=(0,L.map)({},ep,{[rp]:e[tp]});r.bp("/assignment/accounts");let o=(0,L.map)({[a1]:[,e[s1]],[i1]:[()=>e.maxResults!==void 0,()=>e[o1].toString()]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_ListAccountsCommand"),Wce=se(async(e,t)=>{let r=(0,pn.requestBuilder)(e,t),n=(0,L.map)({},ep,{[rp]:e[tp]});return r.bp("/logout"),r.m("POST").h(n).b(void 0),r.build()},"se_LogoutCommand"),Kce=se(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Zu(e,t);let r=(0,L.map)({$metadata:Kn(e)}),n=(0,L.expectNonNull)((0,L.expectObject)(await(0,Sc.parseJsonBody)(e.body,t)),"body"),o=(0,L.take)(n,{roleCredentials:L._json});return Object.assign(r,o),r},"de_GetRoleCredentialsCommand"),Jce=se(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Zu(e,t);let r=(0,L.map)({$metadata:Kn(e)}),n=(0,L.expectNonNull)((0,L.expectObject)(await(0,Sc.parseJsonBody)(e.body,t)),"body"),o=(0,L.take)(n,{nextToken:L.expectString,roleList:L._json});return Object.assign(r,o),r},"de_ListAccountRolesCommand"),Yce=se(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Zu(e,t);let r=(0,L.map)({$metadata:Kn(e)}),n=(0,L.expectNonNull)((0,L.expectObject)(await(0,Sc.parseJsonBody)(e.body,t)),"body"),o=(0,L.take)(n,{accountList:L._json,nextToken:L.expectString});return Object.assign(r,o),r},"de_ListAccountsCommand"),Xce=se(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Zu(e,t);let r=(0,L.map)({$metadata:Kn(e)});return await(0,L.collectBody)(e.body,t),r},"de_LogoutCommand"),Zu=se(async(e,t)=>{let r={...e,body:await(0,Sc.parseJsonErrorBody)(e.body,t)},n=(0,Sc.loadRestJsonErrorCode)(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await Zce(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await ede(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await tde(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await rde(r,t);default:let o=r.body;return Qce({output:e,parsedBody:o,errorCode:n})}},"de_CommandError"),Qce=(0,L.withBaseException)(Zi),Zce=se(async(e,t)=>{let r=(0,L.map)({}),n=e.body,o=(0,L.take)(n,{message:L.expectString});Object.assign(r,o);let i=new U$({$metadata:Kn(e),...r});return(0,L.decorateServiceException)(i,e.body)},"de_InvalidRequestExceptionRes"),ede=se(async(e,t)=>{let r=(0,L.map)({}),n=e.body,o=(0,L.take)(n,{message:L.expectString});Object.assign(r,o);let i=new G$({$metadata:Kn(e),...r});return(0,L.decorateServiceException)(i,e.body)},"de_ResourceNotFoundExceptionRes"),tde=se(async(e,t)=>{let r=(0,L.map)({}),n=e.body,o=(0,L.take)(n,{message:L.expectString});Object.assign(r,o);let i=new H$({$metadata:Kn(e),...r});return(0,L.decorateServiceException)(i,e.body)},"de_TooManyRequestsExceptionRes"),rde=se(async(e,t)=>{let r=(0,L.map)({}),n=e.body,o=(0,L.take)(n,{message:L.expectString});Object.assign(r,o);let i=new J$({$metadata:Kn(e),...r});return(0,L.decorateServiceException)(i,e.body)},"de_UnauthorizedExceptionRes"),Kn=se(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),ep=se(e=>e!=null&&e!==""&&(!Object.getOwnPropertyNames(e).includes("length")||e.length!=0)&&(!Object.getOwnPropertyNames(e).includes("size")||e.size!=0),"isSerializableHeaderValue"),r1="accountId",tp="accessToken",n1="account_id",o1="maxResults",i1="max_result",s1="nextToken",a1="next_token",nde="roleName",ode="role_name",rp="x-amz-sso_bearer_token",c1=class extends L.Command.classBuilder().ep({...Yu}).m(function(t,r,n,o){return[(0,Qu.getSerdePlugin)(n,this.serialize,this.deserialize),(0,bc.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(Y$,Q$).ser(Vce).de(Kce).build(){};se(c1,"GetRoleCredentialsCommand");var d1=c1,l1=class extends L.Command.classBuilder().ep({...Yu}).m(function(t,r,n,o){return[(0,Qu.getSerdePlugin)(n,this.serialize,this.deserialize),(0,bc.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").f(Z$,void 0).ser(zce).de(Jce).build(){};se(l1,"ListAccountRolesCommand");var K_=l1,u1=class extends L.Command.classBuilder().ep({...Yu}).m(function(t,r,n,o){return[(0,Qu.getSerdePlugin)(n,this.serialize,this.deserialize),(0,bc.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").f(e1,void 0).ser(Hce).de(Yce).build(){};se(u1,"ListAccountsCommand");var J_=u1,p1=class extends L.Command.classBuilder().ep({...Yu}).m(function(t,r,n,o){return[(0,Qu.getSerdePlugin)(n,this.serialize,this.deserialize),(0,bc.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").f(t1,void 0).ser(Wce).de(Xce).build(){};se(p1,"LogoutCommand");var f1=p1,ide={GetRoleCredentialsCommand:d1,ListAccountRolesCommand:K_,ListAccountsCommand:J_,LogoutCommand:f1},m1=class extends Xu{};se(m1,"SSO");var h1=m1;(0,L.createAggregatedClient)(ide,h1);var sde=(0,pn.createPaginator)(Xu,K_,"nextToken","nextToken","maxResults"),ade=(0,pn.createPaginator)(Xu,J_,"nextToken","nextToken","maxResults")});var X_=m(Jn=>{"use strict";Object.defineProperty(Jn,"__esModule",{value:!0});Jn.resolveHttpAuthSchemeConfig=Jn.defaultSSOOIDCHttpAuthSchemeProvider=Jn.defaultSSOOIDCHttpAuthSchemeParametersProvider=void 0;var cde=et(),v1=Nr(),dde=async(e,t,r)=>({operation:(0,v1.getSmithyContext)(t).operation,region:await(0,v1.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Jn.defaultSSOOIDCHttpAuthSchemeParametersProvider=dde;function lde(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function Y_(e){return{schemeId:"smithy.api#noAuth"}}var ude=e=>{let t=[];switch(e.operation){case"CreateToken":{t.push(Y_(e));break}case"RegisterClient":{t.push(Y_(e));break}case"StartDeviceAuthorization":{t.push(Y_(e));break}default:t.push(lde(e))}return t};Jn.defaultSSOOIDCHttpAuthSchemeProvider=ude;var pde=e=>({...(0,cde.resolveAwsSdkSigV4Config)(e)});Jn.resolveHttpAuthSchemeConfig=pde});var y1=m((qTe,fde)=>{fde.exports={name:"@aws-sdk/client-sso-oidc",description:"AWS SDK for JavaScript Sso Oidc Client for Node.js, Browser and React Native",version:"3.556.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso-oidc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso-oidc"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.556.0","@aws-sdk/core":"3.556.0","@aws-sdk/middleware-host-header":"3.535.0","@aws-sdk/middleware-logger":"3.535.0","@aws-sdk/middleware-recursion-detection":"3.535.0","@aws-sdk/middleware-user-agent":"3.540.0","@aws-sdk/region-config-resolver":"3.535.0","@aws-sdk/types":"3.535.0","@aws-sdk/util-endpoints":"3.540.0","@aws-sdk/util-user-agent-browser":"3.535.0","@aws-sdk/util-user-agent-node":"3.535.0","@smithy/config-resolver":"^2.2.0","@smithy/core":"^1.4.2","@smithy/fetch-http-handler":"^2.5.0","@smithy/hash-node":"^2.2.0","@smithy/invalid-dependency":"^2.2.0","@smithy/middleware-content-length":"^2.2.0","@smithy/middleware-endpoint":"^2.5.1","@smithy/middleware-retry":"^2.3.1","@smithy/middleware-serde":"^2.3.0","@smithy/middleware-stack":"^2.2.0","@smithy/node-config-provider":"^2.3.0","@smithy/node-http-handler":"^2.5.0","@smithy/protocol-http":"^3.3.0","@smithy/smithy-client":"^2.5.1","@smithy/types":"^2.12.0","@smithy/url-parser":"^2.2.0","@smithy/util-base64":"^2.3.0","@smithy/util-body-length-browser":"^2.2.0","@smithy/util-body-length-node":"^2.3.0","@smithy/util-defaults-mode-browser":"^2.2.1","@smithy/util-defaults-mode-node":"^2.3.1","@smithy/util-endpoints":"^1.2.0","@smithy/util-middleware":"^2.2.0","@smithy/util-retry":"^2.2.0","@smithy/util-utf8":"^2.3.0",tslib:"^2.6.2"},devDependencies:{"@smithy/service-client-documentation-generator":"^2.2.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",peerDependencies:{"@aws-sdk/credential-provider-node":"^3.556.0"},browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso-oidc",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso-oidc"}}});var E1=m(Lr=>{"use strict";var mde=Lr&&Lr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),hde=Lr&&Lr.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),gde=Lr&&Lr.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&mde(t,e,r);return hde(t,e),t};Object.defineProperty(Lr,"__esModule",{value:!0});Lr.defaultProvider=void 0;Lr.defaultProvider=e=>()=>Promise.resolve().then(()=>gde(np())).then(({defaultProvider:t})=>t(e)())});var M1=m(op=>{"use strict";Object.defineProperty(op,"__esModule",{value:!0});op.ruleSet=void 0;var x1="required",Jt="fn",Yt="argv",rs="ref",S1=!0,b1="isSet",Cc="booleanEquals",es="error",ts="endpoint",fn="tree",Q_="PartitionResult",Z_="getAttr",C1={[x1]:!1,type:"String"},w1={[x1]:!0,default:!1,type:"Boolean"},P1={[rs]:"Endpoint"},N1={[Jt]:Cc,[Yt]:[{[rs]:"UseFIPS"},!0]},D1={[Jt]:Cc,[Yt]:[{[rs]:"UseDualStack"},!0]},Kt={},T1={[Jt]:Z_,[Yt]:[{[rs]:Q_},"supportsFIPS"]},$1={[rs]:Q_},I1={[Jt]:Cc,[Yt]:[!0,{[Jt]:Z_,[Yt]:[$1,"supportsDualStack"]}]},O1=[N1],R1=[D1],A1=[{[rs]:"Region"}],_de={version:"1.0",parameters:{Region:C1,UseDualStack:w1,UseFIPS:w1,Endpoint:C1},rules:[{conditions:[{[Jt]:b1,[Yt]:[P1]}],rules:[{conditions:O1,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:es},{conditions:R1,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:es},{endpoint:{url:P1,properties:Kt,headers:Kt},type:ts}],type:fn},{conditions:[{[Jt]:b1,[Yt]:A1}],rules:[{conditions:[{[Jt]:"aws.partition",[Yt]:A1,assign:Q_}],rules:[{conditions:[N1,D1],rules:[{conditions:[{[Jt]:Cc,[Yt]:[S1,T1]},I1],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Kt,headers:Kt},type:ts}],type:fn},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:es}],type:fn},{conditions:O1,rules:[{conditions:[{[Jt]:Cc,[Yt]:[T1,S1]}],rules:[{conditions:[{[Jt]:"stringEquals",[Yt]:[{[Jt]:Z_,[Yt]:[$1,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:Kt,headers:Kt},type:ts},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Kt,headers:Kt},type:ts}],type:fn},{error:"FIPS is enabled but this partition does not support FIPS",type:es}],type:fn},{conditions:R1,rules:[{conditions:[I1],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Kt,headers:Kt},type:ts}],type:fn},{error:"DualStack is enabled but this partition does not support DualStack",type:es}],type:fn},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:Kt,headers:Kt},type:ts}],type:fn}],type:fn},{error:"Invalid Configuration: Missing Region",type:es}]};op.ruleSet=_de});var L1=m(ip=>{"use strict";Object.defineProperty(ip,"__esModule",{value:!0});ip.defaultEndpointResolver=void 0;var vde=$i(),k1=Ni(),yde=M1(),Ede=(e,t={})=>(0,k1.resolveEndpoint)(yde.ruleSet,{endpointParams:e,logger:t.logger});ip.defaultEndpointResolver=Ede;k1.customEndpointFunctions.aws=vde.awsEndpointFunctions});var U1=m(sp=>{"use strict";Object.defineProperty(sp,"__esModule",{value:!0});sp.getRuntimeConfig=void 0;var Sde=et(),bde=ct(),Cde=ke(),wde=Lo(),j1=ji(),q1=Vt(),Pde=X_(),Tde=L1(),Ide=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??j1.fromBase64,base64Encoder:e?.base64Encoder??j1.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Tde.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??Pde.defaultSSOOIDCHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Sde.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new bde.NoAuthSigner}],logger:e?.logger??new Cde.NoOpLogger,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??wde.parseUrl,utf8Decoder:e?.utf8Decoder??q1.fromUtf8,utf8Encoder:e?.utf8Encoder??q1.toUtf8});sp.getRuntimeConfig=Ide});var G1=m(cp=>{"use strict";Object.defineProperty(cp,"__esModule",{value:!0});cp.getRuntimeConfig=void 0;var Ode=(Hi(),Kr(zi)),Rde=Ode.__importDefault(y1()),Ade=E1(),xde=et(),Nde=fc(),ap=Dr(),Dde=mc(),F1=Mr(),wc=dn(),B1=Bo(),$de=hc(),Mde=ki(),kde=U1(),Lde=ke(),jde=vc(),qde=ke(),Ude=e=>{(0,qde.emitWarningIfUnsupportedVersion)(process.version);let t=(0,jde.resolveDefaultsModeConfig)(e),r=()=>t().then(Lde.loadConfigsForDefaultMode),n=(0,kde.getRuntimeConfig)(e);return(0,xde.emitWarningIfUnsupportedVersion)(process.version),{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??$de.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??Ade.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Nde.defaultUserAgent)({serviceId:n.serviceId,clientVersion:Rde.default.version}),maxAttempts:e?.maxAttempts??(0,wc.loadConfig)(F1.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:e?.region??(0,wc.loadConfig)(ap.NODE_REGION_CONFIG_OPTIONS,ap.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:B1.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,wc.loadConfig)({...F1.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||Mde.DEFAULT_RETRY_MODE}),sha256:e?.sha256??Dde.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??B1.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,wc.loadConfig)(ap.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,wc.loadConfig)(ap.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};cp.getRuntimeConfig=Ude});var nk=m((QTe,rk)=>{"use strict";var lp=Object.defineProperty,Fde=Object.getOwnPropertyDescriptor,Bde=Object.getOwnPropertyNames,Gde=Object.prototype.hasOwnProperty,Y=(e,t)=>lp(e,"name",{value:t,configurable:!0}),Vde=(e,t)=>{for(var r in t)lp(e,r,{get:t[r],enumerable:!0})},zde=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Bde(t))!Gde.call(e,o)&&o!==r&&lp(e,o,{get:()=>t[o],enumerable:!(n=Fde(t,o))||n.enumerable});return e},Hde=e=>zde(lp({},"__esModule",{value:!0}),e),Y1={};Vde(Y1,{AccessDeniedException:()=>nM,AuthorizationPendingException:()=>sM,CreateTokenCommand:()=>WM,CreateTokenRequestFilterSensitiveLog:()=>UM,CreateTokenResponseFilterSensitiveLog:()=>FM,CreateTokenWithIAMCommand:()=>JM,CreateTokenWithIAMRequestFilterSensitiveLog:()=>BM,CreateTokenWithIAMResponseFilterSensitiveLog:()=>GM,ExpiredTokenException:()=>dM,InternalServerException:()=>pM,InvalidClientException:()=>hM,InvalidClientMetadataException:()=>qM,InvalidGrantException:()=>vM,InvalidRequestException:()=>SM,InvalidRequestRegionException:()=>kM,InvalidScopeException:()=>wM,RegisterClientCommand:()=>XM,RegisterClientResponseFilterSensitiveLog:()=>VM,SSOOIDC:()=>tk,SSOOIDCClient:()=>Q1,SSOOIDCServiceException:()=>gt,SlowDownException:()=>IM,StartDeviceAuthorizationCommand:()=>ZM,StartDeviceAuthorizationRequestFilterSensitiveLog:()=>zM,UnauthorizedClientException:()=>AM,UnsupportedGrantTypeException:()=>DM,__Client:()=>w.Client});rk.exports=Hde(Y1);var V1=Ua(),Wde=Fa(),Kde=Ba(),z1=Va(),Jde=Dr(),zo=ct(),Yde=ac(),Pc=qo(),H1=Mr(),W1=X_(),Xde=Y(e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),"resolveClientEndpointParameters"),up={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},Qde=G1(),K1=Ec(),J1=at(),w=ke(),Zde=Y(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let i=t.findIndex(s=>s.schemeId===o.schemeId);i===-1?t.push(o):t.splice(i,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),ele=Y(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),dp=Y(e=>e,"asPartial"),tle=Y((e,t)=>{let r={...dp((0,K1.getAwsRegionExtensionConfiguration)(e)),...dp((0,w.getDefaultExtensionConfiguration)(e)),...dp((0,J1.getHttpHandlerExtensionConfiguration)(e)),...dp(Zde(e))};return t.forEach(n=>n.configure(r)),{...e,...(0,K1.resolveAwsRegionExtensionConfiguration)(r),...(0,w.resolveDefaultRuntimeConfig)(r),...(0,J1.resolveHttpHandlerRuntimeConfig)(r),...ele(r)}},"resolveRuntimeExtensions"),X1=class extends w.Client{constructor(...[t]){let r=(0,Qde.getRuntimeConfig)(t||{}),n=Xde(r),o=(0,Jde.resolveRegionConfig)(n),i=(0,Pc.resolveEndpointConfig)(o),s=(0,H1.resolveRetryConfig)(i),a=(0,V1.resolveHostHeaderConfig)(s),c=(0,z1.resolveUserAgentConfig)(a),l=(0,W1.resolveHttpAuthSchemeConfig)(c),p=tle(l,t?.extensions||[]);super(p),this.config=p,this.middlewareStack.use((0,H1.getRetryPlugin)(this.config)),this.middlewareStack.use((0,Yde.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,V1.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,Wde.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,Kde.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,z1.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,zo.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:this.getDefaultHttpAuthSchemeParametersProvider(),identityProviderConfigProvider:this.getIdentityProviderConfigProvider()})),this.middlewareStack.use((0,zo.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}getDefaultHttpAuthSchemeParametersProvider(){return W1.defaultSSOOIDCHttpAuthSchemeParametersProvider}getIdentityProviderConfigProvider(){return async t=>new zo.DefaultIdentityProviderConfig({"aws.auth#sigv4":t.credentials})}};Y(X1,"SSOOIDCClient");var Q1=X1,pp=jo(),HTe=ar(),Z1=class eM extends w.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,eM.prototype)}};Y(Z1,"SSOOIDCServiceException");var gt=Z1,tM=class rM extends gt{constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,rM.prototype),this.error=t.error,this.error_description=t.error_description}};Y(tM,"AccessDeniedException");var nM=tM,oM=class iM extends gt{constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),this.name="AuthorizationPendingException",this.$fault="client",Object.setPrototypeOf(this,iM.prototype),this.error=t.error,this.error_description=t.error_description}};Y(oM,"AuthorizationPendingException");var sM=oM,aM=class cM extends gt{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,cM.prototype),this.error=t.error,this.error_description=t.error_description}};Y(aM,"ExpiredTokenException");var dM=aM,lM=class uM extends gt{constructor(t){super({name:"InternalServerException",$fault:"server",...t}),this.name="InternalServerException",this.$fault="server",Object.setPrototypeOf(this,uM.prototype),this.error=t.error,this.error_description=t.error_description}};Y(lM,"InternalServerException");var pM=lM,fM=class mM extends gt{constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),this.name="InvalidClientException",this.$fault="client",Object.setPrototypeOf(this,mM.prototype),this.error=t.error,this.error_description=t.error_description}};Y(fM,"InvalidClientException");var hM=fM,gM=class _M extends gt{constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),this.name="InvalidGrantException",this.$fault="client",Object.setPrototypeOf(this,_M.prototype),this.error=t.error,this.error_description=t.error_description}};Y(gM,"InvalidGrantException");var vM=gM,yM=class EM extends gt{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,EM.prototype),this.error=t.error,this.error_description=t.error_description}};Y(yM,"InvalidRequestException");var SM=yM,bM=class CM extends gt{constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),this.name="InvalidScopeException",this.$fault="client",Object.setPrototypeOf(this,CM.prototype),this.error=t.error,this.error_description=t.error_description}};Y(bM,"InvalidScopeException");var wM=bM,PM=class TM extends gt{constructor(t){super({name:"SlowDownException",$fault:"client",...t}),this.name="SlowDownException",this.$fault="client",Object.setPrototypeOf(this,TM.prototype),this.error=t.error,this.error_description=t.error_description}};Y(PM,"SlowDownException");var IM=PM,OM=class RM extends gt{constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),this.name="UnauthorizedClientException",this.$fault="client",Object.setPrototypeOf(this,RM.prototype),this.error=t.error,this.error_description=t.error_description}};Y(OM,"UnauthorizedClientException");var AM=OM,xM=class NM extends gt{constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),this.name="UnsupportedGrantTypeException",this.$fault="client",Object.setPrototypeOf(this,NM.prototype),this.error=t.error,this.error_description=t.error_description}};Y(xM,"UnsupportedGrantTypeException");var DM=xM,$M=class MM extends gt{constructor(t){super({name:"InvalidRequestRegionException",$fault:"client",...t}),this.name="InvalidRequestRegionException",this.$fault="client",Object.setPrototypeOf(this,MM.prototype),this.error=t.error,this.error_description=t.error_description,this.endpoint=t.endpoint,this.region=t.region}};Y($M,"InvalidRequestRegionException");var kM=$M,LM=class jM extends gt{constructor(t){super({name:"InvalidClientMetadataException",$fault:"client",...t}),this.name="InvalidClientMetadataException",this.$fault="client",Object.setPrototypeOf(this,jM.prototype),this.error=t.error,this.error_description=t.error_description}};Y(LM,"InvalidClientMetadataException");var qM=LM,UM=Y(e=>({...e,...e.clientSecret&&{clientSecret:w.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:w.SENSITIVE_STRING}}),"CreateTokenRequestFilterSensitiveLog"),FM=Y(e=>({...e,...e.accessToken&&{accessToken:w.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:w.SENSITIVE_STRING},...e.idToken&&{idToken:w.SENSITIVE_STRING}}),"CreateTokenResponseFilterSensitiveLog"),BM=Y(e=>({...e,...e.refreshToken&&{refreshToken:w.SENSITIVE_STRING},...e.assertion&&{assertion:w.SENSITIVE_STRING},...e.subjectToken&&{subjectToken:w.SENSITIVE_STRING}}),"CreateTokenWithIAMRequestFilterSensitiveLog"),GM=Y(e=>({...e,...e.accessToken&&{accessToken:w.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:w.SENSITIVE_STRING},...e.idToken&&{idToken:w.SENSITIVE_STRING}}),"CreateTokenWithIAMResponseFilterSensitiveLog"),VM=Y(e=>({...e,...e.clientSecret&&{clientSecret:w.SENSITIVE_STRING}}),"RegisterClientResponseFilterSensitiveLog"),zM=Y(e=>({...e,...e.clientSecret&&{clientSecret:w.SENSITIVE_STRING}}),"StartDeviceAuthorizationRequestFilterSensitiveLog"),ns=et(),rle=Y(async(e,t)=>{let r=(0,zo.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/token");let o;return o=JSON.stringify((0,w.take)(e,{clientId:[],clientSecret:[],code:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:i=>(0,w._json)(i)})),r.m("POST").h(n).b(o),r.build()},"se_CreateTokenCommand"),nle=Y(async(e,t)=>{let r=(0,zo.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/token");let o=(0,w.map)({[wle]:[,"t"]}),i;return i=JSON.stringify((0,w.take)(e,{assertion:[],clientId:[],code:[],grantType:[],redirectUri:[],refreshToken:[],requestedTokenType:[],scope:s=>(0,w._json)(s),subjectToken:[],subjectTokenType:[]})),r.m("POST").h(n).q(o).b(i),r.build()},"se_CreateTokenWithIAMCommand"),ole=Y(async(e,t)=>{let r=(0,zo.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/client/register");let o;return o=JSON.stringify((0,w.take)(e,{clientName:[],clientType:[],scopes:i=>(0,w._json)(i)})),r.m("POST").h(n).b(o),r.build()},"se_RegisterClientCommand"),ile=Y(async(e,t)=>{let r=(0,zo.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/device_authorization");let o;return o=JSON.stringify((0,w.take)(e,{clientId:[],clientSecret:[],startUrl:[]})),r.m("POST").h(n).b(o),r.build()},"se_StartDeviceAuthorizationCommand"),sle=Y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return fp(e,t);let r=(0,w.map)({$metadata:tt(e)}),n=(0,w.expectNonNull)((0,w.expectObject)(await(0,ns.parseJsonBody)(e.body,t)),"body"),o=(0,w.take)(n,{accessToken:w.expectString,expiresIn:w.expectInt32,idToken:w.expectString,refreshToken:w.expectString,tokenType:w.expectString});return Object.assign(r,o),r},"de_CreateTokenCommand"),ale=Y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return fp(e,t);let r=(0,w.map)({$metadata:tt(e)}),n=(0,w.expectNonNull)((0,w.expectObject)(await(0,ns.parseJsonBody)(e.body,t)),"body"),o=(0,w.take)(n,{accessToken:w.expectString,expiresIn:w.expectInt32,idToken:w.expectString,issuedTokenType:w.expectString,refreshToken:w.expectString,scope:w._json,tokenType:w.expectString});return Object.assign(r,o),r},"de_CreateTokenWithIAMCommand"),cle=Y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return fp(e,t);let r=(0,w.map)({$metadata:tt(e)}),n=(0,w.expectNonNull)((0,w.expectObject)(await(0,ns.parseJsonBody)(e.body,t)),"body"),o=(0,w.take)(n,{authorizationEndpoint:w.expectString,clientId:w.expectString,clientIdIssuedAt:w.expectLong,clientSecret:w.expectString,clientSecretExpiresAt:w.expectLong,tokenEndpoint:w.expectString});return Object.assign(r,o),r},"de_RegisterClientCommand"),dle=Y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return fp(e,t);let r=(0,w.map)({$metadata:tt(e)}),n=(0,w.expectNonNull)((0,w.expectObject)(await(0,ns.parseJsonBody)(e.body,t)),"body"),o=(0,w.take)(n,{deviceCode:w.expectString,expiresIn:w.expectInt32,interval:w.expectInt32,userCode:w.expectString,verificationUri:w.expectString,verificationUriComplete:w.expectString});return Object.assign(r,o),r},"de_StartDeviceAuthorizationCommand"),fp=Y(async(e,t)=>{let r={...e,body:await(0,ns.parseJsonErrorBody)(e.body,t)},n=(0,ns.loadRestJsonErrorCode)(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await ule(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await ple(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await fle(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await mle(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await hle(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await _le(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await vle(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await Ele(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await Sle(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await ble(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await Cle(r,t);case"InvalidRequestRegionException":case"com.amazonaws.ssooidc#InvalidRequestRegionException":throw await yle(r,t);case"InvalidClientMetadataException":case"com.amazonaws.ssooidc#InvalidClientMetadataException":throw await gle(r,t);default:let o=r.body;return lle({output:e,parsedBody:o,errorCode:n})}},"de_CommandError"),lle=(0,w.withBaseException)(gt),ule=Y(async(e,t)=>{let r=(0,w.map)({}),n=e.body,o=(0,w.take)(n,{error:w.expectString,error_description:w.expectString});Object.assign(r,o);let i=new nM({$metadata:tt(e),...r});return(0,w.decorateServiceException)(i,e.body)},"de_AccessDeniedExceptionRes"),ple=Y(async(e,t)=>{let r=(0,w.map)({}),n=e.body,o=(0,w.take)(n,{error:w.expectString,error_description:w.expectString});Object.assign(r,o);let i=new sM({$metadata:tt(e),...r});return(0,w.decorateServiceException)(i,e.body)},"de_AuthorizationPendingExceptionRes"),fle=Y(async(e,t)=>{let r=(0,w.map)({}),n=e.body,o=(0,w.take)(n,{error:w.expectString,error_description:w.expectString});Object.assign(r,o);let i=new dM({$metadata:tt(e),...r});return(0,w.decorateServiceException)(i,e.body)},"de_ExpiredTokenExceptionRes"),mle=Y(async(e,t)=>{let r=(0,w.map)({}),n=e.body,o=(0,w.take)(n,{error:w.expectString,error_description:w.expectString});Object.assign(r,o);let i=new pM({$metadata:tt(e),...r});return(0,w.decorateServiceException)(i,e.body)},"de_InternalServerExceptionRes"),hle=Y(async(e,t)=>{let r=(0,w.map)({}),n=e.body,o=(0,w.take)(n,{error:w.expectString,error_description:w.expectString});Object.assign(r,o);let i=new hM({$metadata:tt(e),...r});return(0,w.decorateServiceException)(i,e.body)},"de_InvalidClientExceptionRes"),gle=Y(async(e,t)=>{let r=(0,w.map)({}),n=e.body,o=(0,w.take)(n,{error:w.expectString,error_description:w.expectString});Object.assign(r,o);let i=new qM({$metadata:tt(e),...r});return(0,w.decorateServiceException)(i,e.body)},"de_InvalidClientMetadataExceptionRes"),_le=Y(async(e,t)=>{let r=(0,w.map)({}),n=e.body,o=(0,w.take)(n,{error:w.expectString,error_description:w.expectString});Object.assign(r,o);let i=new vM({$metadata:tt(e),...r});return(0,w.decorateServiceException)(i,e.body)},"de_InvalidGrantExceptionRes"),vle=Y(async(e,t)=>{let r=(0,w.map)({}),n=e.body,o=(0,w.take)(n,{error:w.expectString,error_description:w.expectString});Object.assign(r,o);let i=new SM({$metadata:tt(e),...r});return(0,w.decorateServiceException)(i,e.body)},"de_InvalidRequestExceptionRes"),yle=Y(async(e,t)=>{let r=(0,w.map)({}),n=e.body,o=(0,w.take)(n,{endpoint:w.expectString,error:w.expectString,error_description:w.expectString,region:w.expectString});Object.assign(r,o);let i=new kM({$metadata:tt(e),...r});return(0,w.decorateServiceException)(i,e.body)},"de_InvalidRequestRegionExceptionRes"),Ele=Y(async(e,t)=>{let r=(0,w.map)({}),n=e.body,o=(0,w.take)(n,{error:w.expectString,error_description:w.expectString});Object.assign(r,o);let i=new wM({$metadata:tt(e),...r});return(0,w.decorateServiceException)(i,e.body)},"de_InvalidScopeExceptionRes"),Sle=Y(async(e,t)=>{let r=(0,w.map)({}),n=e.body,o=(0,w.take)(n,{error:w.expectString,error_description:w.expectString});Object.assign(r,o);let i=new IM({$metadata:tt(e),...r});return(0,w.decorateServiceException)(i,e.body)},"de_SlowDownExceptionRes"),ble=Y(async(e,t)=>{let r=(0,w.map)({}),n=e.body,o=(0,w.take)(n,{error:w.expectString,error_description:w.expectString});Object.assign(r,o);let i=new AM({$metadata:tt(e),...r});return(0,w.decorateServiceException)(i,e.body)},"de_UnauthorizedClientExceptionRes"),Cle=Y(async(e,t)=>{let r=(0,w.map)({}),n=e.body,o=(0,w.take)(n,{error:w.expectString,error_description:w.expectString});Object.assign(r,o);let i=new DM({$metadata:tt(e),...r});return(0,w.decorateServiceException)(i,e.body)},"de_UnsupportedGrantTypeExceptionRes"),tt=Y(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),wle="aws_iam",HM=class extends w.Command.classBuilder().ep({...up}).m(function(t,r,n,o){return[(0,pp.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Pc.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(UM,FM).ser(rle).de(sle).build(){};Y(HM,"CreateTokenCommand");var WM=HM,KM=class extends w.Command.classBuilder().ep({...up}).m(function(t,r,n,o){return[(0,pp.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Pc.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateTokenWithIAM",{}).n("SSOOIDCClient","CreateTokenWithIAMCommand").f(BM,GM).ser(nle).de(ale).build(){};Y(KM,"CreateTokenWithIAMCommand");var JM=KM,YM=class extends w.Command.classBuilder().ep({...up}).m(function(t,r,n,o){return[(0,pp.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Pc.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","RegisterClient",{}).n("SSOOIDCClient","RegisterClientCommand").f(void 0,VM).ser(ole).de(cle).build(){};Y(YM,"RegisterClientCommand");var XM=YM,QM=class extends w.Command.classBuilder().ep({...up}).m(function(t,r,n,o){return[(0,pp.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Pc.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","StartDeviceAuthorization",{}).n("SSOOIDCClient","StartDeviceAuthorizationCommand").f(zM,void 0).ser(ile).de(dle).build(){};Y(QM,"StartDeviceAuthorizationCommand");var ZM=QM,Ple={CreateTokenCommand:WM,CreateTokenWithIAMCommand:JM,RegisterClientCommand:XM,StartDeviceAuthorizationCommand:ZM},ek=class extends Q1{};Y(ek,"SSOOIDC");var tk=ek;(0,w.createAggregatedClient)(Ple,tk)});var pk=m((ZTe,uk)=>{var mp=Object.defineProperty,Tle=Object.getOwnPropertyDescriptor,sk=Object.getOwnPropertyNames,Ile=Object.prototype.hasOwnProperty,Yn=(e,t)=>mp(e,"name",{value:t,configurable:!0}),Ole=(e,t)=>function(){return e&&(t=(0,e[sk(e)[0]])(e=0)),t},ak=(e,t)=>{for(var r in t)mp(e,r,{get:t[r],enumerable:!0})},Rle=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of sk(t))!Ile.call(e,o)&&o!==r&&mp(e,o,{get:()=>t[o],enumerable:!(n=Tle(t,o))||n.enumerable});return e},Ale=e=>Rle(mp({},"__esModule",{value:!0}),e),rv={};ak(rv,{CreateTokenCommand:()=>tv.CreateTokenCommand,SSOOIDCClient:()=>tv.SSOOIDCClient});var tv,ck=Ole({"src/loadSsoOidc.ts"(){tv=nk()}}),dk={};ak(dk,{fromSso:()=>lk,fromStatic:()=>Lle,nodeProvider:()=>jle});uk.exports=Ale(dk);var xle=5*60*1e3,nv="To refresh this SSO session run 'aws sso login' with the corresponding profile.",ev={},Nle=Yn(async e=>{let{SSOOIDCClient:t}=await Promise.resolve().then(()=>(ck(),rv));if(ev[e])return ev[e];let r=new t({region:e});return ev[e]=r,r},"getSsoOidcClient"),Dle=Yn(async(e,t)=>{let{CreateTokenCommand:r}=await Promise.resolve().then(()=>(ck(),rv));return(await Nle(t)).send(new r({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},"getNewSsoOidcToken"),ur=wt(),ok=Yn(e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new ur.TokenProviderError(`Token is expired. ${nv}`,!1)},"validateTokenExpiry"),Ho=Yn((e,t,r=!1)=>{if(typeof t>"u")throw new ur.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${nv}`,!1)},"validateTokenKey"),Tc=Un(),$le=require("fs"),{writeFile:Mle}=$le.promises,kle=Yn((e,t)=>{let r=(0,Tc.getSSOTokenFilepath)(e),n=JSON.stringify(t,null,2);return Mle(r,n)},"writeSSOTokenToFile"),ik=new Date(0),lk=Yn((e={})=>async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/token-providers","fromSso");let r=await(0,Tc.parseKnownFiles)(e),n=(0,Tc.getProfileName)(e),o=r[n];if(o){if(!o.sso_session)throw new ur.TokenProviderError(`Profile '${n}' is missing required property 'sso_session'.`)}else throw new ur.TokenProviderError(`Profile '${n}' could not be found in shared credentials file.`,!1);let i=o.sso_session,a=(await(0,Tc.loadSsoSessionData)(e))[i];if(!a)throw new ur.TokenProviderError(`Sso session '${i}' could not be found in shared credentials file.`,!1);for(let v of["sso_start_url","sso_region"])if(!a[v])throw new ur.TokenProviderError(`Sso session '${i}' is missing required property '${v}'.`,!1);let c=a.sso_start_url,l=a.sso_region,p;try{p=await(0,Tc.getSSOTokenFromFile)(i)}catch{throw new ur.TokenProviderError(`The SSO session token associated with profile=${n} was not found or is invalid. ${nv}`,!1)}Ho("accessToken",p.accessToken),Ho("expiresAt",p.expiresAt);let{accessToken:f,expiresAt:h}=p,g={token:f,expiration:new Date(h)};if(g.expiration.getTime()-Date.now()>xle)return g;if(Date.now()-ik.getTime()<30*1e3)return ok(g),g;Ho("clientId",p.clientId,!0),Ho("clientSecret",p.clientSecret,!0),Ho("refreshToken",p.refreshToken,!0);try{ik.setTime(Date.now());let v=await Dle(p,l);Ho("accessToken",v.accessToken),Ho("expiresIn",v.expiresIn);let S=new Date(Date.now()+v.expiresIn*1e3);try{await kle(i,{...p,accessToken:v.accessToken,expiresAt:S.toISOString(),refreshToken:v.refreshToken})}catch{}return{token:v.accessToken,expiration:S}}catch{return ok(g),g}},"fromSso"),Lle=Yn(({token:e,logger:t})=>async()=>{if(t?.debug("@aws-sdk/token-providers","fromStatic"),!e||!e.token)throw new ur.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},"fromStatic"),jle=Yn((e={})=>(0,ur.memoize)((0,ur.chain)(lk(e),async()=>{throw new ur.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0),"nodeProvider")});var iv=m((eIe,Ek)=>{var gp=Object.defineProperty,qle=Object.getOwnPropertyDescriptor,mk=Object.getOwnPropertyNames,Ule=Object.prototype.hasOwnProperty,_p=(e,t)=>gp(e,"name",{value:t,configurable:!0}),Fle=(e,t)=>function(){return e&&(t=(0,e[mk(e)[0]])(e=0)),t},hk=(e,t)=>{for(var r in t)gp(e,r,{get:t[r],enumerable:!0})},Ble=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of mk(t))!Ule.call(e,o)&&o!==r&&gp(e,o,{get:()=>t[o],enumerable:!(n=qle(t,o))||n.enumerable});return e},Gle=e=>Ble(gp({},"__esModule",{value:!0}),e),gk={};hk(gk,{GetRoleCredentialsCommand:()=>ov.GetRoleCredentialsCommand,SSOClient:()=>ov.SSOClient});var ov,Vle=Fle({"src/loadSso.ts"(){ov=_1()}}),_k={};hk(_k,{fromSSO:()=>Hle,isSsoProfile:()=>vk,validateSsoProfile:()=>yk});Ek.exports=Gle(_k);var vk=_p(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),zle=pk(),pr=wt(),hp=Un(),Ic=!1,fk=_p(async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoClient:i,clientConfig:s,profile:a})=>{let c,l="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let k=await(0,zle.fromSso)({profile:a})();c={accessToken:k.token,expiresAt:new Date(k.expiration).toISOString()}}catch(k){throw new pr.CredentialsProviderError(k.message,Ic)}else try{c=await(0,hp.getSSOTokenFromFile)(e)}catch{throw new pr.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${l}`,Ic)}if(new Date(c.expiresAt).getTime()-Date.now()<=0)throw new pr.CredentialsProviderError(`The SSO session associated with this profile has expired. ${l}`,Ic);let{accessToken:p}=c,{SSOClient:f,GetRoleCredentialsCommand:h}=await Promise.resolve().then(()=>(Vle(),gk)),g=i||new f(Object.assign({},s??{},{region:s?.region??n})),v;try{v=await g.send(new h({accountId:r,roleName:o,accessToken:p}))}catch(k){throw pr.CredentialsProviderError.from(k,Ic)}let{roleCredentials:{accessKeyId:S,secretAccessKey:b,sessionToken:T,expiration:O,credentialScope:$}={}}=v;if(!S||!b||!T||!O)throw new pr.CredentialsProviderError("SSO returns an invalid temporary credential.",Ic);return{accessKeyId:S,secretAccessKey:b,sessionToken:T,expiration:new Date(O),credentialScope:$}},"resolveSSOCredentials"),yk=_p(e=>{let{sso_start_url:t,sso_account_id:r,sso_region:n,sso_role_name:o}=e;if(!t||!r||!n||!o)throw new pr.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,!1);return e},"validateSsoProfile"),Hle=_p((e={})=>async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-sso","fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:o,ssoRoleName:i,ssoSession:s}=e,{ssoClient:a}=e,c=(0,hp.getProfileName)(e);if(!r&&!n&&!o&&!i&&!s){let p=(await(0,hp.parseKnownFiles)(e))[c];if(!p)throw new pr.CredentialsProviderError(`Profile ${c} was not found.`);if(!vk(p))throw new pr.CredentialsProviderError(`Profile ${c} is not configured with SSO credentials.`);if(p?.sso_session){let T=(await(0,hp.loadSsoSessionData)(e))[p.sso_session],O=` configurations in profile ${c} and sso-session ${p.sso_session}`;if(o&&o!==T.sso_region)throw new pr.CredentialsProviderError("Conflicting SSO region"+O,!1);if(r&&r!==T.sso_start_url)throw new pr.CredentialsProviderError("Conflicting SSO start_url"+O,!1);p.sso_region=T.sso_region,p.sso_start_url=T.sso_start_url}let{sso_start_url:f,sso_account_id:h,sso_region:g,sso_role_name:v,sso_session:S}=yk(p);return fk({ssoStartUrl:f,ssoSession:S,ssoAccountId:h,ssoRegion:g,ssoRoleName:v,ssoClient:a,clientConfig:e.clientConfig,profile:c})}else{if(!r||!n||!o||!i)throw new pr.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"');return fk({ssoStartUrl:r,ssoSession:s,ssoAccountId:n,ssoRegion:o,ssoRoleName:i,ssoClient:a,clientConfig:e.clientConfig,profile:c})}},"fromSSO")});var sv=m(fr=>{"use strict";Object.defineProperty(fr,"__esModule",{value:!0});fr.resolveHttpAuthSchemeConfig=fr.resolveStsAuthConfig=fr.defaultSTSHttpAuthSchemeProvider=fr.defaultSTSHttpAuthSchemeParametersProvider=void 0;var Wle=et(),Sk=Nr(),Kle=Oc(),Jle=async(e,t,r)=>({operation:(0,Sk.getSmithyContext)(t).operation,region:await(0,Sk.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});fr.defaultSTSHttpAuthSchemeParametersProvider=Jle;function Yle(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function bk(e){return{schemeId:"smithy.api#noAuth"}}var Xle=e=>{let t=[];switch(e.operation){case"AssumeRoleWithSAML":{t.push(bk(e));break}case"AssumeRoleWithWebIdentity":{t.push(bk(e));break}default:t.push(Yle(e))}return t};fr.defaultSTSHttpAuthSchemeProvider=Xle;var Qle=e=>({...e,stsClientCtor:Kle.STSClient});fr.resolveStsAuthConfig=Qle;var Zle=e=>{let t=(0,fr.resolveStsAuthConfig)(e);return{...(0,Wle.resolveAwsSdkSigV4Config)(t)}};fr.resolveHttpAuthSchemeConfig=Zle});var mr=m(os=>{"use strict";Object.defineProperty(os,"__esModule",{value:!0});os.commonParams=os.resolveClientEndpointParameters=void 0;var eue=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"});os.resolveClientEndpointParameters=eue;os.commonParams={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var Ck=m((nIe,tue)=>{tue.exports={name:"@aws-sdk/client-sts",description:"AWS SDK for JavaScript Sts Client for Node.js, Browser and React Native",version:"3.556.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sts","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"rimraf ./dist-types tsconfig.types.tsbuildinfo && tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sts",test:"yarn test:unit","test:unit":"jest"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/core":"3.556.0","@aws-sdk/middleware-host-header":"3.535.0","@aws-sdk/middleware-logger":"3.535.0","@aws-sdk/middleware-recursion-detection":"3.535.0","@aws-sdk/middleware-user-agent":"3.540.0","@aws-sdk/region-config-resolver":"3.535.0","@aws-sdk/types":"3.535.0","@aws-sdk/util-endpoints":"3.540.0","@aws-sdk/util-user-agent-browser":"3.535.0","@aws-sdk/util-user-agent-node":"3.535.0","@smithy/config-resolver":"^2.2.0","@smithy/core":"^1.4.2","@smithy/fetch-http-handler":"^2.5.0","@smithy/hash-node":"^2.2.0","@smithy/invalid-dependency":"^2.2.0","@smithy/middleware-content-length":"^2.2.0","@smithy/middleware-endpoint":"^2.5.1","@smithy/middleware-retry":"^2.3.1","@smithy/middleware-serde":"^2.3.0","@smithy/middleware-stack":"^2.2.0","@smithy/node-config-provider":"^2.3.0","@smithy/node-http-handler":"^2.5.0","@smithy/protocol-http":"^3.3.0","@smithy/smithy-client":"^2.5.1","@smithy/types":"^2.12.0","@smithy/url-parser":"^2.2.0","@smithy/util-base64":"^2.3.0","@smithy/util-body-length-browser":"^2.2.0","@smithy/util-body-length-node":"^2.3.0","@smithy/util-defaults-mode-browser":"^2.2.1","@smithy/util-defaults-mode-node":"^2.3.1","@smithy/util-endpoints":"^1.2.0","@smithy/util-middleware":"^2.2.0","@smithy/util-retry":"^2.2.0","@smithy/util-utf8":"^2.3.0",tslib:"^2.6.2"},devDependencies:{"@smithy/service-client-documentation-generator":"^2.2.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",peerDependencies:{"@aws-sdk/credential-provider-node":"^3.556.0"},browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sts",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sts"}}});var wk=m(jr=>{"use strict";var rue=jr&&jr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),nue=jr&&jr.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),oue=jr&&jr.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&rue(t,e,r);return nue(t,e),t};Object.defineProperty(jr,"__esModule",{value:!0});jr.defaultProvider=void 0;jr.defaultProvider=e=>()=>Promise.resolve().then(()=>oue(np())).then(({defaultProvider:t})=>t(e)())});var Hk=m(vp=>{"use strict";Object.defineProperty(vp,"__esModule",{value:!0});vp.ruleSet=void 0;var kk="required",re="type",ge="fn",_e="argv",Qn="ref",Pk=!1,av=!0,Xn="booleanEquals",rt="stringEquals",Lk="sigv4",jk="sts",qk="us-east-1",xe="endpoint",Tk="https://sts.{Region}.{PartitionResult#dnsSuffix}",qr="tree",is="error",dv="getAttr",Ik={[kk]:!1,[re]:"String"},cv={[kk]:!0,default:!1,[re]:"Boolean"},Uk={[Qn]:"Endpoint"},Ok={[ge]:"isSet",[_e]:[{[Qn]:"Region"}]},nt={[Qn]:"Region"},Rk={[ge]:"aws.partition",[_e]:[nt],assign:"PartitionResult"},Fk={[Qn]:"UseFIPS"},Bk={[Qn]:"UseDualStack"},dt={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:Lk,signingName:jk,signingRegion:qk}]},headers:{}},Rt={},Ak={conditions:[{[ge]:rt,[_e]:[nt,"aws-global"]}],[xe]:dt,[re]:xe},Gk={[ge]:Xn,[_e]:[Fk,!0]},Vk={[ge]:Xn,[_e]:[Bk,!0]},xk={[ge]:dv,[_e]:[{[Qn]:"PartitionResult"},"supportsFIPS"]},zk={[Qn]:"PartitionResult"},Nk={[ge]:Xn,[_e]:[!0,{[ge]:dv,[_e]:[zk,"supportsDualStack"]}]},Dk=[{[ge]:"isSet",[_e]:[Uk]}],$k=[Gk],Mk=[Vk],iue={version:"1.0",parameters:{Region:Ik,UseDualStack:cv,UseFIPS:cv,Endpoint:Ik,UseGlobalEndpoint:cv},rules:[{conditions:[{[ge]:Xn,[_e]:[{[Qn]:"UseGlobalEndpoint"},av]},{[ge]:"not",[_e]:Dk},Ok,Rk,{[ge]:Xn,[_e]:[Fk,Pk]},{[ge]:Xn,[_e]:[Bk,Pk]}],rules:[{conditions:[{[ge]:rt,[_e]:[nt,"ap-northeast-1"]}],endpoint:dt,[re]:xe},{conditions:[{[ge]:rt,[_e]:[nt,"ap-south-1"]}],endpoint:dt,[re]:xe},{conditions:[{[ge]:rt,[_e]:[nt,"ap-southeast-1"]}],endpoint:dt,[re]:xe},{conditions:[{[ge]:rt,[_e]:[nt,"ap-southeast-2"]}],endpoint:dt,[re]:xe},Ak,{conditions:[{[ge]:rt,[_e]:[nt,"ca-central-1"]}],endpoint:dt,[re]:xe},{conditions:[{[ge]:rt,[_e]:[nt,"eu-central-1"]}],endpoint:dt,[re]:xe},{conditions:[{[ge]:rt,[_e]:[nt,"eu-north-1"]}],endpoint:dt,[re]:xe},{conditions:[{[ge]:rt,[_e]:[nt,"eu-west-1"]}],endpoint:dt,[re]:xe},{conditions:[{[ge]:rt,[_e]:[nt,"eu-west-2"]}],endpoint:dt,[re]:xe},{conditions:[{[ge]:rt,[_e]:[nt,"eu-west-3"]}],endpoint:dt,[re]:xe},{conditions:[{[ge]:rt,[_e]:[nt,"sa-east-1"]}],endpoint:dt,[re]:xe},{conditions:[{[ge]:rt,[_e]:[nt,qk]}],endpoint:dt,[re]:xe},{conditions:[{[ge]:rt,[_e]:[nt,"us-east-2"]}],endpoint:dt,[re]:xe},{conditions:[{[ge]:rt,[_e]:[nt,"us-west-1"]}],endpoint:dt,[re]:xe},{conditions:[{[ge]:rt,[_e]:[nt,"us-west-2"]}],endpoint:dt,[re]:xe},{endpoint:{url:Tk,properties:{authSchemes:[{name:Lk,signingName:jk,signingRegion:"{Region}"}]},headers:Rt},[re]:xe}],[re]:qr},{conditions:Dk,rules:[{conditions:$k,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[re]:is},{conditions:Mk,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[re]:is},{endpoint:{url:Uk,properties:Rt,headers:Rt},[re]:xe}],[re]:qr},{conditions:[Ok],rules:[{conditions:[Rk],rules:[{conditions:[Gk,Vk],rules:[{conditions:[{[ge]:Xn,[_e]:[av,xk]},Nk],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Rt,headers:Rt},[re]:xe}],[re]:qr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[re]:is}],[re]:qr},{conditions:$k,rules:[{conditions:[{[ge]:Xn,[_e]:[xk,av]}],rules:[{conditions:[{[ge]:rt,[_e]:[{[ge]:dv,[_e]:[zk,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:Rt,headers:Rt},[re]:xe},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Rt,headers:Rt},[re]:xe}],[re]:qr},{error:"FIPS is enabled but this partition does not support FIPS",[re]:is}],[re]:qr},{conditions:Mk,rules:[{conditions:[Nk],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Rt,headers:Rt},[re]:xe}],[re]:qr},{error:"DualStack is enabled but this partition does not support DualStack",[re]:is}],[re]:qr},Ak,{endpoint:{url:Tk,properties:Rt,headers:Rt},[re]:xe}],[re]:qr}],[re]:qr},{error:"Invalid Configuration: Missing Region",[re]:is}]};vp.ruleSet=iue});var Kk=m(yp=>{"use strict";Object.defineProperty(yp,"__esModule",{value:!0});yp.defaultEndpointResolver=void 0;var sue=$i(),Wk=Ni(),aue=Hk(),cue=(e,t={})=>(0,Wk.resolveEndpoint)(aue.ruleSet,{endpointParams:e,logger:t.logger});yp.defaultEndpointResolver=cue;Wk.customEndpointFunctions.aws=sue.awsEndpointFunctions});var Xk=m(Ep=>{"use strict";Object.defineProperty(Ep,"__esModule",{value:!0});Ep.getRuntimeConfig=void 0;var due=et(),lue=ct(),uue=ke(),pue=Lo(),Jk=ji(),Yk=Vt(),fue=sv(),mue=Kk(),hue=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??Jk.fromBase64,base64Encoder:e?.base64Encoder??Jk.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??mue.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??fue.defaultSTSHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new due.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new lue.NoAuthSigner}],logger:e?.logger??new uue.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??pue.parseUrl,utf8Decoder:e?.utf8Decoder??Yk.fromUtf8,utf8Encoder:e?.utf8Encoder??Yk.toUtf8});Ep.getRuntimeConfig=hue});var rL=m(bp=>{"use strict";Object.defineProperty(bp,"__esModule",{value:!0});bp.getRuntimeConfig=void 0;var gue=(Hi(),Kr(zi)),_ue=gue.__importDefault(Ck()),Qk=wk(),Zk=et(),vue=fc(),Sp=Dr(),yue=ct(),Eue=mc(),eL=Mr(),Rc=dn(),tL=Bo(),Sue=hc(),bue=ki(),Cue=Xk(),wue=ke(),Pue=vc(),Tue=ke(),Iue=e=>{(0,Tue.emitWarningIfUnsupportedVersion)(process.version);let t=(0,Pue.resolveDefaultsModeConfig)(e),r=()=>t().then(wue.loadConfigsForDefaultMode),n=(0,Cue.getRuntimeConfig)(e);return(0,Zk.emitWarningIfUnsupportedVersion)(process.version),{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??Sue.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??Qk.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,vue.defaultUserAgent)({serviceId:n.serviceId,clientVersion:_ue.default.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:o=>o.getIdentityProvider("aws.auth#sigv4")||(async i=>await(0,Qk.defaultProvider)(i?.__config||{})()),signer:new Zk.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:o=>o.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new yue.NoAuthSigner}],maxAttempts:e?.maxAttempts??(0,Rc.loadConfig)(eL.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:e?.region??(0,Rc.loadConfig)(Sp.NODE_REGION_CONFIG_OPTIONS,Sp.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:tL.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Rc.loadConfig)({...eL.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||bue.DEFAULT_RETRY_MODE}),sha256:e?.sha256??Eue.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??tL.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Rc.loadConfig)(Sp.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,Rc.loadConfig)(Sp.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};bp.getRuntimeConfig=Iue});var nL=m(ss=>{"use strict";Object.defineProperty(ss,"__esModule",{value:!0});ss.resolveHttpAuthRuntimeConfig=ss.getHttpAuthExtensionConfiguration=void 0;var Oue=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let i=t.findIndex(s=>s.schemeId===o.schemeId);i===-1?t.push(o):t.splice(i,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}};ss.getHttpAuthExtensionConfiguration=Oue;var Rue=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()});ss.resolveHttpAuthRuntimeConfig=Rue});var lv=m(wp=>{"use strict";Object.defineProperty(wp,"__esModule",{value:!0});wp.resolveRuntimeExtensions=void 0;var oL=Ec(),iL=at(),sL=ke(),aL=nL(),Cp=e=>e,Aue=(e,t)=>{let r={...Cp((0,oL.getAwsRegionExtensionConfiguration)(e)),...Cp((0,sL.getDefaultExtensionConfiguration)(e)),...Cp((0,iL.getHttpHandlerExtensionConfiguration)(e)),...Cp((0,aL.getHttpAuthExtensionConfiguration)(e))};return t.forEach(n=>n.configure(r)),{...e,...(0,oL.resolveAwsRegionExtensionConfiguration)(r),...(0,sL.resolveDefaultRuntimeConfig)(r),...(0,iL.resolveHttpHandlerRuntimeConfig)(r),...(0,aL.resolveHttpAuthRuntimeConfig)(r)}};wp.resolveRuntimeExtensions=Aue});var Oc=m(as=>{"use strict";Object.defineProperty(as,"__esModule",{value:!0});as.STSClient=as.__Client=void 0;var cL=Ua(),xue=Fa(),Nue=Ba(),dL=Va(),Due=Dr(),uv=ct(),$ue=ac(),Mue=qo(),lL=Mr(),pL=ke();Object.defineProperty(as,"__Client",{enumerable:!0,get:function(){return pL.Client}});var uL=sv(),kue=mr(),Lue=rL(),jue=lv(),pv=class extends pL.Client{constructor(...[t]){let r=(0,Lue.getRuntimeConfig)(t||{}),n=(0,kue.resolveClientEndpointParameters)(r),o=(0,Due.resolveRegionConfig)(n),i=(0,Mue.resolveEndpointConfig)(o),s=(0,lL.resolveRetryConfig)(i),a=(0,cL.resolveHostHeaderConfig)(s),c=(0,dL.resolveUserAgentConfig)(a),l=(0,uL.resolveHttpAuthSchemeConfig)(c),p=(0,jue.resolveRuntimeExtensions)(l,t?.extensions||[]);super(p),this.config=p,this.middlewareStack.use((0,lL.getRetryPlugin)(this.config)),this.middlewareStack.use((0,$ue.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,cL.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,xue.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,Nue.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,dL.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,uv.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:this.getDefaultHttpAuthSchemeParametersProvider(),identityProviderConfigProvider:this.getIdentityProviderConfigProvider()})),this.middlewareStack.use((0,uv.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}getDefaultHttpAuthSchemeParametersProvider(){return uL.defaultSTSHttpAuthSchemeParametersProvider}getIdentityProviderConfigProvider(){return async t=>new uv.DefaultIdentityProviderConfig({"aws.auth#sigv4":t.credentials})}};as.STSClient=pv});var Wv=m((bIe,Hv)=>{"use strict";var Pp=Object.defineProperty,que=Object.getOwnPropertyDescriptor,Uue=Object.getOwnPropertyNames,Fue=Object.prototype.hasOwnProperty,I=(e,t)=>Pp(e,"name",{value:t,configurable:!0}),Bue=(e,t)=>{for(var r in t)Pp(e,r,{get:t[r],enumerable:!0})},Fv=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Uue(t))!Fue.call(e,o)&&o!==r&&Pp(e,o,{get:()=>t[o],enumerable:!(n=que(t,o))||n.enumerable});return e},Gue=(e,t,r)=>(Fv(e,t,"default"),r&&Fv(r,t,"default")),Vue=e=>Fv(Pp({},"__esModule",{value:!0}),e),Bv={};Bue(Bv,{AssumeRoleCommand:()=>Vv,AssumeRoleResponseFilterSensitiveLog:()=>UL,AssumeRoleWithSAMLCommand:()=>YL,AssumeRoleWithSAMLRequestFilterSensitiveLog:()=>FL,AssumeRoleWithSAMLResponseFilterSensitiveLog:()=>BL,AssumeRoleWithWebIdentityCommand:()=>zv,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>GL,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>VL,ClientInputEndpointParameters:()=>pfe.ClientInputEndpointParameters,CredentialsFilterSensitiveLog:()=>hs,DecodeAuthorizationMessageCommand:()=>ZL,ExpiredTokenException:()=>vL,GetAccessKeyInfoCommand:()=>tj,GetCallerIdentityCommand:()=>nj,GetFederationTokenCommand:()=>ij,GetFederationTokenResponseFilterSensitiveLog:()=>zL,GetSessionTokenCommand:()=>aj,GetSessionTokenResponseFilterSensitiveLog:()=>HL,IDPCommunicationErrorException:()=>kL,IDPRejectedClaimException:()=>AL,InvalidAuthorizationMessageException:()=>qL,InvalidIdentityTokenException:()=>DL,MalformedPolicyDocumentException:()=>SL,PackedPolicyTooLargeException:()=>wL,RegionDisabledException:()=>IL,RuntimeExtension:()=>ffe.RuntimeExtension,STS:()=>dj,STSServiceException:()=>Ur,decorateDefaultCredentialProvider:()=>gfe,getDefaultRoleAssumer:()=>fj,getDefaultRoleAssumerWithWebIdentity:()=>mj});Hv.exports=Vue(Bv);Gue(Bv,Oc(),Hv.exports);var Zn=qo(),eo=jo(),pIe=ar(),zue=mr(),q=ke(),mL=class hL extends q.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,hL.prototype)}};I(mL,"STSServiceException");var Ur=mL,gL=class _L extends Ur{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,_L.prototype)}};I(gL,"ExpiredTokenException");var vL=gL,yL=class EL extends Ur{constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),this.name="MalformedPolicyDocumentException",this.$fault="client",Object.setPrototypeOf(this,EL.prototype)}};I(yL,"MalformedPolicyDocumentException");var SL=yL,bL=class CL extends Ur{constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),this.name="PackedPolicyTooLargeException",this.$fault="client",Object.setPrototypeOf(this,CL.prototype)}};I(bL,"PackedPolicyTooLargeException");var wL=bL,PL=class TL extends Ur{constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),this.name="RegionDisabledException",this.$fault="client",Object.setPrototypeOf(this,TL.prototype)}};I(PL,"RegionDisabledException");var IL=PL,OL=class RL extends Ur{constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),this.name="IDPRejectedClaimException",this.$fault="client",Object.setPrototypeOf(this,RL.prototype)}};I(OL,"IDPRejectedClaimException");var AL=OL,xL=class NL extends Ur{constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),this.name="InvalidIdentityTokenException",this.$fault="client",Object.setPrototypeOf(this,NL.prototype)}};I(xL,"InvalidIdentityTokenException");var DL=xL,$L=class ML extends Ur{constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),this.name="IDPCommunicationErrorException",this.$fault="client",Object.setPrototypeOf(this,ML.prototype)}};I($L,"IDPCommunicationErrorException");var kL=$L,LL=class jL extends Ur{constructor(t){super({name:"InvalidAuthorizationMessageException",$fault:"client",...t}),this.name="InvalidAuthorizationMessageException",this.$fault="client",Object.setPrototypeOf(this,jL.prototype)}};I(LL,"InvalidAuthorizationMessageException");var qL=LL,hs=I(e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:q.SENSITIVE_STRING}}),"CredentialsFilterSensitiveLog"),UL=I(e=>({...e,...e.Credentials&&{Credentials:hs(e.Credentials)}}),"AssumeRoleResponseFilterSensitiveLog"),FL=I(e=>({...e,...e.SAMLAssertion&&{SAMLAssertion:q.SENSITIVE_STRING}}),"AssumeRoleWithSAMLRequestFilterSensitiveLog"),BL=I(e=>({...e,...e.Credentials&&{Credentials:hs(e.Credentials)}}),"AssumeRoleWithSAMLResponseFilterSensitiveLog"),GL=I(e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:q.SENSITIVE_STRING}}),"AssumeRoleWithWebIdentityRequestFilterSensitiveLog"),VL=I(e=>({...e,...e.Credentials&&{Credentials:hs(e.Credentials)}}),"AssumeRoleWithWebIdentityResponseFilterSensitiveLog"),zL=I(e=>({...e,...e.Credentials&&{Credentials:hs(e.Credentials)}}),"GetFederationTokenResponseFilterSensitiveLog"),HL=I(e=>({...e,...e.Credentials&&{Credentials:hs(e.Credentials)}}),"GetSessionTokenResponseFilterSensitiveLog"),_n=et(),Hue=at(),Wue=I(async(e,t)=>{let r=no,n;return n=ao({..._pe(e,t),[io]:Kpe,[so]:oo}),ro(t,r,"/",void 0,n)},"se_AssumeRoleCommand"),Kue=I(async(e,t)=>{let r=no,n;return n=ao({...vpe(e,t),[io]:Jpe,[so]:oo}),ro(t,r,"/",void 0,n)},"se_AssumeRoleWithSAMLCommand"),Jue=I(async(e,t)=>{let r=no,n;return n=ao({...ype(e,t),[io]:Ype,[so]:oo}),ro(t,r,"/",void 0,n)},"se_AssumeRoleWithWebIdentityCommand"),Yue=I(async(e,t)=>{let r=no,n;return n=ao({...Epe(e,t),[io]:Xpe,[so]:oo}),ro(t,r,"/",void 0,n)},"se_DecodeAuthorizationMessageCommand"),Xue=I(async(e,t)=>{let r=no,n;return n=ao({...Spe(e,t),[io]:Qpe,[so]:oo}),ro(t,r,"/",void 0,n)},"se_GetAccessKeyInfoCommand"),Que=I(async(e,t)=>{let r=no,n;return n=ao({...bpe(e,t),[io]:Zpe,[so]:oo}),ro(t,r,"/",void 0,n)},"se_GetCallerIdentityCommand"),Zue=I(async(e,t)=>{let r=no,n;return n=ao({...Cpe(e,t),[io]:efe,[so]:oo}),ro(t,r,"/",void 0,n)},"se_GetFederationTokenCommand"),epe=I(async(e,t)=>{let r=no,n;return n=ao({...wpe(e,t),[io]:tfe,[so]:oo}),ro(t,r,"/",void 0,n)},"se_GetSessionTokenCommand"),tpe=I(async(e,t)=>{if(e.statusCode>=300)return to(e,t);let r=await(0,_n.parseXmlBody)(e.body,t),n={};return n=Ape(r.AssumeRoleResult,t),{$metadata:lt(e),...n}},"de_AssumeRoleCommand"),rpe=I(async(e,t)=>{if(e.statusCode>=300)return to(e,t);let r=await(0,_n.parseXmlBody)(e.body,t),n={};return n=xpe(r.AssumeRoleWithSAMLResult,t),{$metadata:lt(e),...n}},"de_AssumeRoleWithSAMLCommand"),npe=I(async(e,t)=>{if(e.statusCode>=300)return to(e,t);let r=await(0,_n.parseXmlBody)(e.body,t),n={};return n=Npe(r.AssumeRoleWithWebIdentityResult,t),{$metadata:lt(e),...n}},"de_AssumeRoleWithWebIdentityCommand"),ope=I(async(e,t)=>{if(e.statusCode>=300)return to(e,t);let r=await(0,_n.parseXmlBody)(e.body,t),n={};return n=Dpe(r.DecodeAuthorizationMessageResult,t),{$metadata:lt(e),...n}},"de_DecodeAuthorizationMessageCommand"),ipe=I(async(e,t)=>{if(e.statusCode>=300)return to(e,t);let r=await(0,_n.parseXmlBody)(e.body,t),n={};return n=kpe(r.GetAccessKeyInfoResult,t),{$metadata:lt(e),...n}},"de_GetAccessKeyInfoCommand"),spe=I(async(e,t)=>{if(e.statusCode>=300)return to(e,t);let r=await(0,_n.parseXmlBody)(e.body,t),n={};return n=Lpe(r.GetCallerIdentityResult,t),{$metadata:lt(e),...n}},"de_GetCallerIdentityCommand"),ape=I(async(e,t)=>{if(e.statusCode>=300)return to(e,t);let r=await(0,_n.parseXmlBody)(e.body,t),n={};return n=jpe(r.GetFederationTokenResult,t),{$metadata:lt(e),...n}},"de_GetFederationTokenCommand"),cpe=I(async(e,t)=>{if(e.statusCode>=300)return to(e,t);let r=await(0,_n.parseXmlBody)(e.body,t),n={};return n=qpe(r.GetSessionTokenResult,t),{$metadata:lt(e),...n}},"de_GetSessionTokenCommand"),to=I(async(e,t)=>{let r={...e,body:await(0,_n.parseXmlErrorBody)(e.body,t)},n=rfe(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await dpe(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await mpe(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await hpe(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await gpe(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await upe(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await fpe(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await lpe(r,t);case"InvalidAuthorizationMessageException":case"com.amazonaws.sts#InvalidAuthorizationMessageException":throw await ppe(r,t);default:let o=r.body;return Wpe({output:e,parsedBody:o.Error,errorCode:n})}},"de_CommandError"),dpe=I(async(e,t)=>{let r=e.body,n=$pe(r.Error,t),o=new vL({$metadata:lt(e),...n});return(0,q.decorateServiceException)(o,r)},"de_ExpiredTokenExceptionRes"),lpe=I(async(e,t)=>{let r=e.body,n=Upe(r.Error,t),o=new kL({$metadata:lt(e),...n});return(0,q.decorateServiceException)(o,r)},"de_IDPCommunicationErrorExceptionRes"),upe=I(async(e,t)=>{let r=e.body,n=Fpe(r.Error,t),o=new AL({$metadata:lt(e),...n});return(0,q.decorateServiceException)(o,r)},"de_IDPRejectedClaimExceptionRes"),ppe=I(async(e,t)=>{let r=e.body,n=Bpe(r.Error,t),o=new qL({$metadata:lt(e),...n});return(0,q.decorateServiceException)(o,r)},"de_InvalidAuthorizationMessageExceptionRes"),fpe=I(async(e,t)=>{let r=e.body,n=Gpe(r.Error,t),o=new DL({$metadata:lt(e),...n});return(0,q.decorateServiceException)(o,r)},"de_InvalidIdentityTokenExceptionRes"),mpe=I(async(e,t)=>{let r=e.body,n=Vpe(r.Error,t),o=new SL({$metadata:lt(e),...n});return(0,q.decorateServiceException)(o,r)},"de_MalformedPolicyDocumentExceptionRes"),hpe=I(async(e,t)=>{let r=e.body,n=zpe(r.Error,t),o=new wL({$metadata:lt(e),...n});return(0,q.decorateServiceException)(o,r)},"de_PackedPolicyTooLargeExceptionRes"),gpe=I(async(e,t)=>{let r=e.body,n=Hpe(r.Error,t),o=new IL({$metadata:lt(e),...n});return(0,q.decorateServiceException)(o,r)},"de_RegionDisabledExceptionRes"),_pe=I((e,t)=>{var r,n,o,i;let s={};if(e[gn]!=null&&(s[gn]=e[gn]),e[us]!=null&&(s[us]=e[us]),e[Qt]!=null){let a=Tp(e[Qt],t);((r=e[Qt])==null?void 0:r.length)===0&&(s.PolicyArns=[]),Object.entries(a).forEach(([c,l])=>{let p=`PolicyArns.${c}`;s[p]=l})}if(e[Xt]!=null&&(s[Xt]=e[Xt]),e[vt]!=null&&(s[vt]=e[vt]),e[fs]!=null){let a=WL(e[fs],t);((n=e[fs])==null?void 0:n.length)===0&&(s.Tags=[]),Object.entries(a).forEach(([c,l])=>{let p=`Tags.${c}`;s[p]=l})}if(e[kv]!=null){let a=Rpe(e[kv],t);((o=e[kv])==null?void 0:o.length)===0&&(s.TransitiveTagKeys=[]),Object.entries(a).forEach(([c,l])=>{let p=`TransitiveTagKeys.${c}`;s[p]=l})}if(e[_v]!=null&&(s[_v]=e[_v]),e[ps]!=null&&(s[ps]=e[ps]),e[ms]!=null&&(s[ms]=e[ms]),e[er]!=null&&(s[er]=e[er]),e[Iv]!=null){let a=Ipe(e[Iv],t);((i=e[Iv])==null?void 0:i.length)===0&&(s.ProvidedContexts=[]),Object.entries(a).forEach(([c,l])=>{let p=`ProvidedContexts.${c}`;s[p]=l})}return s},"se_AssumeRoleRequest"),vpe=I((e,t)=>{var r;let n={};if(e[gn]!=null&&(n[gn]=e[gn]),e[Pv]!=null&&(n[Pv]=e[Pv]),e[Nv]!=null&&(n[Nv]=e[Nv]),e[Qt]!=null){let o=Tp(e[Qt],t);((r=e[Qt])==null?void 0:r.length)===0&&(n.PolicyArns=[]),Object.entries(o).forEach(([i,s])=>{let a=`PolicyArns.${i}`;n[a]=s})}return e[Xt]!=null&&(n[Xt]=e[Xt]),e[vt]!=null&&(n[vt]=e[vt]),n},"se_AssumeRoleWithSAMLRequest"),ype=I((e,t)=>{var r;let n={};if(e[gn]!=null&&(n[gn]=e[gn]),e[us]!=null&&(n[us]=e[us]),e[qv]!=null&&(n[qv]=e[qv]),e[Ov]!=null&&(n[Ov]=e[Ov]),e[Qt]!=null){let o=Tp(e[Qt],t);((r=e[Qt])==null?void 0:r.length)===0&&(n.PolicyArns=[]),Object.entries(o).forEach(([i,s])=>{let a=`PolicyArns.${i}`;n[a]=s})}return e[Xt]!=null&&(n[Xt]=e[Xt]),e[vt]!=null&&(n[vt]=e[vt]),n},"se_AssumeRoleWithWebIdentityRequest"),Epe=I((e,t)=>{let r={};return e[vv]!=null&&(r[vv]=e[vv]),r},"se_DecodeAuthorizationMessageRequest"),Spe=I((e,t)=>{let r={};return e[cs]!=null&&(r[cs]=e[cs]),r},"se_GetAccessKeyInfoRequest"),bpe=I((e,t)=>({}),"se_GetCallerIdentityRequest"),Cpe=I((e,t)=>{var r,n;let o={};if(e[Cv]!=null&&(o[Cv]=e[Cv]),e[Xt]!=null&&(o[Xt]=e[Xt]),e[Qt]!=null){let i=Tp(e[Qt],t);((r=e[Qt])==null?void 0:r.length)===0&&(o.PolicyArns=[]),Object.entries(i).forEach(([s,a])=>{let c=`PolicyArns.${s}`;o[c]=a})}if(e[vt]!=null&&(o[vt]=e[vt]),e[fs]!=null){let i=WL(e[fs],t);((n=e[fs])==null?void 0:n.length)===0&&(o.Tags=[]),Object.entries(i).forEach(([s,a])=>{let c=`Tags.${s}`;o[c]=a})}return o},"se_GetFederationTokenRequest"),wpe=I((e,t)=>{let r={};return e[vt]!=null&&(r[vt]=e[vt]),e[ps]!=null&&(r[ps]=e[ps]),e[ms]!=null&&(r[ms]=e[ms]),r},"se_GetSessionTokenRequest"),Tp=I((e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let i=Ppe(o,t);Object.entries(i).forEach(([s,a])=>{r[`member.${n}.${s}`]=a}),n++}return r},"se_policyDescriptorListType"),Ppe=I((e,t)=>{let r={};return e[Uv]!=null&&(r[Uv]=e[Uv]),r},"se_PolicyDescriptorType"),Tpe=I((e,t)=>{let r={};return e[Tv]!=null&&(r[Tv]=e[Tv]),e[mv]!=null&&(r[mv]=e[mv]),r},"se_ProvidedContext"),Ipe=I((e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let i=Tpe(o,t);Object.entries(i).forEach(([s,a])=>{r[`member.${n}.${s}`]=a}),n++}return r},"se_ProvidedContextsListType"),Ope=I((e,t)=>{let r={};return e[bv]!=null&&(r[bv]=e[bv]),e[jv]!=null&&(r[jv]=e[jv]),r},"se_Tag"),Rpe=I((e,t)=>{let r={},n=1;for(let o of e)o!==null&&(r[`member.${n}`]=o,n++);return r},"se_tagKeyListType"),WL=I((e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let i=Ope(o,t);Object.entries(i).forEach(([s,a])=>{r[`member.${n}.${s}`]=a}),n++}return r},"se_tagListType"),Gv=I((e,t)=>{let r={};return e[fv]!=null&&(r[fv]=(0,q.expectString)(e[fv])),e[hn]!=null&&(r[hn]=(0,q.expectString)(e[hn])),r},"de_AssumedRoleUser"),Ape=I((e,t)=>{let r={};return e[_t]!=null&&(r[_t]=Ac(e[_t],t)),e[mn]!=null&&(r[mn]=Gv(e[mn],t)),e[Zt]!=null&&(r[Zt]=(0,q.strictParseInt32)(e[Zt])),e[er]!=null&&(r[er]=(0,q.expectString)(e[er])),r},"de_AssumeRoleResponse"),xpe=I((e,t)=>{let r={};return e[_t]!=null&&(r[_t]=Ac(e[_t],t)),e[mn]!=null&&(r[mn]=Gv(e[mn],t)),e[Zt]!=null&&(r[Zt]=(0,q.strictParseInt32)(e[Zt])),e[Av]!=null&&(r[Av]=(0,q.expectString)(e[Av])),e[$v]!=null&&(r[$v]=(0,q.expectString)(e[$v])),e[Sv]!=null&&(r[Sv]=(0,q.expectString)(e[Sv])),e[ls]!=null&&(r[ls]=(0,q.expectString)(e[ls])),e[wv]!=null&&(r[wv]=(0,q.expectString)(e[wv])),e[er]!=null&&(r[er]=(0,q.expectString)(e[er])),r},"de_AssumeRoleWithSAMLResponse"),Npe=I((e,t)=>{let r={};return e[_t]!=null&&(r[_t]=Ac(e[_t],t)),e[Dv]!=null&&(r[Dv]=(0,q.expectString)(e[Dv])),e[mn]!=null&&(r[mn]=Gv(e[mn],t)),e[Zt]!=null&&(r[Zt]=(0,q.strictParseInt32)(e[Zt])),e[Rv]!=null&&(r[Rv]=(0,q.expectString)(e[Rv])),e[ls]!=null&&(r[ls]=(0,q.expectString)(e[ls])),e[er]!=null&&(r[er]=(0,q.expectString)(e[er])),r},"de_AssumeRoleWithWebIdentityResponse"),Ac=I((e,t)=>{let r={};return e[cs]!=null&&(r[cs]=(0,q.expectString)(e[cs])),e[xv]!=null&&(r[xv]=(0,q.expectString)(e[xv])),e[Mv]!=null&&(r[Mv]=(0,q.expectString)(e[Mv])),e[gv]!=null&&(r[gv]=(0,q.expectNonNull)((0,q.parseRfc3339DateTimeWithOffset)(e[gv]))),r},"de_Credentials"),Dpe=I((e,t)=>{let r={};return e[hv]!=null&&(r[hv]=(0,q.expectString)(e[hv])),r},"de_DecodeAuthorizationMessageResponse"),$pe=I((e,t)=>{let r={};return e[Ne]!=null&&(r[Ne]=(0,q.expectString)(e[Ne])),r},"de_ExpiredTokenException"),Mpe=I((e,t)=>{let r={};return e[Ev]!=null&&(r[Ev]=(0,q.expectString)(e[Ev])),e[hn]!=null&&(r[hn]=(0,q.expectString)(e[hn])),r},"de_FederatedUser"),kpe=I((e,t)=>{let r={};return e[ds]!=null&&(r[ds]=(0,q.expectString)(e[ds])),r},"de_GetAccessKeyInfoResponse"),Lpe=I((e,t)=>{let r={};return e[Lv]!=null&&(r[Lv]=(0,q.expectString)(e[Lv])),e[ds]!=null&&(r[ds]=(0,q.expectString)(e[ds])),e[hn]!=null&&(r[hn]=(0,q.expectString)(e[hn])),r},"de_GetCallerIdentityResponse"),jpe=I((e,t)=>{let r={};return e[_t]!=null&&(r[_t]=Ac(e[_t],t)),e[yv]!=null&&(r[yv]=Mpe(e[yv],t)),e[Zt]!=null&&(r[Zt]=(0,q.strictParseInt32)(e[Zt])),r},"de_GetFederationTokenResponse"),qpe=I((e,t)=>{let r={};return e[_t]!=null&&(r[_t]=Ac(e[_t],t)),r},"de_GetSessionTokenResponse"),Upe=I((e,t)=>{let r={};return e[Ne]!=null&&(r[Ne]=(0,q.expectString)(e[Ne])),r},"de_IDPCommunicationErrorException"),Fpe=I((e,t)=>{let r={};return e[Ne]!=null&&(r[Ne]=(0,q.expectString)(e[Ne])),r},"de_IDPRejectedClaimException"),Bpe=I((e,t)=>{let r={};return e[Ne]!=null&&(r[Ne]=(0,q.expectString)(e[Ne])),r},"de_InvalidAuthorizationMessageException"),Gpe=I((e,t)=>{let r={};return e[Ne]!=null&&(r[Ne]=(0,q.expectString)(e[Ne])),r},"de_InvalidIdentityTokenException"),Vpe=I((e,t)=>{let r={};return e[Ne]!=null&&(r[Ne]=(0,q.expectString)(e[Ne])),r},"de_MalformedPolicyDocumentException"),zpe=I((e,t)=>{let r={};return e[Ne]!=null&&(r[Ne]=(0,q.expectString)(e[Ne])),r},"de_PackedPolicyTooLargeException"),Hpe=I((e,t)=>{let r={};return e[Ne]!=null&&(r[Ne]=(0,q.expectString)(e[Ne])),r},"de_RegionDisabledException"),lt=I(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),Wpe=(0,q.withBaseException)(Ur),ro=I(async(e,t,r,n,o)=>{let{hostname:i,protocol:s="https",port:a,path:c}=await e.endpoint(),l={protocol:s,hostname:i,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(l.hostname=n),o!==void 0&&(l.body=o),new Hue.HttpRequest(l)},"buildHttpRpcRequest"),no={"content-type":"application/x-www-form-urlencoded"},oo="2011-06-15",io="Action",cs="AccessKeyId",Kpe="AssumeRole",fv="AssumedRoleId",mn="AssumedRoleUser",Jpe="AssumeRoleWithSAML",Ype="AssumeRoleWithWebIdentity",ds="Account",hn="Arn",ls="Audience",_t="Credentials",mv="ContextAssertion",Xpe="DecodeAuthorizationMessage",hv="DecodedMessage",vt="DurationSeconds",gv="Expiration",_v="ExternalId",vv="EncodedMessage",yv="FederatedUser",Ev="FederatedUserId",Qpe="GetAccessKeyInfo",Zpe="GetCallerIdentity",efe="GetFederationToken",tfe="GetSessionToken",Sv="Issuer",bv="Key",Cv="Name",wv="NameQualifier",Xt="Policy",Qt="PolicyArns",Pv="PrincipalArn",Tv="ProviderArn",Iv="ProvidedContexts",Ov="ProviderId",Zt="PackedPolicySize",Rv="Provider",gn="RoleArn",us="RoleSessionName",Av="Subject",xv="SecretAccessKey",Nv="SAMLAssertion",Dv="SubjectFromWebIdentityToken",er="SourceIdentity",ps="SerialNumber",$v="SubjectType",Mv="SessionToken",fs="Tags",ms="TokenCode",kv="TransitiveTagKeys",Lv="UserId",so="Version",jv="Value",qv="WebIdentityToken",Uv="arn",Ne="message",ao=I(e=>Object.entries(e).map(([t,r])=>(0,q.extendedEncodeURIComponent)(t)+"="+(0,q.extendedEncodeURIComponent)(r)).join("&"),"buildFormUrlencodedString"),rfe=I((e,t)=>{var r;if(((r=t.Error)==null?void 0:r.Code)!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"},"loadQueryErrorCode"),KL=class extends q.Command.classBuilder().ep({...zue.commonParams}).m(function(t,r,n,o){return[(0,eo.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Zn.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,UL).ser(Wue).de(tpe).build(){};I(KL,"AssumeRoleCommand");var Vv=KL,nfe=mr(),JL=class extends q.Command.classBuilder().ep({...nfe.commonParams}).m(function(t,r,n,o){return[(0,eo.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Zn.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithSAML",{}).n("STSClient","AssumeRoleWithSAMLCommand").f(FL,BL).ser(Kue).de(rpe).build(){};I(JL,"AssumeRoleWithSAMLCommand");var YL=JL,ofe=mr(),XL=class extends q.Command.classBuilder().ep({...ofe.commonParams}).m(function(t,r,n,o){return[(0,eo.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Zn.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(GL,VL).ser(Jue).de(npe).build(){};I(XL,"AssumeRoleWithWebIdentityCommand");var zv=XL,ife=mr(),QL=class extends q.Command.classBuilder().ep({...ife.commonParams}).m(function(t,r,n,o){return[(0,eo.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Zn.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","DecodeAuthorizationMessage",{}).n("STSClient","DecodeAuthorizationMessageCommand").f(void 0,void 0).ser(Yue).de(ope).build(){};I(QL,"DecodeAuthorizationMessageCommand");var ZL=QL,sfe=mr(),ej=class extends q.Command.classBuilder().ep({...sfe.commonParams}).m(function(t,r,n,o){return[(0,eo.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Zn.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetAccessKeyInfo",{}).n("STSClient","GetAccessKeyInfoCommand").f(void 0,void 0).ser(Xue).de(ipe).build(){};I(ej,"GetAccessKeyInfoCommand");var tj=ej,afe=mr(),rj=class extends q.Command.classBuilder().ep({...afe.commonParams}).m(function(t,r,n,o){return[(0,eo.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Zn.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetCallerIdentity",{}).n("STSClient","GetCallerIdentityCommand").f(void 0,void 0).ser(Que).de(spe).build(){};I(rj,"GetCallerIdentityCommand");var nj=rj,cfe=mr(),oj=class extends q.Command.classBuilder().ep({...cfe.commonParams}).m(function(t,r,n,o){return[(0,eo.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Zn.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetFederationToken",{}).n("STSClient","GetFederationTokenCommand").f(void 0,zL).ser(Zue).de(ape).build(){};I(oj,"GetFederationTokenCommand");var ij=oj,dfe=mr(),sj=class extends q.Command.classBuilder().ep({...dfe.commonParams}).m(function(t,r,n,o){return[(0,eo.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Zn.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetSessionToken",{}).n("STSClient","GetSessionTokenCommand").f(void 0,HL).ser(epe).de(cpe).build(){};I(sj,"GetSessionTokenCommand");var aj=sj,lfe=Oc(),ufe={AssumeRoleCommand:Vv,AssumeRoleWithSAMLCommand:YL,AssumeRoleWithWebIdentityCommand:zv,DecodeAuthorizationMessageCommand:ZL,GetAccessKeyInfoCommand:tj,GetCallerIdentityCommand:nj,GetFederationTokenCommand:ij,GetSessionTokenCommand:aj},cj=class extends lfe.STSClient{};I(cj,"STS");var dj=cj;(0,q.createAggregatedClient)(ufe,dj);var pfe=mr(),ffe=lv(),fL="us-east-1",lj=I(async(e,t,r)=>{var n;let o=typeof e=="function"?await e():e,i=typeof t=="function"?await t():t;return(n=r?.debug)==null||n.call(r,"@aws-sdk/client-sts::resolveRegion","accepting first of:",`${o} (provider)`,`${i} (parent client)`,`${fL} (STS default)`),o??i??fL},"resolveRegion"),mfe=I((e,t)=>{let r,n;return async(o,i)=>{var s,a,c;if(n=o,!r){let{logger:p=(s=e?.parentClientConfig)==null?void 0:s.logger,region:f,requestHandler:h=(a=e?.parentClientConfig)==null?void 0:a.requestHandler,credentialProviderLogger:g}=e,v=await lj(f,(c=e?.parentClientConfig)==null?void 0:c.region,g);r=new t({credentialDefaultProvider:()=>async()=>n,region:v,requestHandler:h,logger:p})}let{Credentials:l}=await r.send(new Vv(i));if(!l||!l.AccessKeyId||!l.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${i.RoleArn}`);return{accessKeyId:l.AccessKeyId,secretAccessKey:l.SecretAccessKey,sessionToken:l.SessionToken,expiration:l.Expiration,credentialScope:l.CredentialScope}}},"getDefaultRoleAssumer"),hfe=I((e,t)=>{let r;return async n=>{var o,i,s;if(!r){let{logger:c=(o=e?.parentClientConfig)==null?void 0:o.logger,region:l,requestHandler:p=(i=e?.parentClientConfig)==null?void 0:i.requestHandler,credentialProviderLogger:f}=e,h=await lj(l,(s=e?.parentClientConfig)==null?void 0:s.region,f);r=new t({region:h,requestHandler:p,logger:c})}let{Credentials:a}=await r.send(new zv(n));if(!a||!a.AccessKeyId||!a.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);return{accessKeyId:a.AccessKeyId,secretAccessKey:a.SecretAccessKey,sessionToken:a.SessionToken,expiration:a.Expiration,credentialScope:a.CredentialScope}}},"getDefaultRoleAssumerWithWebIdentity"),uj=Oc(),pj=I((e,t)=>{var r;return t?(r=class extends e{constructor(n){super(n);for(let o of t)this.middlewareStack.use(o)}},I(r,"CustomizableSTSClient"),r):e},"getCustomizableStsClientCtor"),fj=I((e={},t)=>mfe(e,pj(uj.STSClient,t)),"getDefaultRoleAssumer"),mj=I((e={},t)=>hfe(e,pj(uj.STSClient,t)),"getDefaultRoleAssumerWithWebIdentity"),gfe=I(e=>t=>e({roleAssumer:fj(t),roleAssumerWithWebIdentity:mj(t),...t}),"decorateDefaultCredentialProvider")});var Yv=m((wIe,_j)=>{var Ip=Object.defineProperty,_fe=Object.getOwnPropertyDescriptor,vfe=Object.getOwnPropertyNames,yfe=Object.prototype.hasOwnProperty,Jv=(e,t)=>Ip(e,"name",{value:t,configurable:!0}),Efe=(e,t)=>{for(var r in t)Ip(e,r,{get:t[r],enumerable:!0})},Sfe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of vfe(t))!yfe.call(e,o)&&o!==r&&Ip(e,o,{get:()=>t[o],enumerable:!(n=_fe(t,o))||n.enumerable});return e},bfe=e=>Sfe(Ip({},"__esModule",{value:!0}),e),gj={};Efe(gj,{fromProcess:()=>Ife});_j.exports=bfe(gj);var hj=Un(),Kv=wt(),Cfe=require("child_process"),wfe=require("util"),Pfe=Jv((e,t)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let r=new Date;if(new Date(t.Expiration)<r)throw Error(`Profile ${e} credential_process returned expired credentials.`)}return{accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)},...t.CredentialScope&&{credentialScope:t.CredentialScope}}},"getValidatedProcessCredentials"),Tfe=Jv(async(e,t)=>{let r=t[e];if(t[e]){let n=r.credential_process;if(n!==void 0){let o=(0,wfe.promisify)(Cfe.exec);try{let{stdout:i}=await o(n),s;try{s=JSON.parse(i.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return Pfe(e,s)}catch(i){throw new Kv.CredentialsProviderError(i.message)}}else throw new Kv.CredentialsProviderError(`Profile ${e} did not contain credential_process.`)}else throw new Kv.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`)},"resolveProcessCredentials"),Ife=Jv((e={})=>async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-process","fromProcess");let r=await(0,hj.parseKnownFiles)(e);return Tfe((0,hj.getProfileName)(e),r)},"fromProcess")});var vj=m(Op=>{"use strict";Object.defineProperty(Op,"__esModule",{value:!0});Op.getDefaultRoleAssumerWithWebIdentity=void 0;var Ofe=Wv();Object.defineProperty(Op,"getDefaultRoleAssumerWithWebIdentity",{enumerable:!0,get:function(){return Ofe.getDefaultRoleAssumerWithWebIdentity}})});var Xv=m(Fr=>{"use strict";var Rfe=Fr&&Fr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Afe=Fr&&Fr.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),xfe=Fr&&Fr.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Rfe(t,e,r);return Afe(t,e),t};Object.defineProperty(Fr,"__esModule",{value:!0});Fr.fromWebToken=void 0;var Nfe=e=>async()=>{var t;(t=e.logger)===null||t===void 0||t.debug("@aws-sdk/credential-provider-web-identity","fromWebToken");let{roleArn:r,roleSessionName:n,webIdentityToken:o,providerId:i,policyArns:s,policy:a,durationSeconds:c}=e,{roleAssumerWithWebIdentity:l}=e;if(!l){let{getDefaultRoleAssumerWithWebIdentity:p}=await Promise.resolve().then(()=>xfe(vj()));l=p({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:e.parentClientConfig},e.clientPlugins)}return l({RoleArn:r,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:o,ProviderId:i,PolicyArns:s,Policy:a,DurationSeconds:c})};Fr.fromWebToken=Nfe});var yj=m(Rp=>{"use strict";Object.defineProperty(Rp,"__esModule",{value:!0});Rp.fromTokenFile=void 0;var Dfe=wt(),$fe=require("fs"),Mfe=Xv(),kfe="AWS_WEB_IDENTITY_TOKEN_FILE",Lfe="AWS_ROLE_ARN",jfe="AWS_ROLE_SESSION_NAME",qfe=(e={})=>async()=>{var t,r,n,o;(t=e.logger)===null||t===void 0||t.debug("@aws-sdk/credential-provider-web-identity","fromTokenFile");let i=(r=e?.webIdentityTokenFile)!==null&&r!==void 0?r:process.env[kfe],s=(n=e?.roleArn)!==null&&n!==void 0?n:process.env[Lfe],a=(o=e?.roleSessionName)!==null&&o!==void 0?o:process.env[jfe];if(!i||!s)throw new Dfe.CredentialsProviderError("Web identity configuration not specified");return(0,Mfe.fromWebToken)({...e,webIdentityToken:(0,$fe.readFileSync)(i,{encoding:"ascii"}),roleArn:s,roleSessionName:a})()};Rp.fromTokenFile=qfe});var ey=m((OIe,Ap)=>{var Ej=Object.defineProperty,Ufe=Object.getOwnPropertyDescriptor,Ffe=Object.getOwnPropertyNames,Bfe=Object.prototype.hasOwnProperty,Qv=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Ffe(t))!Bfe.call(e,o)&&o!==r&&Ej(e,o,{get:()=>t[o],enumerable:!(n=Ufe(t,o))||n.enumerable});return e},Sj=(e,t,r)=>(Qv(e,t,"default"),r&&Qv(r,t,"default")),Gfe=e=>Qv(Ej({},"__esModule",{value:!0}),e),Zv={};Ap.exports=Gfe(Zv);Sj(Zv,yj(),Ap.exports);Sj(Zv,Xv(),Ap.exports)});var Nj=m((RIe,xj)=>{var Vfe=Object.create,xc=Object.defineProperty,zfe=Object.getOwnPropertyDescriptor,wj=Object.getOwnPropertyNames,Hfe=Object.getPrototypeOf,Wfe=Object.prototype.hasOwnProperty,yt=(e,t)=>xc(e,"name",{value:t,configurable:!0}),Kfe=(e,t)=>function(){return e&&(t=(0,e[wj(e)[0]])(e=0)),t},Pj=(e,t)=>{for(var r in t)xc(e,r,{get:t[r],enumerable:!0})},Tj=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of wj(t))!Wfe.call(e,o)&&o!==r&&xc(e,o,{get:()=>t[o],enumerable:!(n=zfe(t,o))||n.enumerable});return e},gs=(e,t,r)=>(r=e!=null?Vfe(Hfe(e)):{},Tj(t||!e||!e.__esModule?xc(r,"default",{value:e,enumerable:!0}):r,e)),Jfe=e=>Tj(xc({},"__esModule",{value:!0}),e),Ij={};Pj(Ij,{getDefaultRoleAssumer:()=>Oj.getDefaultRoleAssumer});var Oj,Yfe=Kfe({"src/loadSts.ts"(){Oj=Wv()}}),Rj={};Pj(Rj,{fromIni:()=>cme});xj.exports=Jfe(Rj);var ty=Un(),xp=wt(),Xfe=yt((e,t)=>{let r={EcsContainer:n=>Promise.resolve().then(()=>gs(pc())).then(({fromContainerMetadata:o})=>o(n)),Ec2InstanceMetadata:n=>Promise.resolve().then(()=>gs(pc())).then(({fromInstanceMetadata:o})=>o(n)),Environment:n=>Promise.resolve().then(()=>gs(U_())).then(({fromEnv:o})=>o(n))};if(e in r)return r[e];throw new xp.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`)},"resolveCredentialSource"),Qfe=yt(e=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(Zfe(e)||eme(e)),"isAssumeRoleProfile"),Zfe=yt(e=>typeof e.source_profile=="string"&&typeof e.credential_source>"u","isAssumeRoleWithSourceProfile"),eme=yt(e=>typeof e.credential_source=="string"&&typeof e.source_profile>"u","isAssumeRoleWithProviderProfile"),tme=yt(async(e,t,r,n={})=>{var o;(o=r.logger)==null||o.debug("@aws-sdk/credential-provider-ini","resolveAssumeRoleCredentials (STS)");let i=t[e];if(!r.roleAssumer){let{getDefaultRoleAssumer:f}=await Promise.resolve().then(()=>(Yfe(),Ij));r.roleAssumer=f({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:r?.parentClientConfig},r.clientPlugins)}let{source_profile:s}=i;if(s&&s in n)throw new xp.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${(0,ty.getProfileName)(r)}. Profiles visited: `+Object.keys(n).join(", "),!1);let a=s?Aj(s,t,r,{...n,[s]:!0}):(await Xfe(i.credential_source,e)(r))(),c={RoleArn:i.role_arn,RoleSessionName:i.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:i.external_id,DurationSeconds:parseInt(i.duration_seconds||"3600",10)},{mfa_serial:l}=i;if(l){if(!r.mfaCodeProvider)throw new xp.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,!1);c.SerialNumber=l,c.TokenCode=await r.mfaCodeProvider(l)}let p=await a;return r.roleAssumer(p,c)},"resolveAssumeRoleCredentials"),rme=yt(e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string","isProcessProfile"),nme=yt(async(e,t)=>Promise.resolve().then(()=>gs(Yv())).then(({fromProcess:r})=>r({...e,profile:t})()),"resolveProcessCredentials"),ome=yt(async(e,t={})=>{let{fromSSO:r}=await Promise.resolve().then(()=>gs(iv()));return r({profile:e,logger:t.logger})()},"resolveSsoCredentials"),ime=yt(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),bj=yt(e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1,"isStaticCredsProfile"),Cj=yt((e,t)=>{var r;return(r=t?.logger)==null||r.debug("@aws-sdk/credential-provider-ini","resolveStaticCredentials"),Promise.resolve({accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,credentialScope:e.aws_credential_scope})},"resolveStaticCredentials"),sme=yt(e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,"isWebIdentityProfile"),ame=yt(async(e,t)=>Promise.resolve().then(()=>gs(ey())).then(({fromTokenFile:r})=>r({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity,logger:t.logger,parentClientConfig:t.parentClientConfig})()),"resolveWebIdentityCredentials"),Aj=yt(async(e,t,r,n={})=>{let o=t[e];if(Object.keys(n).length>0&&bj(o))return Cj(o,r);if(Qfe(o))return tme(e,t,r,n);if(bj(o))return Cj(o,r);if(sme(o))return ame(o,r);if(rme(o))return nme(r,e);if(ime(o))return await ome(e,r);throw new xp.CredentialsProviderError(`Profile ${e} could not be found or parsed in shared credentials file.`)},"resolveProfileData"),cme=yt((e={})=>async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-ini","fromIni");let r=await(0,ty.parseKnownFiles)(e);return Aj((0,ty.getProfileName)(e),r,e)},"fromIni")});var np=m((AIe,Lj)=>{var dme=Object.create,Nc=Object.defineProperty,lme=Object.getOwnPropertyDescriptor,ume=Object.getOwnPropertyNames,pme=Object.getPrototypeOf,fme=Object.prototype.hasOwnProperty,Np=(e,t)=>Nc(e,"name",{value:t,configurable:!0}),mme=(e,t)=>{for(var r in t)Nc(e,r,{get:t[r],enumerable:!0})},Dj=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of ume(t))!fme.call(e,o)&&o!==r&&Nc(e,o,{get:()=>t[o],enumerable:!(n=lme(t,o))||n.enumerable});return e},Wo=(e,t,r)=>(r=e!=null?dme(pme(e)):{},Dj(t||!e||!e.__esModule?Nc(r,"default",{value:e,enumerable:!0}):r,e)),hme=e=>Dj(Nc({},"__esModule",{value:!0}),e),$j={};mme($j,{credentialsTreatedAsExpired:()=>kj,credentialsWillNeedRefresh:()=>Mj,defaultProvider:()=>yme});Lj.exports=hme($j);var gme=Un(),_s=wt(),_me="AWS_EC2_METADATA_DISABLED",vme=Np(async e=>{var t,r;let{ENV_CMDS_FULL_URI:n,ENV_CMDS_RELATIVE_URI:o,fromContainerMetadata:i,fromInstanceMetadata:s}=await Promise.resolve().then(()=>Wo(pc()));if(process.env[o]||process.env[n]){(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node","remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:a}=await Promise.resolve().then(()=>Wo(bD()));return(0,_s.chain)(a(e),i(e))}return process.env[_me]?async()=>{throw new _s.CredentialsProviderError("EC2 Instance Metadata Service access disabled")}:((r=e.logger)==null||r.debug("@aws-sdk/credential-provider-node","remoteProvider::fromInstanceMetadata"),s(e))},"remoteProvider"),yme=Np((e={})=>(0,_s.memoize)((0,_s.chain)(...e.profile||process.env[gme.ENV_PROFILE]?[]:[async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node","defaultProvider::fromEnv");let{fromEnv:r}=await Promise.resolve().then(()=>Wo(U_()));return r(e)()}],async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node","defaultProvider::fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:o,ssoRoleName:i,ssoSession:s}=e;if(!r&&!n&&!o&&!i&&!s)throw new _s.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).");let{fromSSO:a}=await Promise.resolve().then(()=>Wo(iv()));return a(e)()},async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node","defaultProvider::fromIni");let{fromIni:r}=await Promise.resolve().then(()=>Wo(Nj()));return r(e)()},async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node","defaultProvider::fromProcess");let{fromProcess:r}=await Promise.resolve().then(()=>Wo(Yv()));return r(e)()},async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node","defaultProvider::fromTokenFile");let{fromTokenFile:r}=await Promise.resolve().then(()=>Wo(ey()));return r(e)()},async()=>{var t;return(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node","defaultProvider::remoteProvider"),(await vme(e))()},async()=>{throw new _s.CredentialsProviderError("Could not load credentials from any providers",!1)}),kj,Mj),"defaultProvider"),Mj=Np(e=>e?.expiration!==void 0,"credentialsWillNeedRefresh"),kj=Np(e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5,"credentialsTreatedAsExpired")});var eq=m(Dp=>{"use strict";Object.defineProperty(Dp,"__esModule",{value:!0});Dp.ruleSet=void 0;var Jj="required",xt="fn",Nt="argv",ys="ref",jj=!0,qj="isSet",Dc="booleanEquals",vs="error",Ko="endpoint",vn="tree",ry="PartitionResult",ny="getAttr",Uj="stringEquals",Fj={[Jj]:!1,type:"String"},Bj={[Jj]:!0,default:!1,type:"Boolean"},Gj={[ys]:"Endpoint"},Yj={[xt]:Dc,[Nt]:[{[ys]:"UseFIPS"},!0]},Xj={[xt]:Dc,[Nt]:[{[ys]:"UseDualStack"},!0]},At={},Qj={[ys]:"Region"},Vj={[xt]:ny,[Nt]:[{[ys]:ry},"supportsFIPS"]},Zj={[ys]:ry},zj={[xt]:Dc,[Nt]:[!0,{[xt]:ny,[Nt]:[Zj,"supportsDualStack"]}]},Hj=[Yj],Wj=[Xj],Kj=[Qj],Eme={version:"1.0",parameters:{Region:Fj,UseDualStack:Bj,UseFIPS:Bj,Endpoint:Fj},rules:[{conditions:[{[xt]:qj,[Nt]:[Gj]}],rules:[{conditions:Hj,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:vs},{conditions:Wj,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:vs},{endpoint:{url:Gj,properties:At,headers:At},type:Ko}],type:vn},{conditions:[{[xt]:qj,[Nt]:Kj}],rules:[{conditions:[{[xt]:"aws.partition",[Nt]:Kj,assign:ry}],rules:[{conditions:[Yj,Xj],rules:[{conditions:[{[xt]:Dc,[Nt]:[jj,Vj]},zj],rules:[{endpoint:{url:"https://dynamodb-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:At,headers:At},type:Ko}],type:vn},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:vs}],type:vn},{conditions:Hj,rules:[{conditions:[{[xt]:Dc,[Nt]:[Vj,jj]}],rules:[{conditions:[{[xt]:Uj,[Nt]:[{[xt]:ny,[Nt]:[Zj,"name"]},"aws-us-gov"]}],endpoint:{url:"https://dynamodb.{Region}.amazonaws.com",properties:At,headers:At},type:Ko},{endpoint:{url:"https://dynamodb-fips.{Region}.{PartitionResult#dnsSuffix}",properties:At,headers:At},type:Ko}],type:vn},{error:"FIPS is enabled but this partition does not support FIPS",type:vs}],type:vn},{conditions:Wj,rules:[{conditions:[zj],rules:[{endpoint:{url:"https://dynamodb.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:At,headers:At},type:Ko}],type:vn},{error:"DualStack is enabled but this partition does not support DualStack",type:vs}],type:vn},{conditions:[{[xt]:Uj,[Nt]:[Qj,"local"]}],endpoint:{url:"http://localhost:8000",properties:{authSchemes:[{name:"sigv4",signingName:"dynamodb",signingRegion:"us-east-1"}]},headers:At},type:Ko},{endpoint:{url:"https://dynamodb.{Region}.{PartitionResult#dnsSuffix}",properties:At,headers:At},type:Ko}],type:vn}],type:vn},{error:"Invalid Configuration: Missing Region",type:vs}]};Dp.ruleSet=Eme});var rq=m($p=>{"use strict";Object.defineProperty($p,"__esModule",{value:!0});$p.defaultEndpointResolver=void 0;var Sme=$i(),tq=Ni(),bme=eq(),Cme=(e,t={})=>(0,tq.resolveEndpoint)(bme.ruleSet,{endpointParams:e,logger:t.logger});$p.defaultEndpointResolver=Cme;tq.customEndpointFunctions.aws=Sme.awsEndpointFunctions});var iq=m(Mp=>{"use strict";Object.defineProperty(Mp,"__esModule",{value:!0});Mp.getRuntimeConfig=void 0;var wme=et(),Pme=ke(),Tme=Lo(),nq=ji(),oq=Vt(),Ime=x_(),Ome=rq(),Rme=e=>({apiVersion:"2012-08-10",base64Decoder:e?.base64Decoder??nq.fromBase64,base64Encoder:e?.base64Encoder??nq.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Ome.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??Ime.defaultDynamoDBHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new wme.AwsSdkSigV4Signer}],logger:e?.logger??new Pme.NoOpLogger,serviceId:e?.serviceId??"DynamoDB",urlParser:e?.urlParser??Tme.parseUrl,utf8Decoder:e?.utf8Decoder??oq.fromUtf8,utf8Encoder:e?.utf8Encoder??oq.toUtf8});Mp.getRuntimeConfig=Rme});var cq=m(Lp=>{"use strict";Object.defineProperty(Lp,"__esModule",{value:!0});Lp.getRuntimeConfig=void 0;var Ame=(Hi(),Kr(zi)),xme=Ame.__importDefault(eD()),Nme=et(),Dme=np(),$me=eg(),Mme=fc(),kp=Dr(),kme=mc(),sq=Mr(),Es=dn(),aq=Bo(),Lme=hc(),jme=ki(),qme=iq(),Ume=ke(),Fme=vc(),Bme=ke(),Gme=e=>{(0,Bme.emitWarningIfUnsupportedVersion)(process.version);let t=(0,Fme.resolveDefaultsModeConfig)(e),r=()=>t().then(Ume.loadConfigsForDefaultMode),n=(0,qme.getRuntimeConfig)(e);return(0,Nme.emitWarningIfUnsupportedVersion)(process.version),{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??Lme.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??Dme.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Mme.defaultUserAgent)({serviceId:n.serviceId,clientVersion:xme.default.version}),endpointDiscoveryEnabledProvider:e?.endpointDiscoveryEnabledProvider??(0,Es.loadConfig)($me.NODE_ENDPOINT_DISCOVERY_CONFIG_OPTIONS),maxAttempts:e?.maxAttempts??(0,Es.loadConfig)(sq.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:e?.region??(0,Es.loadConfig)(kp.NODE_REGION_CONFIG_OPTIONS,kp.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:aq.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Es.loadConfig)({...sq.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||jme.DEFAULT_RETRY_MODE}),sha256:e?.sha256??kme.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??aq.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Es.loadConfig)(kp.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,Es.loadConfig)(kp.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};Lp.getRuntimeConfig=Gme});var mq=m((MIe,fq)=>{var jp=Object.defineProperty,Vme=Object.getOwnPropertyDescriptor,zme=Object.getOwnPropertyNames,Hme=Object.prototype.hasOwnProperty,co=(e,t)=>jp(e,"name",{value:t,configurable:!0}),Wme=(e,t)=>{for(var r in t)jp(e,r,{get:t[r],enumerable:!0})},Kme=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of zme(t))!Hme.call(e,o)&&o!==r&&jp(e,o,{get:()=>t[o],enumerable:!(n=Vme(t,o))||n.enumerable});return e},Jme=e=>Kme(jp({},"__esModule",{value:!0}),e),lq={};Wme(lq,{WaiterState:()=>pq,checkExceptions:()=>Xme,createWaiter:()=>rhe,waiterServiceDefaults:()=>uq});fq.exports=Jme(lq);var Yme=co(e=>new Promise(t=>setTimeout(t,e*1e3)),"sleep"),uq={minDelay:2,maxDelay:120},pq=(e=>(e.ABORTED="ABORTED",e.FAILURE="FAILURE",e.SUCCESS="SUCCESS",e.RETRY="RETRY",e.TIMEOUT="TIMEOUT",e))(pq||{}),Xme=co(e=>{if(e.state==="ABORTED"){let t=new Error(`${JSON.stringify({...e,reason:"Request was aborted"})}`);throw t.name="AbortError",t}else if(e.state==="TIMEOUT"){let t=new Error(`${JSON.stringify({...e,reason:"Waiter has timed out"})}`);throw t.name="TimeoutError",t}else if(e.state!=="SUCCESS")throw new Error(`${JSON.stringify({result:e})}`);return e},"checkExceptions"),Qme=co((e,t,r,n)=>{if(n>r)return t;let o=e*2**(n-1);return Zme(e,o)},"exponentialBackoffWithJitter"),Zme=co((e,t)=>e+Math.random()*(t-e),"randomInRange"),ehe=co(async({minDelay:e,maxDelay:t,maxWaitTime:r,abortController:n,client:o,abortSignal:i},s,a)=>{var c;let{state:l,reason:p}=await a(o,s);if(l!=="RETRY")return{state:l,reason:p};let f=1,h=Date.now()+r*1e3,g=Math.log(t/e)/Math.log(2)+1;for(;;){if((c=n?.signal)!=null&&c.aborted||i?.aborted)return{state:"ABORTED"};let v=Qme(e,t,g,f);if(Date.now()+v*1e3>h)return{state:"TIMEOUT"};await Yme(v);let{state:S,reason:b}=await a(o,s);if(S!=="RETRY")return{state:S,reason:b};f+=1}},"runPolling"),the=co(e=>{if(e.maxWaitTime<1)throw new Error("WaiterConfiguration.maxWaitTime must be greater than 0");if(e.minDelay<1)throw new Error("WaiterConfiguration.minDelay must be greater than 0");if(e.maxDelay<1)throw new Error("WaiterConfiguration.maxDelay must be greater than 0");if(e.maxWaitTime<=e.minDelay)throw new Error(`WaiterConfiguration.maxWaitTime [${e.maxWaitTime}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`);if(e.maxDelay<e.minDelay)throw new Error(`WaiterConfiguration.maxDelay [${e.maxDelay}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`)},"validateWaiterOptions"),dq=co(async e=>new Promise(t=>{e.onabort=()=>t({state:"ABORTED"})}),"abortTimeout"),rhe=co(async(e,t,r)=>{let n={...uq,...e};the(n);let o=[ehe(n,t,r)];return e.abortController&&o.push(dq(e.abortController.signal)),e.abortSignal&&o.push(dq(e.abortSignal)),Promise.race(o)},"createWaiter")});var k2=m((BOe,M2)=>{"use strict";var Fp=Object.defineProperty,nhe=Object.getOwnPropertyDescriptor,ohe=Object.getOwnPropertyNames,ihe=Object.prototype.hasOwnProperty,u=(e,t)=>Fp(e,"name",{value:t,configurable:!0}),she=(e,t)=>{for(var r in t)Fp(e,r,{get:t[r],enumerable:!0})},ahe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of ohe(t))!ihe.call(e,o)&&o!==r&&Fp(e,o,{get:()=>t[o],enumerable:!(n=nhe(t,o))||n.enumerable});return e},che=e=>ahe(Fp({},"__esModule",{value:!0}),e),Sq={};she(Sq,{ApproximateCreationDateTimePrecision:()=>hhe,AttributeAction:()=>ghe,AttributeValue:()=>Up,BackupInUseException:()=>Tq,BackupNotFoundException:()=>Rq,BackupStatus:()=>vhe,BackupType:()=>yhe,BackupTypeFilter:()=>Ihe,BatchExecuteStatementCommand:()=>MF,BatchGetItemCommand:()=>LF,BatchStatementErrorCodeEnum:()=>Ahe,BatchWriteItemCommand:()=>qF,BillingMode:()=>Ehe,ComparisonOperator:()=>Nhe,ConditionalCheckFailedException:()=>uF,ConditionalOperator:()=>Dhe,ContinuousBackupsStatus:()=>$he,ContinuousBackupsUnavailableException:()=>Yq,ContributorInsightsAction:()=>khe,ContributorInsightsStatus:()=>Lhe,CreateBackupCommand:()=>FF,CreateGlobalTableCommand:()=>GF,CreateTableCommand:()=>zF,DeleteBackupCommand:()=>WF,DeleteItemCommand:()=>JF,DeleteResourcePolicyCommand:()=>XF,DeleteTableCommand:()=>ZF,DescribeBackupCommand:()=>tB,DescribeContinuousBackupsCommand:()=>nB,DescribeContributorInsightsCommand:()=>iB,DescribeEndpointsCommand:()=>uy,DescribeExportCommand:()=>aB,DescribeGlobalTableCommand:()=>dB,DescribeGlobalTableSettingsCommand:()=>uB,DescribeImportCommand:()=>fB,DescribeKinesisStreamingDestinationCommand:()=>hB,DescribeLimitsCommand:()=>_B,DescribeTableCommand:()=>zp,DescribeTableReplicaAutoScalingCommand:()=>EB,DescribeTimeToLiveCommand:()=>bB,DestinationStatus:()=>Qhe,DisableKinesisStreamingDestinationCommand:()=>wB,DuplicateItemException:()=>RU,DynamoDB:()=>N2,DynamoDBClient:()=>fo,DynamoDBServiceException:()=>ce,EnableKinesisStreamingDestinationCommand:()=>TB,ExecuteStatementCommand:()=>OB,ExecuteTransactionCommand:()=>AB,ExportConflictException:()=>jU,ExportFormat:()=>Vhe,ExportNotFoundException:()=>EU,ExportStatus:()=>zhe,ExportTableToPointInTimeCommand:()=>NB,ExportType:()=>Hhe,ExportViewType:()=>Whe,GetItemCommand:()=>$B,GetResourcePolicyCommand:()=>kB,GlobalTableAlreadyExistsException:()=>cU,GlobalTableNotFoundException:()=>CU,GlobalTableStatus:()=>jhe,IdempotentParameterMismatchException:()=>NU,ImportConflictException:()=>WU,ImportNotFoundException:()=>TU,ImportStatus:()=>Jhe,ImportTableCommand:()=>jB,IndexNotFoundException:()=>cF,IndexStatus:()=>Fhe,InputCompressionType:()=>Yhe,InputFormat:()=>Xhe,InternalServerError:()=>Nq,InvalidEndpointException:()=>jq,InvalidExportTimeException:()=>FU,InvalidRestoreTimeException:()=>ZU,ItemCollectionSizeLimitExceededException:()=>Wq,KeyType:()=>She,LimitExceededException:()=>Zq,ListBackupsCommand:()=>UB,ListContributorInsightsCommand:()=>py,ListExportsCommand:()=>fy,ListGlobalTablesCommand:()=>VB,ListImportsCommand:()=>my,ListTablesCommand:()=>hy,ListTagsOfResourceCommand:()=>KB,PointInTimeRecoveryStatus:()=>Mhe,PointInTimeRecoveryUnavailableException:()=>VU,PolicyNotFoundException:()=>_U,ProjectionType:()=>bhe,ProvisionedThroughputExceededException:()=>Fq,PutItemCommand:()=>YB,PutResourcePolicyCommand:()=>QB,QueryCommand:()=>gy,ReplicaAlreadyExistsException:()=>rF,ReplicaNotFoundException:()=>iF,ReplicaStatus:()=>qhe,RequestLimitExceeded:()=>Mq,ResourceInUseException:()=>uU,ResourceNotFoundException:()=>Vq,RestoreTableFromBackupCommand:()=>t2,RestoreTableToPointInTimeCommand:()=>n2,ReturnConsumedCapacity:()=>Ohe,ReturnItemCollectionMetrics:()=>xhe,ReturnValue:()=>Ghe,ReturnValuesOnConditionCheckFailure:()=>Rhe,S3SseAlgorithm:()=>Khe,SSEStatus:()=>whe,SSEType:()=>Che,ScalarAttributeType:()=>_he,ScanCommand:()=>_y,Select:()=>Zhe,StreamViewType:()=>Phe,TableAlreadyExistsException:()=>YU,TableClass:()=>Uhe,TableInUseException:()=>rU,TableNotFoundException:()=>iU,TableStatus:()=>Bhe,TagResourceCommand:()=>s2,TimeToLiveStatus:()=>The,TransactGetItemsCommand:()=>c2,TransactWriteItemsCommand:()=>l2,TransactionCanceledException:()=>mF,TransactionConflictException:()=>mU,TransactionInProgressException:()=>MU,UntagResourceCommand:()=>p2,UpdateContinuousBackupsCommand:()=>m2,UpdateContributorInsightsCommand:()=>g2,UpdateGlobalTableCommand:()=>v2,UpdateGlobalTableSettingsCommand:()=>E2,UpdateItemCommand:()=>b2,UpdateKinesisStreamingDestinationCommand:()=>w2,UpdateTableCommand:()=>T2,UpdateTableReplicaAutoScalingCommand:()=>O2,UpdateTimeToLiveCommand:()=>A2,__Client:()=>d.Client,paginateListContributorInsights:()=>xSe,paginateListExports:()=>DSe,paginateListImports:()=>MSe,paginateListTables:()=>LSe,paginateQuery:()=>qSe,paginateScan:()=>FSe,waitForTableExists:()=>BSe,waitForTableNotExists:()=>VSe,waitUntilTableExists:()=>GSe,waitUntilTableNotExists:()=>zSe});M2.exports=che(Sq);var dhe=eg(),hq=Ua(),lhe=Fa(),uhe=Ba(),gq=Va(),phe=Dr(),oy=ct(),fhe=ac(),_q=Mr(),vq=x_(),B=qo(),V=jo(),kIe=ar(),mhe=u(e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"dynamodb"}),"resolveClientEndpointParameters"),z={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},M=et(),iy=at(),Bp=(Og(),Kr(Ig)),d=ke(),bq=class Cq extends d.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,Cq.prototype)}};u(bq,"DynamoDBServiceException");var ce=bq,hhe={MICROSECOND:"MICROSECOND",MILLISECOND:"MILLISECOND"},ghe={ADD:"ADD",DELETE:"DELETE",PUT:"PUT"},_he={B:"B",N:"N",S:"S"},vhe={AVAILABLE:"AVAILABLE",CREATING:"CREATING",DELETED:"DELETED"},yhe={AWS_BACKUP:"AWS_BACKUP",SYSTEM:"SYSTEM",USER:"USER"},Ehe={PAY_PER_REQUEST:"PAY_PER_REQUEST",PROVISIONED:"PROVISIONED"},She={HASH:"HASH",RANGE:"RANGE"},bhe={ALL:"ALL",INCLUDE:"INCLUDE",KEYS_ONLY:"KEYS_ONLY"},Che={AES256:"AES256",KMS:"KMS"},whe={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING",UPDATING:"UPDATING"},Phe={KEYS_ONLY:"KEYS_ONLY",NEW_AND_OLD_IMAGES:"NEW_AND_OLD_IMAGES",NEW_IMAGE:"NEW_IMAGE",OLD_IMAGE:"OLD_IMAGE"},The={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING"},wq=class Pq extends ce{constructor(t){super({name:"BackupInUseException",$fault:"client",...t}),this.name="BackupInUseException",this.$fault="client",Object.setPrototypeOf(this,Pq.prototype)}};u(wq,"BackupInUseException");var Tq=wq,Iq=class Oq extends ce{constructor(t){super({name:"BackupNotFoundException",$fault:"client",...t}),this.name="BackupNotFoundException",this.$fault="client",Object.setPrototypeOf(this,Oq.prototype)}};u(Iq,"BackupNotFoundException");var Rq=Iq,Ihe={ALL:"ALL",AWS_BACKUP:"AWS_BACKUP",SYSTEM:"SYSTEM",USER:"USER"},Ohe={INDEXES:"INDEXES",NONE:"NONE",TOTAL:"TOTAL"},Rhe={ALL_OLD:"ALL_OLD",NONE:"NONE"},Ahe={AccessDenied:"AccessDenied",ConditionalCheckFailed:"ConditionalCheckFailed",DuplicateItem:"DuplicateItem",InternalServerError:"InternalServerError",ItemCollectionSizeLimitExceeded:"ItemCollectionSizeLimitExceeded",ProvisionedThroughputExceeded:"ProvisionedThroughputExceeded",RequestLimitExceeded:"RequestLimitExceeded",ResourceNotFound:"ResourceNotFound",ThrottlingError:"ThrottlingError",TransactionConflict:"TransactionConflict",ValidationError:"ValidationError"},Aq=class xq extends ce{constructor(t){super({name:"InternalServerError",$fault:"server",...t}),this.name="InternalServerError",this.$fault="server",Object.setPrototypeOf(this,xq.prototype)}};u(Aq,"InternalServerError");var Nq=Aq,Dq=class $q extends ce{constructor(t){super({name:"RequestLimitExceeded",$fault:"client",...t}),this.name="RequestLimitExceeded",this.$fault="client",Object.setPrototypeOf(this,$q.prototype)}};u(Dq,"RequestLimitExceeded");var Mq=Dq,kq=class Lq extends ce{constructor(t){super({name:"InvalidEndpointException",$fault:"client",...t}),this.name="InvalidEndpointException",this.$fault="client",Object.setPrototypeOf(this,Lq.prototype),this.Message=t.Message}};u(kq,"InvalidEndpointException");var jq=kq,qq=class Uq extends ce{constructor(t){super({name:"ProvisionedThroughputExceededException",$fault:"client",...t}),this.name="ProvisionedThroughputExceededException",this.$fault="client",Object.setPrototypeOf(this,Uq.prototype)}};u(qq,"ProvisionedThroughputExceededException");var Fq=qq,Bq=class Gq extends ce{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,Gq.prototype)}};u(Bq,"ResourceNotFoundException");var Vq=Bq,xhe={NONE:"NONE",SIZE:"SIZE"},zq=class Hq extends ce{constructor(t){super({name:"ItemCollectionSizeLimitExceededException",$fault:"client",...t}),this.name="ItemCollectionSizeLimitExceededException",this.$fault="client",Object.setPrototypeOf(this,Hq.prototype)}};u(zq,"ItemCollectionSizeLimitExceededException");var Wq=zq,Nhe={BEGINS_WITH:"BEGINS_WITH",BETWEEN:"BETWEEN",CONTAINS:"CONTAINS",EQ:"EQ",GE:"GE",GT:"GT",IN:"IN",LE:"LE",LT:"LT",NE:"NE",NOT_CONTAINS:"NOT_CONTAINS",NOT_NULL:"NOT_NULL",NULL:"NULL"},Dhe={AND:"AND",OR:"OR"},$he={DISABLED:"DISABLED",ENABLED:"ENABLED"},Mhe={DISABLED:"DISABLED",ENABLED:"ENABLED"},Kq=class Jq extends ce{constructor(t){super({name:"ContinuousBackupsUnavailableException",$fault:"client",...t}),this.name="ContinuousBackupsUnavailableException",this.$fault="client",Object.setPrototypeOf(this,Jq.prototype)}};u(Kq,"ContinuousBackupsUnavailableException");var Yq=Kq,khe={DISABLE:"DISABLE",ENABLE:"ENABLE"},Lhe={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING",FAILED:"FAILED"},Xq=class Qq extends ce{constructor(t){super({name:"LimitExceededException",$fault:"client",...t}),this.name="LimitExceededException",this.$fault="client",Object.setPrototypeOf(this,Qq.prototype)}};u(Xq,"LimitExceededException");var Zq=Xq,eU=class tU extends ce{constructor(t){super({name:"TableInUseException",$fault:"client",...t}),this.name="TableInUseException",this.$fault="client",Object.setPrototypeOf(this,tU.prototype)}};u(eU,"TableInUseException");var rU=eU,nU=class oU extends ce{constructor(t){super({name:"TableNotFoundException",$fault:"client",...t}),this.name="TableNotFoundException",this.$fault="client",Object.setPrototypeOf(this,oU.prototype)}};u(nU,"TableNotFoundException");var iU=nU,jhe={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING",UPDATING:"UPDATING"},qhe={ACTIVE:"ACTIVE",CREATING:"CREATING",CREATION_FAILED:"CREATION_FAILED",DELETING:"DELETING",INACCESSIBLE_ENCRYPTION_CREDENTIALS:"INACCESSIBLE_ENCRYPTION_CREDENTIALS",REGION_DISABLED:"REGION_DISABLED",UPDATING:"UPDATING"},Uhe={STANDARD:"STANDARD",STANDARD_INFREQUENT_ACCESS:"STANDARD_INFREQUENT_ACCESS"},sU=class aU extends ce{constructor(t){super({name:"GlobalTableAlreadyExistsException",$fault:"client",...t}),this.name="GlobalTableAlreadyExistsException",this.$fault="client",Object.setPrototypeOf(this,aU.prototype)}};u(sU,"GlobalTableAlreadyExistsException");var cU=sU,Fhe={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING",UPDATING:"UPDATING"},Bhe={ACTIVE:"ACTIVE",ARCHIVED:"ARCHIVED",ARCHIVING:"ARCHIVING",CREATING:"CREATING",DELETING:"DELETING",INACCESSIBLE_ENCRYPTION_CREDENTIALS:"INACCESSIBLE_ENCRYPTION_CREDENTIALS",UPDATING:"UPDATING"},dU=class lU extends ce{constructor(t){super({name:"ResourceInUseException",$fault:"client",...t}),this.name="ResourceInUseException",this.$fault="client",Object.setPrototypeOf(this,lU.prototype)}};u(dU,"ResourceInUseException");var uU=dU,Ghe={ALL_NEW:"ALL_NEW",ALL_OLD:"ALL_OLD",NONE:"NONE",UPDATED_NEW:"UPDATED_NEW",UPDATED_OLD:"UPDATED_OLD"},pU=class fU extends ce{constructor(t){super({name:"TransactionConflictException",$fault:"client",...t}),this.name="TransactionConflictException",this.$fault="client",Object.setPrototypeOf(this,fU.prototype)}};u(pU,"TransactionConflictException");var mU=pU,hU=class gU extends ce{constructor(t){super({name:"PolicyNotFoundException",$fault:"client",...t}),this.name="PolicyNotFoundException",this.$fault="client",Object.setPrototypeOf(this,gU.prototype)}};u(hU,"PolicyNotFoundException");var _U=hU,Vhe={DYNAMODB_JSON:"DYNAMODB_JSON",ION:"ION"},zhe={COMPLETED:"COMPLETED",FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS"},Hhe={FULL_EXPORT:"FULL_EXPORT",INCREMENTAL_EXPORT:"INCREMENTAL_EXPORT"},Whe={NEW_AND_OLD_IMAGES:"NEW_AND_OLD_IMAGES",NEW_IMAGE:"NEW_IMAGE"},Khe={AES256:"AES256",KMS:"KMS"},vU=class yU extends ce{constructor(t){super({name:"ExportNotFoundException",$fault:"client",...t}),this.name="ExportNotFoundException",this.$fault="client",Object.setPrototypeOf(this,yU.prototype)}};u(vU,"ExportNotFoundException");var EU=vU,SU=class bU extends ce{constructor(t){super({name:"GlobalTableNotFoundException",$fault:"client",...t}),this.name="GlobalTableNotFoundException",this.$fault="client",Object.setPrototypeOf(this,bU.prototype)}};u(SU,"GlobalTableNotFoundException");var CU=SU,Jhe={CANCELLED:"CANCELLED",CANCELLING:"CANCELLING",COMPLETED:"COMPLETED",FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS"},Yhe={GZIP:"GZIP",NONE:"NONE",ZSTD:"ZSTD"},Xhe={CSV:"CSV",DYNAMODB_JSON:"DYNAMODB_JSON",ION:"ION"},wU=class PU extends ce{constructor(t){super({name:"ImportNotFoundException",$fault:"client",...t}),this.name="ImportNotFoundException",this.$fault="client",Object.setPrototypeOf(this,PU.prototype)}};u(wU,"ImportNotFoundException");var TU=wU,Qhe={ACTIVE:"ACTIVE",DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLE_FAILED:"ENABLE_FAILED",ENABLING:"ENABLING",UPDATING:"UPDATING"},IU=class OU extends ce{constructor(t){super({name:"DuplicateItemException",$fault:"client",...t}),this.name="DuplicateItemException",this.$fault="client",Object.setPrototypeOf(this,OU.prototype)}};u(IU,"DuplicateItemException");var RU=IU,AU=class xU extends ce{constructor(t){super({name:"IdempotentParameterMismatchException",$fault:"client",...t}),this.name="IdempotentParameterMismatchException",this.$fault="client",Object.setPrototypeOf(this,xU.prototype),this.Message=t.Message}};u(AU,"IdempotentParameterMismatchException");var NU=AU,DU=class $U extends ce{constructor(t){super({name:"TransactionInProgressException",$fault:"client",...t}),this.name="TransactionInProgressException",this.$fault="client",Object.setPrototypeOf(this,$U.prototype),this.Message=t.Message}};u(DU,"TransactionInProgressException");var MU=DU,kU=class LU extends ce{constructor(t){super({name:"ExportConflictException",$fault:"client",...t}),this.name="ExportConflictException",this.$fault="client",Object.setPrototypeOf(this,LU.prototype)}};u(kU,"ExportConflictException");var jU=kU,qU=class UU extends ce{constructor(t){super({name:"InvalidExportTimeException",$fault:"client",...t}),this.name="InvalidExportTimeException",this.$fault="client",Object.setPrototypeOf(this,UU.prototype)}};u(qU,"InvalidExportTimeException");var FU=qU,BU=class GU extends ce{constructor(t){super({name:"PointInTimeRecoveryUnavailableException",$fault:"client",...t}),this.name="PointInTimeRecoveryUnavailableException",this.$fault="client",Object.setPrototypeOf(this,GU.prototype)}};u(BU,"PointInTimeRecoveryUnavailableException");var VU=BU,zU=class HU extends ce{constructor(t){super({name:"ImportConflictException",$fault:"client",...t}),this.name="ImportConflictException",this.$fault="client",Object.setPrototypeOf(this,HU.prototype)}};u(zU,"ImportConflictException");var WU=zU,Zhe={ALL_ATTRIBUTES:"ALL_ATTRIBUTES",ALL_PROJECTED_ATTRIBUTES:"ALL_PROJECTED_ATTRIBUTES",COUNT:"COUNT",SPECIFIC_ATTRIBUTES:"SPECIFIC_ATTRIBUTES"},KU=class JU extends ce{constructor(t){super({name:"TableAlreadyExistsException",$fault:"client",...t}),this.name="TableAlreadyExistsException",this.$fault="client",Object.setPrototypeOf(this,JU.prototype)}};u(KU,"TableAlreadyExistsException");var YU=KU,XU=class QU extends ce{constructor(t){super({name:"InvalidRestoreTimeException",$fault:"client",...t}),this.name="InvalidRestoreTimeException",this.$fault="client",Object.setPrototypeOf(this,QU.prototype)}};u(XU,"InvalidRestoreTimeException");var ZU=XU,eF=class tF extends ce{constructor(t){super({name:"ReplicaAlreadyExistsException",$fault:"client",...t}),this.name="ReplicaAlreadyExistsException",this.$fault="client",Object.setPrototypeOf(this,tF.prototype)}};u(eF,"ReplicaAlreadyExistsException");var rF=eF,nF=class oF extends ce{constructor(t){super({name:"ReplicaNotFoundException",$fault:"client",...t}),this.name="ReplicaNotFoundException",this.$fault="client",Object.setPrototypeOf(this,oF.prototype)}};u(nF,"ReplicaNotFoundException");var iF=nF,sF=class aF extends ce{constructor(t){super({name:"IndexNotFoundException",$fault:"client",...t}),this.name="IndexNotFoundException",this.$fault="client",Object.setPrototypeOf(this,aF.prototype)}};u(sF,"IndexNotFoundException");var cF=sF,Up;(e=>{e.visit=u((t,r)=>t.S!==void 0?r.S(t.S):t.N!==void 0?r.N(t.N):t.B!==void 0?r.B(t.B):t.SS!==void 0?r.SS(t.SS):t.NS!==void 0?r.NS(t.NS):t.BS!==void 0?r.BS(t.BS):t.M!==void 0?r.M(t.M):t.L!==void 0?r.L(t.L):t.NULL!==void 0?r.NULL(t.NULL):t.BOOL!==void 0?r.BOOL(t.BOOL):r._(t.$unknown[0],t.$unknown[1]),"visit")})(Up||(Up={}));var dF=class lF extends ce{constructor(t){super({name:"ConditionalCheckFailedException",$fault:"client",...t}),this.name="ConditionalCheckFailedException",this.$fault="client",Object.setPrototypeOf(this,lF.prototype),this.Item=t.Item}};u(dF,"ConditionalCheckFailedException");var uF=dF,pF=class fF extends ce{constructor(t){super({name:"TransactionCanceledException",$fault:"client",...t}),this.name="TransactionCanceledException",this.$fault="client",Object.setPrototypeOf(this,fF.prototype),this.Message=t.Message,this.CancellationReasons=t.CancellationReasons}};u(pF,"TransactionCanceledException");var mF=pF,ege=u(async(e,t)=>{let r=G("BatchExecuteStatement"),n;return n=JSON.stringify(Gve(e,t)),W(t,r,"/",void 0,n)},"se_BatchExecuteStatementCommand"),tge=u(async(e,t)=>{let r=G("BatchGetItem"),n;return n=JSON.stringify(Vve(e,t)),W(t,r,"/",void 0,n)},"se_BatchGetItemCommand"),rge=u(async(e,t)=>{let r=G("BatchWriteItem"),n;return n=JSON.stringify(Wve(e,t)),W(t,r,"/",void 0,n)},"se_BatchWriteItemCommand"),nge=u(async(e,t)=>{let r=G("CreateBackup"),n;return n=JSON.stringify((0,d._json)(e)),W(t,r,"/",void 0,n)},"se_CreateBackupCommand"),oge=u(async(e,t)=>{let r=G("CreateGlobalTable"),n;return n=JSON.stringify((0,d._json)(e)),W(t,r,"/",void 0,n)},"se_CreateGlobalTableCommand"),ige=u(async(e,t)=>{let r=G("CreateTable"),n;return n=JSON.stringify((0,d._json)(e)),W(t,r,"/",void 0,n)},"se_CreateTableCommand"),sge=u(async(e,t)=>{let r=G("DeleteBackup"),n;return n=JSON.stringify((0,d._json)(e)),W(t,r,"/",void 0,n)},"se_DeleteBackupCommand"),age=u(async(e,t)=>{let r=G("DeleteItem"),n;return n=JSON.stringify(Qve(e,t)),W(t,r,"/",void 0,n)},"se_DeleteItemCommand"),cge=u(async(e,t)=>{let r=G("DeleteResourcePolicy"),n;return n=JSON.stringify((0,d._json)(e)),W(t,r,"/",void 0,n)},"se_DeleteResourcePolicyCommand"),dge=u(async(e,t)=>{let r=G("DeleteTable"),n;return n=JSON.stringify((0,d._json)(e)),W(t,r,"/",void 0,n)},"se_DeleteTableCommand"),lge=u(async(e,t)=>{let r=G("DescribeBackup"),n;return n=JSON.stringify((0,d._json)(e)),W(t,r,"/",void 0,n)},"se_DescribeBackupCommand"),uge=u(async(e,t)=>{let r=G("DescribeContinuousBackups"),n;return n=JSON.stringify((0,d._json)(e)),W(t,r,"/",void 0,n)},"se_DescribeContinuousBackupsCommand"),pge=u(async(e,t)=>{let r=G("DescribeContributorInsights"),n;return n=JSON.stringify((0,d._json)(e)),W(t,r,"/",void 0,n)},"se_DescribeContributorInsightsCommand"),fge=u(async(e,t)=>{let r=G("DescribeEndpoints"),n;return n=JSON.stringify((0,d._json)(e)),W(t,r,"/",void 0,n)},"se_DescribeEndpointsCommand"),mge=u(async(e,t)=>{let r=G("DescribeExport"),n;return n=JSON.stringify((0,d._json)(e)),W(t,r,"/",void 0,n)},"se_DescribeExportCommand"),hge=u(async(e,t)=>{let r=G("DescribeGlobalTable"),n;return n=JSON.stringify((0,d._json)(e)),W(t,r,"/",void 0,n)},"se_DescribeGlobalTableCommand"),gge=u(async(e,t)=>{let r=G("DescribeGlobalTableSettings"),n;return n=JSON.stringify((0,d._json)(e)),W(t,r,"/",void 0,n)},"se_DescribeGlobalTableSettingsCommand"),_ge=u(async(e,t)=>{let r=G("DescribeImport"),n;return n=JSON.stringify((0,d._json)(e)),W(t,r,"/",void 0,n)},"se_DescribeImportCommand"),vge=u(async(e,t)=>{let r=G("DescribeKinesisStreamingDestination"),n;return n=JSON.stringify((0,d._json)(e)),W(t,r,"/",void 0,n)},"se_DescribeKinesisStreamingDestinationCommand"),yge=u(async(e,t)=>{let r=G("DescribeLimits"),n;return n=JSON.stringify((0,d._json)(e)),W(t,r,"/",void 0,n)},"se_DescribeLimitsCommand"),Ege=u(async(e,t)=>{let r=G("DescribeTable"),n;return n=JSON.stringify((0,d._json)(e)),W(t,r,"/",void 0,n)},"se_DescribeTableCommand"),Sge=u(async(e,t)=>{let r=G("DescribeTableReplicaAutoScaling"),n;return n=JSON.stringify((0,d._json)(e)),W(t,r,"/",void 0,n)},"se_DescribeTableReplicaAutoScalingCommand"),bge=u(async(e,t)=>{let r=G("DescribeTimeToLive"),n;return n=JSON.stringify((0,d._json)(e)),W(t,r,"/",void 0,n)},"se_DescribeTimeToLiveCommand"),Cge=u(async(e,t)=>{let r=G("DisableKinesisStreamingDestination"),n;return n=JSON.stringify((0,d._json)(e)),W(t,r,"/",void 0,n)},"se_DisableKinesisStreamingDestinationCommand"),wge=u(async(e,t)=>{let r=G("EnableKinesisStreamingDestination"),n;return n=JSON.stringify((0,d._json)(e)),W(t,r,"/",void 0,n)},"se_EnableKinesisStreamingDestinationCommand"),Pge=u(async(e,t)=>{let r=G("ExecuteStatement"),n;return n=JSON.stringify(eye(e,t)),W(t,r,"/",void 0,n)},"se_ExecuteStatementCommand"),Tge=u(async(e,t)=>{let r=G("ExecuteTransaction"),n;return n=JSON.stringify(tye(e,t)),W(t,r,"/",void 0,n)},"se_ExecuteTransactionCommand"),Ige=u(async(e,t)=>{let r=G("ExportTableToPointInTime"),n;return n=JSON.stringify(nye(e,t)),W(t,r,"/",void 0,n)},"se_ExportTableToPointInTimeCommand"),Oge=u(async(e,t)=>{let r=G("GetItem"),n;return n=JSON.stringify(iye(e,t)),W(t,r,"/",void 0,n)},"se_GetItemCommand"),Rge=u(async(e,t)=>{let r=G("GetResourcePolicy"),n;return n=JSON.stringify((0,d._json)(e)),W(t,r,"/",void 0,n)},"se_GetResourcePolicyCommand"),Age=u(async(e,t)=>{let r=G("ImportTable"),n;return n=JSON.stringify(lye(e,t)),W(t,r,"/",void 0,n)},"se_ImportTableCommand"),xge=u(async(e,t)=>{let r=G("ListBackups"),n;return n=JSON.stringify(gye(e,t)),W(t,r,"/",void 0,n)},"se_ListBackupsCommand"),Nge=u(async(e,t)=>{let r=G("ListContributorInsights"),n;return n=JSON.stringify((0,d._json)(e)),W(t,r,"/",void 0,n)},"se_ListContributorInsightsCommand"),Dge=u(async(e,t)=>{let r=G("ListExports"),n;return n=JSON.stringify((0,d._json)(e)),W(t,r,"/",void 0,n)},"se_ListExportsCommand"),$ge=u(async(e,t)=>{let r=G("ListGlobalTables"),n;return n=JSON.stringify((0,d._json)(e)),W(t,r,"/",void 0,n)},"se_ListGlobalTablesCommand"),Mge=u(async(e,t)=>{let r=G("ListImports"),n;return n=JSON.stringify((0,d._json)(e)),W(t,r,"/",void 0,n)},"se_ListImportsCommand"),kge=u(async(e,t)=>{let r=G("ListTables"),n;return n=JSON.stringify((0,d._json)(e)),W(t,r,"/",void 0,n)},"se_ListTablesCommand"),Lge=u(async(e,t)=>{let r=G("ListTagsOfResource"),n;return n=JSON.stringify((0,d._json)(e)),W(t,r,"/",void 0,n)},"se_ListTagsOfResourceCommand"),jge=u(async(e,t)=>{let r=G("PutItem"),n;return n=JSON.stringify(bye(e,t)),W(t,r,"/",void 0,n)},"se_PutItemCommand"),qge=u(async(e,t)=>{let r=G("PutResourcePolicy"),n;return n=JSON.stringify((0,d._json)(e)),W(t,r,"/",void 0,n)},"se_PutResourcePolicyCommand"),Uge=u(async(e,t)=>{let r=G("Query"),n;return n=JSON.stringify(wye(e,t)),W(t,r,"/",void 0,n)},"se_QueryCommand"),Fge=u(async(e,t)=>{let r=G("RestoreTableFromBackup"),n;return n=JSON.stringify((0,d._json)(e)),W(t,r,"/",void 0,n)},"se_RestoreTableFromBackupCommand"),Bge=u(async(e,t)=>{let r=G("RestoreTableToPointInTime"),n;return n=JSON.stringify(Dye(e,t)),W(t,r,"/",void 0,n)},"se_RestoreTableToPointInTimeCommand"),Gge=u(async(e,t)=>{let r=G("Scan"),n;return n=JSON.stringify($ye(e,t)),W(t,r,"/",void 0,n)},"se_ScanCommand"),Vge=u(async(e,t)=>{let r=G("TagResource"),n;return n=JSON.stringify((0,d._json)(e)),W(t,r,"/",void 0,n)},"se_TagResourceCommand"),zge=u(async(e,t)=>{let r=G("TransactGetItems"),n;return n=JSON.stringify(Lye(e,t)),W(t,r,"/",void 0,n)},"se_TransactGetItemsCommand"),Hge=u(async(e,t)=>{let r=G("TransactWriteItems"),n;return n=JSON.stringify(Uye(e,t)),W(t,r,"/",void 0,n)},"se_TransactWriteItemsCommand"),Wge=u(async(e,t)=>{let r=G("UntagResource"),n;return n=JSON.stringify((0,d._json)(e)),W(t,r,"/",void 0,n)},"se_UntagResourceCommand"),Kge=u(async(e,t)=>{let r=G("UpdateContinuousBackups"),n;return n=JSON.stringify((0,d._json)(e)),W(t,r,"/",void 0,n)},"se_UpdateContinuousBackupsCommand"),Jge=u(async(e,t)=>{let r=G("UpdateContributorInsights"),n;return n=JSON.stringify((0,d._json)(e)),W(t,r,"/",void 0,n)},"se_UpdateContributorInsightsCommand"),Yge=u(async(e,t)=>{let r=G("UpdateGlobalTable"),n;return n=JSON.stringify((0,d._json)(e)),W(t,r,"/",void 0,n)},"se_UpdateGlobalTableCommand"),Xge=u(async(e,t)=>{let r=G("UpdateGlobalTableSettings"),n;return n=JSON.stringify(Bye(e,t)),W(t,r,"/",void 0,n)},"se_UpdateGlobalTableSettingsCommand"),Qge=u(async(e,t)=>{let r=G("UpdateItem"),n;return n=JSON.stringify(Gye(e,t)),W(t,r,"/",void 0,n)},"se_UpdateItemCommand"),Zge=u(async(e,t)=>{let r=G("UpdateKinesisStreamingDestination"),n;return n=JSON.stringify((0,d._json)(e)),W(t,r,"/",void 0,n)},"se_UpdateKinesisStreamingDestinationCommand"),e_e=u(async(e,t)=>{let r=G("UpdateTable"),n;return n=JSON.stringify((0,d._json)(e)),W(t,r,"/",void 0,n)},"se_UpdateTableCommand"),t_e=u(async(e,t)=>{let r=G("UpdateTableReplicaAutoScaling"),n;return n=JSON.stringify(Vye(e,t)),W(t,r,"/",void 0,n)},"se_UpdateTableReplicaAutoScalingCommand"),r_e=u(async(e,t)=>{let r=G("UpdateTimeToLive"),n;return n=JSON.stringify((0,d._json)(e)),W(t,r,"/",void 0,n)},"se_UpdateTimeToLiveCommand"),n_e=u(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=Zye(r,t),{$metadata:R(e),...n}},"de_BatchExecuteStatementCommand"),o_e=u(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=eEe(r,t),{$metadata:R(e),...n}},"de_BatchGetItemCommand"),i_e=u(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=iEe(r,t),{$metadata:R(e),...n}},"de_BatchWriteItemCommand"),s_e=u(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=uEe(r,t),{$metadata:R(e),...n}},"de_CreateBackupCommand"),a_e=u(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=pEe(r,t),{$metadata:R(e),...n}},"de_CreateGlobalTableCommand"),c_e=u(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=fEe(r,t),{$metadata:R(e),...n}},"de_CreateTableCommand"),d_e=u(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=mEe(r,t),{$metadata:R(e),...n}},"de_DeleteBackupCommand"),l_e=u(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=hEe(r,t),{$metadata:R(e),...n}},"de_DeleteItemCommand"),u_e=u(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:R(e),...n}},"de_DeleteResourcePolicyCommand"),p_e=u(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=_Ee(r,t),{$metadata:R(e),...n}},"de_DeleteTableCommand"),f_e=u(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=vEe(r,t),{$metadata:R(e),...n}},"de_DescribeBackupCommand"),m_e=u(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=yEe(r,t),{$metadata:R(e),...n}},"de_DescribeContinuousBackupsCommand"),h_e=u(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=EEe(r,t),{$metadata:R(e),...n}},"de_DescribeContributorInsightsCommand"),g_e=u(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:R(e),...n}},"de_DescribeEndpointsCommand"),__e=u(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=SEe(r,t),{$metadata:R(e),...n}},"de_DescribeExportCommand"),v_e=u(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=bEe(r,t),{$metadata:R(e),...n}},"de_DescribeGlobalTableCommand"),y_e=u(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=CEe(r,t),{$metadata:R(e),...n}},"de_DescribeGlobalTableSettingsCommand"),E_e=u(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=wEe(r,t),{$metadata:R(e),...n}},"de_DescribeImportCommand"),S_e=u(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:R(e),...n}},"de_DescribeKinesisStreamingDestinationCommand"),b_e=u(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:R(e),...n}},"de_DescribeLimitsCommand"),C_e=u(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=PEe(r,t),{$metadata:R(e),...n}},"de_DescribeTableCommand"),w_e=u(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=TEe(r,t),{$metadata:R(e),...n}},"de_DescribeTableReplicaAutoScalingCommand"),P_e=u(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:R(e),...n}},"de_DescribeTimeToLiveCommand"),T_e=u(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:R(e),...n}},"de_DisableKinesisStreamingDestinationCommand"),I_e=u(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:R(e),...n}},"de_EnableKinesisStreamingDestinationCommand"),O_e=u(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=IEe(r,t),{$metadata:R(e),...n}},"de_ExecuteStatementCommand"),R_e=u(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=OEe(r,t),{$metadata:R(e),...n}},"de_ExecuteTransactionCommand"),A_e=u(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=REe(r,t),{$metadata:R(e),...n}},"de_ExportTableToPointInTimeCommand"),x_e=u(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=AEe(r,t),{$metadata:R(e),...n}},"de_GetItemCommand"),N_e=u(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:R(e),...n}},"de_GetResourcePolicyCommand"),D_e=u(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=MEe(r,t),{$metadata:R(e),...n}},"de_ImportTableCommand"),$_e=u(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=VEe(r,t),{$metadata:R(e),...n}},"de_ListBackupsCommand"),M_e=u(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:R(e),...n}},"de_ListContributorInsightsCommand"),k_e=u(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:R(e),...n}},"de_ListExportsCommand"),L_e=u(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:R(e),...n}},"de_ListGlobalTablesCommand"),j_e=u(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=zEe(r,t),{$metadata:R(e),...n}},"de_ListImportsCommand"),q_e=u(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:R(e),...n}},"de_ListTablesCommand"),U_e=u(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:R(e),...n}},"de_ListTagsOfResourceCommand"),F_e=u(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=YEe(r,t),{$metadata:R(e),...n}},"de_PutItemCommand"),B_e=u(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:R(e),...n}},"de_PutResourcePolicyCommand"),G_e=u(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=QEe(r,t),{$metadata:R(e),...n}},"de_QueryCommand"),V_e=u(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=cSe(r,t),{$metadata:R(e),...n}},"de_RestoreTableFromBackupCommand"),z_e=u(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=dSe(r,t),{$metadata:R(e),...n}},"de_RestoreTableToPointInTimeCommand"),H_e=u(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=lSe(r,t),{$metadata:R(e),...n}},"de_ScanCommand"),W_e=u(async(e,t)=>e.statusCode>=300?H(e,t):(await(0,d.collectBody)(e.body,t),{$metadata:R(e)}),"de_TagResourceCommand"),K_e=u(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=fSe(r,t),{$metadata:R(e),...n}},"de_TransactGetItemsCommand"),J_e=u(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=hSe(r,t),{$metadata:R(e),...n}},"de_TransactWriteItemsCommand"),Y_e=u(async(e,t)=>e.statusCode>=300?H(e,t):(await(0,d.collectBody)(e.body,t),{$metadata:R(e)}),"de_UntagResourceCommand"),X_e=u(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=gSe(r,t),{$metadata:R(e),...n}},"de_UpdateContinuousBackupsCommand"),Q_e=u(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:R(e),...n}},"de_UpdateContributorInsightsCommand"),Z_e=u(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=_Se(r,t),{$metadata:R(e),...n}},"de_UpdateGlobalTableCommand"),eve=u(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=vSe(r,t),{$metadata:R(e),...n}},"de_UpdateGlobalTableSettingsCommand"),tve=u(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=ySe(r,t),{$metadata:R(e),...n}},"de_UpdateItemCommand"),rve=u(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:R(e),...n}},"de_UpdateKinesisStreamingDestinationCommand"),nve=u(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=ESe(r,t),{$metadata:R(e),...n}},"de_UpdateTableCommand"),ove=u(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=SSe(r,t),{$metadata:R(e),...n}},"de_UpdateTableReplicaAutoScalingCommand"),ive=u(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,M.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:R(e),...n}},"de_UpdateTimeToLiveCommand"),H=u(async(e,t)=>{let r={...e,body:await(0,M.parseJsonErrorBody)(e.body,t)},n=(0,M.loadRestJsonErrorCode)(e,r.body);switch(n){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await yve(r,t);case"RequestLimitExceeded":case"com.amazonaws.dynamodb#RequestLimitExceeded":throw await Ave(r,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await Eve(r,t);case"ProvisionedThroughputExceededException":case"com.amazonaws.dynamodb#ProvisionedThroughputExceededException":throw await Ive(r,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await Nve(r,t);case"ItemCollectionSizeLimitExceededException":case"com.amazonaws.dynamodb#ItemCollectionSizeLimitExceededException":throw await Cve(r,t);case"BackupInUseException":case"com.amazonaws.dynamodb#BackupInUseException":throw await sve(r,t);case"ContinuousBackupsUnavailableException":case"com.amazonaws.dynamodb#ContinuousBackupsUnavailableException":throw await dve(r,t);case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await wve(r,t);case"TableInUseException":case"com.amazonaws.dynamodb#TableInUseException":throw await $ve(r,t);case"TableNotFoundException":case"com.amazonaws.dynamodb#TableNotFoundException":throw await Mve(r,t);case"GlobalTableAlreadyExistsException":case"com.amazonaws.dynamodb#GlobalTableAlreadyExistsException":throw await fve(r,t);case"ResourceInUseException":case"com.amazonaws.dynamodb#ResourceInUseException":throw await xve(r,t);case"BackupNotFoundException":case"com.amazonaws.dynamodb#BackupNotFoundException":throw await ave(r,t);case"ConditionalCheckFailedException":case"com.amazonaws.dynamodb#ConditionalCheckFailedException":throw await cve(r,t);case"TransactionConflictException":case"com.amazonaws.dynamodb#TransactionConflictException":throw await Lve(r,t);case"PolicyNotFoundException":case"com.amazonaws.dynamodb#PolicyNotFoundException":throw await Tve(r,t);case"ExportNotFoundException":case"com.amazonaws.dynamodb#ExportNotFoundException":throw await pve(r,t);case"GlobalTableNotFoundException":case"com.amazonaws.dynamodb#GlobalTableNotFoundException":throw await mve(r,t);case"ImportNotFoundException":case"com.amazonaws.dynamodb#ImportNotFoundException":throw await _ve(r,t);case"DuplicateItemException":case"com.amazonaws.dynamodb#DuplicateItemException":throw await lve(r,t);case"IdempotentParameterMismatchException":case"com.amazonaws.dynamodb#IdempotentParameterMismatchException":throw await hve(r,t);case"TransactionCanceledException":case"com.amazonaws.dynamodb#TransactionCanceledException":throw await kve(r,t);case"TransactionInProgressException":case"com.amazonaws.dynamodb#TransactionInProgressException":throw await jve(r,t);case"ExportConflictException":case"com.amazonaws.dynamodb#ExportConflictException":throw await uve(r,t);case"InvalidExportTimeException":case"com.amazonaws.dynamodb#InvalidExportTimeException":throw await Sve(r,t);case"PointInTimeRecoveryUnavailableException":case"com.amazonaws.dynamodb#PointInTimeRecoveryUnavailableException":throw await Pve(r,t);case"ImportConflictException":case"com.amazonaws.dynamodb#ImportConflictException":throw await gve(r,t);case"TableAlreadyExistsException":case"com.amazonaws.dynamodb#TableAlreadyExistsException":throw await Dve(r,t);case"InvalidRestoreTimeException":case"com.amazonaws.dynamodb#InvalidRestoreTimeException":throw await bve(r,t);case"ReplicaAlreadyExistsException":case"com.amazonaws.dynamodb#ReplicaAlreadyExistsException":throw await Ove(r,t);case"ReplicaNotFoundException":case"com.amazonaws.dynamodb#ReplicaNotFoundException":throw await Rve(r,t);case"IndexNotFoundException":case"com.amazonaws.dynamodb#IndexNotFoundException":throw await vve(r,t);default:let o=r.body;return wSe({output:e,parsedBody:o,errorCode:n})}},"de_CommandError"),sve=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new Tq({$metadata:R(e),...n});return(0,d.decorateServiceException)(o,r)},"de_BackupInUseExceptionRes"),ave=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new Rq({$metadata:R(e),...n});return(0,d.decorateServiceException)(o,r)},"de_BackupNotFoundExceptionRes"),cve=u(async(e,t)=>{let r=e.body,n=lEe(r,t),o=new uF({$metadata:R(e),...n});return(0,d.decorateServiceException)(o,r)},"de_ConditionalCheckFailedExceptionRes"),dve=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new Yq({$metadata:R(e),...n});return(0,d.decorateServiceException)(o,r)},"de_ContinuousBackupsUnavailableExceptionRes"),lve=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new RU({$metadata:R(e),...n});return(0,d.decorateServiceException)(o,r)},"de_DuplicateItemExceptionRes"),uve=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new jU({$metadata:R(e),...n});return(0,d.decorateServiceException)(o,r)},"de_ExportConflictExceptionRes"),pve=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new EU({$metadata:R(e),...n});return(0,d.decorateServiceException)(o,r)},"de_ExportNotFoundExceptionRes"),fve=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new cU({$metadata:R(e),...n});return(0,d.decorateServiceException)(o,r)},"de_GlobalTableAlreadyExistsExceptionRes"),mve=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new CU({$metadata:R(e),...n});return(0,d.decorateServiceException)(o,r)},"de_GlobalTableNotFoundExceptionRes"),hve=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new NU({$metadata:R(e),...n});return(0,d.decorateServiceException)(o,r)},"de_IdempotentParameterMismatchExceptionRes"),gve=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new WU({$metadata:R(e),...n});return(0,d.decorateServiceException)(o,r)},"de_ImportConflictExceptionRes"),_ve=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new TU({$metadata:R(e),...n});return(0,d.decorateServiceException)(o,r)},"de_ImportNotFoundExceptionRes"),vve=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new cF({$metadata:R(e),...n});return(0,d.decorateServiceException)(o,r)},"de_IndexNotFoundExceptionRes"),yve=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new Nq({$metadata:R(e),...n});return(0,d.decorateServiceException)(o,r)},"de_InternalServerErrorRes"),Eve=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new jq({$metadata:R(e),...n});return(0,d.decorateServiceException)(o,r)},"de_InvalidEndpointExceptionRes"),Sve=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new FU({$metadata:R(e),...n});return(0,d.decorateServiceException)(o,r)},"de_InvalidExportTimeExceptionRes"),bve=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new ZU({$metadata:R(e),...n});return(0,d.decorateServiceException)(o,r)},"de_InvalidRestoreTimeExceptionRes"),Cve=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new Wq({$metadata:R(e),...n});return(0,d.decorateServiceException)(o,r)},"de_ItemCollectionSizeLimitExceededExceptionRes"),wve=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new Zq({$metadata:R(e),...n});return(0,d.decorateServiceException)(o,r)},"de_LimitExceededExceptionRes"),Pve=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new VU({$metadata:R(e),...n});return(0,d.decorateServiceException)(o,r)},"de_PointInTimeRecoveryUnavailableExceptionRes"),Tve=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new _U({$metadata:R(e),...n});return(0,d.decorateServiceException)(o,r)},"de_PolicyNotFoundExceptionRes"),Ive=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new Fq({$metadata:R(e),...n});return(0,d.decorateServiceException)(o,r)},"de_ProvisionedThroughputExceededExceptionRes"),Ove=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new rF({$metadata:R(e),...n});return(0,d.decorateServiceException)(o,r)},"de_ReplicaAlreadyExistsExceptionRes"),Rve=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new iF({$metadata:R(e),...n});return(0,d.decorateServiceException)(o,r)},"de_ReplicaNotFoundExceptionRes"),Ave=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new Mq({$metadata:R(e),...n});return(0,d.decorateServiceException)(o,r)},"de_RequestLimitExceededRes"),xve=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new uU({$metadata:R(e),...n});return(0,d.decorateServiceException)(o,r)},"de_ResourceInUseExceptionRes"),Nve=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new Vq({$metadata:R(e),...n});return(0,d.decorateServiceException)(o,r)},"de_ResourceNotFoundExceptionRes"),Dve=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new YU({$metadata:R(e),...n});return(0,d.decorateServiceException)(o,r)},"de_TableAlreadyExistsExceptionRes"),$ve=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new rU({$metadata:R(e),...n});return(0,d.decorateServiceException)(o,r)},"de_TableInUseExceptionRes"),Mve=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new iU({$metadata:R(e),...n});return(0,d.decorateServiceException)(o,r)},"de_TableNotFoundExceptionRes"),kve=u(async(e,t)=>{let r=e.body,n=mSe(r,t),o=new mF({$metadata:R(e),...n});return(0,d.decorateServiceException)(o,r)},"de_TransactionCanceledExceptionRes"),Lve=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new mU({$metadata:R(e),...n});return(0,d.decorateServiceException)(o,r)},"de_TransactionConflictExceptionRes"),jve=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new MU({$metadata:R(e),...n});return(0,d.decorateServiceException)(o,r)},"de_TransactionInProgressExceptionRes"),qve=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=Uve(o,t)),r),{}),"se_AttributeUpdates"),yn=u((e,t)=>Up.visit(e,{B:r=>({B:t.base64Encoder(r)}),BOOL:r=>({BOOL:r}),BS:r=>({BS:Jve(r,t)}),L:r=>({L:hye(r,t)}),M:r=>({M:_ye(r,t)}),N:r=>({N:r}),NS:r=>({NS:(0,d._json)(r)}),NULL:r=>({NULL:r}),S:r=>({S:r}),SS:r=>({SS:(0,d._json)(r)}),_:(r,n)=>({name:n})}),"se_AttributeValue"),hF=u((e,t)=>e.filter(r=>r!=null).map(r=>yn(r,t)),"se_AttributeValueList"),Uve=u((e,t)=>(0,d.take)(e,{Action:[],Value:r=>yn(r,t)}),"se_AttributeValueUpdate"),Fve=u((e,t)=>(0,d.take)(e,{PolicyName:[],TargetTrackingScalingPolicyConfiguration:r=>Bve(r,t)}),"se_AutoScalingPolicyUpdate"),uo=u((e,t)=>(0,d.take)(e,{AutoScalingDisabled:[],AutoScalingRoleArn:[],MaximumUnits:[],MinimumUnits:[],ScalingPolicyUpdate:r=>Fve(r,t)}),"se_AutoScalingSettingsUpdate"),Bve=u((e,t)=>(0,d.take)(e,{DisableScaleIn:[],ScaleInCooldown:[],ScaleOutCooldown:[],TargetValue:d.serializeFloat}),"se_AutoScalingTargetTrackingScalingPolicyConfigurationUpdate"),Gve=u((e,t)=>(0,d.take)(e,{ReturnConsumedCapacity:[],Statements:r=>Eye(r,t)}),"se_BatchExecuteStatementInput"),Vve=u((e,t)=>(0,d.take)(e,{RequestItems:r=>zve(r,t),ReturnConsumedCapacity:[]}),"se_BatchGetItemInput"),zve=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=mye(o,t)),r),{}),"se_BatchGetRequestMap"),Hve=u((e,t)=>(0,d.take)(e,{ConsistentRead:[],Parameters:r=>ay(r,t),ReturnValuesOnConditionCheckFailure:[],Statement:[]}),"se_BatchStatementRequest"),Wve=u((e,t)=>(0,d.take)(e,{RequestItems:r=>Kve(r,t),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[]}),"se_BatchWriteItemInput"),Kve=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=Hye(o,t)),r),{}),"se_BatchWriteItemRequestMap"),Jve=u((e,t)=>e.filter(r=>r!=null).map(r=>t.base64Encoder(r)),"se_BinarySetAttributeValue"),gF=u((e,t)=>(0,d.take)(e,{AttributeValueList:r=>hF(r,t),ComparisonOperator:[]}),"se_Condition"),Yve=u((e,t)=>(0,d.take)(e,{ConditionExpression:[],ExpressionAttributeNames:d._json,ExpressionAttributeValues:r=>En(r,t),Key:r=>gr(r,t),ReturnValuesOnConditionCheckFailure:[],TableName:[]}),"se_ConditionCheck"),Xve=u((e,t)=>(0,d.take)(e,{ConditionExpression:[],ExpressionAttributeNames:d._json,ExpressionAttributeValues:r=>En(r,t),Key:r=>gr(r,t),ReturnValuesOnConditionCheckFailure:[],TableName:[]}),"se_Delete"),Qve=u((e,t)=>(0,d.take)(e,{ConditionExpression:[],ConditionalOperator:[],Expected:r=>sy(r,t),ExpressionAttributeNames:d._json,ExpressionAttributeValues:r=>En(r,t),Key:r=>gr(r,t),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],ReturnValues:[],ReturnValuesOnConditionCheckFailure:[],TableName:[]}),"se_DeleteItemInput"),Zve=u((e,t)=>(0,d.take)(e,{Key:r=>gr(r,t)}),"se_DeleteRequest"),eye=u((e,t)=>(0,d.take)(e,{ConsistentRead:[],Limit:[],NextToken:[],Parameters:r=>ay(r,t),ReturnConsumedCapacity:[],ReturnValuesOnConditionCheckFailure:[],Statement:[]}),"se_ExecuteStatementInput"),tye=u((e,t)=>(0,d.take)(e,{ClientRequestToken:[!0,r=>r??(0,Bp.v4)()],ReturnConsumedCapacity:[],TransactStatements:r=>yye(r,t)}),"se_ExecuteTransactionInput"),sy=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=rye(o,t)),r),{}),"se_ExpectedAttributeMap"),rye=u((e,t)=>(0,d.take)(e,{AttributeValueList:r=>hF(r,t),ComparisonOperator:[],Exists:[],Value:r=>yn(r,t)}),"se_ExpectedAttributeValue"),nye=u((e,t)=>(0,d.take)(e,{ClientToken:[!0,r=>r??(0,Bp.v4)()],ExportFormat:[],ExportTime:r=>Math.round(r.getTime()/1e3),ExportType:[],IncrementalExportSpecification:r=>uye(r,t),S3Bucket:[],S3BucketOwner:[],S3Prefix:[],S3SseAlgorithm:[],S3SseKmsKeyId:[],TableArn:[]}),"se_ExportTableToPointInTimeInput"),En=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=yn(o,t)),r),{}),"se_ExpressionAttributeValueMap"),_F=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=gF(o,t)),r),{}),"se_FilterConditionMap"),oye=u((e,t)=>(0,d.take)(e,{ExpressionAttributeNames:d._json,Key:r=>gr(r,t),ProjectionExpression:[],TableName:[]}),"se_Get"),iye=u((e,t)=>(0,d.take)(e,{AttributesToGet:d._json,ConsistentRead:[],ExpressionAttributeNames:d._json,Key:r=>gr(r,t),ProjectionExpression:[],ReturnConsumedCapacity:[],TableName:[]}),"se_GetItemInput"),sye=u((e,t)=>(0,d.take)(e,{IndexName:[],ProvisionedWriteCapacityAutoScalingUpdate:r=>uo(r,t)}),"se_GlobalSecondaryIndexAutoScalingUpdate"),aye=u((e,t)=>e.filter(r=>r!=null).map(r=>sye(r,t)),"se_GlobalSecondaryIndexAutoScalingUpdateList"),cye=u((e,t)=>(0,d.take)(e,{IndexName:[],ProvisionedWriteCapacityAutoScalingSettingsUpdate:r=>uo(r,t),ProvisionedWriteCapacityUnits:[]}),"se_GlobalTableGlobalSecondaryIndexSettingsUpdate"),dye=u((e,t)=>e.filter(r=>r!=null).map(r=>cye(r,t)),"se_GlobalTableGlobalSecondaryIndexSettingsUpdateList"),lye=u((e,t)=>(0,d.take)(e,{ClientToken:[!0,r=>r??(0,Bp.v4)()],InputCompressionType:[],InputFormat:[],InputFormatOptions:d._json,S3BucketSource:d._json,TableCreationParameters:d._json}),"se_ImportTableInput"),uye=u((e,t)=>(0,d.take)(e,{ExportFromTime:r=>Math.round(r.getTime()/1e3),ExportToTime:r=>Math.round(r.getTime()/1e3),ExportViewType:[]}),"se_IncrementalExportSpecification"),gr=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=yn(o,t)),r),{}),"se_Key"),pye=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=gF(o,t)),r),{}),"se_KeyConditions"),fye=u((e,t)=>e.filter(r=>r!=null).map(r=>gr(r,t)),"se_KeyList"),mye=u((e,t)=>(0,d.take)(e,{AttributesToGet:d._json,ConsistentRead:[],ExpressionAttributeNames:d._json,Keys:r=>fye(r,t),ProjectionExpression:[]}),"se_KeysAndAttributes"),hye=u((e,t)=>e.filter(r=>r!=null).map(r=>yn(r,t)),"se_ListAttributeValue"),gye=u((e,t)=>(0,d.take)(e,{BackupType:[],ExclusiveStartBackupArn:[],Limit:[],TableName:[],TimeRangeLowerBound:r=>Math.round(r.getTime()/1e3),TimeRangeUpperBound:r=>Math.round(r.getTime()/1e3)}),"se_ListBackupsInput"),_ye=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=yn(o,t)),r),{}),"se_MapAttributeValue"),vye=u((e,t)=>(0,d.take)(e,{Parameters:r=>ay(r,t),ReturnValuesOnConditionCheckFailure:[],Statement:[]}),"se_ParameterizedStatement"),yye=u((e,t)=>e.filter(r=>r!=null).map(r=>vye(r,t)),"se_ParameterizedStatements"),Eye=u((e,t)=>e.filter(r=>r!=null).map(r=>Hve(r,t)),"se_PartiQLBatchRequest"),ay=u((e,t)=>e.filter(r=>r!=null).map(r=>yn(r,t)),"se_PreparedStatementParameters"),Sye=u((e,t)=>(0,d.take)(e,{ConditionExpression:[],ExpressionAttributeNames:d._json,ExpressionAttributeValues:r=>En(r,t),Item:r=>cy(r,t),ReturnValuesOnConditionCheckFailure:[],TableName:[]}),"se_Put"),bye=u((e,t)=>(0,d.take)(e,{ConditionExpression:[],ConditionalOperator:[],Expected:r=>sy(r,t),ExpressionAttributeNames:d._json,ExpressionAttributeValues:r=>En(r,t),Item:r=>cy(r,t),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],ReturnValues:[],ReturnValuesOnConditionCheckFailure:[],TableName:[]}),"se_PutItemInput"),cy=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=yn(o,t)),r),{}),"se_PutItemInputAttributeMap"),Cye=u((e,t)=>(0,d.take)(e,{Item:r=>cy(r,t)}),"se_PutRequest"),wye=u((e,t)=>(0,d.take)(e,{AttributesToGet:d._json,ConditionalOperator:[],ConsistentRead:[],ExclusiveStartKey:r=>gr(r,t),ExpressionAttributeNames:d._json,ExpressionAttributeValues:r=>En(r,t),FilterExpression:[],IndexName:[],KeyConditionExpression:[],KeyConditions:r=>pye(r,t),Limit:[],ProjectionExpression:[],QueryFilter:r=>_F(r,t),ReturnConsumedCapacity:[],ScanIndexForward:[],Select:[],TableName:[]}),"se_QueryInput"),Pye=u((e,t)=>(0,d.take)(e,{RegionName:[],ReplicaGlobalSecondaryIndexUpdates:r=>Oye(r,t),ReplicaProvisionedReadCapacityAutoScalingUpdate:r=>uo(r,t)}),"se_ReplicaAutoScalingUpdate"),Tye=u((e,t)=>e.filter(r=>r!=null).map(r=>Pye(r,t)),"se_ReplicaAutoScalingUpdateList"),Iye=u((e,t)=>(0,d.take)(e,{IndexName:[],ProvisionedReadCapacityAutoScalingUpdate:r=>uo(r,t)}),"se_ReplicaGlobalSecondaryIndexAutoScalingUpdate"),Oye=u((e,t)=>e.filter(r=>r!=null).map(r=>Iye(r,t)),"se_ReplicaGlobalSecondaryIndexAutoScalingUpdateList"),Rye=u((e,t)=>(0,d.take)(e,{IndexName:[],ProvisionedReadCapacityAutoScalingSettingsUpdate:r=>uo(r,t),ProvisionedReadCapacityUnits:[]}),"se_ReplicaGlobalSecondaryIndexSettingsUpdate"),Aye=u((e,t)=>e.filter(r=>r!=null).map(r=>Rye(r,t)),"se_ReplicaGlobalSecondaryIndexSettingsUpdateList"),xye=u((e,t)=>(0,d.take)(e,{RegionName:[],ReplicaGlobalSecondaryIndexSettingsUpdate:r=>Aye(r,t),ReplicaProvisionedReadCapacityAutoScalingSettingsUpdate:r=>uo(r,t),ReplicaProvisionedReadCapacityUnits:[],ReplicaTableClass:[]}),"se_ReplicaSettingsUpdate"),Nye=u((e,t)=>e.filter(r=>r!=null).map(r=>xye(r,t)),"se_ReplicaSettingsUpdateList"),Dye=u((e,t)=>(0,d.take)(e,{BillingModeOverride:[],GlobalSecondaryIndexOverride:d._json,LocalSecondaryIndexOverride:d._json,ProvisionedThroughputOverride:d._json,RestoreDateTime:r=>Math.round(r.getTime()/1e3),SSESpecificationOverride:d._json,SourceTableArn:[],SourceTableName:[],TargetTableName:[],UseLatestRestorableTime:[]}),"se_RestoreTableToPointInTimeInput"),$ye=u((e,t)=>(0,d.take)(e,{AttributesToGet:d._json,ConditionalOperator:[],ConsistentRead:[],ExclusiveStartKey:r=>gr(r,t),ExpressionAttributeNames:d._json,ExpressionAttributeValues:r=>En(r,t),FilterExpression:[],IndexName:[],Limit:[],ProjectionExpression:[],ReturnConsumedCapacity:[],ScanFilter:r=>_F(r,t),Segment:[],Select:[],TableName:[],TotalSegments:[]}),"se_ScanInput"),Mye=u((e,t)=>(0,d.take)(e,{Get:r=>oye(r,t)}),"se_TransactGetItem"),kye=u((e,t)=>e.filter(r=>r!=null).map(r=>Mye(r,t)),"se_TransactGetItemList"),Lye=u((e,t)=>(0,d.take)(e,{ReturnConsumedCapacity:[],TransactItems:r=>kye(r,t)}),"se_TransactGetItemsInput"),jye=u((e,t)=>(0,d.take)(e,{ConditionCheck:r=>Yve(r,t),Delete:r=>Xve(r,t),Put:r=>Sye(r,t),Update:r=>Fye(r,t)}),"se_TransactWriteItem"),qye=u((e,t)=>e.filter(r=>r!=null).map(r=>jye(r,t)),"se_TransactWriteItemList"),Uye=u((e,t)=>(0,d.take)(e,{ClientRequestToken:[!0,r=>r??(0,Bp.v4)()],ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],TransactItems:r=>qye(r,t)}),"se_TransactWriteItemsInput"),Fye=u((e,t)=>(0,d.take)(e,{ConditionExpression:[],ExpressionAttributeNames:d._json,ExpressionAttributeValues:r=>En(r,t),Key:r=>gr(r,t),ReturnValuesOnConditionCheckFailure:[],TableName:[],UpdateExpression:[]}),"se_Update"),Bye=u((e,t)=>(0,d.take)(e,{GlobalTableBillingMode:[],GlobalTableGlobalSecondaryIndexSettingsUpdate:r=>dye(r,t),GlobalTableName:[],GlobalTableProvisionedWriteCapacityAutoScalingSettingsUpdate:r=>uo(r,t),GlobalTableProvisionedWriteCapacityUnits:[],ReplicaSettingsUpdate:r=>Nye(r,t)}),"se_UpdateGlobalTableSettingsInput"),Gye=u((e,t)=>(0,d.take)(e,{AttributeUpdates:r=>qve(r,t),ConditionExpression:[],ConditionalOperator:[],Expected:r=>sy(r,t),ExpressionAttributeNames:d._json,ExpressionAttributeValues:r=>En(r,t),Key:r=>gr(r,t),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],ReturnValues:[],ReturnValuesOnConditionCheckFailure:[],TableName:[],UpdateExpression:[]}),"se_UpdateItemInput"),Vye=u((e,t)=>(0,d.take)(e,{GlobalSecondaryIndexUpdates:r=>aye(r,t),ProvisionedWriteCapacityAutoScalingUpdate:r=>uo(r,t),ReplicaUpdates:r=>Tye(r,t),TableName:[]}),"se_UpdateTableReplicaAutoScalingInput"),zye=u((e,t)=>(0,d.take)(e,{DeleteRequest:r=>Zve(r,t),PutRequest:r=>Cye(r,t)}),"se_WriteRequest"),Hye=u((e,t)=>e.filter(r=>r!=null).map(r=>zye(r,t)),"se_WriteRequests"),Wye=u((e,t)=>(0,d.take)(e,{ArchivalBackupArn:d.expectString,ArchivalDateTime:r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),ArchivalReason:d.expectString}),"de_ArchivalSummary"),Br=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=Ss((0,M.awsExpectUnion)(o),t)),r),{}),"de_AttributeMap"),Ss=u((e,t)=>e.B!=null?{B:t.base64Decoder(e.B)}:(0,d.expectBoolean)(e.BOOL)!==void 0?{BOOL:(0,d.expectBoolean)(e.BOOL)}:e.BS!=null?{BS:aEe(e.BS,t)}:e.L!=null?{L:GEe(e.L,t)}:e.M!=null?{M:HEe(e.M,t)}:(0,d.expectString)(e.N)!==void 0?{N:(0,d.expectString)(e.N)}:e.NS!=null?{NS:(0,d._json)(e.NS)}:(0,d.expectBoolean)(e.NULL)!==void 0?{NULL:(0,d.expectBoolean)(e.NULL)}:(0,d.expectString)(e.S)!==void 0?{S:(0,d.expectString)(e.S)}:e.SS!=null?{SS:(0,d._json)(e.SS)}:{$unknown:Object.entries(e)[0]},"de_AttributeValue"),Kye=u((e,t)=>(0,d.take)(e,{PolicyName:d.expectString,TargetTrackingScalingPolicyConfiguration:r=>Yye(r,t)}),"de_AutoScalingPolicyDescription"),Jye=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Kye(n,t)),"de_AutoScalingPolicyDescriptionList"),lo=u((e,t)=>(0,d.take)(e,{AutoScalingDisabled:d.expectBoolean,AutoScalingRoleArn:d.expectString,MaximumUnits:d.expectLong,MinimumUnits:d.expectLong,ScalingPolicies:r=>Jye(r,t)}),"de_AutoScalingSettingsDescription"),Yye=u((e,t)=>(0,d.take)(e,{DisableScaleIn:d.expectBoolean,ScaleInCooldown:d.expectInt32,ScaleOutCooldown:d.expectInt32,TargetValue:d.limitedParseDouble}),"de_AutoScalingTargetTrackingScalingPolicyConfigurationDescription"),vF=u((e,t)=>(0,d.take)(e,{BackupDetails:r=>yF(r,t),SourceTableDetails:r=>uSe(r,t),SourceTableFeatureDetails:r=>pSe(r,t)}),"de_BackupDescription"),yF=u((e,t)=>(0,d.take)(e,{BackupArn:d.expectString,BackupCreationDateTime:r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),BackupExpiryDateTime:r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),BackupName:d.expectString,BackupSizeBytes:d.expectLong,BackupStatus:d.expectString,BackupType:d.expectString}),"de_BackupDetails"),Xye=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Qye(n,t)),"de_BackupSummaries"),Qye=u((e,t)=>(0,d.take)(e,{BackupArn:d.expectString,BackupCreationDateTime:r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),BackupExpiryDateTime:r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),BackupName:d.expectString,BackupSizeBytes:d.expectLong,BackupStatus:d.expectString,BackupType:d.expectString,TableArn:d.expectString,TableId:d.expectString,TableName:d.expectString}),"de_BackupSummary"),Zye=u((e,t)=>(0,d.take)(e,{ConsumedCapacity:r=>bs(r,t),Responses:r=>WEe(r,t)}),"de_BatchExecuteStatementOutput"),eEe=u((e,t)=>(0,d.take)(e,{ConsumedCapacity:r=>bs(r,t),Responses:r=>rEe(r,t),UnprocessedKeys:r=>tEe(r,t)}),"de_BatchGetItemOutput"),tEe=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=BEe(o,t)),r),{}),"de_BatchGetRequestMap"),rEe=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=Vp(o,t)),r),{}),"de_BatchGetResponseMap"),nEe=u((e,t)=>(0,d.take)(e,{Code:d.expectString,Item:r=>Br(r,t),Message:d.expectString}),"de_BatchStatementError"),oEe=u((e,t)=>(0,d.take)(e,{Error:r=>nEe(r,t),Item:r=>Br(r,t),TableName:d.expectString}),"de_BatchStatementResponse"),iEe=u((e,t)=>(0,d.take)(e,{ConsumedCapacity:r=>bs(r,t),ItemCollectionMetrics:r=>PF(r,t),UnprocessedItems:r=>sEe(r,t)}),"de_BatchWriteItemOutput"),sEe=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=CSe(o,t)),r),{}),"de_BatchWriteItemRequestMap"),EF=u((e,t)=>(0,d.take)(e,{BillingMode:d.expectString,LastUpdateToPayPerRequestDateTime:r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r)))}),"de_BillingModeSummary"),aEe=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>t.base64Decoder(n)),"de_BinarySetAttributeValue"),cEe=u((e,t)=>(0,d.take)(e,{Code:d.expectString,Item:r=>Br(r,t),Message:d.expectString}),"de_CancellationReason"),dEe=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>cEe(n,t)),"de_CancellationReasonList"),SF=u((e,t)=>(0,d.take)(e,{CapacityUnits:d.limitedParseDouble,ReadCapacityUnits:d.limitedParseDouble,WriteCapacityUnits:d.limitedParseDouble}),"de_Capacity"),lEe=u((e,t)=>(0,d.take)(e,{Item:r=>Br(r,t),message:d.expectString}),"de_ConditionalCheckFailedException"),po=u((e,t)=>(0,d.take)(e,{CapacityUnits:d.limitedParseDouble,GlobalSecondaryIndexes:r=>yq(r,t),LocalSecondaryIndexes:r=>yq(r,t),ReadCapacityUnits:d.limitedParseDouble,Table:r=>SF(r,t),TableName:d.expectString,WriteCapacityUnits:d.limitedParseDouble}),"de_ConsumedCapacity"),bs=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>po(n,t)),"de_ConsumedCapacityMultiple"),bF=u((e,t)=>(0,d.take)(e,{ContinuousBackupsStatus:d.expectString,PointInTimeRecoveryDescription:r=>KEe(r,t)}),"de_ContinuousBackupsDescription"),uEe=u((e,t)=>(0,d.take)(e,{BackupDetails:r=>yF(r,t)}),"de_CreateBackupOutput"),pEe=u((e,t)=>(0,d.take)(e,{GlobalTableDescription:r=>dy(r,t)}),"de_CreateGlobalTableOutput"),fEe=u((e,t)=>(0,d.take)(e,{TableDescription:r=>Cs(r,t)}),"de_CreateTableOutput"),mEe=u((e,t)=>(0,d.take)(e,{BackupDescription:r=>vF(r,t)}),"de_DeleteBackupOutput"),hEe=u((e,t)=>(0,d.take)(e,{Attributes:r=>Br(r,t),ConsumedCapacity:r=>po(r,t),ItemCollectionMetrics:r=>Gp(r,t)}),"de_DeleteItemOutput"),gEe=u((e,t)=>(0,d.take)(e,{Key:r=>$c(r,t)}),"de_DeleteRequest"),_Ee=u((e,t)=>(0,d.take)(e,{TableDescription:r=>Cs(r,t)}),"de_DeleteTableOutput"),vEe=u((e,t)=>(0,d.take)(e,{BackupDescription:r=>vF(r,t)}),"de_DescribeBackupOutput"),yEe=u((e,t)=>(0,d.take)(e,{ContinuousBackupsDescription:r=>bF(r,t)}),"de_DescribeContinuousBackupsOutput"),EEe=u((e,t)=>(0,d.take)(e,{ContributorInsightsRuleList:d._json,ContributorInsightsStatus:d.expectString,FailureException:d._json,IndexName:d.expectString,LastUpdateDateTime:r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),TableName:d.expectString}),"de_DescribeContributorInsightsOutput"),SEe=u((e,t)=>(0,d.take)(e,{ExportDescription:r=>CF(r,t)}),"de_DescribeExportOutput"),bEe=u((e,t)=>(0,d.take)(e,{GlobalTableDescription:r=>dy(r,t)}),"de_DescribeGlobalTableOutput"),CEe=u((e,t)=>(0,d.take)(e,{GlobalTableName:d.expectString,ReplicaSettings:r=>RF(r,t)}),"de_DescribeGlobalTableSettingsOutput"),wEe=u((e,t)=>(0,d.take)(e,{ImportTableDescription:r=>wF(r,t)}),"de_DescribeImportOutput"),PEe=u((e,t)=>(0,d.take)(e,{Table:r=>Cs(r,t)}),"de_DescribeTableOutput"),TEe=u((e,t)=>(0,d.take)(e,{TableAutoScalingDescription:r=>xF(r,t)}),"de_DescribeTableReplicaAutoScalingOutput"),IEe=u((e,t)=>(0,d.take)(e,{ConsumedCapacity:r=>po(r,t),Items:r=>Vp(r,t),LastEvaluatedKey:r=>$c(r,t),NextToken:d.expectString}),"de_ExecuteStatementOutput"),OEe=u((e,t)=>(0,d.take)(e,{ConsumedCapacity:r=>bs(r,t),Responses:r=>TF(r,t)}),"de_ExecuteTransactionOutput"),CF=u((e,t)=>(0,d.take)(e,{BilledSizeBytes:d.expectLong,ClientToken:d.expectString,EndTime:r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),ExportArn:d.expectString,ExportFormat:d.expectString,ExportManifest:d.expectString,ExportStatus:d.expectString,ExportTime:r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),ExportType:d.expectString,FailureCode:d.expectString,FailureMessage:d.expectString,IncrementalExportSpecification:r=>kEe(r,t),ItemCount:d.expectLong,S3Bucket:d.expectString,S3BucketOwner:d.expectString,S3Prefix:d.expectString,S3SseAlgorithm:d.expectString,S3SseKmsKeyId:d.expectString,StartTime:r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),TableArn:d.expectString,TableId:d.expectString}),"de_ExportDescription"),REe=u((e,t)=>(0,d.take)(e,{ExportDescription:r=>CF(r,t)}),"de_ExportTableToPointInTimeOutput"),AEe=u((e,t)=>(0,d.take)(e,{ConsumedCapacity:r=>po(r,t),Item:r=>Br(r,t)}),"de_GetItemOutput"),xEe=u((e,t)=>(0,d.take)(e,{Backfilling:d.expectBoolean,IndexArn:d.expectString,IndexName:d.expectString,IndexSizeBytes:d.expectLong,IndexStatus:d.expectString,ItemCount:d.expectLong,KeySchema:d._json,Projection:d._json,ProvisionedThroughput:r=>IF(r,t)}),"de_GlobalSecondaryIndexDescription"),NEe=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>xEe(n,t)),"de_GlobalSecondaryIndexDescriptionList"),dy=u((e,t)=>(0,d.take)(e,{CreationDateTime:r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),GlobalTableArn:d.expectString,GlobalTableName:d.expectString,GlobalTableStatus:d.expectString,ReplicationGroup:r=>OF(r,t)}),"de_GlobalTableDescription"),DEe=u((e,t)=>(0,d.take)(e,{CloudWatchLogGroupArn:d.expectString,EndTime:r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),ImportArn:d.expectString,ImportStatus:d.expectString,InputFormat:d.expectString,S3BucketSource:d._json,StartTime:r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),TableArn:d.expectString}),"de_ImportSummary"),$Ee=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>DEe(n,t)),"de_ImportSummaryList"),wF=u((e,t)=>(0,d.take)(e,{ClientToken:d.expectString,CloudWatchLogGroupArn:d.expectString,EndTime:r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),ErrorCount:d.expectLong,FailureCode:d.expectString,FailureMessage:d.expectString,ImportArn:d.expectString,ImportStatus:d.expectString,ImportedItemCount:d.expectLong,InputCompressionType:d.expectString,InputFormat:d.expectString,InputFormatOptions:d._json,ProcessedItemCount:d.expectLong,ProcessedSizeBytes:d.expectLong,S3BucketSource:d._json,StartTime:r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),TableArn:d.expectString,TableCreationParameters:d._json,TableId:d.expectString}),"de_ImportTableDescription"),MEe=u((e,t)=>(0,d.take)(e,{ImportTableDescription:r=>wF(r,t)}),"de_ImportTableOutput"),kEe=u((e,t)=>(0,d.take)(e,{ExportFromTime:r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),ExportToTime:r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),ExportViewType:d.expectString}),"de_IncrementalExportSpecification"),LEe=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=Ss((0,M.awsExpectUnion)(o),t)),r),{}),"de_ItemCollectionKeyAttributeMap"),Gp=u((e,t)=>(0,d.take)(e,{ItemCollectionKey:r=>LEe(r,t),SizeEstimateRangeGB:r=>qEe(r,t)}),"de_ItemCollectionMetrics"),jEe=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Gp(n,t)),"de_ItemCollectionMetricsMultiple"),PF=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=jEe(o,t)),r),{}),"de_ItemCollectionMetricsPerTable"),qEe=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>(0,d.limitedParseDouble)(n)),"de_ItemCollectionSizeEstimateRange"),Vp=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Br(n,t)),"de_ItemList"),UEe=u((e,t)=>(0,d.take)(e,{Item:r=>Br(r,t)}),"de_ItemResponse"),TF=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>UEe(n,t)),"de_ItemResponseList"),$c=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=Ss((0,M.awsExpectUnion)(o),t)),r),{}),"de_Key"),FEe=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>$c(n,t)),"de_KeyList"),BEe=u((e,t)=>(0,d.take)(e,{AttributesToGet:d._json,ConsistentRead:d.expectBoolean,ExpressionAttributeNames:d._json,Keys:r=>FEe(r,t),ProjectionExpression:d.expectString}),"de_KeysAndAttributes"),GEe=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Ss((0,M.awsExpectUnion)(n),t)),"de_ListAttributeValue"),VEe=u((e,t)=>(0,d.take)(e,{BackupSummaries:r=>Xye(r,t),LastEvaluatedBackupArn:d.expectString}),"de_ListBackupsOutput"),zEe=u((e,t)=>(0,d.take)(e,{ImportSummaryList:r=>$Ee(r,t),NextToken:d.expectString}),"de_ListImportsOutput"),HEe=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=Ss((0,M.awsExpectUnion)(o),t)),r),{}),"de_MapAttributeValue"),WEe=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>oEe(n,t)),"de_PartiQLBatchResponse"),KEe=u((e,t)=>(0,d.take)(e,{EarliestRestorableDateTime:r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),LatestRestorableDateTime:r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),PointInTimeRecoveryStatus:d.expectString}),"de_PointInTimeRecoveryDescription"),IF=u((e,t)=>(0,d.take)(e,{LastDecreaseDateTime:r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),LastIncreaseDateTime:r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),NumberOfDecreasesToday:d.expectLong,ReadCapacityUnits:d.expectLong,WriteCapacityUnits:d.expectLong}),"de_ProvisionedThroughputDescription"),JEe=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=Ss((0,M.awsExpectUnion)(o),t)),r),{}),"de_PutItemInputAttributeMap"),YEe=u((e,t)=>(0,d.take)(e,{Attributes:r=>Br(r,t),ConsumedCapacity:r=>po(r,t),ItemCollectionMetrics:r=>Gp(r,t)}),"de_PutItemOutput"),XEe=u((e,t)=>(0,d.take)(e,{Item:r=>JEe(r,t)}),"de_PutRequest"),QEe=u((e,t)=>(0,d.take)(e,{ConsumedCapacity:r=>po(r,t),Count:d.expectInt32,Items:r=>Vp(r,t),LastEvaluatedKey:r=>$c(r,t),ScannedCount:d.expectInt32}),"de_QueryOutput"),ZEe=u((e,t)=>(0,d.take)(e,{GlobalSecondaryIndexes:r=>nSe(r,t),RegionName:d.expectString,ReplicaProvisionedReadCapacityAutoScalingSettings:r=>lo(r,t),ReplicaProvisionedWriteCapacityAutoScalingSettings:r=>lo(r,t),ReplicaStatus:d.expectString}),"de_ReplicaAutoScalingDescription"),eSe=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>ZEe(n,t)),"de_ReplicaAutoScalingDescriptionList"),tSe=u((e,t)=>(0,d.take)(e,{GlobalSecondaryIndexes:d._json,KMSMasterKeyId:d.expectString,ProvisionedThroughputOverride:d._json,RegionName:d.expectString,ReplicaInaccessibleDateTime:r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),ReplicaStatus:d.expectString,ReplicaStatusDescription:d.expectString,ReplicaStatusPercentProgress:d.expectString,ReplicaTableClassSummary:r=>ly(r,t)}),"de_ReplicaDescription"),OF=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>tSe(n,t)),"de_ReplicaDescriptionList"),rSe=u((e,t)=>(0,d.take)(e,{IndexName:d.expectString,IndexStatus:d.expectString,ProvisionedReadCapacityAutoScalingSettings:r=>lo(r,t),ProvisionedWriteCapacityAutoScalingSettings:r=>lo(r,t)}),"de_ReplicaGlobalSecondaryIndexAutoScalingDescription"),nSe=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>rSe(n,t)),"de_ReplicaGlobalSecondaryIndexAutoScalingDescriptionList"),oSe=u((e,t)=>(0,d.take)(e,{IndexName:d.expectString,IndexStatus:d.expectString,ProvisionedReadCapacityAutoScalingSettings:r=>lo(r,t),ProvisionedReadCapacityUnits:d.expectLong,ProvisionedWriteCapacityAutoScalingSettings:r=>lo(r,t),ProvisionedWriteCapacityUnits:d.expectLong}),"de_ReplicaGlobalSecondaryIndexSettingsDescription"),iSe=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>oSe(n,t)),"de_ReplicaGlobalSecondaryIndexSettingsDescriptionList"),sSe=u((e,t)=>(0,d.take)(e,{RegionName:d.expectString,ReplicaBillingModeSummary:r=>EF(r,t),ReplicaGlobalSecondaryIndexSettings:r=>iSe(r,t),ReplicaProvisionedReadCapacityAutoScalingSettings:r=>lo(r,t),ReplicaProvisionedReadCapacityUnits:d.expectLong,ReplicaProvisionedWriteCapacityAutoScalingSettings:r=>lo(r,t),ReplicaProvisionedWriteCapacityUnits:d.expectLong,ReplicaStatus:d.expectString,ReplicaTableClassSummary:r=>ly(r,t)}),"de_ReplicaSettingsDescription"),RF=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>sSe(n,t)),"de_ReplicaSettingsDescriptionList"),aSe=u((e,t)=>(0,d.take)(e,{RestoreDateTime:r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),RestoreInProgress:d.expectBoolean,SourceBackupArn:d.expectString,SourceTableArn:d.expectString}),"de_RestoreSummary"),cSe=u((e,t)=>(0,d.take)(e,{TableDescription:r=>Cs(r,t)}),"de_RestoreTableFromBackupOutput"),dSe=u((e,t)=>(0,d.take)(e,{TableDescription:r=>Cs(r,t)}),"de_RestoreTableToPointInTimeOutput"),lSe=u((e,t)=>(0,d.take)(e,{ConsumedCapacity:r=>po(r,t),Count:d.expectInt32,Items:r=>Vp(r,t),LastEvaluatedKey:r=>$c(r,t),ScannedCount:d.expectInt32}),"de_ScanOutput"),yq=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=SF(o,t)),r),{}),"de_SecondaryIndexesCapacityMap"),uSe=u((e,t)=>(0,d.take)(e,{BillingMode:d.expectString,ItemCount:d.expectLong,KeySchema:d._json,ProvisionedThroughput:d._json,TableArn:d.expectString,TableCreationDateTime:r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),TableId:d.expectString,TableName:d.expectString,TableSizeBytes:d.expectLong}),"de_SourceTableDetails"),pSe=u((e,t)=>(0,d.take)(e,{GlobalSecondaryIndexes:d._json,LocalSecondaryIndexes:d._json,SSEDescription:r=>AF(r,t),StreamDescription:d._json,TimeToLiveDescription:d._json}),"de_SourceTableFeatureDetails"),AF=u((e,t)=>(0,d.take)(e,{InaccessibleEncryptionDateTime:r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),KMSMasterKeyArn:d.expectString,SSEType:d.expectString,Status:d.expectString}),"de_SSEDescription"),xF=u((e,t)=>(0,d.take)(e,{Replicas:r=>eSe(r,t),TableName:d.expectString,TableStatus:d.expectString}),"de_TableAutoScalingDescription"),ly=u((e,t)=>(0,d.take)(e,{LastUpdateDateTime:r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),TableClass:d.expectString}),"de_TableClassSummary"),Cs=u((e,t)=>(0,d.take)(e,{ArchivalSummary:r=>Wye(r,t),AttributeDefinitions:d._json,BillingModeSummary:r=>EF(r,t),CreationDateTime:r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),DeletionProtectionEnabled:d.expectBoolean,GlobalSecondaryIndexes:r=>NEe(r,t),GlobalTableVersion:d.expectString,ItemCount:d.expectLong,KeySchema:d._json,LatestStreamArn:d.expectString,LatestStreamLabel:d.expectString,LocalSecondaryIndexes:d._json,ProvisionedThroughput:r=>IF(r,t),Replicas:r=>OF(r,t),RestoreSummary:r=>aSe(r,t),SSEDescription:r=>AF(r,t),StreamSpecification:d._json,TableArn:d.expectString,TableClassSummary:r=>ly(r,t),TableId:d.expectString,TableName:d.expectString,TableSizeBytes:d.expectLong,TableStatus:d.expectString}),"de_TableDescription"),fSe=u((e,t)=>(0,d.take)(e,{ConsumedCapacity:r=>bs(r,t),Responses:r=>TF(r,t)}),"de_TransactGetItemsOutput"),mSe=u((e,t)=>(0,d.take)(e,{CancellationReasons:r=>dEe(r,t),Message:d.expectString}),"de_TransactionCanceledException"),hSe=u((e,t)=>(0,d.take)(e,{ConsumedCapacity:r=>bs(r,t),ItemCollectionMetrics:r=>PF(r,t)}),"de_TransactWriteItemsOutput"),gSe=u((e,t)=>(0,d.take)(e,{ContinuousBackupsDescription:r=>bF(r,t)}),"de_UpdateContinuousBackupsOutput"),_Se=u((e,t)=>(0,d.take)(e,{GlobalTableDescription:r=>dy(r,t)}),"de_UpdateGlobalTableOutput"),vSe=u((e,t)=>(0,d.take)(e,{GlobalTableName:d.expectString,ReplicaSettings:r=>RF(r,t)}),"de_UpdateGlobalTableSettingsOutput"),ySe=u((e,t)=>(0,d.take)(e,{Attributes:r=>Br(r,t),ConsumedCapacity:r=>po(r,t),ItemCollectionMetrics:r=>Gp(r,t)}),"de_UpdateItemOutput"),ESe=u((e,t)=>(0,d.take)(e,{TableDescription:r=>Cs(r,t)}),"de_UpdateTableOutput"),SSe=u((e,t)=>(0,d.take)(e,{TableAutoScalingDescription:r=>xF(r,t)}),"de_UpdateTableReplicaAutoScalingOutput"),bSe=u((e,t)=>(0,d.take)(e,{DeleteRequest:r=>gEe(r,t),PutRequest:r=>XEe(r,t)}),"de_WriteRequest"),CSe=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>bSe(n,t)),"de_WriteRequests"),R=u(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),wSe=(0,d.withBaseException)(ce),W=u(async(e,t,r,n,o)=>{let{hostname:i,protocol:s="https",port:a,path:c}=await e.endpoint(),l={protocol:s,hostname:i,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(l.hostname=n),o!==void 0&&(l.body=o),new iy.HttpRequest(l)},"buildHttpRpcRequest");function G(e){return{"content-type":"application/x-amz-json-1.0","x-amz-target":`DynamoDB_20120810.${e}`}}u(G,"sharedHeaders");var NF=class extends d.Command.classBuilder().ep({...z}).m(function(t,r,n,o){return[(0,V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeEndpoints",{}).n("DynamoDBClient","DescribeEndpointsCommand").f(void 0,void 0).ser(fge).de(g_e).build(){};u(NF,"DescribeEndpointsCommand");var uy=NF,PSe=cq(),Eq=Ec(),TSe=u(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let i=t.findIndex(s=>s.schemeId===o.schemeId);i===-1?t.push(o):t.splice(i,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),ISe=u(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),qp=u(e=>e,"asPartial"),OSe=u((e,t)=>{let r={...qp((0,Eq.getAwsRegionExtensionConfiguration)(e)),...qp((0,d.getDefaultExtensionConfiguration)(e)),...qp((0,iy.getHttpHandlerExtensionConfiguration)(e)),...qp(TSe(e))};return t.forEach(n=>n.configure(r)),{...e,...(0,Eq.resolveAwsRegionExtensionConfiguration)(r),...(0,d.resolveDefaultRuntimeConfig)(r),...(0,iy.resolveHttpHandlerRuntimeConfig)(r),...ISe(r)}},"resolveRuntimeExtensions"),DF=class extends d.Client{constructor(...[t]){let r=(0,PSe.getRuntimeConfig)(t||{}),n=mhe(r),o=(0,phe.resolveRegionConfig)(n),i=(0,B.resolveEndpointConfig)(o),s=(0,_q.resolveRetryConfig)(i),a=(0,hq.resolveHostHeaderConfig)(s),c=(0,gq.resolveUserAgentConfig)(a),l=(0,vq.resolveHttpAuthSchemeConfig)(c),p=(0,dhe.resolveEndpointDiscoveryConfig)(l,{endpointDiscoveryCommandCtor:uy}),f=OSe(p,t?.extensions||[]);super(f),this.config=f,this.middlewareStack.use((0,_q.getRetryPlugin)(this.config)),this.middlewareStack.use((0,fhe.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,hq.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,lhe.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,uhe.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,gq.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,oy.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:this.getDefaultHttpAuthSchemeParametersProvider(),identityProviderConfigProvider:this.getIdentityProviderConfigProvider()})),this.middlewareStack.use((0,oy.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}getDefaultHttpAuthSchemeParametersProvider(){return vq.defaultDynamoDBHttpAuthSchemeParametersProvider}getIdentityProviderConfigProvider(){return async t=>new oy.DefaultIdentityProviderConfig({"aws.auth#sigv4":t.credentials})}};u(DF,"DynamoDBClient");var fo=DF,$F=class extends d.Command.classBuilder().ep({...z}).m(function(t,r,n,o){return[(0,V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchExecuteStatement",{}).n("DynamoDBClient","BatchExecuteStatementCommand").f(void 0,void 0).ser(ege).de(n_e).build(){};u($F,"BatchExecuteStatementCommand");var MF=$F,kF=class extends d.Command.classBuilder().ep({...z}).m(function(t,r,n,o){return[(0,V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchGetItem",{}).n("DynamoDBClient","BatchGetItemCommand").f(void 0,void 0).ser(tge).de(o_e).build(){};u(kF,"BatchGetItemCommand");var LF=kF,jF=class extends d.Command.classBuilder().ep({...z}).m(function(t,r,n,o){return[(0,V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchWriteItem",{}).n("DynamoDBClient","BatchWriteItemCommand").f(void 0,void 0).ser(rge).de(i_e).build(){};u(jF,"BatchWriteItemCommand");var qF=jF,UF=class extends d.Command.classBuilder().ep({...z}).m(function(t,r,n,o){return[(0,V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateBackup",{}).n("DynamoDBClient","CreateBackupCommand").f(void 0,void 0).ser(nge).de(s_e).build(){};u(UF,"CreateBackupCommand");var FF=UF,BF=class extends d.Command.classBuilder().ep({...z}).m(function(t,r,n,o){return[(0,V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateGlobalTable",{}).n("DynamoDBClient","CreateGlobalTableCommand").f(void 0,void 0).ser(oge).de(a_e).build(){};u(BF,"CreateGlobalTableCommand");var GF=BF,VF=class extends d.Command.classBuilder().ep({...z}).m(function(t,r,n,o){return[(0,V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateTable",{}).n("DynamoDBClient","CreateTableCommand").f(void 0,void 0).ser(ige).de(c_e).build(){};u(VF,"CreateTableCommand");var zF=VF,HF=class extends d.Command.classBuilder().ep({...z}).m(function(t,r,n,o){return[(0,V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteBackup",{}).n("DynamoDBClient","DeleteBackupCommand").f(void 0,void 0).ser(sge).de(d_e).build(){};u(HF,"DeleteBackupCommand");var WF=HF,KF=class extends d.Command.classBuilder().ep({...z}).m(function(t,r,n,o){return[(0,V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteItem",{}).n("DynamoDBClient","DeleteItemCommand").f(void 0,void 0).ser(age).de(l_e).build(){};u(KF,"DeleteItemCommand");var JF=KF,YF=class extends d.Command.classBuilder().ep({...z}).m(function(t,r,n,o){return[(0,V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteResourcePolicy",{}).n("DynamoDBClient","DeleteResourcePolicyCommand").f(void 0,void 0).ser(cge).de(u_e).build(){};u(YF,"DeleteResourcePolicyCommand");var XF=YF,QF=class extends d.Command.classBuilder().ep({...z}).m(function(t,r,n,o){return[(0,V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteTable",{}).n("DynamoDBClient","DeleteTableCommand").f(void 0,void 0).ser(dge).de(p_e).build(){};u(QF,"DeleteTableCommand");var ZF=QF,eB=class extends d.Command.classBuilder().ep({...z}).m(function(t,r,n,o){return[(0,V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeBackup",{}).n("DynamoDBClient","DescribeBackupCommand").f(void 0,void 0).ser(lge).de(f_e).build(){};u(eB,"DescribeBackupCommand");var tB=eB,rB=class extends d.Command.classBuilder().ep({...z}).m(function(t,r,n,o){return[(0,V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeContinuousBackups",{}).n("DynamoDBClient","DescribeContinuousBackupsCommand").f(void 0,void 0).ser(uge).de(m_e).build(){};u(rB,"DescribeContinuousBackupsCommand");var nB=rB,oB=class extends d.Command.classBuilder().ep({...z}).m(function(t,r,n,o){return[(0,V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeContributorInsights",{}).n("DynamoDBClient","DescribeContributorInsightsCommand").f(void 0,void 0).ser(pge).de(h_e).build(){};u(oB,"DescribeContributorInsightsCommand");var iB=oB,sB=class extends d.Command.classBuilder().ep({...z}).m(function(t,r,n,o){return[(0,V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeExport",{}).n("DynamoDBClient","DescribeExportCommand").f(void 0,void 0).ser(mge).de(__e).build(){};u(sB,"DescribeExportCommand");var aB=sB,cB=class extends d.Command.classBuilder().ep({...z}).m(function(t,r,n,o){return[(0,V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeGlobalTable",{}).n("DynamoDBClient","DescribeGlobalTableCommand").f(void 0,void 0).ser(hge).de(v_e).build(){};u(cB,"DescribeGlobalTableCommand");var dB=cB,lB=class extends d.Command.classBuilder().ep({...z}).m(function(t,r,n,o){return[(0,V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeGlobalTableSettings",{}).n("DynamoDBClient","DescribeGlobalTableSettingsCommand").f(void 0,void 0).ser(gge).de(y_e).build(){};u(lB,"DescribeGlobalTableSettingsCommand");var uB=lB,pB=class extends d.Command.classBuilder().ep({...z}).m(function(t,r,n,o){return[(0,V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeImport",{}).n("DynamoDBClient","DescribeImportCommand").f(void 0,void 0).ser(_ge).de(E_e).build(){};u(pB,"DescribeImportCommand");var fB=pB,mB=class extends d.Command.classBuilder().ep({...z}).m(function(t,r,n,o){return[(0,V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeKinesisStreamingDestination",{}).n("DynamoDBClient","DescribeKinesisStreamingDestinationCommand").f(void 0,void 0).ser(vge).de(S_e).build(){};u(mB,"DescribeKinesisStreamingDestinationCommand");var hB=mB,gB=class extends d.Command.classBuilder().ep({...z}).m(function(t,r,n,o){return[(0,V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeLimits",{}).n("DynamoDBClient","DescribeLimitsCommand").f(void 0,void 0).ser(yge).de(b_e).build(){};u(gB,"DescribeLimitsCommand");var _B=gB,vB=class extends d.Command.classBuilder().ep({...z}).m(function(t,r,n,o){return[(0,V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTable",{}).n("DynamoDBClient","DescribeTableCommand").f(void 0,void 0).ser(Ege).de(C_e).build(){};u(vB,"DescribeTableCommand");var zp=vB,yB=class extends d.Command.classBuilder().ep({...z}).m(function(t,r,n,o){return[(0,V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTableReplicaAutoScaling",{}).n("DynamoDBClient","DescribeTableReplicaAutoScalingCommand").f(void 0,void 0).ser(Sge).de(w_e).build(){};u(yB,"DescribeTableReplicaAutoScalingCommand");var EB=yB,SB=class extends d.Command.classBuilder().ep({...z}).m(function(t,r,n,o){return[(0,V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTimeToLive",{}).n("DynamoDBClient","DescribeTimeToLiveCommand").f(void 0,void 0).ser(bge).de(P_e).build(){};u(SB,"DescribeTimeToLiveCommand");var bB=SB,CB=class extends d.Command.classBuilder().ep({...z}).m(function(t,r,n,o){return[(0,V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DisableKinesisStreamingDestination",{}).n("DynamoDBClient","DisableKinesisStreamingDestinationCommand").f(void 0,void 0).ser(Cge).de(T_e).build(){};u(CB,"DisableKinesisStreamingDestinationCommand");var wB=CB,PB=class extends d.Command.classBuilder().ep({...z}).m(function(t,r,n,o){return[(0,V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","EnableKinesisStreamingDestination",{}).n("DynamoDBClient","EnableKinesisStreamingDestinationCommand").f(void 0,void 0).ser(wge).de(I_e).build(){};u(PB,"EnableKinesisStreamingDestinationCommand");var TB=PB,IB=class extends d.Command.classBuilder().ep({...z}).m(function(t,r,n,o){return[(0,V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExecuteStatement",{}).n("DynamoDBClient","ExecuteStatementCommand").f(void 0,void 0).ser(Pge).de(O_e).build(){};u(IB,"ExecuteStatementCommand");var OB=IB,RB=class extends d.Command.classBuilder().ep({...z}).m(function(t,r,n,o){return[(0,V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExecuteTransaction",{}).n("DynamoDBClient","ExecuteTransactionCommand").f(void 0,void 0).ser(Tge).de(R_e).build(){};u(RB,"ExecuteTransactionCommand");var AB=RB,xB=class extends d.Command.classBuilder().ep({...z}).m(function(t,r,n,o){return[(0,V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExportTableToPointInTime",{}).n("DynamoDBClient","ExportTableToPointInTimeCommand").f(void 0,void 0).ser(Ige).de(A_e).build(){};u(xB,"ExportTableToPointInTimeCommand");var NB=xB,DB=class extends d.Command.classBuilder().ep({...z}).m(function(t,r,n,o){return[(0,V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","GetItem",{}).n("DynamoDBClient","GetItemCommand").f(void 0,void 0).ser(Oge).de(x_e).build(){};u(DB,"GetItemCommand");var $B=DB,MB=class extends d.Command.classBuilder().ep({...z}).m(function(t,r,n,o){return[(0,V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","GetResourcePolicy",{}).n("DynamoDBClient","GetResourcePolicyCommand").f(void 0,void 0).ser(Rge).de(N_e).build(){};u(MB,"GetResourcePolicyCommand");var kB=MB,LB=class extends d.Command.classBuilder().ep({...z}).m(function(t,r,n,o){return[(0,V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ImportTable",{}).n("DynamoDBClient","ImportTableCommand").f(void 0,void 0).ser(Age).de(D_e).build(){};u(LB,"ImportTableCommand");var jB=LB,qB=class extends d.Command.classBuilder().ep({...z}).m(function(t,r,n,o){return[(0,V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListBackups",{}).n("DynamoDBClient","ListBackupsCommand").f(void 0,void 0).ser(xge).de($_e).build(){};u(qB,"ListBackupsCommand");var UB=qB,FB=class extends d.Command.classBuilder().ep({...z}).m(function(t,r,n,o){return[(0,V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListContributorInsights",{}).n("DynamoDBClient","ListContributorInsightsCommand").f(void 0,void 0).ser(Nge).de(M_e).build(){};u(FB,"ListContributorInsightsCommand");var py=FB,BB=class extends d.Command.classBuilder().ep({...z}).m(function(t,r,n,o){return[(0,V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListExports",{}).n("DynamoDBClient","ListExportsCommand").f(void 0,void 0).ser(Dge).de(k_e).build(){};u(BB,"ListExportsCommand");var fy=BB,GB=class extends d.Command.classBuilder().ep({...z}).m(function(t,r,n,o){return[(0,V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListGlobalTables",{}).n("DynamoDBClient","ListGlobalTablesCommand").f(void 0,void 0).ser($ge).de(L_e).build(){};u(GB,"ListGlobalTablesCommand");var VB=GB,zB=class extends d.Command.classBuilder().ep({...z}).m(function(t,r,n,o){return[(0,V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListImports",{}).n("DynamoDBClient","ListImportsCommand").f(void 0,void 0).ser(Mge).de(j_e).build(){};u(zB,"ListImportsCommand");var my=zB,HB=class extends d.Command.classBuilder().ep({...z}).m(function(t,r,n,o){return[(0,V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListTables",{}).n("DynamoDBClient","ListTablesCommand").f(void 0,void 0).ser(kge).de(q_e).build(){};u(HB,"ListTablesCommand");var hy=HB,WB=class extends d.Command.classBuilder().ep({...z}).m(function(t,r,n,o){return[(0,V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListTagsOfResource",{}).n("DynamoDBClient","ListTagsOfResourceCommand").f(void 0,void 0).ser(Lge).de(U_e).build(){};u(WB,"ListTagsOfResourceCommand");var KB=WB,JB=class extends d.Command.classBuilder().ep({...z}).m(function(t,r,n,o){return[(0,V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","PutItem",{}).n("DynamoDBClient","PutItemCommand").f(void 0,void 0).ser(jge).de(F_e).build(){};u(JB,"PutItemCommand");var YB=JB,XB=class extends d.Command.classBuilder().ep({...z}).m(function(t,r,n,o){return[(0,V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","PutResourcePolicy",{}).n("DynamoDBClient","PutResourcePolicyCommand").f(void 0,void 0).ser(qge).de(B_e).build(){};u(XB,"PutResourcePolicyCommand");var QB=XB,ZB=class extends d.Command.classBuilder().ep({...z}).m(function(t,r,n,o){return[(0,V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","Query",{}).n("DynamoDBClient","QueryCommand").f(void 0,void 0).ser(Uge).de(G_e).build(){};u(ZB,"QueryCommand");var gy=ZB,e2=class extends d.Command.classBuilder().ep({...z}).m(function(t,r,n,o){return[(0,V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","RestoreTableFromBackup",{}).n("DynamoDBClient","RestoreTableFromBackupCommand").f(void 0,void 0).ser(Fge).de(V_e).build(){};u(e2,"RestoreTableFromBackupCommand");var t2=e2,r2=class extends d.Command.classBuilder().ep({...z}).m(function(t,r,n,o){return[(0,V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","RestoreTableToPointInTime",{}).n("DynamoDBClient","RestoreTableToPointInTimeCommand").f(void 0,void 0).ser(Bge).de(z_e).build(){};u(r2,"RestoreTableToPointInTimeCommand");var n2=r2,o2=class extends d.Command.classBuilder().ep({...z}).m(function(t,r,n,o){return[(0,V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","Scan",{}).n("DynamoDBClient","ScanCommand").f(void 0,void 0).ser(Gge).de(H_e).build(){};u(o2,"ScanCommand");var _y=o2,i2=class extends d.Command.classBuilder().ep({...z}).m(function(t,r,n,o){return[(0,V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TagResource",{}).n("DynamoDBClient","TagResourceCommand").f(void 0,void 0).ser(Vge).de(W_e).build(){};u(i2,"TagResourceCommand");var s2=i2,a2=class extends d.Command.classBuilder().ep({...z}).m(function(t,r,n,o){return[(0,V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TransactGetItems",{}).n("DynamoDBClient","TransactGetItemsCommand").f(void 0,void 0).ser(zge).de(K_e).build(){};u(a2,"TransactGetItemsCommand");var c2=a2,d2=class extends d.Command.classBuilder().ep({...z}).m(function(t,r,n,o){return[(0,V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TransactWriteItems",{}).n("DynamoDBClient","TransactWriteItemsCommand").f(void 0,void 0).ser(Hge).de(J_e).build(){};u(d2,"TransactWriteItemsCommand");var l2=d2,u2=class extends d.Command.classBuilder().ep({...z}).m(function(t,r,n,o){return[(0,V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UntagResource",{}).n("DynamoDBClient","UntagResourceCommand").f(void 0,void 0).ser(Wge).de(Y_e).build(){};u(u2,"UntagResourceCommand");var p2=u2,f2=class extends d.Command.classBuilder().ep({...z}).m(function(t,r,n,o){return[(0,V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateContinuousBackups",{}).n("DynamoDBClient","UpdateContinuousBackupsCommand").f(void 0,void 0).ser(Kge).de(X_e).build(){};u(f2,"UpdateContinuousBackupsCommand");var m2=f2,h2=class extends d.Command.classBuilder().ep({...z}).m(function(t,r,n,o){return[(0,V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateContributorInsights",{}).n("DynamoDBClient","UpdateContributorInsightsCommand").f(void 0,void 0).ser(Jge).de(Q_e).build(){};u(h2,"UpdateContributorInsightsCommand");var g2=h2,_2=class extends d.Command.classBuilder().ep({...z}).m(function(t,r,n,o){return[(0,V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateGlobalTable",{}).n("DynamoDBClient","UpdateGlobalTableCommand").f(void 0,void 0).ser(Yge).de(Z_e).build(){};u(_2,"UpdateGlobalTableCommand");var v2=_2,y2=class extends d.Command.classBuilder().ep({...z}).m(function(t,r,n,o){return[(0,V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateGlobalTableSettings",{}).n("DynamoDBClient","UpdateGlobalTableSettingsCommand").f(void 0,void 0).ser(Xge).de(eve).build(){};u(y2,"UpdateGlobalTableSettingsCommand");var E2=y2,S2=class extends d.Command.classBuilder().ep({...z}).m(function(t,r,n,o){return[(0,V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateItem",{}).n("DynamoDBClient","UpdateItemCommand").f(void 0,void 0).ser(Qge).de(tve).build(){};u(S2,"UpdateItemCommand");var b2=S2,C2=class extends d.Command.classBuilder().ep({...z}).m(function(t,r,n,o){return[(0,V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateKinesisStreamingDestination",{}).n("DynamoDBClient","UpdateKinesisStreamingDestinationCommand").f(void 0,void 0).ser(Zge).de(rve).build(){};u(C2,"UpdateKinesisStreamingDestinationCommand");var w2=C2,P2=class extends d.Command.classBuilder().ep({...z}).m(function(t,r,n,o){return[(0,V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTable",{}).n("DynamoDBClient","UpdateTableCommand").f(void 0,void 0).ser(e_e).de(nve).build(){};u(P2,"UpdateTableCommand");var T2=P2,I2=class extends d.Command.classBuilder().ep({...z}).m(function(t,r,n,o){return[(0,V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTableReplicaAutoScaling",{}).n("DynamoDBClient","UpdateTableReplicaAutoScalingCommand").f(void 0,void 0).ser(t_e).de(ove).build(){};u(I2,"UpdateTableReplicaAutoScalingCommand");var O2=I2,R2=class extends d.Command.classBuilder().ep({...z}).m(function(t,r,n,o){return[(0,V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTimeToLive",{}).n("DynamoDBClient","UpdateTimeToLiveCommand").f(void 0,void 0).ser(r_e).de(ive).build(){};u(R2,"UpdateTimeToLiveCommand");var A2=R2,RSe={BatchExecuteStatementCommand:MF,BatchGetItemCommand:LF,BatchWriteItemCommand:qF,CreateBackupCommand:FF,CreateGlobalTableCommand:GF,CreateTableCommand:zF,DeleteBackupCommand:WF,DeleteItemCommand:JF,DeleteResourcePolicyCommand:XF,DeleteTableCommand:ZF,DescribeBackupCommand:tB,DescribeContinuousBackupsCommand:nB,DescribeContributorInsightsCommand:iB,DescribeEndpointsCommand:uy,DescribeExportCommand:aB,DescribeGlobalTableCommand:dB,DescribeGlobalTableSettingsCommand:uB,DescribeImportCommand:fB,DescribeKinesisStreamingDestinationCommand:hB,DescribeLimitsCommand:_B,DescribeTableCommand:zp,DescribeTableReplicaAutoScalingCommand:EB,DescribeTimeToLiveCommand:bB,DisableKinesisStreamingDestinationCommand:wB,EnableKinesisStreamingDestinationCommand:TB,ExecuteStatementCommand:OB,ExecuteTransactionCommand:AB,ExportTableToPointInTimeCommand:NB,GetItemCommand:$B,GetResourcePolicyCommand:kB,ImportTableCommand:jB,ListBackupsCommand:UB,ListContributorInsightsCommand:py,ListExportsCommand:fy,ListGlobalTablesCommand:VB,ListImportsCommand:my,ListTablesCommand:hy,ListTagsOfResourceCommand:KB,PutItemCommand:YB,PutResourcePolicyCommand:QB,QueryCommand:gy,RestoreTableFromBackupCommand:t2,RestoreTableToPointInTimeCommand:n2,ScanCommand:_y,TagResourceCommand:s2,TransactGetItemsCommand:c2,TransactWriteItemsCommand:l2,UntagResourceCommand:p2,UpdateContinuousBackupsCommand:m2,UpdateContributorInsightsCommand:g2,UpdateGlobalTableCommand:v2,UpdateGlobalTableSettingsCommand:E2,UpdateItemCommand:b2,UpdateKinesisStreamingDestinationCommand:w2,UpdateTableCommand:T2,UpdateTableReplicaAutoScalingCommand:O2,UpdateTimeToLiveCommand:A2},x2=class extends fo{};u(x2,"DynamoDB");var N2=x2;(0,d.createAggregatedClient)(RSe,N2);var ASe=ct(),xSe=(0,ASe.createPaginator)(fo,py,"NextToken","NextToken","MaxResults"),NSe=ct(),DSe=(0,NSe.createPaginator)(fo,fy,"NextToken","NextToken","MaxResults"),$Se=ct(),MSe=(0,$Se.createPaginator)(fo,my,"NextToken","NextToken","PageSize"),kSe=ct(),LSe=(0,kSe.createPaginator)(fo,hy,"ExclusiveStartTableName","LastEvaluatedTableName","Limit"),jSe=ct(),qSe=(0,jSe.createPaginator)(fo,gy,"ExclusiveStartKey","LastEvaluatedKey","Limit"),USe=ct(),FSe=(0,USe.createPaginator)(fo,_y,"ExclusiveStartKey","LastEvaluatedKey","Limit"),hr=mq(),D2=u(async(e,t)=>{let r;try{let n=await e.send(new zp(t));r=n;try{if(u(()=>n.Table.TableStatus,"returnComparator")()==="ACTIVE")return{state:hr.WaiterState.SUCCESS,reason:r}}catch{}}catch(n){if(r=n,n.name&&n.name=="ResourceNotFoundException")return{state:hr.WaiterState.RETRY,reason:r}}return{state:hr.WaiterState.RETRY,reason:r}},"checkState"),BSe=u(async(e,t)=>{let r={minDelay:20,maxDelay:120};return(0,hr.createWaiter)({...r,...e},t,D2)},"waitForTableExists"),GSe=u(async(e,t)=>{let r={minDelay:20,maxDelay:120},n=await(0,hr.createWaiter)({...r,...e},t,D2);return(0,hr.checkExceptions)(n)},"waitUntilTableExists"),$2=u(async(e,t)=>{let r;try{r=await e.send(new zp(t))}catch(n){if(r=n,n.name&&n.name=="ResourceNotFoundException")return{state:hr.WaiterState.SUCCESS,reason:r}}return{state:hr.WaiterState.RETRY,reason:r}},"checkState"),VSe=u(async(e,t)=>{let r={minDelay:20,maxDelay:120};return(0,hr.createWaiter)({...r,...e},t,$2)},"waitForTableNotExists"),zSe=u(async(e,t)=>{let r={minDelay:20,maxDelay:120},n=await(0,hr.createWaiter)({...r,...e},t,$2);return(0,hr.checkExceptions)(n)},"waitUntilTableNotExists")});var Q2=m((GOe,X2)=>{var Wp=Object.defineProperty,HSe=Object.getOwnPropertyDescriptor,WSe=Object.getOwnPropertyNames,KSe=Object.prototype.hasOwnProperty,qe=(e,t)=>Wp(e,"name",{value:t,configurable:!0}),JSe=(e,t)=>{for(var r in t)Wp(e,r,{get:t[r],enumerable:!0})},YSe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of WSe(t))!KSe.call(e,o)&&o!==r&&Wp(e,o,{get:()=>t[o],enumerable:!(n=HSe(t,o))||n.enumerable});return e},XSe=e=>YSe(Wp({},"__esModule",{value:!0}),e),B2={};JSe(B2,{NumberValueImpl:()=>Kp,convertToAttr:()=>kc,convertToNative:()=>Mc,marshall:()=>Y2,unmarshall:()=>nbe});X2.exports=XSe(B2);var G2=class V2{constructor(t){typeof t=="object"&&"N"in t?this.value=String(t.N):this.value=String(t);let r=typeof t.valueOf()=="number"?t.valueOf():0;if(r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER||Math.abs(r)===1/0||Number.isNaN(r))throw new Error(`NumberValue should not be initialized with an imprecise number=${r}. Use a string instead.`)}static from(t){return new V2(t)}toAttributeValue(){return{N:this.toString()}}toBigInt(){let t=this.toString();return BigInt(t)}toString(){return String(this.value)}valueOf(){return this.toString()}};qe(G2,"NumberValue");var Kp=G2,kc=qe((e,t)=>{var r,n,o,i,s,a;if(e===void 0)throw new Error("Pass options.removeUndefinedValues=true to remove undefined values from map/array/set.");if(e===null&&typeof e=="object")return Hp();if(Array.isArray(e))return QSe(e,t);if(((r=e?.constructor)==null?void 0:r.name)==="Set")return ZSe(e,t);if(((n=e?.constructor)==null?void 0:n.name)==="Map")return ebe(e,t);if(((o=e?.constructor)==null?void 0:o.name)==="Object"||!e.constructor&&typeof e=="object")return L2(e,t);if(J2(e))return e.length===0&&t?.convertEmptyValues?Hp():z2(e);if(typeof e=="boolean"||((i=e?.constructor)==null?void 0:i.name)==="Boolean")return{BOOL:e.valueOf()};if(typeof e=="number"||((s=e?.constructor)==null?void 0:s.name)==="Number")return K2(e);if(e instanceof Kp)return e.toAttributeValue();if(typeof e=="bigint")return W2(e);if(typeof e=="string"||((a=e?.constructor)==null?void 0:a.name)==="String")return e.length===0&&t?.convertEmptyValues?Hp():H2(e);if(t?.convertClassInstanceToMap&&typeof e=="object")return L2(e,t);throw new Error(`Unsupported type passed: ${e}. Pass options.convertClassInstanceToMap=true to marshall typeof object as map attribute.`)},"convertToAttr"),QSe=qe((e,t)=>({L:e.filter(r=>typeof r!="function"&&(!t?.removeUndefinedValues||t?.removeUndefinedValues&&r!==void 0)).map(r=>kc(r,t))}),"convertToListAttr"),ZSe=qe((e,t)=>{let r=t?.removeUndefinedValues?new Set([...e].filter(o=>o!==void 0)):e;if(!t?.removeUndefinedValues&&r.has(void 0))throw new Error("Pass options.removeUndefinedValues=true to remove undefined values from map/array/set.");if(r.size===0){if(t?.convertEmptyValues)return Hp();throw new Error("Pass a non-empty set, or options.convertEmptyValues=true.")}let n=r.values().next().value;if(n instanceof Kp)return{NS:Array.from(r).map(o=>o.toString())};if(typeof n=="number")return{NS:Array.from(r).map(K2).map(o=>o.N)};if(typeof n=="bigint")return{NS:Array.from(r).map(W2).map(o=>o.N)};if(typeof n=="string")return{SS:Array.from(r).map(H2).map(o=>o.S)};if(J2(n))return{BS:Array.from(r).map(z2).map(o=>o.B)};throw new Error("Only Number Set (NS), Binary Set (BS) or String Set (SS) are allowed.")},"convertToSetAttr"),ebe=qe((e,t)=>({M:(r=>{let n={};for(let[o,i]of r)typeof i!="function"&&(i!==void 0||!t?.removeUndefinedValues)&&(n[o]=kc(i,t));return n})(e)}),"convertToMapAttrFromIterable"),L2=qe((e,t)=>({M:(r=>{let n={};for(let o in r){let i=r[o];typeof i!="function"&&(i!==void 0||!t?.removeUndefinedValues)&&(n[o]=kc(i,t))}return n})(e)}),"convertToMapAttrFromEnumerableProps"),Hp=qe(()=>({NULL:!0}),"convertToNullAttr"),z2=qe(e=>({B:e}),"convertToBinaryAttr"),H2=qe(e=>({S:e.toString()}),"convertToStringAttr"),W2=qe(e=>({N:e.toString()}),"convertToBigIntAttr"),j2=qe(e=>{throw new Error(`${e} ${typeof BigInt=="function"?"Use BigInt.":"Pass string value instead."} `)},"validateBigIntAndThrow"),K2=qe(e=>{if([Number.NaN,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY].map(t=>t.toString()).includes(e.toString()))throw new Error(`Special numeric value ${e.toString()} is not allowed`);return e>Number.MAX_SAFE_INTEGER?j2(`Number ${e.toString()} is greater than Number.MAX_SAFE_INTEGER.`):e<Number.MIN_SAFE_INTEGER&&j2(`Number ${e.toString()} is lesser than Number.MIN_SAFE_INTEGER.`),{N:e.toString()}},"convertToNumberAttr"),J2=qe(e=>{let t=["ArrayBuffer","Blob","Buffer","DataView","File","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];return e?.constructor?t.includes(e.constructor.name):!1},"isBinary"),Mc=qe((e,t)=>{for(let[r,n]of Object.entries(e))if(n!==void 0)switch(r){case"NULL":return null;case"BOOL":return!!n;case"N":return q2(n,t);case"B":return F2(n);case"S":return U2(n);case"L":return tbe(n,t);case"M":return rbe(n,t);case"NS":return new Set(n.map(o=>q2(o,t)));case"BS":return new Set(n.map(F2));case"SS":return new Set(n.map(U2));default:throw new Error(`Unsupported type passed: ${r}`)}throw new Error(`No value defined: ${JSON.stringify(e)}`)},"convertToNative"),q2=qe((e,t)=>{if(t?.wrapNumbers)return Kp.from(e);let r=Number(e),n=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];if((r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER)&&!n.includes(r))if(typeof BigInt=="function")try{return BigInt(e)}catch{throw new Error(`${e} can't be converted to BigInt. Set options.wrapNumbers to get string value.`)}else throw new Error(`${e} is outside SAFE_INTEGER bounds. Set options.wrapNumbers to get string value.`);return r},"convertNumber"),U2=qe(e=>e,"convertString"),F2=qe(e=>e,"convertBinary"),tbe=qe((e,t)=>e.map(r=>Mc(r,t)),"convertList"),rbe=qe((e,t)=>Object.entries(e).reduce((r,[n,o])=>(r[n]=Mc(o,t),r),{}),"convertMap");function Y2(e,t){let r=kc(e,t),[n,o]=Object.entries(r)[0];switch(n){case"M":case"L":return t?.convertTopLevelContainer?r:o;case"SS":case"NS":case"BS":case"S":case"N":case"B":case"NULL":case"BOOL":case"$unknown":default:return r}}qe(Y2,"marshall");var nbe=qe((e,t)=>t?.convertWithoutMapWrapper?Mc(e,t):Mc({M:e},t),"unmarshall")});var ube={};Fc(ube,{handler:()=>lbe});module.exports=Kr(ube);var vy=br(td());Nf();var rG=br(OP());var I8=(e="/")=>({statusCode:500,body:JSON.stringify({type:"urn:problem:server-error",title:"Server Error",detail:"An unexpected error has occurred, contact the administrator.",status:500,instance:e}),headers:{"Content-Type":"application/problem+json"}});var O8=e=>({statusCode:200,body:JSON.stringify({type:"urn:success:ok",title:"OK",detail:e,status:200}),headers:{"Content-Type":"application/json"}}),R8=e=>({statusCode:200,body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}),A8=e=>(t="/")=>({statusCode:400,body:JSON.stringify({type:"urn:problem:bad-request",title:"Bad Request",detail:e.message,status:400,instance:t}),headers:{"Content-Type":"application/problem+json"}}),x8=e=>(t="/")=>({statusCode:404,body:JSON.stringify({type:"urn:problem:not-found",title:"Not Found",detail:e.message,status:404,instance:t}),headers:{"Content-Type":"application/problem+json"}}),N8=e=>(t="/")=>({statusCode:409,body:JSON.stringify({type:"urn:problem:conflict",title:"Conflict",detail:e.message,status:409,instance:t}),headers:{"Content-Type":"application/problem+json"}}),D8=e=>(t="/")=>({statusCode:429,body:JSON.stringify({type:"urn:problem:too-many-requests",title:"Too Many Requests",detail:e.message,status:429,instance:t}),headers:{"Content-Type":"application/problem+json"}}),$8=e=>(t="/")=>({statusCode:401,body:JSON.stringify({type:"urn:problem:unauthorized",title:"Unauthorized",detail:e.message,status:401,instance:t}),headers:{"Content-Type":"application/problem+json"}}),M8=(e,t)=>(r="/")=>({statusCode:t,body:JSON.stringify({type:`urn:problem:${e.replace(" ","-").toLowerCase()}`,title:e,detail:e,status:t,instance:r}),headers:{"Content-Type":"application/problem+json"}}),k8=e=>(t="/")=>({statusCode:422,body:JSON.stringify({type:"urn:problem:unprocessable-entity",title:"Unprocessable Entity",detail:e.message,status:422,instance:t}),headers:{"Content-Type":"application/problem+json"}}),Wh={serverError:I8,ok:O8,success:R8,badRequest:A8,generic:M8,notFound:x8,conflict:N8,tooManyRequest:D8,unauthorized:$8,unprocessable:k8};var L8={type:"object",properties:{pathParameters:{type:"object",required:["id"],additionalProperties:!1,properties:{id:{type:"string",transform:["trim","toUpperCase"],minLength:1,maxLength:35,pattern:"^[a-zA-Z0-9-_]+$"}}}}},RP=L8;var Jp=br(k2()),Yp=br(Q2());var obe={region:"eu-west-1"},Z2=obe;var ibe=e=>({id:e.id,name:e.name,lastName:e.lastName,email:e.email,numbersPhone:e.numbersPhone,age:e.age,address:e.address}),eG=ibe;var sbe=new Jp.DynamoDBClient(Z2),abe=process.env.ROKA_TABLE_NAME,cbe=async e=>{let t={TableName:abe,Key:(0,Yp.marshall)({PK:`user#${e}`,SK:`user#${e}`})},r=await sbe.send(new Jp.GetItemCommand(t)),n=(0,Yp.unmarshall)(r.Item);return eG(n)},tG=cbe;var dbe=async e=>{let t=e.pathParameters.id;console.log("\u{1F680} ~ getUser ~ id:",t);try{let r=await tG(t);return yd.info("getUser successfully"),Ed.addMetric("getUserSuccess",vy.MetricUnits.Count,1),Wh.success(r)}catch(r){return yd.error(r),Ed.addMetric("getUserError",vy.MetricUnits.Count,1),Wh.error({error:r})}},lbe=rG.default.adapter(dbe,RP);0&&(module.exports={handler});
/*! Bundled license information:

uri-js/dist/es5/uri.all.js:
  (** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js *)
*/
