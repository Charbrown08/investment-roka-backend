var G4=Object.create;var Kd=Object.defineProperty;var W4=Object.getOwnPropertyDescriptor;var K4=Object.getOwnPropertyNames;var X4=Object.getPrototypeOf,J4=Object.prototype.hasOwnProperty;var ot=(e,t)=>()=>(e&&(t=e(e=0)),t);var g=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Xd=(e,t)=>{for(var r in t)Kd(e,r,{get:t[r],enumerable:!0})},xb=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of K4(t))!J4.call(e,i)&&i!==r&&Kd(e,i,{get:()=>t[i],enumerable:!(n=W4(t,i))||n.enumerable});return e};var Rn=(e,t,r)=>(r=e!=null?G4(X4(e)):{},xb(t||!e||!e.__esModule?Kd(r,"default",{value:e,enumerable:!0}):r,e)),ni=e=>xb(Kd({},"__esModule",{value:!0}),e);var Cb=g(bb=>{"use strict";Object.defineProperty(bb,"__esModule",{value:!0})});var wb=g(ts=>{"use strict";var Y4=ts&&ts.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Q4=ts&&ts.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Y4(t,e,r)};Object.defineProperty(ts,"__esModule",{value:!0});Q4(Cb(),ts)});var Rb=g(Jd=>{"use strict";Object.defineProperty(Jd,"__esModule",{value:!0});Jd.Utility=void 0;var ah=class{constructor(){this.coldStart=!0,this.defaultServiceName="service_undefined"}getColdStart(){return this.coldStart?(this.coldStart=!1,!0):!1}isColdStart(){return this.getColdStart()}getDefaultServiceName(){return this.defaultServiceName}isValidServiceName(t){return typeof t=="string"&&t.trim().length>0}};Jd.Utility=ah});var Pb=g(Yd=>{"use strict";Object.defineProperty(Yd,"__esModule",{value:!0});Yd.ConfigService=void 0;var ch=class{};Yd.ConfigService=ch});var Tb=g(Qd=>{"use strict";Object.defineProperty(Qd,"__esModule",{value:!0});Qd.EnvironmentVariablesService=void 0;var lh=class{constructor(){this.devModeVariable="POWERTOOLS_DEV",this.serviceNameVariable="POWERTOOLS_SERVICE_NAME",this.xRayTraceIdVariable="_X_AMZN_TRACE_ID"}get(t){return process.env[t]?.trim()||""}getServiceName(){return this.get(this.serviceNameVariable)}getXrayTraceId(){return this.getXrayTraceData()?.Root}getXrayTraceSampled(){return this.getXrayTraceData()?.Sampled==="1"}isDevMode(){return this.isValueTrue(this.get(this.devModeVariable))}isValueTrue(t){return["1","y","yes","t","true","on"].includes(t.toLowerCase())}getXrayTraceData(){let t=this.get(this.xRayTraceIdVariable);if(t==="")return;if(!t.includes("="))return{Root:t};let r={};return t.split(";").forEach(n=>{let[i,s]=n.split("=");r[i]=s}),r}};Qd.EnvironmentVariablesService=lh});var Ib=g(ii=>{"use strict";var Z4=ii&&ii.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ab=ii&&ii.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Z4(t,e,r)};Object.defineProperty(ii,"__esModule",{value:!0});Ab(Pb(),ii);Ab(Tb(),ii)});var Ob=g(Zd=>{"use strict";Object.defineProperty(Zd,"__esModule",{value:!0});Zd.helloworldContext=void 0;var e6={callbackWaitsForEmptyEventLoop:!0,functionVersion:"$LATEST",functionName:"foo-bar-function",memoryLimitInMB:"128",logGroupName:"/aws/lambda/foo-bar-function-123456abcdef",logStreamName:"2021/03/09/[$LATEST]abcdef123456abcdef123456abcdef123456",invokedFunctionArn:"arn:aws:lambda:eu-west-1:123456789012:function:foo-bar-function",awsRequestId:"c6af9ac6-7b61-11e6-9a41-93e812345678",getRemainingTimeInMillis:()=>1234,done:()=>console.log("Done!"),fail:()=>console.log("Failed!"),succeed:()=>console.log("Succeeded!")};Zd.helloworldContext=e6});var Db=g(rs=>{"use strict";var t6=rs&&rs.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),r6=rs&&rs.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&t6(t,e,r)};Object.defineProperty(rs,"__esModule",{value:!0});r6(Ob(),rs)});var Nb=g(eu=>{"use strict";Object.defineProperty(eu,"__esModule",{value:!0});eu.CustomEvent=void 0;eu.CustomEvent={key1:"value1",key2:"value2",key3:"value3"}});var $b=g(Gr=>{"use strict";var n6=Gr&&Gr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),i6=Gr&&Gr.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s6=Gr&&Gr.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&n6(t,e,r);return i6(t,e),t};Object.defineProperty(Gr,"__esModule",{value:!0});Gr.Custom=void 0;Gr.Custom=s6(Nb())});var Mb=g(kb=>{"use strict";Object.defineProperty(kb,"__esModule",{value:!0})});var qb=g(Wr=>{"use strict";Object.defineProperty(Wr,"__esModule",{value:!0});Wr.isNullOrUndefined=Wr.isTruthy=Wr.isString=Wr.isRecord=void 0;var jb=e=>Object.prototype.toString.call(e)==="[object Object]"&&!Object.is(e,null);Wr.isRecord=jb;var o6=e=>typeof e=="string"?e!=="":typeof e=="number"?e!==0:typeof e=="boolean"?e:Array.isArray(e)?e.length>0:jb(e)?Object.keys(e).length>0:!1;Wr.isTruthy=o6;var a6=e=>Object.is(e,null)||Object.is(e,void 0);Wr.isNullOrUndefined=a6;var c6=e=>typeof e=="string";Wr.isString=c6});var Lb=g(tu=>{"use strict";Object.defineProperty(tu,"__esModule",{value:!0});tu.PT_VERSION=void 0;tu.PT_VERSION="1.18.1"});var dh=g(ru=>{"use strict";Object.defineProperty(ru,"__esModule",{value:!0});ru.isSdkClient=void 0;var l6=e=>typeof e=="object"&&e!==null&&"send"in e&&typeof e.send=="function"&&"config"in e&&e.config!==void 0&&typeof e.config=="object"&&e.config!==null&&"middlewareStack"in e&&e.middlewareStack!==void 0&&typeof e.middlewareStack=="object"&&e.middlewareStack!==null&&"identify"in e.middlewareStack&&typeof e.middlewareStack.identify=="function"&&"addRelativeTo"in e.middlewareStack&&typeof e.middlewareStack.addRelativeTo=="function";ru.isSdkClient=l6});var Ub=g(Bs=>{"use strict";Object.defineProperty(Bs,"__esModule",{value:!0});Bs.addUserAgentMiddleware=Bs.customUserAgentMiddleware=void 0;var d6=Lb(),u6=dh(),p6=process.env.AWS_EXECUTION_ENV||"NA",m6={relation:"after",toMiddleware:"getUserAgentMiddleware",name:"addPowertoolsToUserAgent",tags:["POWERTOOLS","USER_AGENT"]},Fb=e=>t=>async r=>{let n=`PT/${e}/${d6.PT_VERSION} PTEnv/${p6}`;return r.request.headers["user-agent"]=`${r.request.headers["user-agent"]} ${n}`,await t(r)};Bs.customUserAgentMiddleware=Fb;var f6=e=>{let t=!1;for(let r of e)r.includes("addPowertoolsToUserAgent")&&(t=!0);return t},h6=(e,t)=>{try{if((0,u6.isSdkClient)(e)){if(f6(e.middlewareStack.identify()))return;e.middlewareStack.addRelativeTo(Fb(t),m6)}else throw new Error("The client provided does not match the expected interface")}catch(r){console.warn("Failed to add user agent middleware",r)}};Bs.addUserAgentMiddleware=h6});var zb=g(Gs=>{"use strict";Object.defineProperty(Gs,"__esModule",{value:!0});Gs.isSdkClient=Gs.addUserAgentMiddleware=void 0;var g6=Ub();Object.defineProperty(Gs,"addUserAgentMiddleware",{enumerable:!0,get:function(){return g6.addUserAgentMiddleware}});var v6=dh();Object.defineProperty(Gs,"isSdkClient",{enumerable:!0,get:function(){return v6.isSdkClient}})});var oc=g(tt=>{"use strict";var Vb=tt&&tt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),_6=tt&&tt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ws=tt&&tt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Vb(t,e,r)},Hb=tt&&tt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Vb(t,e,r);return _6(t,e),t};Object.defineProperty(tt,"__esModule",{value:!0});tt.Events=tt.ContextExamples=void 0;Ws(wb(),tt);Ws(Rb(),tt);Ws(Ib(),tt);tt.ContextExamples=Hb(Db());tt.Events=Hb($b());Ws(Mb(),tt);Ws(qb(),tt);Ws(zb(),tt)});var Gb=g(Bb=>{"use strict";Object.defineProperty(Bb,"__esModule",{value:!0})});var Wb=g(nu=>{"use strict";Object.defineProperty(nu,"__esModule",{value:!0});nu.EnvironmentVariablesService=void 0;var y6=oc(),uh=class extends y6.EnvironmentVariablesService{constructor(){super(...arguments),this.namespaceVariable="POWERTOOLS_METRICS_NAMESPACE"}getNamespace(){return this.get(this.namespaceVariable)}};nu.EnvironmentVariablesService=uh});var Xb=g(si=>{"use strict";var E6=si&&si.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Kb=si&&si.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&E6(t,e,r)};Object.defineProperty(si,"__esModule",{value:!0});Kb(Gb(),si);Kb(Wb(),si)});var Jb=g(Yt=>{"use strict";Object.defineProperty(Yt,"__esModule",{value:!0});Yt.MAX_DIMENSION_COUNT=Yt.MAX_METRIC_VALUES_SIZE=Yt.MAX_METRICS_SIZE=Yt.DEFAULT_NAMESPACE=Yt.COLD_START_METRIC=void 0;var S6="ColdStart";Yt.COLD_START_METRIC=S6;var x6="default_namespace";Yt.DEFAULT_NAMESPACE=x6;var b6=100;Yt.MAX_METRICS_SIZE=b6;var C6=100;Yt.MAX_METRIC_VALUES_SIZE=C6;var w6=29;Yt.MAX_DIMENSION_COUNT=w6});var Qb=g(Yb=>{"use strict";Object.defineProperty(Yb,"__esModule",{value:!0})});var eC=g(iu=>{"use strict";Object.defineProperty(iu,"__esModule",{value:!0});iu.MetricUnits=void 0;var Zb;(function(e){e.Seconds="Seconds",e.Microseconds="Microseconds",e.Milliseconds="Milliseconds",e.Bytes="Bytes",e.Kilobytes="Kilobytes",e.Megabytes="Megabytes",e.Gigabytes="Gigabytes",e.Terabytes="Terabytes",e.Bits="Bits",e.Kilobits="Kilobits",e.Megabits="Megabits",e.Gigabits="Gigabits",e.Terabits="Terabits",e.Percent="Percent",e.Count="Count",e.BytesPerSecond="Bytes/Second",e.KilobytesPerSecond="Kilobytes/Second",e.MegabytesPerSecond="Megabytes/Second",e.GigabytesPerSecond="Gigabytes/Second",e.TerabytesPerSecond="Terabytes/Second",e.BitsPerSecond="Bits/Second",e.KilobitsPerSecond="Kilobits/Second",e.MegabitsPerSecond="Megabits/Second",e.GigabitsPerSecond="Gigabits/Second",e.TerabitsPerSecond="Terabits/Second",e.CountPerSecond="Count/Second"})(Zb||(iu.MetricUnits=Zb={}))});var tC=g(su=>{"use strict";Object.defineProperty(su,"__esModule",{value:!0});su.MetricResolution=void 0;var R6={Standard:60,High:1};su.MetricResolution=R6});var rC=g(Pn=>{"use strict";var P6=Pn&&Pn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ph=Pn&&Pn.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&P6(t,e,r)};Object.defineProperty(Pn,"__esModule",{value:!0});ph(Qb(),Pn);ph(eC(),Pn);ph(tC(),Pn)});var nC=g(oi=>{"use strict";Object.defineProperty(oi,"__esModule",{value:!0});oi.MetricResolution=oi.MetricUnits=oi.Metrics=void 0;var T6=require("node:console"),A6=oc(),I6=Xb(),Tn=Jb(),ac=rC();Object.defineProperty(oi,"MetricUnits",{enumerable:!0,get:function(){return ac.MetricUnits}});Object.defineProperty(oi,"MetricResolution",{enumerable:!0,get:function(){return ac.MetricResolution}});var mh=class e extends A6.Utility{constructor(t={}){super(),this.defaultDimensions={},this.dimensions={},this.isSingleMetric=!1,this.metadata={},this.shouldThrowOnEmptyMetrics=!1,this.storedMetrics={},this.dimensions={},this.setOptions(t)}addDimension(t,r){if(Tn.MAX_DIMENSION_COUNT<=this.getCurrentDimensionsCount())throw new RangeError(`The number of metric dimensions must be lower than ${Tn.MAX_DIMENSION_COUNT}`);this.dimensions[t]=r}addDimensions(t){let r={...this.dimensions};if(Object.keys(t).forEach(n=>{r[n]=t[n]}),Object.keys(r).length>Tn.MAX_DIMENSION_COUNT)throw new RangeError(`Unable to add ${Object.keys(t).length} dimensions: the number of metric dimensions must be lower than ${Tn.MAX_DIMENSION_COUNT}`);this.dimensions=r}addMetadata(t,r){this.metadata[t]=r}addMetric(t,r,n,i=ac.MetricResolution.Standard){this.storeMetric(t,r,n,i),this.isSingleMetric&&this.publishStoredMetrics()}captureColdStartMetric(){if(!this.isColdStart())return;let t=this.singleMetric();this.defaultDimensions.service&&t.setDefaultDimensions({service:this.defaultDimensions.service}),this.functionName!=null&&t.addDimension("function_name",this.functionName),t.addMetric(Tn.COLD_START_METRIC,ac.MetricUnits.Count,1)}clearDefaultDimensions(){this.defaultDimensions={}}clearDimensions(){this.dimensions={}}clearMetadata(){this.metadata={}}clearMetrics(){this.storedMetrics={}}logMetrics(t={}){let{throwOnEmptyMetrics:r,defaultDimensions:n,captureColdStartMetric:i}=t;return r&&this.throwOnEmptyMetrics(),n!==void 0&&this.setDefaultDimensions(n),(s,o,a)=>{let c=a.value,l=this;return a.value=async function(d,p,m){l.functionName=p.functionName,i&&l.captureColdStartMetric();let f;try{f=await c.apply(this,[d,p,m])}catch(v){throw v}finally{l.publishStoredMetrics()}return f},a}}publishStoredMetrics(){!this.shouldThrowOnEmptyMetrics&&Object.keys(this.storedMetrics).length===0&&console.warn("No application metrics to publish. The cold-start metric may be published if enabled. If application metrics should never be empty, consider using `throwOnEmptyMetrics`");let t=this.serializeMetrics();this.console.log(JSON.stringify(t)),this.clearMetrics(),this.clearDimensions(),this.clearMetadata()}serializeMetrics(){let t=Object.values(this.storedMetrics).map(i=>({Name:i.name,Unit:i.unit,...i.resolution===ac.MetricResolution.High?{StorageResolution:i.resolution}:{}}));if(t.length===0&&this.shouldThrowOnEmptyMetrics)throw new RangeError("The number of metrics recorded must be higher than zero");this.namespace||console.warn("Namespace should be defined, default used");let r=Object.values(this.storedMetrics).reduce((i,{name:s,value:o})=>(i[s]=o,i),{}),n=[...new Set([...Object.keys(this.defaultDimensions),...Object.keys(this.dimensions)])];return{_aws:{Timestamp:new Date().getTime(),CloudWatchMetrics:[{Namespace:this.namespace||Tn.DEFAULT_NAMESPACE,Dimensions:[n],Metrics:t}]},...this.defaultDimensions,...this.dimensions,...r,...this.metadata}}setDefaultDimensions(t){let r={...this.defaultDimensions,...t};if(Tn.MAX_DIMENSION_COUNT<=Object.keys(r).length)throw new Error("Max dimension count hit");this.defaultDimensions=r}setFunctionName(t){this.functionName=t}singleMetric(){return new e({namespace:this.namespace,serviceName:this.dimensions.service,defaultDimensions:this.defaultDimensions,singleMetric:!0})}throwOnEmptyMetrics(){this.shouldThrowOnEmptyMetrics=!0}getCurrentDimensionsCount(){return Object.keys(this.dimensions).length+Object.keys(this.defaultDimensions).length}getCustomConfigService(){return this.customConfigService}getEnvVarsService(){return this.envVarsService}isNewMetric(t,r){if(this.storedMetrics[t]){if(this.storedMetrics[t].unit!==r){let n=this.storedMetrics[t].unit;throw new Error(`Metric "${t}" has already been added with unit "${n}", but we received unit "${r}". Did you mean to use metric unit "${n}"?`)}return!1}else return!0}setConsole(){this.getEnvVarsService().isDevMode()?this.console=console:this.console=new T6.Console({stdout:process.stdout,stderr:process.stderr})}setCustomConfigService(t){this.customConfigService=t||void 0}setEnvVarsService(){this.envVarsService=new I6.EnvironmentVariablesService}setNamespace(t){this.namespace=t||this.getCustomConfigService()?.getNamespace()||this.getEnvVarsService().getNamespace()}setOptions(t){let{customConfigService:r,namespace:n,serviceName:i,singleMetric:s,defaultDimensions:o}=t;return this.setEnvVarsService(),this.setConsole(),this.setCustomConfigService(r),this.setNamespace(n),this.setService(i),this.setDefaultDimensions(o),this.isSingleMetric=s||!1,this}setService(t){let r=t||this.getCustomConfigService()?.getServiceName()||this.getEnvVarsService().getServiceName()||this.getDefaultServiceName();r.length>0&&this.setDefaultDimensions({service:r})}storeMetric(t,r,n,i){if(Object.keys(this.storedMetrics).length>=Tn.MAX_METRICS_SIZE&&this.publishStoredMetrics(),this.isNewMetric(t,r))this.storedMetrics[t]={unit:r,value:n,name:t,resolution:i};else{let s=this.storedMetrics[t];Array.isArray(s.value)||(s.value=[s.value]),s.value.push(n),s.value.length===Tn.MAX_METRIC_VALUES_SIZE&&this.publishStoredMetrics()}}};oi.Metrics=mh});var sC=g(iC=>{"use strict";Object.defineProperty(iC,"__esModule",{value:!0})});var fh=g(Qt=>{"use strict";Object.defineProperty(Qt,"__esModule",{value:!0});Qt.IDEMPOTENCY_KEY=Qt.LOGGER_KEY=Qt.METRICS_KEY=Qt.TRACER_KEY=Qt.PREFIX=void 0;var cc="powertools-for-aws";Qt.PREFIX=cc;var O6=`${cc}.tracer`;Qt.TRACER_KEY=O6;var D6=`${cc}.metrics`;Qt.METRICS_KEY=D6;var N6=`${cc}.logger`;Qt.LOGGER_KEY=N6;var $6=`${cc}.idempotency`;Qt.IDEMPOTENCY_KEY=$6});var oC=g(au=>{"use strict";Object.defineProperty(au,"__esModule",{value:!0});au.cleanupMiddlewares=void 0;var ou=fh(),k6=e=>typeof e=="function",M6=async e=>{let t=[ou.TRACER_KEY,ou.METRICS_KEY,ou.LOGGER_KEY,ou.IDEMPOTENCY_KEY];for(let r of t)if(Object(e.internal).hasOwnProperty(r)){let n=e.internal[r];k6(n)&&await n(e)}};au.cleanupMiddlewares=M6});var hh=g(ai=>{"use strict";var j6=ai&&ai.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),aC=ai&&ai.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&j6(t,e,r)};Object.defineProperty(ai,"__esModule",{value:!0});aC(oC(),ai);aC(fh(),ai)});var cC=g(cu=>{"use strict";Object.defineProperty(cu,"__esModule",{value:!0});cu.logMetrics=void 0;var q6=hh(),L6=(e,t={})=>{let r=e instanceof Array?e:[e],n=o=>{o.internal={...o.internal,[q6.METRICS_KEY]:s}},i=async o=>{r.forEach(a=>{a.setFunctionName(o.context.functionName);let{throwOnEmptyMetrics:c,defaultDimensions:l,captureColdStartMetric:d}=t;c&&a.throwOnEmptyMetrics(),l!==void 0&&a.setDefaultDimensions(l),d&&a.captureColdStartMetric()}),n(o)},s=async()=>{r.forEach(o=>{o.publishStoredMetrics()})};return{before:i,after:s,onError:s}};cu.logMetrics=L6});var lC=g(ns=>{"use strict";var F6=ns&&ns.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),U6=ns&&ns.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&F6(t,e,r)};Object.defineProperty(ns,"__esModule",{value:!0});U6(cC(),ns)});var lu=g(An=>{"use strict";var z6=An&&An.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),gh=An&&An.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&z6(t,e,r)};Object.defineProperty(An,"__esModule",{value:!0});gh(nC(),An);gh(sC(),An);gh(lC(),An)});var dC=g(du=>{"use strict";Object.defineProperty(du,"__esModule",{value:!0});du.createLogger=void 0;var V6=uu(),H6=(e={})=>new V6.Logger(e);du.createLogger=H6});var uC=g(pu=>{"use strict";Object.defineProperty(pu,"__esModule",{value:!0});pu.LogFormatter=void 0;var B6=e=>"cause"in e,vh=class{formatError(t){return{name:t.name,location:this.getCodeLocation(t.stack),message:t.message,stack:t.stack,cause:B6(t)?t.cause instanceof Error?this.formatError(t.cause):t.cause:void 0}}formatTimestamp(t){return t.toISOString()}getCodeLocation(t){if(!t)return"";let r=t.split(`
`),n=/\((.*):(\d+):(\d+)\)\\?$/,i;for(i=0;i<r.length;i++){let s=n.exec(r[i]);if(Array.isArray(s))return`${s[1]}:${Number(s[2])}`}return""}};pu.LogFormatter=vh});var mC=g(pC=>{"use strict";Object.defineProperty(pC,"__esModule",{value:!0})});var fC=g(mu=>{"use strict";Object.defineProperty(mu,"__esModule",{value:!0});mu.PowertoolLogFormatter=void 0;var G6=fu(),_h=class extends G6.LogFormatter{formatAttributes(t){return{cold_start:t.lambdaContext?.coldStart,function_arn:t.lambdaContext?.invokedFunctionArn,function_memory_size:t.lambdaContext?.memoryLimitInMB,function_name:t.lambdaContext?.functionName,function_request_id:t.lambdaContext?.awsRequestId,level:t.logLevel,message:t.message,sampling_rate:t.sampleRateValue,service:t.serviceName,timestamp:this.formatTimestamp(t.timestamp),xray_trace_id:t.xRayTraceId}}};mu.PowertoolLogFormatter=_h});var fu=g(In=>{"use strict";var W6=In&&In.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),yh=In&&In.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&W6(t,e,r)};Object.defineProperty(In,"__esModule",{value:!0});yh(uC(),In);yh(mC(),In);yh(fC(),In)});var Ih=g((lc,Ks)=>{var K6=200,CC="__lodash_hash_undefined__",X6=800,J6=16,wC=9007199254740991,RC="[object Arguments]",Y6="[object Array]",Q6="[object AsyncFunction]",Z6="[object Boolean]",e5="[object Date]",t5="[object Error]",PC="[object Function]",r5="[object GeneratorFunction]",n5="[object Map]",i5="[object Number]",s5="[object Null]",TC="[object Object]",o5="[object Proxy]",a5="[object RegExp]",c5="[object Set]",l5="[object String]",d5="[object Undefined]",u5="[object WeakMap]",p5="[object ArrayBuffer]",m5="[object DataView]",f5="[object Float32Array]",h5="[object Float64Array]",g5="[object Int8Array]",v5="[object Int16Array]",_5="[object Int32Array]",y5="[object Uint8Array]",E5="[object Uint8ClampedArray]",S5="[object Uint16Array]",x5="[object Uint32Array]",b5=/[\\^$.*+?()[\]{}|]/g,C5=/^\[object .+?Constructor\]$/,w5=/^(?:0|[1-9]\d*)$/,Fe={};Fe[f5]=Fe[h5]=Fe[g5]=Fe[v5]=Fe[_5]=Fe[y5]=Fe[E5]=Fe[S5]=Fe[x5]=!0;Fe[RC]=Fe[Y6]=Fe[p5]=Fe[Z6]=Fe[m5]=Fe[e5]=Fe[t5]=Fe[PC]=Fe[n5]=Fe[i5]=Fe[TC]=Fe[a5]=Fe[c5]=Fe[l5]=Fe[u5]=!1;var AC=typeof global=="object"&&global&&global.Object===Object&&global,R5=typeof self=="object"&&self&&self.Object===Object&&self,pc=AC||R5||Function("return this")(),IC=typeof lc=="object"&&lc&&!lc.nodeType&&lc,dc=IC&&typeof Ks=="object"&&Ks&&!Ks.nodeType&&Ks,OC=dc&&dc.exports===IC,Eh=OC&&AC.process,hC=function(){try{var e=dc&&dc.require&&dc.require("util").types;return e||Eh&&Eh.binding&&Eh.binding("util")}catch{}}(),gC=hC&&hC.isTypedArray;function P5(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function T5(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function A5(e){return function(t){return e(t)}}function I5(e,t){return e?.[t]}function O5(e,t){return function(r){return e(t(r))}}var D5=Array.prototype,N5=Function.prototype,vu=Object.prototype,Sh=pc["__core-js_shared__"],_u=N5.toString,On=vu.hasOwnProperty,vC=function(){var e=/[^.]+$/.exec(Sh&&Sh.keys&&Sh.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),DC=vu.toString,$5=_u.call(Object),k5=RegExp("^"+_u.call(On).replace(b5,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),hu=OC?pc.Buffer:void 0,_C=pc.Symbol,yC=pc.Uint8Array,EC=hu?hu.allocUnsafe:void 0,NC=O5(Object.getPrototypeOf,Object),SC=Object.create,M5=vu.propertyIsEnumerable,j5=D5.splice,is=_C?_C.toStringTag:void 0,gu=function(){try{var e=Ph(Object,"defineProperty");return e({},"",{}),e}catch{}}(),q5=hu?hu.isBuffer:void 0,xC=Math.max,L5=Date.now,$C=Ph(pc,"Map"),uc=Ph(Object,"create"),F5=function(){function e(){}return function(t){if(!os(t))return{};if(SC)return SC(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function ss(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function U5(){this.__data__=uc?uc(null):{},this.size=0}function z5(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function V5(e){var t=this.__data__;if(uc){var r=t[e];return r===CC?void 0:r}return On.call(t,e)?t[e]:void 0}function H5(e){var t=this.__data__;return uc?t[e]!==void 0:On.call(t,e)}function B5(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=uc&&t===void 0?CC:t,this}ss.prototype.clear=U5;ss.prototype.delete=z5;ss.prototype.get=V5;ss.prototype.has=H5;ss.prototype.set=B5;function Dn(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function G5(){this.__data__=[],this.size=0}function W5(e){var t=this.__data__,r=yu(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():j5.call(t,r,1),--this.size,!0}function K5(e){var t=this.__data__,r=yu(t,e);return r<0?void 0:t[r][1]}function X5(e){return yu(this.__data__,e)>-1}function J5(e,t){var r=this.__data__,n=yu(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}Dn.prototype.clear=G5;Dn.prototype.delete=W5;Dn.prototype.get=K5;Dn.prototype.has=X5;Dn.prototype.set=J5;function Xs(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Y5(){this.size=0,this.__data__={hash:new ss,map:new($C||Dn),string:new ss}}function Q5(e){var t=Su(this,e).delete(e);return this.size-=t?1:0,t}function Z5(e){return Su(this,e).get(e)}function eW(e){return Su(this,e).has(e)}function tW(e,t){var r=Su(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}Xs.prototype.clear=Y5;Xs.prototype.delete=Q5;Xs.prototype.get=Z5;Xs.prototype.has=eW;Xs.prototype.set=tW;function Js(e){var t=this.__data__=new Dn(e);this.size=t.size}function rW(){this.__data__=new Dn,this.size=0}function nW(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function iW(e){return this.__data__.get(e)}function sW(e){return this.__data__.has(e)}function oW(e,t){var r=this.__data__;if(r instanceof Dn){var n=r.__data__;if(!$C||n.length<K6-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Xs(n)}return r.set(e,t),this.size=r.size,this}Js.prototype.clear=rW;Js.prototype.delete=nW;Js.prototype.get=iW;Js.prototype.has=sW;Js.prototype.set=oW;function aW(e,t){var r=wh(e),n=!r&&Ch(e),i=!r&&!n&&qC(e),s=!r&&!n&&!i&&FC(e),o=r||n||i||s,a=o?T5(e.length,String):[],c=a.length;for(var l in e)(t||On.call(e,l))&&!(o&&(l=="length"||i&&(l=="offset"||l=="parent")||s&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||MC(l,c)))&&a.push(l);return a}function xh(e,t,r){(r!==void 0&&!xu(e[t],r)||r===void 0&&!(t in e))&&Rh(e,t,r)}function cW(e,t,r){var n=e[t];(!(On.call(e,t)&&xu(n,r))||r===void 0&&!(t in e))&&Rh(e,t,r)}function yu(e,t){for(var r=e.length;r--;)if(xu(e[r][0],t))return r;return-1}function Rh(e,t,r){t=="__proto__"&&gu?gu(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var lW=xW();function Eu(e){return e==null?e===void 0?d5:s5:is&&is in Object(e)?bW(e):AW(e)}function bC(e){return mc(e)&&Eu(e)==RC}function dW(e){if(!os(e)||PW(e))return!1;var t=Ah(e)?k5:C5;return t.test(NW(e))}function uW(e){return mc(e)&&LC(e.length)&&!!Fe[Eu(e)]}function pW(e){if(!os(e))return TW(e);var t=jC(e),r=[];for(var n in e)n=="constructor"&&(t||!On.call(e,n))||r.push(n);return r}function kC(e,t,r,n,i){e!==t&&lW(t,function(s,o){if(i||(i=new Js),os(s))mW(e,t,o,r,kC,n,i);else{var a=n?n(bh(e,o),s,o+"",e,t,i):void 0;a===void 0&&(a=s),xh(e,o,a)}},UC)}function mW(e,t,r,n,i,s,o){var a=bh(e,r),c=bh(t,r),l=o.get(c);if(l){xh(e,r,l);return}var d=s?s(a,c,r+"",e,t,o):void 0,p=d===void 0;if(p){var m=wh(c),f=!m&&qC(c),v=!m&&!f&&FC(c);d=c,m||f||v?wh(a)?d=a:$W(a)?d=yW(a):f?(p=!1,d=gW(c,!0)):v?(p=!1,d=_W(c,!0)):d=[]:kW(c)||Ch(c)?(d=a,Ch(a)?d=MW(a):(!os(a)||Ah(a))&&(d=CW(c))):p=!1}p&&(o.set(c,d),i(d,c,n,s,o),o.delete(c)),xh(e,r,d)}function fW(e,t){return OW(IW(e,t,zC),e+"")}var hW=gu?function(e,t){return gu(e,"toString",{configurable:!0,enumerable:!1,value:qW(t),writable:!0})}:zC;function gW(e,t){if(t)return e.slice();var r=e.length,n=EC?EC(r):new e.constructor(r);return e.copy(n),n}function vW(e){var t=new e.constructor(e.byteLength);return new yC(t).set(new yC(e)),t}function _W(e,t){var r=t?vW(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function yW(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}function EW(e,t,r,n){var i=!r;r||(r={});for(var s=-1,o=t.length;++s<o;){var a=t[s],c=n?n(r[a],e[a],a,r,e):void 0;c===void 0&&(c=e[a]),i?Rh(r,a,c):cW(r,a,c)}return r}function SW(e){return fW(function(t,r){var n=-1,i=r.length,s=i>1?r[i-1]:void 0,o=i>2?r[2]:void 0;for(s=e.length>3&&typeof s=="function"?(i--,s):void 0,o&&wW(r[0],r[1],o)&&(s=i<3?void 0:s,i=1),t=Object(t);++n<i;){var a=r[n];a&&e(t,a,n,s)}return t})}function xW(e){return function(t,r,n){for(var i=-1,s=Object(t),o=n(t),a=o.length;a--;){var c=o[e?a:++i];if(r(s[c],c,s)===!1)break}return t}}function Su(e,t){var r=e.__data__;return RW(t)?r[typeof t=="string"?"string":"hash"]:r.map}function Ph(e,t){var r=I5(e,t);return dW(r)?r:void 0}function bW(e){var t=On.call(e,is),r=e[is];try{e[is]=void 0;var n=!0}catch{}var i=DC.call(e);return n&&(t?e[is]=r:delete e[is]),i}function CW(e){return typeof e.constructor=="function"&&!jC(e)?F5(NC(e)):{}}function MC(e,t){var r=typeof e;return t=t??wC,!!t&&(r=="number"||r!="symbol"&&w5.test(e))&&e>-1&&e%1==0&&e<t}function wW(e,t,r){if(!os(r))return!1;var n=typeof t;return(n=="number"?Th(r)&&MC(t,r.length):n=="string"&&t in r)?xu(r[t],e):!1}function RW(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function PW(e){return!!vC&&vC in e}function jC(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||vu;return e===r}function TW(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}function AW(e){return DC.call(e)}function IW(e,t,r){return t=xC(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,s=xC(n.length-t,0),o=Array(s);++i<s;)o[i]=n[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=n[i];return a[t]=r(o),P5(e,this,a)}}function bh(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var OW=DW(hW);function DW(e){var t=0,r=0;return function(){var n=L5(),i=J6-(n-r);if(r=n,i>0){if(++t>=X6)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function NW(e){if(e!=null){try{return _u.call(e)}catch{}try{return e+""}catch{}}return""}function xu(e,t){return e===t||e!==e&&t!==t}var Ch=bC(function(){return arguments}())?bC:function(e){return mc(e)&&On.call(e,"callee")&&!M5.call(e,"callee")},wh=Array.isArray;function Th(e){return e!=null&&LC(e.length)&&!Ah(e)}function $W(e){return mc(e)&&Th(e)}var qC=q5||LW;function Ah(e){if(!os(e))return!1;var t=Eu(e);return t==PC||t==r5||t==Q6||t==o5}function LC(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=wC}function os(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function mc(e){return e!=null&&typeof e=="object"}function kW(e){if(!mc(e)||Eu(e)!=TC)return!1;var t=NC(e);if(t===null)return!0;var r=On.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&_u.call(r)==$5}var FC=gC?A5(gC):uW;function MW(e){return EW(e,UC(e))}function UC(e){return Th(e)?aW(e,!0):pW(e)}var jW=SW(function(e,t,r){kC(e,t,r)});function qW(e){return function(){return e}}function zC(e){return e}function LW(){return!1}Ks.exports=jW});var VC=g(Ys=>{"use strict";var FW=Ys&&Ys.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ys,"__esModule",{value:!0});Ys.LogItem=void 0;var UW=FW(Ih()),Oh=class{constructor(t){this.attributes={},this.addAttributes(t.baseAttributes),this.addAttributes(t.persistentAttributes)}addAttributes(t){return this.attributes=(0,UW.default)(this.attributes,t),this}getAttributes(){return this.attributes}prepareForPrint(){this.setAttributes(this.removeEmptyKeys(this.getAttributes()))}removeEmptyKeys(t){let r={};for(let n in t)t[n]!==void 0&&t[n]!==""&&t[n]!==null&&(r[n]=t[n]);return r}setAttributes(t){this.attributes=t}};Ys.LogItem=Oh});var BC=g(HC=>{"use strict";Object.defineProperty(HC,"__esModule",{value:!0})});var WC=g(ci=>{"use strict";var zW=ci&&ci.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),GC=ci&&ci.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&zW(t,e,r)};Object.defineProperty(ci,"__esModule",{value:!0});GC(VC(),ci);GC(BC(),ci)});var XC=g(KC=>{"use strict";Object.defineProperty(KC,"__esModule",{value:!0})});var JC=g(bu=>{"use strict";Object.defineProperty(bu,"__esModule",{value:!0});bu.EnvironmentVariablesService=void 0;var VW=oc(),Dh=class extends VW.EnvironmentVariablesService{constructor(){super(...arguments),this.awsLogLevelVariable="AWS_LAMBDA_LOG_LEVEL",this.awsRegionVariable="AWS_REGION",this.currentEnvironmentVariable="ENVIRONMENT",this.functionNameVariable="AWS_LAMBDA_FUNCTION_NAME",this.functionVersionVariable="AWS_LAMBDA_FUNCTION_VERSION",this.logEventVariable="POWERTOOLS_LOGGER_LOG_EVENT",this.logLevelVariable="POWERTOOLS_LOG_LEVEL",this.logLevelVariableLegacy="LOG_LEVEL",this.memoryLimitInMBVariable="AWS_LAMBDA_FUNCTION_MEMORY_SIZE",this.sampleRateValueVariable="POWERTOOLS_LOGGER_SAMPLE_RATE"}getAwsLogLevel(){let t=this.get(this.awsLogLevelVariable);return t==="FATAL"?"CRITICAL":t}getAwsRegion(){return this.get(this.awsRegionVariable)}getCurrentEnvironment(){return this.get(this.currentEnvironmentVariable)}getFunctionMemory(){let t=this.get(this.memoryLimitInMBVariable);return Number(t)}getFunctionName(){return this.get(this.functionNameVariable)}getFunctionVersion(){return this.get(this.functionVersionVariable)}getLogEvent(){let t=this.get(this.logEventVariable);return this.isValueTrue(t)}getLogLevel(){let t=this.get(this.logLevelVariable),r=this.get(this.logLevelVariableLegacy);return t!==""?t:r}getSampleRateValue(){let t=this.get(this.sampleRateValueVariable);return t&&t.length>0?Number(t):void 0}};bu.EnvironmentVariablesService=Dh});var QC=g(li=>{"use strict";var HW=li&&li.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),YC=li&&li.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&HW(t,e,r)};Object.defineProperty(li,"__esModule",{value:!0});YC(XC(),li);YC(JC(),li)});var $h=g(Qs=>{"use strict";var BW=Qs&&Qs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qs,"__esModule",{value:!0});Qs.Logger=void 0;var GW=require("node:crypto"),WW=require("node:console"),KW=require("node:util"),XW=oc(),JW=fu(),YW=WC(),Cu=BW(Ih()),QW=QC(),Nh=class e extends XW.Utility{get level(){return this.logLevel}constructor(t={}){super(),this.logEvent=!1,this.logIndentation=0,this.logLevel=12,this.logLevelThresholds={DEBUG:8,INFO:12,WARN:16,ERROR:20,CRITICAL:24,SILENT:28},this.logsSampled=!1,this.persistentLogAttributes={},this.powertoolLogData={},this.setOptions(t)}addContext(t){let r={invokedFunctionArn:t.invokedFunctionArn,coldStart:this.getColdStart(),awsRequestId:t.awsRequestId,memoryLimitInMB:Number(t.memoryLimitInMB),functionName:t.functionName,functionVersion:t.functionVersion};this.addToPowertoolLogData({lambdaContext:r})}addPersistentLogAttributes(t){(0,Cu.default)(this.persistentLogAttributes,t)}appendKeys(t){this.addPersistentLogAttributes(t)}createChild(t={}){let r={logLevel:this.getLevelName(),customConfigService:this.getCustomConfigService(),logFormatter:this.getLogFormatter()},n=this.getPowertoolLogData(),i=this.createLogger((0,Cu.default)(r,n,t)),s=this.getPersistentLogAttributes();return i.addPersistentLogAttributes(s),n.lambdaContext&&i.addContext(n.lambdaContext),i}critical(t,...r){this.processLogItem(24,t,r)}debug(t,...r){this.processLogItem(8,t,r)}error(t,...r){this.processLogItem(20,t,r)}getLevelName(){return this.getLogLevelNameFromNumber(this.logLevel)}getLogEvent(){return this.logEvent}getLogsSampled(){return this.logsSampled}getPersistentLogAttributes(){return this.persistentLogAttributes}info(t,...r){this.processLogItem(12,t,r)}injectLambdaContext(t){return(r,n,i)=>{let s=i.value,o=this;i.value=async function(a,c,l){let d={};t&&t.clearState===!0&&(d={...o.getPersistentLogAttributes()}),e.injectLambdaContextBefore(o,a,c,t);let p;try{p=await s.apply(this,[a,c,l])}catch(m){throw m}finally{e.injectLambdaContextAfterOrOnError(o,d,t)}return p}}}static injectLambdaContextAfterOrOnError(t,r,n){n&&n.clearState===!0&&t.setPersistentLogAttributes(r)}static injectLambdaContextBefore(t,r,n,i){t.addContext(n);let s;i&&i.hasOwnProperty("logEvent")&&(s=i.logEvent),t.logEventIfEnabled(r,s)}logEventIfEnabled(t,r){this.shouldLogEvent(r)&&this.info("Lambda invocation event",{event:t})}refreshSampleRateCalculation(){this.setLogsSampled()}removeKeys(t){this.removePersistentLogAttributes(t)}removePersistentLogAttributes(t){t.forEach(r=>{this.persistentLogAttributes&&r in this.persistentLogAttributes&&delete this.persistentLogAttributes[r]})}setLogLevel(t){if(!this.awsLogLevelShortCircuit(t))if(this.isValidLogLevel(t))this.logLevel=this.logLevelThresholds[t];else throw new Error(`Invalid log level: ${t}`)}setPersistentLogAttributes(t){this.persistentLogAttributes=t}setSampleRateValue(t){this.powertoolLogData.sampleRateValue=t||this.getCustomConfigService()?.getSampleRateValue()||this.getEnvVarsService().getSampleRateValue()}shouldLogEvent(t){return typeof t=="boolean"?t:this.getLogEvent()}warn(t,...r){this.processLogItem(16,t,r)}createLogger(t){return new e(t)}shouldPrint(t){return t>=this.logLevel?!0:this.getLogsSampled()}addToPowertoolLogData(...t){t.forEach(r=>{(0,Cu.default)(this.powertoolLogData,r)})}awsLogLevelShortCircuit(t){let r=this.getEnvVarsService().getAwsLogLevel();return this.isValidLogLevel(r)?(this.logLevel=this.logLevelThresholds[r],this.isValidLogLevel(t)&&this.logLevel>this.logLevelThresholds[t]&&this.warn((0,KW.format)("Current log level (%s) does not match AWS Lambda Advanced Logging Controls minimum log level (%s). This can lead to data loss, consider adjusting them.",t,r)),!0):!1}createAndPopulateLogItem(t,r,n){let i=(0,Cu.default)({logLevel:this.getLogLevelNameFromNumber(t),timestamp:new Date,message:typeof r=="string"?r:r.message,xRayTraceId:this.envVarsService.getXrayTraceId()},this.getPowertoolLogData()),s=new YW.LogItem({baseAttributes:this.getLogFormatter().formatAttributes(i),persistentAttributes:this.getPersistentLogAttributes()});return typeof r!="string"&&s.addAttributes(r),n.forEach(o=>{let a=o instanceof Error?{error:o}:typeof o=="string"?{extra:o}:o;s.addAttributes(a)}),s}getCustomConfigService(){return this.customConfigService}getEnvVarsService(){return this.envVarsService}getLogFormatter(){return this.logFormatter}getLogLevelNameFromNumber(t){return Object.entries(this.logLevelThresholds).find(([n,i])=>{if(i===t)return n})[0]}getPowertoolLogData(){return this.powertoolLogData}getReplacer(){let t=new WeakSet;return(r,n)=>{let i=n;if(i instanceof Error&&(i=this.getLogFormatter().formatError(i)),typeof i=="bigint")return i.toString();if(typeof i=="object"&&n!==null){if(t.has(i))return;t.add(i)}return i}}getSampleRateValue(){return this.powertoolLogData.sampleRateValue||this.setSampleRateValue(),this.powertoolLogData.sampleRateValue}isValidLogLevel(t){return typeof t=="string"&&t in this.logLevelThresholds}printLog(t,r){r.prepareForPrint();let n=t===24?"error":this.getLogLevelNameFromNumber(t).toLowerCase();this.console[n](JSON.stringify(r.getAttributes(),this.getReplacer(),this.logIndentation))}processLogItem(t,r,n){this.shouldPrint(t)&&this.printLog(t,this.createAndPopulateLogItem(t,r,n))}setConsole(){this.getEnvVarsService().isDevMode()?this.console=console:this.console=new WW.Console({stdout:process.stdout,stderr:process.stderr})}setCustomConfigService(t){this.customConfigService=t||void 0}setEnvVarsService(){this.envVarsService=new QW.EnvironmentVariablesService}setInitialLogLevel(t){let r=t?.toUpperCase();if(this.awsLogLevelShortCircuit(r))return;if(this.isValidLogLevel(r)){this.logLevel=this.logLevelThresholds[r];return}let n=this.getCustomConfigService()?.getLogLevel()?.toUpperCase();if(this.isValidLogLevel(n)){this.logLevel=this.logLevelThresholds[n];return}let i=this.getEnvVarsService()?.getLogLevel()?.toUpperCase();if(this.isValidLogLevel(i)){this.logLevel=this.logLevelThresholds[i];return}}setLogEvent(){this.getEnvVarsService().getLogEvent()&&(this.logEvent=!0)}setLogFormatter(t){this.logFormatter=t||new JW.PowertoolLogFormatter}setLogIndentation(){this.getEnvVarsService().isDevMode()&&(this.logIndentation=4)}setLogsSampled(){let t=this.getSampleRateValue();this.logsSampled=t!==void 0&&(t===1||(0,GW.randomInt)(0,100)/100<=t)}setOptions(t){let{logLevel:r,serviceName:n,sampleRateValue:i,logFormatter:s,customConfigService:o,persistentLogAttributes:a,environment:c}=t;return this.setEnvVarsService(),this.setConsole(),this.setCustomConfigService(o),this.setInitialLogLevel(r),this.setSampleRateValue(i),this.setLogsSampled(),this.setLogFormatter(s),this.setPowertoolLogData(n,c),this.setLogEvent(),this.setLogIndentation(),this.addPersistentLogAttributes(a),this}setPowertoolLogData(t,r,n={}){this.addToPowertoolLogData({awsRegion:this.getEnvVarsService().getAwsRegion(),environment:r||this.getCustomConfigService()?.getCurrentEnvironment()||this.getEnvVarsService().getCurrentEnvironment(),sampleRateValue:this.getSampleRateValue(),serviceName:t||this.getCustomConfigService()?.getServiceName()||this.getEnvVarsService().getServiceName()||this.getDefaultServiceName()},n)}};Qs.Logger=Nh});var e0=g(wu=>{"use strict";Object.defineProperty(wu,"__esModule",{value:!0});wu.injectLambdaContext=void 0;var ZC=$h(),ZW=hh(),eK=(e,t)=>{let r=e instanceof Array?e:[e],n=[],i=t&&t.clearState===!0,s=c=>{c.internal={...c.internal,[ZW.LOGGER_KEY]:a}},o=async c=>{r.forEach((l,d)=>{i&&(n[d]={...l.getPersistentLogAttributes()},s(c)),ZC.Logger.injectLambdaContextBefore(l,c.event,c.context,t)})},a=async()=>{i&&r.forEach((c,l)=>{ZC.Logger.injectLambdaContextAfterOrOnError(c,n[l],t)})};return{before:o,after:a,onError:a}};wu.injectLambdaContext=eK});var t0=g(as=>{"use strict";var tK=as&&as.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),rK=as&&as.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&tK(t,e,r)};Object.defineProperty(as,"__esModule",{value:!0});rK(e0(),as)});var uu=g(Kr=>{"use strict";var nK=Kr&&Kr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ru=Kr&&Kr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&nK(t,e,r)};Object.defineProperty(Kr,"__esModule",{value:!0});Ru(dC(),Kr);Ru($h(),Kr);Ru(t0(),Kr);Ru(fu(),Kr)});var i0={};Xd(i0,{logger:()=>Pu,metrics:()=>Tu});var r0,n0,Pu,Tu,kh=ot(()=>{r0=Rn(uu()),n0=Rn(lu()),Pu=new r0.Logger,Tu=new n0.Metrics});var c0=g((o0,a0)=>{"use strict";Object.defineProperty(o0,"__esModule",{value:!0});Object.defineProperty(a0,"exports",{enumerable:!0,get:()=>uK});var iK=require("events"),s0=()=>{},sK={timeoutEarlyInMillis:5,timeoutEarlyResponse:()=>{throw new Error("Timeout")}},oK=(e=s0,t={})=>{typeof e!="function"&&(t=e,e=s0),t={...sK,...t},t.timeoutEarly=t.timeoutEarlyInMillis>0,t.beforePrefetch?.();let r=[],n=[],i=[],s=(o={},a={})=>{t.requestStart?.();let c={event:o,context:a,response:void 0,error:void 0,internal:t.internal??{}};return aK(c,[...r],e,[...n],[...i],t)};return s.use=o=>{Array.isArray(o)||(o=[o]);for(let a of o){let{before:c,after:l,onError:d}=a;if(!c&&!l&&!d)throw new Error('Middleware must be an object containing at least one key among "before", "after", "onError"');c&&s.before(c),l&&s.after(l),d&&s.onError(d)}return s},s.before=o=>(r.push(o),s),s.after=o=>(n.unshift(o),s),s.onError=o=>(i.unshift(o),s),s.handler=o=>(e=o,s),s},aK=async(e,t,r,n,i,s)=>{let o=s.timeoutEarly&&e.context.getRemainingTimeInMillis;try{if(await Mh(e,t,s),typeof e.response>"u"){s.beforeHandler?.();let a=new AbortController,c;o&&(c=new AbortController),e.response=await Promise.race([r(e.event,e.context,{signal:a.signal}),o?dK(e.context.getRemainingTimeInMillis()-s.timeoutEarlyInMillis,{signal:c.signal}).then(()=>(a.abort(),s.timeoutEarlyResponse())):Promise.race([])]),o&&c.abort(),s.afterHandler?.(),await Mh(e,n,s)}}catch(a){e.response=void 0,e.error=a;try{await Mh(e,i,s)}catch(c){throw c.originalError=e.error,e.error=c,e.error}if(typeof e.response>"u")throw e.error}finally{await s.requestEnd?.(e)}return e.response},Mh=async(e,t,r)=>{for(let n of t){r.beforeMiddleware?.(n.name);let i=await n(e);if(r.afterMiddleware?.(n.name),typeof i<"u"){e.response=i;return}}},cK=()=>{if(process.version<"v15.0.0"){class e{toString(){return"[object AbortSignal]"}get[Symbol.toStringTag](){return"AbortSignal"}removeEventListener(r,n){this.eventEmitter.removeListener(r,n)}addEventListener(r,n){this.eventEmitter.on(r,n)}dispatchEvent(r){let n={type:r,target:this},i=`on${r}`;typeof this[i]=="function"&&this[i](n),this.eventEmitter.emit(r,n)}constructor(){this.eventEmitter=new iK.EventEmitter,this.onabort=null,this.aborted=!1}}return class{abort(){this.signal.aborted||(this.signal.aborted=!0,this.signal.dispatchEvent("abort"))}toString(){return"[object AbortController]"}get[Symbol.toStringTag](){return"AbortController"}constructor(){this.signal=new e}}}else return AbortController};global.AbortController=cK();var lK=()=>(e,{signal:t})=>t.aborted?Promise.reject(new Error("Aborted","AbortError")):new Promise((r,n)=>{let i=()=>{clearTimeout(s),n(new Error("Aborted","AbortError"))},s=setTimeout(()=>{r(),t.removeEventListener("abort",i)},e);t.addEventListener("abort",i)}),dK=lK(),uK=oK});var g0=g(jh=>{"use strict";Object.defineProperty(jh,"__esModule",{value:!0});function pK(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}pK(jh,{awsClientDefaultOptions:()=>u0,createPrefetchClient:()=>p0,createClient:()=>fK,canPrefetch:()=>hK,getInternal:()=>m0,sanitizeKey:()=>f0,processCache:()=>yK,getCache:()=>h0,modifyCache:()=>EK,clearCache:()=>SK,jsonSafeParse:()=>xK,jsonSafeStringify:()=>bK,normalizeHttpResponse:()=>CK,HttpError:()=>Au,createError:()=>RK});var mK=require("https"),l0,u0={httpOptions:{agent:new mK.Agent({keepAlive:!0,secureProtocol:"TLSv1_2_method"})}},p0=e=>{let t={...u0,...e.awsClientOptions},r=new e.AwsClient(t);return e.awsClientCapture&&e.disablePrefetch?e.awsClientCapture(r):(e.awsClientCapture&&console.warn("Unable to apply X-Ray outside of handler invocation scope."),r)},fK=async(e,t)=>{let r={};if(e.awsClientAssumeRole){if(!t)throw new Error("Request required when assuming role");r=await m0({credentials:e.awsClientAssumeRole},t)}return r={...r,...e.awsClientOptions},p0({...e,awsClientOptions:r})},hK=(e={})=>!e.awsClientAssumeRole&&!e.disablePrefetch,m0=async(e,t)=>{if(!e||!t)return{};let r=[],n=[];e===!0?r=n=Object.keys(t.internal):typeof e=="string"?r=n=[e]:Array.isArray(e)?r=n=e:typeof e=="object"&&(r=Object.keys(e),n=Object.values(e));let i=[];for(let o of n){let a=o.split("."),c=a.shift(),l=t.internal[c];gK(l)||(l=Promise.resolve(l)),i.push(l.then(d=>a.reduce((p,m)=>p?.[m],d)))}n=await Promise.allSettled(i);let s=n.filter(o=>o.status==="rejected").map(o=>o.reason);if(s.length){let o=new Error("Failed to resolve internal values");throw o.cause=s,o}return r.reduce((o,a,c)=>({...o,[f0(a)]:n[c].value}),{})},gK=e=>typeof e?.then=="function",vK=/^([0-9])/,_K=/[^a-zA-Z0-9]+/g,f0=e=>e.replace(vK,"_$1").replace(_K,"_"),Bt={},yK=(e,t=()=>{},r)=>{let{cacheExpiry:n,cacheKey:i}=e;if(n){let a=h0(i),c=a.expiry&&(n<0||a.expiry>Date.now());if(c&&a.modified){let l=t(r,a.value);return Bt[i]={value:{...a.value,...l},expiry:a.expiry},Bt[i]}if(c)return{...a,cache:!0}}let s=t(r),o=Date.now()+n;if(n){let a=n>0?setInterval(()=>{let c=t(r),l=Date.now()+n;Object.assign(Bt[i],{value:c,expiry:l})},n):void 0;Bt[i]={value:s,expiry:o,refresh:a}}return{value:s,expiry:o}},h0=e=>Bt[e]?Bt[e]:{},EK=(e,t)=>{Bt[e]&&(clearInterval(Bt[e]?.refresh),Bt[e]={...Bt[e],value:t,modified:!0})},SK=(e=null)=>{e=e??Object.keys(Bt),Array.isArray(e)||(e=[e]);for(let t of e)clearInterval(Bt[t]?.refresh),Bt[t]=void 0},xK=(e,t)=>{if(typeof e!="string")return e;let r=e[0];if(r!=="{"&&r!=="["&&r!=='"')return e;try{return JSON.parse(e,t)}catch{}return e},bK=(e,t,r)=>{try{return JSON.stringify(e,t,r)}catch{}return e},CK=e=>{let{response:t}=e;return typeof t>"u"?t={}:typeof t?.statusCode>"u"&&typeof t?.body>"u"&&typeof t?.headers>"u"&&(t={body:t}),(l0=t).headers??(l0.headers={}),e.response=t,t},wK=/[^a-zA-Z]/g,Au=class extends Error{constructor(t,r,n={}){r&&typeof r!="string"&&(n=r,r=void 0),r??(r=d0[t]),super(r),this.cause=n.cause;let i=d0[t].replace(wK,"");this.name=i.substr(-5)!=="Error"?i+"Error":i,this.status=this.statusCode=t,this.expose=n.expose??t<500}},RK=(e,t,r={})=>new Au(e,t,r),d0={100:"Continue",101:"Switching Protocols",102:"Processing",103:"Early Hints",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",306:"(Unused)",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}});var y0=g((v0,_0)=>{"use strict";Object.defineProperty(v0,"__esModule",{value:!0});Object.defineProperty(_0,"exports",{enumerable:!0,get:()=>OK});var PK=g0(),TK=/^application\/(.+\+)?json(;.*)?$/,AK={reviver:void 0},IK=(e={})=>{let{reviver:t}={...AK,...e};return{before:async n=>{let{headers:i,body:s}=n.event,o=i["Content-Type"]??i["content-type"];if(TK.test(o))try{let a=n.event.isBase64Encoded?Buffer.from(s,"base64").toString():s;n.event.rawBody=s,n.event.body=JSON.parse(a,t)}catch(a){let c=(0,PK.createError)(422,"Invalid or malformed JSON was provided");throw c.cause=a,c}}}},OK=IK});var w0=g((b0,C0)=>{"use strict";Object.defineProperty(b0,"__esModule",{value:!0});Object.defineProperty(C0,"exports",{enumerable:!0,get:()=>$K});var E0,S0,x0,DK=()=>({before:async t=>{let{event:r}=t,n=r.version??"1.0";if(!NK[n]?.(r))throw new Error("[http-event-normalizer] Unknown http event format");(E0=r).pathParameters??(E0.pathParameters={}),(S0=r).queryStringParameters??(S0.queryStringParameters={}),n==="1.0"&&((x0=r).multiValueQueryStringParameters??(x0.multiValueQueryStringParameters={}))}}),NK={"1.0":e=>typeof e.httpMethod<"u","2.0":e=>typeof e.requestContext.http.method<"u"},$K=DK});var Zs=g(be=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0});be.regexpCode=be.getEsmExportName=be.getProperty=be.safeStringify=be.stringify=be.strConcat=be.addCodeArg=be.str=be._=be.nil=be._Code=be.Name=be.IDENTIFIER=be._CodeOrName=void 0;var fc=class{};be._CodeOrName=fc;be.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var cs=class extends fc{constructor(t){if(super(),!be.IDENTIFIER.test(t))throw new Error("CodeGen: name must be a valid identifier");this.str=t}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};be.Name=cs;var Zt=class extends fc{constructor(t){super(),this._items=typeof t=="string"?[t]:t}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let t=this._items[0];return t===""||t==='""'}get str(){var t;return(t=this._str)!==null&&t!==void 0?t:this._str=this._items.reduce((r,n)=>`${r}${n}`,"")}get names(){var t;return(t=this._names)!==null&&t!==void 0?t:this._names=this._items.reduce((r,n)=>(n instanceof cs&&(r[n.str]=(r[n.str]||0)+1),r),{})}};be._Code=Zt;be.nil=new Zt("");function R0(e,...t){let r=[e[0]],n=0;for(;n<t.length;)Lh(r,t[n]),r.push(e[++n]);return new Zt(r)}be._=R0;var qh=new Zt("+");function P0(e,...t){let r=[hc(e[0])],n=0;for(;n<t.length;)r.push(qh),Lh(r,t[n]),r.push(qh,hc(e[++n]));return kK(r),new Zt(r)}be.str=P0;function Lh(e,t){t instanceof Zt?e.push(...t._items):t instanceof cs?e.push(t):e.push(qK(t))}be.addCodeArg=Lh;function kK(e){let t=1;for(;t<e.length-1;){if(e[t]===qh){let r=MK(e[t-1],e[t+1]);if(r!==void 0){e.splice(t-1,3,r);continue}e[t++]="+"}t++}}function MK(e,t){if(t==='""')return e;if(e==='""')return t;if(typeof e=="string")return t instanceof cs||e[e.length-1]!=='"'?void 0:typeof t!="string"?`${e.slice(0,-1)}${t}"`:t[0]==='"'?e.slice(0,-1)+t.slice(1):void 0;if(typeof t=="string"&&t[0]==='"'&&!(e instanceof cs))return`"${e}${t.slice(1)}`}function jK(e,t){return t.emptyStr()?e:e.emptyStr()?t:P0`${e}${t}`}be.strConcat=jK;function qK(e){return typeof e=="number"||typeof e=="boolean"||e===null?e:hc(Array.isArray(e)?e.join(","):e)}function LK(e){return new Zt(hc(e))}be.stringify=LK;function hc(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}be.safeStringify=hc;function FK(e){return typeof e=="string"&&be.IDENTIFIER.test(e)?new Zt(`.${e}`):R0`[${e}]`}be.getProperty=FK;function UK(e){if(typeof e=="string"&&be.IDENTIFIER.test(e))return new Zt(`${e}`);throw new Error(`CodeGen: invalid export name: ${e}, use explicit $id name mapping`)}be.getEsmExportName=UK;function zK(e){return new Zt(e.toString())}be.regexpCode=zK});var Vh=g(Pt=>{"use strict";Object.defineProperty(Pt,"__esModule",{value:!0});Pt.ValueScope=Pt.ValueScopeName=Pt.Scope=Pt.varKinds=Pt.UsedValueState=void 0;var jt=Zs(),Fh=class extends Error{constructor(t){super(`CodeGen: "code" for ${t} not defined`),this.value=t.value}},Uh;(function(e){e[e.Started=0]="Started",e[e.Completed=1]="Completed"})(Uh=Pt.UsedValueState||(Pt.UsedValueState={}));Pt.varKinds={const:new jt.Name("const"),let:new jt.Name("let"),var:new jt.Name("var")};var Iu=class{constructor({prefixes:t,parent:r}={}){this._names={},this._prefixes=t,this._parent=r}toName(t){return t instanceof jt.Name?t:this.name(t)}name(t){return new jt.Name(this._newName(t))}_newName(t){let r=this._names[t]||this._nameGroup(t);return`${t}${r.index++}`}_nameGroup(t){var r,n;if(!((n=(r=this._parent)===null||r===void 0?void 0:r._prefixes)===null||n===void 0)&&n.has(t)||this._prefixes&&!this._prefixes.has(t))throw new Error(`CodeGen: prefix "${t}" is not allowed in this scope`);return this._names[t]={prefix:t,index:0}}};Pt.Scope=Iu;var Ou=class extends jt.Name{constructor(t,r){super(r),this.prefix=t}setValue(t,{property:r,itemIndex:n}){this.value=t,this.scopePath=(0,jt._)`.${new jt.Name(r)}[${n}]`}};Pt.ValueScopeName=Ou;var VK=(0,jt._)`\n`,zh=class extends Iu{constructor(t){super(t),this._values={},this._scope=t.scope,this.opts={...t,_n:t.lines?VK:jt.nil}}get(){return this._scope}name(t){return new Ou(t,this._newName(t))}value(t,r){var n;if(r.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let i=this.toName(t),{prefix:s}=i,o=(n=r.key)!==null&&n!==void 0?n:r.ref,a=this._values[s];if(a){let d=a.get(o);if(d)return d}else a=this._values[s]=new Map;a.set(o,i);let c=this._scope[s]||(this._scope[s]=[]),l=c.length;return c[l]=r.ref,i.setValue(r,{property:s,itemIndex:l}),i}getValue(t,r){let n=this._values[t];if(n)return n.get(r)}scopeRefs(t,r=this._values){return this._reduceValues(r,n=>{if(n.scopePath===void 0)throw new Error(`CodeGen: name "${n}" has no value`);return(0,jt._)`${t}${n.scopePath}`})}scopeCode(t=this._values,r,n){return this._reduceValues(t,i=>{if(i.value===void 0)throw new Error(`CodeGen: name "${i}" has no value`);return i.value.code},r,n)}_reduceValues(t,r,n={},i){let s=jt.nil;for(let o in t){let a=t[o];if(!a)continue;let c=n[o]=n[o]||new Map;a.forEach(l=>{if(c.has(l))return;c.set(l,Uh.Started);let d=r(l);if(d){let p=this.opts.es5?Pt.varKinds.var:Pt.varKinds.const;s=(0,jt._)`${s}${p} ${l} = ${d};${this.opts._n}`}else if(d=i?.(l))s=(0,jt._)`${s}${d}${this.opts._n}`;else throw new Fh(l);c.set(l,Uh.Completed)})}return s}};Pt.ValueScope=zh});var ne=g(pe=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});pe.or=pe.and=pe.not=pe.CodeGen=pe.operators=pe.varKinds=pe.ValueScopeName=pe.ValueScope=pe.Scope=pe.Name=pe.regexpCode=pe.stringify=pe.getProperty=pe.nil=pe.strConcat=pe.str=pe._=void 0;var _e=Zs(),Cr=Vh(),di=Zs();Object.defineProperty(pe,"_",{enumerable:!0,get:function(){return di._}});Object.defineProperty(pe,"str",{enumerable:!0,get:function(){return di.str}});Object.defineProperty(pe,"strConcat",{enumerable:!0,get:function(){return di.strConcat}});Object.defineProperty(pe,"nil",{enumerable:!0,get:function(){return di.nil}});Object.defineProperty(pe,"getProperty",{enumerable:!0,get:function(){return di.getProperty}});Object.defineProperty(pe,"stringify",{enumerable:!0,get:function(){return di.stringify}});Object.defineProperty(pe,"regexpCode",{enumerable:!0,get:function(){return di.regexpCode}});Object.defineProperty(pe,"Name",{enumerable:!0,get:function(){return di.Name}});var ku=Vh();Object.defineProperty(pe,"Scope",{enumerable:!0,get:function(){return ku.Scope}});Object.defineProperty(pe,"ValueScope",{enumerable:!0,get:function(){return ku.ValueScope}});Object.defineProperty(pe,"ValueScopeName",{enumerable:!0,get:function(){return ku.ValueScopeName}});Object.defineProperty(pe,"varKinds",{enumerable:!0,get:function(){return ku.varKinds}});pe.operators={GT:new _e._Code(">"),GTE:new _e._Code(">="),LT:new _e._Code("<"),LTE:new _e._Code("<="),EQ:new _e._Code("==="),NEQ:new _e._Code("!=="),NOT:new _e._Code("!"),OR:new _e._Code("||"),AND:new _e._Code("&&"),ADD:new _e._Code("+")};var Nn=class{optimizeNodes(){return this}optimizeNames(t,r){return this}},Hh=class extends Nn{constructor(t,r,n){super(),this.varKind=t,this.name=r,this.rhs=n}render({es5:t,_n:r}){let n=t?Cr.varKinds.var:this.varKind,i=this.rhs===void 0?"":` = ${this.rhs}`;return`${n} ${this.name}${i};`+r}optimizeNames(t,r){if(t[this.name.str])return this.rhs&&(this.rhs=to(this.rhs,t,r)),this}get names(){return this.rhs instanceof _e._CodeOrName?this.rhs.names:{}}},Du=class extends Nn{constructor(t,r,n){super(),this.lhs=t,this.rhs=r,this.sideEffects=n}render({_n:t}){return`${this.lhs} = ${this.rhs};`+t}optimizeNames(t,r){if(!(this.lhs instanceof _e.Name&&!t[this.lhs.str]&&!this.sideEffects))return this.rhs=to(this.rhs,t,r),this}get names(){let t=this.lhs instanceof _e.Name?{}:{...this.lhs.names};return $u(t,this.rhs)}},Bh=class extends Du{constructor(t,r,n,i){super(t,n,i),this.op=r}render({_n:t}){return`${this.lhs} ${this.op}= ${this.rhs};`+t}},Gh=class extends Nn{constructor(t){super(),this.label=t,this.names={}}render({_n:t}){return`${this.label}:`+t}},Wh=class extends Nn{constructor(t){super(),this.label=t,this.names={}}render({_n:t}){return`break${this.label?` ${this.label}`:""};`+t}},Kh=class extends Nn{constructor(t){super(),this.error=t}render({_n:t}){return`throw ${this.error};`+t}get names(){return this.error.names}},Xh=class extends Nn{constructor(t){super(),this.code=t}render({_n:t}){return`${this.code};`+t}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(t,r){return this.code=to(this.code,t,r),this}get names(){return this.code instanceof _e._CodeOrName?this.code.names:{}}},gc=class extends Nn{constructor(t=[]){super(),this.nodes=t}render(t){return this.nodes.reduce((r,n)=>r+n.render(t),"")}optimizeNodes(){let{nodes:t}=this,r=t.length;for(;r--;){let n=t[r].optimizeNodes();Array.isArray(n)?t.splice(r,1,...n):n?t[r]=n:t.splice(r,1)}return t.length>0?this:void 0}optimizeNames(t,r){let{nodes:n}=this,i=n.length;for(;i--;){let s=n[i];s.optimizeNames(t,r)||(HK(t,s.names),n.splice(i,1))}return n.length>0?this:void 0}get names(){return this.nodes.reduce((t,r)=>us(t,r.names),{})}},$n=class extends gc{render(t){return"{"+t._n+super.render(t)+"}"+t._n}},Jh=class extends gc{},eo=class extends $n{};eo.kind="else";var ls=class e extends $n{constructor(t,r){super(r),this.condition=t}render(t){let r=`if(${this.condition})`+super.render(t);return this.else&&(r+="else "+this.else.render(t)),r}optimizeNodes(){super.optimizeNodes();let t=this.condition;if(t===!0)return this.nodes;let r=this.else;if(r){let n=r.optimizeNodes();r=this.else=Array.isArray(n)?new eo(n):n}if(r)return t===!1?r instanceof e?r:r.nodes:this.nodes.length?this:new e(T0(t),r instanceof e?[r]:r.nodes);if(!(t===!1||!this.nodes.length))return this}optimizeNames(t,r){var n;if(this.else=(n=this.else)===null||n===void 0?void 0:n.optimizeNames(t,r),!!(super.optimizeNames(t,r)||this.else))return this.condition=to(this.condition,t,r),this}get names(){let t=super.names;return $u(t,this.condition),this.else&&us(t,this.else.names),t}};ls.kind="if";var ds=class extends $n{};ds.kind="for";var Yh=class extends ds{constructor(t){super(),this.iteration=t}render(t){return`for(${this.iteration})`+super.render(t)}optimizeNames(t,r){if(super.optimizeNames(t,r))return this.iteration=to(this.iteration,t,r),this}get names(){return us(super.names,this.iteration.names)}},Qh=class extends ds{constructor(t,r,n,i){super(),this.varKind=t,this.name=r,this.from=n,this.to=i}render(t){let r=t.es5?Cr.varKinds.var:this.varKind,{name:n,from:i,to:s}=this;return`for(${r} ${n}=${i}; ${n}<${s}; ${n}++)`+super.render(t)}get names(){let t=$u(super.names,this.from);return $u(t,this.to)}},Nu=class extends ds{constructor(t,r,n,i){super(),this.loop=t,this.varKind=r,this.name=n,this.iterable=i}render(t){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(t)}optimizeNames(t,r){if(super.optimizeNames(t,r))return this.iterable=to(this.iterable,t,r),this}get names(){return us(super.names,this.iterable.names)}},vc=class extends $n{constructor(t,r,n){super(),this.name=t,this.args=r,this.async=n}render(t){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(t)}};vc.kind="func";var _c=class extends gc{render(t){return"return "+super.render(t)}};_c.kind="return";var Zh=class extends $n{render(t){let r="try"+super.render(t);return this.catch&&(r+=this.catch.render(t)),this.finally&&(r+=this.finally.render(t)),r}optimizeNodes(){var t,r;return super.optimizeNodes(),(t=this.catch)===null||t===void 0||t.optimizeNodes(),(r=this.finally)===null||r===void 0||r.optimizeNodes(),this}optimizeNames(t,r){var n,i;return super.optimizeNames(t,r),(n=this.catch)===null||n===void 0||n.optimizeNames(t,r),(i=this.finally)===null||i===void 0||i.optimizeNames(t,r),this}get names(){let t=super.names;return this.catch&&us(t,this.catch.names),this.finally&&us(t,this.finally.names),t}},yc=class extends $n{constructor(t){super(),this.error=t}render(t){return`catch(${this.error})`+super.render(t)}};yc.kind="catch";var Ec=class extends $n{render(t){return"finally"+super.render(t)}};Ec.kind="finally";var eg=class{constructor(t,r={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...r,_n:r.lines?`
`:""},this._extScope=t,this._scope=new Cr.Scope({parent:t}),this._nodes=[new Jh]}toString(){return this._root.render(this.opts)}name(t){return this._scope.name(t)}scopeName(t){return this._extScope.name(t)}scopeValue(t,r){let n=this._extScope.value(t,r);return(this._values[n.prefix]||(this._values[n.prefix]=new Set)).add(n),n}getScopeValue(t,r){return this._extScope.getValue(t,r)}scopeRefs(t){return this._extScope.scopeRefs(t,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(t,r,n,i){let s=this._scope.toName(r);return n!==void 0&&i&&(this._constants[s.str]=n),this._leafNode(new Hh(t,s,n)),s}const(t,r,n){return this._def(Cr.varKinds.const,t,r,n)}let(t,r,n){return this._def(Cr.varKinds.let,t,r,n)}var(t,r,n){return this._def(Cr.varKinds.var,t,r,n)}assign(t,r,n){return this._leafNode(new Du(t,r,n))}add(t,r){return this._leafNode(new Bh(t,pe.operators.ADD,r))}code(t){return typeof t=="function"?t():t!==_e.nil&&this._leafNode(new Xh(t)),this}object(...t){let r=["{"];for(let[n,i]of t)r.length>1&&r.push(","),r.push(n),(n!==i||this.opts.es5)&&(r.push(":"),(0,_e.addCodeArg)(r,i));return r.push("}"),new _e._Code(r)}if(t,r,n){if(this._blockNode(new ls(t)),r&&n)this.code(r).else().code(n).endIf();else if(r)this.code(r).endIf();else if(n)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(t){return this._elseNode(new ls(t))}else(){return this._elseNode(new eo)}endIf(){return this._endBlockNode(ls,eo)}_for(t,r){return this._blockNode(t),r&&this.code(r).endFor(),this}for(t,r){return this._for(new Yh(t),r)}forRange(t,r,n,i,s=this.opts.es5?Cr.varKinds.var:Cr.varKinds.let){let o=this._scope.toName(t);return this._for(new Qh(s,o,r,n),()=>i(o))}forOf(t,r,n,i=Cr.varKinds.const){let s=this._scope.toName(t);if(this.opts.es5){let o=r instanceof _e.Name?r:this.var("_arr",r);return this.forRange("_i",0,(0,_e._)`${o}.length`,a=>{this.var(s,(0,_e._)`${o}[${a}]`),n(s)})}return this._for(new Nu("of",i,s,r),()=>n(s))}forIn(t,r,n,i=this.opts.es5?Cr.varKinds.var:Cr.varKinds.const){if(this.opts.ownProperties)return this.forOf(t,(0,_e._)`Object.keys(${r})`,n);let s=this._scope.toName(t);return this._for(new Nu("in",i,s,r),()=>n(s))}endFor(){return this._endBlockNode(ds)}label(t){return this._leafNode(new Gh(t))}break(t){return this._leafNode(new Wh(t))}return(t){let r=new _c;if(this._blockNode(r),this.code(t),r.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(_c)}try(t,r,n){if(!r&&!n)throw new Error('CodeGen: "try" without "catch" and "finally"');let i=new Zh;if(this._blockNode(i),this.code(t),r){let s=this.name("e");this._currNode=i.catch=new yc(s),r(s)}return n&&(this._currNode=i.finally=new Ec,this.code(n)),this._endBlockNode(yc,Ec)}throw(t){return this._leafNode(new Kh(t))}block(t,r){return this._blockStarts.push(this._nodes.length),t&&this.code(t).endBlock(r),this}endBlock(t){let r=this._blockStarts.pop();if(r===void 0)throw new Error("CodeGen: not in self-balancing block");let n=this._nodes.length-r;if(n<0||t!==void 0&&n!==t)throw new Error(`CodeGen: wrong number of nodes: ${n} vs ${t} expected`);return this._nodes.length=r,this}func(t,r=_e.nil,n,i){return this._blockNode(new vc(t,r,n)),i&&this.code(i).endFunc(),this}endFunc(){return this._endBlockNode(vc)}optimize(t=1){for(;t-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(t){return this._currNode.nodes.push(t),this}_blockNode(t){this._currNode.nodes.push(t),this._nodes.push(t)}_endBlockNode(t,r){let n=this._currNode;if(n instanceof t||r&&n instanceof r)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${r?`${t.kind}/${r.kind}`:t.kind}"`)}_elseNode(t){let r=this._currNode;if(!(r instanceof ls))throw new Error('CodeGen: "else" without "if"');return this._currNode=r.else=t,this}get _root(){return this._nodes[0]}get _currNode(){let t=this._nodes;return t[t.length-1]}set _currNode(t){let r=this._nodes;r[r.length-1]=t}};pe.CodeGen=eg;function us(e,t){for(let r in t)e[r]=(e[r]||0)+(t[r]||0);return e}function $u(e,t){return t instanceof _e._CodeOrName?us(e,t.names):e}function to(e,t,r){if(e instanceof _e.Name)return n(e);if(!i(e))return e;return new _e._Code(e._items.reduce((s,o)=>(o instanceof _e.Name&&(o=n(o)),o instanceof _e._Code?s.push(...o._items):s.push(o),s),[]));function n(s){let o=r[s.str];return o===void 0||t[s.str]!==1?s:(delete t[s.str],o)}function i(s){return s instanceof _e._Code&&s._items.some(o=>o instanceof _e.Name&&t[o.str]===1&&r[o.str]!==void 0)}}function HK(e,t){for(let r in t)e[r]=(e[r]||0)-(t[r]||0)}function T0(e){return typeof e=="boolean"||typeof e=="number"||e===null?!e:(0,_e._)`!${tg(e)}`}pe.not=T0;var BK=A0(pe.operators.AND);function GK(...e){return e.reduce(BK)}pe.and=GK;var WK=A0(pe.operators.OR);function KK(...e){return e.reduce(WK)}pe.or=KK;function A0(e){return(t,r)=>t===_e.nil?r:r===_e.nil?t:(0,_e._)`${tg(t)} ${e} ${tg(r)}`}function tg(e){return e instanceof _e.Name?e:(0,_e._)`(${e})`}});var Ce=g(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.checkStrictMode=me.getErrorPath=me.Type=me.useFunc=me.setEvaluated=me.evaluatedPropsToName=me.mergeEvaluated=me.eachItem=me.unescapeJsonPointer=me.escapeJsonPointer=me.escapeFragment=me.unescapeFragment=me.schemaRefOrVal=me.schemaHasRulesButRef=me.schemaHasRules=me.checkUnknownRules=me.alwaysValidSchema=me.toHash=void 0;var je=ne(),XK=Zs();function JK(e){let t={};for(let r of e)t[r]=!0;return t}me.toHash=JK;function YK(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(D0(e,t),!N0(t,e.self.RULES.all))}me.alwaysValidSchema=YK;function D0(e,t=e.schema){let{opts:r,self:n}=e;if(!r.strictSchema||typeof t=="boolean")return;let i=n.RULES.keywords;for(let s in t)i[s]||j0(e,`unknown keyword: "${s}"`)}me.checkUnknownRules=D0;function N0(e,t){if(typeof e=="boolean")return!e;for(let r in e)if(t[r])return!0;return!1}me.schemaHasRules=N0;function QK(e,t){if(typeof e=="boolean")return!e;for(let r in e)if(r!=="$ref"&&t.all[r])return!0;return!1}me.schemaHasRulesButRef=QK;function ZK({topSchemaRef:e,schemaPath:t},r,n,i){if(!i){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,je._)`${r}`}return(0,je._)`${e}${t}${(0,je.getProperty)(n)}`}me.schemaRefOrVal=ZK;function e9(e){return $0(decodeURIComponent(e))}me.unescapeFragment=e9;function t9(e){return encodeURIComponent(rg(e))}me.escapeFragment=t9;function rg(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}me.escapeJsonPointer=rg;function $0(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}me.unescapeJsonPointer=$0;function r9(e,t){if(Array.isArray(e))for(let r of e)t(r);else t(e)}me.eachItem=r9;function I0({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:n}){return(i,s,o,a)=>{let c=o===void 0?s:o instanceof je.Name?(s instanceof je.Name?e(i,s,o):t(i,s,o),o):s instanceof je.Name?(t(i,o,s),s):r(s,o);return a===je.Name&&!(c instanceof je.Name)?n(i,c):c}}me.mergeEvaluated={props:I0({mergeNames:(e,t,r)=>e.if((0,je._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,je._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,je._)`${r} || {}`).code((0,je._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,je._)`${r} !== true`,()=>{t===!0?e.assign(r,!0):(e.assign(r,(0,je._)`${r} || {}`),ng(e,r,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:k0}),items:I0({mergeNames:(e,t,r)=>e.if((0,je._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,je._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,je._)`${r} !== true`,()=>e.assign(r,t===!0?!0:(0,je._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function k0(e,t){if(t===!0)return e.var("props",!0);let r=e.var("props",(0,je._)`{}`);return t!==void 0&&ng(e,r,t),r}me.evaluatedPropsToName=k0;function ng(e,t,r){Object.keys(r).forEach(n=>e.assign((0,je._)`${t}${(0,je.getProperty)(n)}`,!0))}me.setEvaluated=ng;var O0={};function n9(e,t){return e.scopeValue("func",{ref:t,code:O0[t.code]||(O0[t.code]=new XK._Code(t.code))})}me.useFunc=n9;var M0;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(M0=me.Type||(me.Type={}));function i9(e,t,r){if(e instanceof je.Name){let n=t===M0.Num;return r?n?(0,je._)`"[" + ${e} + "]"`:(0,je._)`"['" + ${e} + "']"`:n?(0,je._)`"/" + ${e}`:(0,je._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,je.getProperty)(e).toString():"/"+rg(e)}me.getErrorPath=i9;function j0(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,r===!0)throw new Error(t);e.self.logger.warn(t)}}me.checkStrictMode=j0});var Xr=g(ig=>{"use strict";Object.defineProperty(ig,"__esModule",{value:!0});var yt=ne(),s9={data:new yt.Name("data"),valCxt:new yt.Name("valCxt"),instancePath:new yt.Name("instancePath"),parentData:new yt.Name("parentData"),parentDataProperty:new yt.Name("parentDataProperty"),rootData:new yt.Name("rootData"),dynamicAnchors:new yt.Name("dynamicAnchors"),vErrors:new yt.Name("vErrors"),errors:new yt.Name("errors"),this:new yt.Name("this"),self:new yt.Name("self"),scope:new yt.Name("scope"),json:new yt.Name("json"),jsonPos:new yt.Name("jsonPos"),jsonLen:new yt.Name("jsonLen"),jsonPart:new yt.Name("jsonPart")};ig.default=s9});var ro=g(Et=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});Et.extendErrors=Et.resetErrorsCount=Et.reportExtraError=Et.reportError=Et.keyword$DataError=Et.keywordError=void 0;var Ee=ne(),Mu=Ce(),Tt=Xr();Et.keywordError={message:({keyword:e})=>(0,Ee.str)`must pass "${e}" keyword validation`};Et.keyword$DataError={message:({keyword:e,schemaType:t})=>t?(0,Ee.str)`"${e}" keyword must be ${t} ($data)`:(0,Ee.str)`"${e}" keyword is invalid ($data)`};function o9(e,t=Et.keywordError,r,n){let{it:i}=e,{gen:s,compositeRule:o,allErrors:a}=i,c=F0(e,t,r);n??(o||a)?q0(s,c):L0(i,(0,Ee._)`[${c}]`)}Et.reportError=o9;function a9(e,t=Et.keywordError,r){let{it:n}=e,{gen:i,compositeRule:s,allErrors:o}=n,a=F0(e,t,r);q0(i,a),s||o||L0(n,Tt.default.vErrors)}Et.reportExtraError=a9;function c9(e,t){e.assign(Tt.default.errors,t),e.if((0,Ee._)`${Tt.default.vErrors} !== null`,()=>e.if(t,()=>e.assign((0,Ee._)`${Tt.default.vErrors}.length`,t),()=>e.assign(Tt.default.vErrors,null)))}Et.resetErrorsCount=c9;function l9({gen:e,keyword:t,schemaValue:r,data:n,errsCount:i,it:s}){if(i===void 0)throw new Error("ajv implementation error");let o=e.name("err");e.forRange("i",i,Tt.default.errors,a=>{e.const(o,(0,Ee._)`${Tt.default.vErrors}[${a}]`),e.if((0,Ee._)`${o}.instancePath === undefined`,()=>e.assign((0,Ee._)`${o}.instancePath`,(0,Ee.strConcat)(Tt.default.instancePath,s.errorPath))),e.assign((0,Ee._)`${o}.schemaPath`,(0,Ee.str)`${s.errSchemaPath}/${t}`),s.opts.verbose&&(e.assign((0,Ee._)`${o}.schema`,r),e.assign((0,Ee._)`${o}.data`,n))})}Et.extendErrors=l9;function q0(e,t){let r=e.const("err",t);e.if((0,Ee._)`${Tt.default.vErrors} === null`,()=>e.assign(Tt.default.vErrors,(0,Ee._)`[${r}]`),(0,Ee._)`${Tt.default.vErrors}.push(${r})`),e.code((0,Ee._)`${Tt.default.errors}++`)}function L0(e,t){let{gen:r,validateName:n,schemaEnv:i}=e;i.$async?r.throw((0,Ee._)`new ${e.ValidationError}(${t})`):(r.assign((0,Ee._)`${n}.errors`,t),r.return(!1))}var ps={keyword:new Ee.Name("keyword"),schemaPath:new Ee.Name("schemaPath"),params:new Ee.Name("params"),propertyName:new Ee.Name("propertyName"),message:new Ee.Name("message"),schema:new Ee.Name("schema"),parentSchema:new Ee.Name("parentSchema")};function F0(e,t,r){let{createErrors:n}=e.it;return n===!1?(0,Ee._)`{}`:d9(e,t,r)}function d9(e,t,r={}){let{gen:n,it:i}=e,s=[u9(i,r),p9(e,r)];return m9(e,t,s),n.object(...s)}function u9({errorPath:e},{instancePath:t}){let r=t?(0,Ee.str)`${e}${(0,Mu.getErrorPath)(t,Mu.Type.Str)}`:e;return[Tt.default.instancePath,(0,Ee.strConcat)(Tt.default.instancePath,r)]}function p9({keyword:e,it:{errSchemaPath:t}},{schemaPath:r,parentSchema:n}){let i=n?t:(0,Ee.str)`${t}/${e}`;return r&&(i=(0,Ee.str)`${i}${(0,Mu.getErrorPath)(r,Mu.Type.Str)}`),[ps.schemaPath,i]}function m9(e,{params:t,message:r},n){let{keyword:i,data:s,schemaValue:o,it:a}=e,{opts:c,propertyName:l,topSchemaRef:d,schemaPath:p}=a;n.push([ps.keyword,i],[ps.params,typeof t=="function"?t(e):t||(0,Ee._)`{}`]),c.messages&&n.push([ps.message,typeof r=="function"?r(e):r]),c.verbose&&n.push([ps.schema,o],[ps.parentSchema,(0,Ee._)`${d}${p}`],[Tt.default.data,s]),l&&n.push([ps.propertyName,l])}});var z0=g(no=>{"use strict";Object.defineProperty(no,"__esModule",{value:!0});no.boolOrEmptySchema=no.topBoolOrEmptySchema=void 0;var f9=ro(),h9=ne(),g9=Xr(),v9={message:"boolean schema is false"};function _9(e){let{gen:t,schema:r,validateName:n}=e;r===!1?U0(e,!1):typeof r=="object"&&r.$async===!0?t.return(g9.default.data):(t.assign((0,h9._)`${n}.errors`,null),t.return(!0))}no.topBoolOrEmptySchema=_9;function y9(e,t){let{gen:r,schema:n}=e;n===!1?(r.var(t,!1),U0(e)):r.var(t,!0)}no.boolOrEmptySchema=y9;function U0(e,t){let{gen:r,data:n}=e,i={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,f9.reportError)(i,v9,void 0,t)}});var sg=g(io=>{"use strict";Object.defineProperty(io,"__esModule",{value:!0});io.getRules=io.isJSONType=void 0;var E9=["string","number","integer","boolean","null","object","array"],S9=new Set(E9);function x9(e){return typeof e=="string"&&S9.has(e)}io.isJSONType=x9;function b9(){let e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}io.getRules=b9});var og=g(ui=>{"use strict";Object.defineProperty(ui,"__esModule",{value:!0});ui.shouldUseRule=ui.shouldUseGroup=ui.schemaHasRulesForType=void 0;function C9({schema:e,self:t},r){let n=t.RULES.types[r];return n&&n!==!0&&V0(e,n)}ui.schemaHasRulesForType=C9;function V0(e,t){return t.rules.some(r=>H0(e,r))}ui.shouldUseGroup=V0;function H0(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}ui.shouldUseRule=H0});var xc=g(dt=>{"use strict";Object.defineProperty(dt,"__esModule",{value:!0});dt.reportTypeError=dt.checkDataTypes=dt.checkDataType=dt.coerceAndCheckDataType=dt.getJSONTypes=dt.getSchemaTypes=dt.DataType=void 0;var w9=sg(),R9=og(),P9=ro(),le=ne(),B0=Ce(),Sc;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(Sc=dt.DataType||(dt.DataType={}));function T9(e){let t=G0(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}dt.getSchemaTypes=T9;function G0(e){let t=Array.isArray(e)?e:e?[e]:[];if(t.every(w9.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}dt.getJSONTypes=G0;function A9(e,t){let{gen:r,data:n,opts:i}=e,s=I9(t,i.coerceTypes),o=t.length>0&&!(s.length===0&&t.length===1&&(0,R9.schemaHasRulesForType)(e,t[0]));if(o){let a=cg(t,n,i.strictNumbers,Sc.Wrong);r.if(a,()=>{s.length?O9(e,t,s):lg(e)})}return o}dt.coerceAndCheckDataType=A9;var W0=new Set(["string","number","integer","boolean","null"]);function I9(e,t){return t?e.filter(r=>W0.has(r)||t==="array"&&r==="array"):[]}function O9(e,t,r){let{gen:n,data:i,opts:s}=e,o=n.let("dataType",(0,le._)`typeof ${i}`),a=n.let("coerced",(0,le._)`undefined`);s.coerceTypes==="array"&&n.if((0,le._)`${o} == 'object' && Array.isArray(${i}) && ${i}.length == 1`,()=>n.assign(i,(0,le._)`${i}[0]`).assign(o,(0,le._)`typeof ${i}`).if(cg(t,i,s.strictNumbers),()=>n.assign(a,i))),n.if((0,le._)`${a} !== undefined`);for(let l of r)(W0.has(l)||l==="array"&&s.coerceTypes==="array")&&c(l);n.else(),lg(e),n.endIf(),n.if((0,le._)`${a} !== undefined`,()=>{n.assign(i,a),D9(e,a)});function c(l){switch(l){case"string":n.elseIf((0,le._)`${o} == "number" || ${o} == "boolean"`).assign(a,(0,le._)`"" + ${i}`).elseIf((0,le._)`${i} === null`).assign(a,(0,le._)`""`);return;case"number":n.elseIf((0,le._)`${o} == "boolean" || ${i} === null
              || (${o} == "string" && ${i} && ${i} == +${i})`).assign(a,(0,le._)`+${i}`);return;case"integer":n.elseIf((0,le._)`${o} === "boolean" || ${i} === null
              || (${o} === "string" && ${i} && ${i} == +${i} && !(${i} % 1))`).assign(a,(0,le._)`+${i}`);return;case"boolean":n.elseIf((0,le._)`${i} === "false" || ${i} === 0 || ${i} === null`).assign(a,!1).elseIf((0,le._)`${i} === "true" || ${i} === 1`).assign(a,!0);return;case"null":n.elseIf((0,le._)`${i} === "" || ${i} === 0 || ${i} === false`),n.assign(a,null);return;case"array":n.elseIf((0,le._)`${o} === "string" || ${o} === "number"
              || ${o} === "boolean" || ${i} === null`).assign(a,(0,le._)`[${i}]`)}}}function D9({gen:e,parentData:t,parentDataProperty:r},n){e.if((0,le._)`${t} !== undefined`,()=>e.assign((0,le._)`${t}[${r}]`,n))}function ag(e,t,r,n=Sc.Correct){let i=n===Sc.Correct?le.operators.EQ:le.operators.NEQ,s;switch(e){case"null":return(0,le._)`${t} ${i} null`;case"array":s=(0,le._)`Array.isArray(${t})`;break;case"object":s=(0,le._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":s=o((0,le._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":s=o();break;default:return(0,le._)`typeof ${t} ${i} ${e}`}return n===Sc.Correct?s:(0,le.not)(s);function o(a=le.nil){return(0,le.and)((0,le._)`typeof ${t} == "number"`,a,r?(0,le._)`isFinite(${t})`:le.nil)}}dt.checkDataType=ag;function cg(e,t,r,n){if(e.length===1)return ag(e[0],t,r,n);let i,s=(0,B0.toHash)(e);if(s.array&&s.object){let o=(0,le._)`typeof ${t} != "object"`;i=s.null?o:(0,le._)`!${t} || ${o}`,delete s.null,delete s.array,delete s.object}else i=le.nil;s.number&&delete s.integer;for(let o in s)i=(0,le.and)(i,ag(o,t,r,n));return i}dt.checkDataTypes=cg;var N9={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,le._)`{type: ${e}}`:(0,le._)`{type: ${t}}`};function lg(e){let t=$9(e);(0,P9.reportError)(t,N9)}dt.reportTypeError=lg;function $9(e){let{gen:t,data:r,schema:n}=e,i=(0,B0.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:i,schemaValue:i,parentSchema:n,params:{},it:e}}});var X0=g(ju=>{"use strict";Object.defineProperty(ju,"__esModule",{value:!0});ju.assignDefaults=void 0;var so=ne(),k9=Ce();function M9(e,t){let{properties:r,items:n}=e.schema;if(t==="object"&&r)for(let i in r)K0(e,i,r[i].default);else t==="array"&&Array.isArray(n)&&n.forEach((i,s)=>K0(e,s,i.default))}ju.assignDefaults=M9;function K0(e,t,r){let{gen:n,compositeRule:i,data:s,opts:o}=e;if(r===void 0)return;let a=(0,so._)`${s}${(0,so.getProperty)(t)}`;if(i){(0,k9.checkStrictMode)(e,`default is ignored for: ${a}`);return}let c=(0,so._)`${a} === undefined`;o.useDefaults==="empty"&&(c=(0,so._)`${c} || ${a} === null || ${a} === ""`),n.if(c,(0,so._)`${a} = ${(0,so.stringify)(r)}`)}});var er=g($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});$e.validateUnion=$e.validateArray=$e.usePattern=$e.callValidateCode=$e.schemaProperties=$e.allSchemaProperties=$e.noPropertyInData=$e.propertyInData=$e.isOwnProperty=$e.hasPropFunc=$e.reportMissingProp=$e.checkMissingProp=$e.checkReportMissingProp=void 0;var Ue=ne(),dg=Ce(),pi=Xr(),j9=Ce();function q9(e,t){let{gen:r,data:n,it:i}=e;r.if(pg(r,n,t,i.opts.ownProperties),()=>{e.setParams({missingProperty:(0,Ue._)`${t}`},!0),e.error()})}$e.checkReportMissingProp=q9;function L9({gen:e,data:t,it:{opts:r}},n,i){return(0,Ue.or)(...n.map(s=>(0,Ue.and)(pg(e,t,s,r.ownProperties),(0,Ue._)`${i} = ${s}`)))}$e.checkMissingProp=L9;function F9(e,t){e.setParams({missingProperty:t},!0),e.error()}$e.reportMissingProp=F9;function J0(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Ue._)`Object.prototype.hasOwnProperty`})}$e.hasPropFunc=J0;function ug(e,t,r){return(0,Ue._)`${J0(e)}.call(${t}, ${r})`}$e.isOwnProperty=ug;function U9(e,t,r,n){let i=(0,Ue._)`${t}${(0,Ue.getProperty)(r)} !== undefined`;return n?(0,Ue._)`${i} && ${ug(e,t,r)}`:i}$e.propertyInData=U9;function pg(e,t,r,n){let i=(0,Ue._)`${t}${(0,Ue.getProperty)(r)} === undefined`;return n?(0,Ue.or)(i,(0,Ue.not)(ug(e,t,r))):i}$e.noPropertyInData=pg;function Y0(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}$e.allSchemaProperties=Y0;function z9(e,t){return Y0(t).filter(r=>!(0,dg.alwaysValidSchema)(e,t[r]))}$e.schemaProperties=z9;function V9({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:i,errorPath:s},it:o},a,c,l){let d=l?(0,Ue._)`${e}, ${t}, ${n}${i}`:t,p=[[pi.default.instancePath,(0,Ue.strConcat)(pi.default.instancePath,s)],[pi.default.parentData,o.parentData],[pi.default.parentDataProperty,o.parentDataProperty],[pi.default.rootData,pi.default.rootData]];o.opts.dynamicRef&&p.push([pi.default.dynamicAnchors,pi.default.dynamicAnchors]);let m=(0,Ue._)`${d}, ${r.object(...p)}`;return c!==Ue.nil?(0,Ue._)`${a}.call(${c}, ${m})`:(0,Ue._)`${a}(${m})`}$e.callValidateCode=V9;var H9=(0,Ue._)`new RegExp`;function B9({gen:e,it:{opts:t}},r){let n=t.unicodeRegExp?"u":"",{regExp:i}=t.code,s=i(r,n);return e.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,Ue._)`${i.code==="new RegExp"?H9:(0,j9.useFunc)(e,i)}(${r}, ${n})`})}$e.usePattern=B9;function G9(e){let{gen:t,data:r,keyword:n,it:i}=e,s=t.name("valid");if(i.allErrors){let a=t.let("valid",!0);return o(()=>t.assign(a,!1)),a}return t.var(s,!0),o(()=>t.break()),s;function o(a){let c=t.const("len",(0,Ue._)`${r}.length`);t.forRange("i",0,c,l=>{e.subschema({keyword:n,dataProp:l,dataPropType:dg.Type.Num},s),t.if((0,Ue.not)(s),a)})}}$e.validateArray=G9;function W9(e){let{gen:t,schema:r,keyword:n,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(c=>(0,dg.alwaysValidSchema)(i,c))&&!i.opts.unevaluated)return;let o=t.let("valid",!1),a=t.name("_valid");t.block(()=>r.forEach((c,l)=>{let d=e.subschema({keyword:n,schemaProp:l,compositeRule:!0},a);t.assign(o,(0,Ue._)`${o} || ${a}`),e.mergeValidEvaluated(d,a)||t.if((0,Ue.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}$e.validateUnion=W9});var ew=g(Jr=>{"use strict";Object.defineProperty(Jr,"__esModule",{value:!0});Jr.validateKeywordUsage=Jr.validSchemaType=Jr.funcKeywordCode=Jr.macroKeywordCode=void 0;var At=ne(),ms=Xr(),K9=er(),X9=ro();function J9(e,t){let{gen:r,keyword:n,schema:i,parentSchema:s,it:o}=e,a=t.macro.call(o.self,i,s,o),c=Z0(r,n,a);o.opts.validateSchema!==!1&&o.self.validateSchema(a,!0);let l=r.name("valid");e.subschema({schema:a,schemaPath:At.nil,errSchemaPath:`${o.errSchemaPath}/${n}`,topSchemaRef:c,compositeRule:!0},l),e.pass(l,()=>e.error(!0))}Jr.macroKeywordCode=J9;function Y9(e,t){var r;let{gen:n,keyword:i,schema:s,parentSchema:o,$data:a,it:c}=e;Z9(c,t);let l=!a&&t.compile?t.compile.call(c.self,s,o,c):t.validate,d=Z0(n,i,l),p=n.let("valid");e.block$data(p,m),e.ok((r=t.valid)!==null&&r!==void 0?r:p);function m(){if(t.errors===!1)y(),t.modifying&&Q0(e),x(()=>e.error());else{let C=t.async?f():v();t.modifying&&Q0(e),x(()=>Q9(e,C))}}function f(){let C=n.let("ruleErrs",null);return n.try(()=>y((0,At._)`await `),I=>n.assign(p,!1).if((0,At._)`${I} instanceof ${c.ValidationError}`,()=>n.assign(C,(0,At._)`${I}.errors`),()=>n.throw(I))),C}function v(){let C=(0,At._)`${d}.errors`;return n.assign(C,null),y(At.nil),C}function y(C=t.async?(0,At._)`await `:At.nil){let I=c.opts.passContext?ms.default.this:ms.default.self,W=!("compile"in t&&!a||t.schema===!1);n.assign(p,(0,At._)`${C}${(0,K9.callValidateCode)(e,d,I,W)}`,t.modifying)}function x(C){var I;n.if((0,At.not)((I=t.valid)!==null&&I!==void 0?I:p),C)}}Jr.funcKeywordCode=Y9;function Q0(e){let{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,At._)`${n.parentData}[${n.parentDataProperty}]`))}function Q9(e,t){let{gen:r}=e;r.if((0,At._)`Array.isArray(${t})`,()=>{r.assign(ms.default.vErrors,(0,At._)`${ms.default.vErrors} === null ? ${t} : ${ms.default.vErrors}.concat(${t})`).assign(ms.default.errors,(0,At._)`${ms.default.vErrors}.length`),(0,X9.extendErrors)(e)},()=>e.error())}function Z9({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function Z0(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,At.stringify)(r)})}function e8(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}Jr.validSchemaType=e8;function t8({schema:e,opts:t,self:r,errSchemaPath:n},i,s){if(Array.isArray(i.keyword)?!i.keyword.includes(s):i.keyword!==s)throw new Error("ajv implementation error");let o=i.dependencies;if(o?.some(a=>!Object.prototype.hasOwnProperty.call(e,a)))throw new Error(`parent schema must have dependencies of ${s}: ${o.join(",")}`);if(i.validateSchema&&!i.validateSchema(e[s])){let c=`keyword "${s}" value is invalid at path "${n}": `+r.errorsText(i.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(c);else throw new Error(c)}}Jr.validateKeywordUsage=t8});var rw=g(mi=>{"use strict";Object.defineProperty(mi,"__esModule",{value:!0});mi.extendSubschemaMode=mi.extendSubschemaData=mi.getSubschema=void 0;var Yr=ne(),tw=Ce();function r8(e,{keyword:t,schemaProp:r,schema:n,schemaPath:i,errSchemaPath:s,topSchemaRef:o}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){let a=e.schema[t];return r===void 0?{schema:a,schemaPath:(0,Yr._)`${e.schemaPath}${(0,Yr.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:a[r],schemaPath:(0,Yr._)`${e.schemaPath}${(0,Yr.getProperty)(t)}${(0,Yr.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,tw.escapeFragment)(r)}`}}if(n!==void 0){if(i===void 0||s===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:i,topSchemaRef:o,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}mi.getSubschema=r8;function n8(e,t,{dataProp:r,dataPropType:n,data:i,dataTypes:s,propertyName:o}){if(i!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:a}=t;if(r!==void 0){let{errorPath:l,dataPathArr:d,opts:p}=t,m=a.let("data",(0,Yr._)`${t.data}${(0,Yr.getProperty)(r)}`,!0);c(m),e.errorPath=(0,Yr.str)`${l}${(0,tw.getErrorPath)(r,n,p.jsPropertySyntax)}`,e.parentDataProperty=(0,Yr._)`${r}`,e.dataPathArr=[...d,e.parentDataProperty]}if(i!==void 0){let l=i instanceof Yr.Name?i:a.let("data",i,!0);c(l),o!==void 0&&(e.propertyName=o)}s&&(e.dataTypes=s);function c(l){e.data=l,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,l]}}mi.extendSubschemaData=n8;function i8(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:i,allErrors:s}){n!==void 0&&(e.compositeRule=n),i!==void 0&&(e.createErrors=i),s!==void 0&&(e.allErrors=s),e.jtdDiscriminator=t,e.jtdMetadata=r}mi.extendSubschemaMode=i8});var qu=g((sDe,nw)=>{"use strict";nw.exports=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,i,s;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[i]))return!1;for(i=n;i--!==0;){var o=s[i];if(!e(t[o],r[o]))return!1}return!0}return t!==t&&r!==r}});var sw=g((oDe,iw)=>{"use strict";var fi=iw.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},i=r.post||function(){};Lu(t,n,i,e,"",e)};fi.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};fi.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};fi.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};fi.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Lu(e,t,r,n,i,s,o,a,c,l){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,i,s,o,a,c,l);for(var d in n){var p=n[d];if(Array.isArray(p)){if(d in fi.arrayKeywords)for(var m=0;m<p.length;m++)Lu(e,t,r,p[m],i+"/"+d+"/"+m,s,i,d,n,m)}else if(d in fi.propsKeywords){if(p&&typeof p=="object")for(var f in p)Lu(e,t,r,p[f],i+"/"+d+"/"+s8(f),s,i,d,n,f)}else(d in fi.keywords||e.allKeys&&!(d in fi.skipKeywords))&&Lu(e,t,r,p,i+"/"+d,s,i,d,n)}r(n,i,s,o,a,c,l)}}function s8(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}});var bc=g(qt=>{"use strict";Object.defineProperty(qt,"__esModule",{value:!0});qt.getSchemaRefs=qt.resolveUrl=qt.normalizeId=qt._getFullPath=qt.getFullPath=qt.inlineRef=void 0;var o8=Ce(),a8=qu(),c8=sw(),l8=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function d8(e,t=!0){return typeof e=="boolean"?!0:t===!0?!mg(e):t?ow(e)<=t:!1}qt.inlineRef=d8;var u8=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function mg(e){for(let t in e){if(u8.has(t))return!0;let r=e[t];if(Array.isArray(r)&&r.some(mg)||typeof r=="object"&&mg(r))return!0}return!1}function ow(e){let t=0;for(let r in e){if(r==="$ref")return 1/0;if(t++,!l8.has(r)&&(typeof e[r]=="object"&&(0,o8.eachItem)(e[r],n=>t+=ow(n)),t===1/0))return 1/0}return t}function aw(e,t="",r){r!==!1&&(t=oo(t));let n=e.parse(t);return cw(e,n)}qt.getFullPath=aw;function cw(e,t){return e.serialize(t).split("#")[0]+"#"}qt._getFullPath=cw;var p8=/#\/?$/;function oo(e){return e?e.replace(p8,""):""}qt.normalizeId=oo;function m8(e,t,r){return r=oo(r),e.resolve(t,r)}qt.resolveUrl=m8;var f8=/^[a-z_][-a-z0-9._]*$/i;function h8(e,t){if(typeof e=="boolean")return{};let{schemaId:r,uriResolver:n}=this.opts,i=oo(e[r]||t),s={"":i},o=aw(n,i,!1),a={},c=new Set;return c8(e,{allKeys:!0},(p,m,f,v)=>{if(v===void 0)return;let y=o+m,x=s[v];typeof p[r]=="string"&&(x=C.call(this,p[r])),I.call(this,p.$anchor),I.call(this,p.$dynamicAnchor),s[m]=x;function C(W){let K=this.opts.uriResolver.resolve;if(W=oo(x?K(x,W):W),c.has(W))throw d(W);c.add(W);let J=this.refs[W];return typeof J=="string"&&(J=this.refs[J]),typeof J=="object"?l(p,J.schema,W):W!==oo(y)&&(W[0]==="#"?(l(p,a[W],W),a[W]=p):this.refs[W]=y),W}function I(W){if(typeof W=="string"){if(!f8.test(W))throw new Error(`invalid anchor "${W}"`);C.call(this,`#${W}`)}}}),a;function l(p,m,f){if(m!==void 0&&!a8(p,m))throw d(f)}function d(p){return new Error(`reference "${p}" resolves to more than one schema`)}}qt.getSchemaRefs=h8});var ao=g(hi=>{"use strict";Object.defineProperty(hi,"__esModule",{value:!0});hi.getData=hi.KeywordCxt=hi.validateFunctionCode=void 0;var mw=z0(),lw=xc(),hg=og(),Fu=xc(),g8=X0(),wc=ew(),fg=rw(),Z=ne(),oe=Xr(),v8=bc(),kn=Ce(),Cc=ro();function _8(e){if(gw(e)&&(vw(e),hw(e))){S8(e);return}fw(e,()=>(0,mw.topBoolOrEmptySchema)(e))}hi.validateFunctionCode=_8;function fw({gen:e,validateName:t,schema:r,schemaEnv:n,opts:i},s){i.code.es5?e.func(t,(0,Z._)`${oe.default.data}, ${oe.default.valCxt}`,n.$async,()=>{e.code((0,Z._)`"use strict"; ${dw(r,i)}`),E8(e,i),e.code(s)}):e.func(t,(0,Z._)`${oe.default.data}, ${y8(i)}`,n.$async,()=>e.code(dw(r,i)).code(s))}function y8(e){return(0,Z._)`{${oe.default.instancePath}="", ${oe.default.parentData}, ${oe.default.parentDataProperty}, ${oe.default.rootData}=${oe.default.data}${e.dynamicRef?(0,Z._)`, ${oe.default.dynamicAnchors}={}`:Z.nil}}={}`}function E8(e,t){e.if(oe.default.valCxt,()=>{e.var(oe.default.instancePath,(0,Z._)`${oe.default.valCxt}.${oe.default.instancePath}`),e.var(oe.default.parentData,(0,Z._)`${oe.default.valCxt}.${oe.default.parentData}`),e.var(oe.default.parentDataProperty,(0,Z._)`${oe.default.valCxt}.${oe.default.parentDataProperty}`),e.var(oe.default.rootData,(0,Z._)`${oe.default.valCxt}.${oe.default.rootData}`),t.dynamicRef&&e.var(oe.default.dynamicAnchors,(0,Z._)`${oe.default.valCxt}.${oe.default.dynamicAnchors}`)},()=>{e.var(oe.default.instancePath,(0,Z._)`""`),e.var(oe.default.parentData,(0,Z._)`undefined`),e.var(oe.default.parentDataProperty,(0,Z._)`undefined`),e.var(oe.default.rootData,oe.default.data),t.dynamicRef&&e.var(oe.default.dynamicAnchors,(0,Z._)`{}`)})}function S8(e){let{schema:t,opts:r,gen:n}=e;fw(e,()=>{r.$comment&&t.$comment&&yw(e),R8(e),n.let(oe.default.vErrors,null),n.let(oe.default.errors,0),r.unevaluated&&x8(e),_w(e),A8(e)})}function x8(e){let{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,Z._)`${r}.evaluated`),t.if((0,Z._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,Z._)`${e.evaluated}.props`,(0,Z._)`undefined`)),t.if((0,Z._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,Z._)`${e.evaluated}.items`,(0,Z._)`undefined`))}function dw(e,t){let r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,Z._)`/*# sourceURL=${r} */`:Z.nil}function b8(e,t){if(gw(e)&&(vw(e),hw(e))){C8(e,t);return}(0,mw.boolOrEmptySchema)(e,t)}function hw({schema:e,self:t}){if(typeof e=="boolean")return!e;for(let r in e)if(t.RULES.all[r])return!0;return!1}function gw(e){return typeof e.schema!="boolean"}function C8(e,t){let{schema:r,gen:n,opts:i}=e;i.$comment&&r.$comment&&yw(e),P8(e),T8(e);let s=n.const("_errs",oe.default.errors);_w(e,s),n.var(t,(0,Z._)`${s} === ${oe.default.errors}`)}function vw(e){(0,kn.checkUnknownRules)(e),w8(e)}function _w(e,t){if(e.opts.jtd)return uw(e,[],!1,t);let r=(0,lw.getSchemaTypes)(e.schema),n=(0,lw.coerceAndCheckDataType)(e,r);uw(e,r,!n,t)}function w8(e){let{schema:t,errSchemaPath:r,opts:n,self:i}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,kn.schemaHasRulesButRef)(t,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function R8(e){let{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,kn.checkStrictMode)(e,"default is ignored in the schema root")}function P8(e){let t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,v8.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function T8(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function yw({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:i}){let s=r.$comment;if(i.$comment===!0)e.code((0,Z._)`${oe.default.self}.logger.log(${s})`);else if(typeof i.$comment=="function"){let o=(0,Z.str)`${n}/$comment`,a=e.scopeValue("root",{ref:t.root});e.code((0,Z._)`${oe.default.self}.opts.$comment(${s}, ${o}, ${a}.schema)`)}}function A8(e){let{gen:t,schemaEnv:r,validateName:n,ValidationError:i,opts:s}=e;r.$async?t.if((0,Z._)`${oe.default.errors} === 0`,()=>t.return(oe.default.data),()=>t.throw((0,Z._)`new ${i}(${oe.default.vErrors})`)):(t.assign((0,Z._)`${n}.errors`,oe.default.vErrors),s.unevaluated&&I8(e),t.return((0,Z._)`${oe.default.errors} === 0`))}function I8({gen:e,evaluated:t,props:r,items:n}){r instanceof Z.Name&&e.assign((0,Z._)`${t}.props`,r),n instanceof Z.Name&&e.assign((0,Z._)`${t}.items`,n)}function uw(e,t,r,n){let{gen:i,schema:s,data:o,allErrors:a,opts:c,self:l}=e,{RULES:d}=l;if(s.$ref&&(c.ignoreKeywordsWithRef||!(0,kn.schemaHasRulesButRef)(s,d))){i.block(()=>Sw(e,"$ref",d.all.$ref.definition));return}c.jtd||O8(e,t),i.block(()=>{for(let m of d.rules)p(m);p(d.post)});function p(m){(0,hg.shouldUseGroup)(s,m)&&(m.type?(i.if((0,Fu.checkDataType)(m.type,o,c.strictNumbers)),pw(e,m),t.length===1&&t[0]===m.type&&r&&(i.else(),(0,Fu.reportTypeError)(e)),i.endIf()):pw(e,m),a||i.if((0,Z._)`${oe.default.errors} === ${n||0}`))}}function pw(e,t){let{gen:r,schema:n,opts:{useDefaults:i}}=e;i&&(0,g8.assignDefaults)(e,t.type),r.block(()=>{for(let s of t.rules)(0,hg.shouldUseRule)(n,s)&&Sw(e,s.keyword,s.definition,t.type)})}function O8(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(D8(e,t),e.opts.allowUnionTypes||N8(e,t),$8(e,e.dataTypes))}function D8(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{Ew(e.dataTypes,r)||gg(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),M8(e,t)}}function N8(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&gg(e,"use allowUnionTypes to allow union type keyword")}function $8(e,t){let r=e.self.RULES.all;for(let n in r){let i=r[n];if(typeof i=="object"&&(0,hg.shouldUseRule)(e.schema,i)){let{type:s}=i.definition;s.length&&!s.some(o=>k8(t,o))&&gg(e,`missing type "${s.join(",")}" for keyword "${n}"`)}}}function k8(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function Ew(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function M8(e,t){let r=[];for(let n of e.dataTypes)Ew(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function gg(e,t){let r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,kn.checkStrictMode)(e,t,e.opts.strictTypes)}var Uu=class{constructor(t,r,n){if((0,wc.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,kn.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",xw(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,wc.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",oe.default.errors))}result(t,r,n){this.failResult((0,Z.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,Z.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);let{schemaCode:r}=this;this.fail((0,Z._)`${r} !== undefined && (${(0,Z.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?Cc.reportExtraError:Cc.reportError)(this,this.def.error,r)}$dataError(){(0,Cc.reportError)(this,this.def.$dataError||Cc.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Cc.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=Z.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=Z.nil,r=Z.nil){if(!this.$data)return;let{gen:n,schemaCode:i,schemaType:s,def:o}=this;n.if((0,Z.or)((0,Z._)`${i} === undefined`,r)),t!==Z.nil&&n.assign(t,!0),(s.length||o.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==Z.nil&&n.assign(t,!1)),n.else()}invalid$data(){let{gen:t,schemaCode:r,schemaType:n,def:i,it:s}=this;return(0,Z.or)(o(),a());function o(){if(n.length){if(!(r instanceof Z.Name))throw new Error("ajv implementation error");let c=Array.isArray(n)?n:[n];return(0,Z._)`${(0,Fu.checkDataTypes)(c,r,s.opts.strictNumbers,Fu.DataType.Wrong)}`}return Z.nil}function a(){if(i.validateSchema){let c=t.scopeValue("validate$data",{ref:i.validateSchema});return(0,Z._)`!${c}(${r})`}return Z.nil}}subschema(t,r){let n=(0,fg.getSubschema)(this.it,t);(0,fg.extendSubschemaData)(n,this.it,t),(0,fg.extendSubschemaMode)(n,t);let i={...this.it,...n,items:void 0,props:void 0};return b8(i,r),i}mergeEvaluated(t,r){let{it:n,gen:i}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=kn.mergeEvaluated.props(i,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=kn.mergeEvaluated.items(i,t.items,n.items,r)))}mergeValidEvaluated(t,r){let{it:n,gen:i}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return i.if(r,()=>this.mergeEvaluated(t,Z.Name)),!0}};hi.KeywordCxt=Uu;function Sw(e,t,r,n){let i=new Uu(e,r,t);"code"in r?r.code(i,n):i.$data&&r.validate?(0,wc.funcKeywordCode)(i,r):"macro"in r?(0,wc.macroKeywordCode)(i,r):(r.compile||r.validate)&&(0,wc.funcKeywordCode)(i,r)}var j8=/^\/(?:[^~]|~0|~1)*$/,q8=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function xw(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let i,s;if(e==="")return oe.default.rootData;if(e[0]==="/"){if(!j8.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);i=e,s=oe.default.rootData}else{let l=q8.exec(e);if(!l)throw new Error(`Invalid JSON-pointer: ${e}`);let d=+l[1];if(i=l[2],i==="#"){if(d>=t)throw new Error(c("property/index",d));return n[t-d]}if(d>t)throw new Error(c("data",d));if(s=r[t-d],!i)return s}let o=s,a=i.split("/");for(let l of a)l&&(s=(0,Z._)`${s}${(0,Z.getProperty)((0,kn.unescapeJsonPointer)(l))}`,o=(0,Z._)`${o} && ${s}`);return o;function c(l,d){return`Cannot access ${l} ${d} levels up, current level is ${t}`}}hi.getData=xw});var zu=g(_g=>{"use strict";Object.defineProperty(_g,"__esModule",{value:!0});var vg=class extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}};_g.default=vg});var Vu=g(Sg=>{"use strict";Object.defineProperty(Sg,"__esModule",{value:!0});var yg=bc(),Eg=class extends Error{constructor(t,r,n,i){super(i||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,yg.resolveUrl)(t,r,n),this.missingSchema=(0,yg.normalizeId)((0,yg.getFullPath)(t,this.missingRef))}};Sg.default=Eg});var Bu=g(tr=>{"use strict";Object.defineProperty(tr,"__esModule",{value:!0});tr.resolveSchema=tr.getCompilingSchema=tr.resolveRef=tr.compileSchema=tr.SchemaEnv=void 0;var wr=ne(),L8=zu(),fs=Xr(),Rr=bc(),bw=Ce(),F8=ao(),co=class{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,Rr.normalizeId)(n?.[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n?.$async,this.refs={}}};tr.SchemaEnv=co;function bg(e){let t=Cw.call(this,e);if(t)return t;let r=(0,Rr.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:i}=this.opts.code,{ownProperties:s}=this.opts,o=new wr.CodeGen(this.scope,{es5:n,lines:i,ownProperties:s}),a;e.$async&&(a=o.scopeValue("Error",{ref:L8.default,code:(0,wr._)`require("ajv/dist/runtime/validation_error").default`}));let c=o.scopeName("validate");e.validateName=c;let l={gen:o,allErrors:this.opts.allErrors,data:fs.default.data,parentData:fs.default.parentData,parentDataProperty:fs.default.parentDataProperty,dataNames:[fs.default.data],dataPathArr:[wr.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,wr.stringify)(e.schema)}:{ref:e.schema}),validateName:c,ValidationError:a,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:wr.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,wr._)`""`,opts:this.opts,self:this},d;try{this._compilations.add(e),(0,F8.validateFunctionCode)(l),o.optimize(this.opts.code.optimize);let p=o.toString();d=`${o.scopeRefs(fs.default.scope)}return ${p}`,this.opts.code.process&&(d=this.opts.code.process(d,e));let f=new Function(`${fs.default.self}`,`${fs.default.scope}`,d)(this,this.scope.get());if(this.scope.value(c,{ref:f}),f.errors=null,f.schema=e.schema,f.schemaEnv=e,e.$async&&(f.$async=!0),this.opts.code.source===!0&&(f.source={validateName:c,validateCode:p,scopeValues:o._values}),this.opts.unevaluated){let{props:v,items:y}=l;f.evaluated={props:v instanceof wr.Name?void 0:v,items:y instanceof wr.Name?void 0:y,dynamicProps:v instanceof wr.Name,dynamicItems:y instanceof wr.Name},f.source&&(f.source.evaluated=(0,wr.stringify)(f.evaluated))}return e.validate=f,e}catch(p){throw delete e.validate,delete e.validateName,d&&this.logger.error("Error compiling schema, function code:",d),p}finally{this._compilations.delete(e)}}tr.compileSchema=bg;function U8(e,t,r){var n;r=(0,Rr.resolveUrl)(this.opts.uriResolver,t,r);let i=e.refs[r];if(i)return i;let s=H8.call(this,e,r);if(s===void 0){let o=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:a}=this.opts;o&&(s=new co({schema:o,schemaId:a,root:e,baseId:t}))}if(s!==void 0)return e.refs[r]=z8.call(this,s)}tr.resolveRef=U8;function z8(e){return(0,Rr.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:bg.call(this,e)}function Cw(e){for(let t of this._compilations)if(V8(t,e))return t}tr.getCompilingSchema=Cw;function V8(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function H8(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||Hu.call(this,e,t)}function Hu(e,t){let r=this.opts.uriResolver.parse(t),n=(0,Rr._getFullPath)(this.opts.uriResolver,r),i=(0,Rr.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===i)return xg.call(this,r,e);let s=(0,Rr.normalizeId)(n),o=this.refs[s]||this.schemas[s];if(typeof o=="string"){let a=Hu.call(this,e,o);return typeof a?.schema!="object"?void 0:xg.call(this,r,a)}if(typeof o?.schema=="object"){if(o.validate||bg.call(this,o),s===(0,Rr.normalizeId)(t)){let{schema:a}=o,{schemaId:c}=this.opts,l=a[c];return l&&(i=(0,Rr.resolveUrl)(this.opts.uriResolver,i,l)),new co({schema:a,schemaId:c,root:e,baseId:i})}return xg.call(this,r,o)}}tr.resolveSchema=Hu;var B8=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function xg(e,{baseId:t,schema:r,root:n}){var i;if(((i=e.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(let a of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;let c=r[(0,bw.unescapeFragment)(a)];if(c===void 0)return;r=c;let l=typeof r=="object"&&r[this.opts.schemaId];!B8.has(a)&&l&&(t=(0,Rr.resolveUrl)(this.opts.uriResolver,t,l))}let s;if(typeof r!="boolean"&&r.$ref&&!(0,bw.schemaHasRulesButRef)(r,this.RULES)){let a=(0,Rr.resolveUrl)(this.opts.uriResolver,t,r.$ref);s=Hu.call(this,n,a)}let{schemaId:o}=this.opts;if(s=s||new co({schema:r,schemaId:o,root:n,baseId:t}),s.schema!==s.root.schema)return s}});var ww=g((pDe,G8)=>{G8.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var Pw=g((Gu,Rw)=>{(function(e,t){typeof Gu=="object"&&typeof Rw<"u"?t(Gu):typeof define=="function"&&define.amd?define(["exports"],t):t(e.URI=e.URI||{})})(Gu,function(e){"use strict";function t(){for(var E=arguments.length,_=Array(E),S=0;S<E;S++)_[S]=arguments[S];if(_.length>1){_[0]=_[0].slice(0,-1);for(var b=_.length-1,R=1;R<b;++R)_[R]=_[R].slice(1,-1);return _[b]=_[b].slice(1),_.join("")}else return _[0]}function r(E){return"(?:"+E+")"}function n(E){return E===void 0?"undefined":E===null?"null":Object.prototype.toString.call(E).split(" ").pop().split("]").shift().toLowerCase()}function i(E){return E.toUpperCase()}function s(E){return E!=null?E instanceof Array?E:typeof E.length!="number"||E.split||E.setInterval||E.call?[E]:Array.prototype.slice.call(E):[]}function o(E,_){var S=E;if(_)for(var b in _)S[b]=_[b];return S}function a(E){var _="[A-Za-z]",S="[\\x0D]",b="[0-9]",R="[\\x22]",B=t(b,"[A-Fa-f]"),ce="[\\x0A]",xe="[\\x20]",Ae=r(r("%[EFef]"+B+"%"+B+B+"%"+B+B)+"|"+r("%[89A-Fa-f]"+B+"%"+B+B)+"|"+r("%"+B+B)),Ze="[\\:\\/\\?\\#\\[\\]\\@]",ye="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",We=t(Ze,ye),et=E?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Ve=E?"[\\uE000-\\uF8FF]":"[]",Re=t(_,b,"[\\-\\.\\_\\~]",et),Ke=r(_+t(_,b,"[\\+\\-\\.]")+"*"),Ne=r(r(Ae+"|"+t(Re,ye,"[\\:]"))+"*"),Qi=r(r("25[0-5]")+"|"+r("2[0-4]"+b)+"|"+r("1"+b+b)+"|"+r("[1-9]"+b)+"|"+b),Vt=r(r("25[0-5]")+"|"+r("2[0-4]"+b)+"|"+r("1"+b+b)+"|"+r("0?[1-9]"+b)+"|0?0?"+b),Xt=r(Vt+"\\."+Vt+"\\."+Vt+"\\."+Vt),Me=r(B+"{1,4}"),Ht=r(r(Me+"\\:"+Me)+"|"+Xt),Jt=r(r(Me+"\\:")+"{6}"+Ht),Br=r("\\:\\:"+r(Me+"\\:")+"{5}"+Ht),Zi=r(r(Me)+"?\\:\\:"+r(Me+"\\:")+"{4}"+Ht),bn=r(r(r(Me+"\\:")+"{0,1}"+Me)+"?\\:\\:"+r(Me+"\\:")+"{3}"+Ht),tc=r(r(r(Me+"\\:")+"{0,2}"+Me)+"?\\:\\:"+r(Me+"\\:")+"{2}"+Ht),Bd=r(r(r(Me+"\\:")+"{0,3}"+Me)+"?\\:\\:"+Me+"\\:"+Ht),Gd=r(r(r(Me+"\\:")+"{0,4}"+Me)+"?\\:\\:"+Ht),Ls=r(r(r(Me+"\\:")+"{0,5}"+Me)+"?\\:\\:"+Me),Fs=r(r(r(Me+"\\:")+"{0,6}"+Me)+"?\\:\\:"),Cn=r([Jt,Br,Zi,bn,tc,Bd,Gd,Ls,Fs].join("|")),Us=r(r(Re+"|"+Ae)+"+"),sh=r(Cn+"\\%25"+Us),es=r(Cn+r("\\%25|\\%(?!"+B+"{2})")+Us),L4=r("[vV]"+B+"+\\."+t(Re,ye,"[\\:]")+"+"),F4=r("\\["+r(es+"|"+Cn+"|"+L4)+"\\]"),_b=r(r(Ae+"|"+t(Re,ye))+"*"),rc=r(F4+"|"+Xt+"(?!"+_b+")|"+_b),nc=r(b+"*"),yb=r(r(Ne+"@")+"?"+rc+r("\\:"+nc)+"?"),ic=r(Ae+"|"+t(Re,ye,"[\\:\\@]")),U4=r(ic+"*"),Eb=r(ic+"+"),z4=r(r(Ae+"|"+t(Re,ye,"[\\@]"))+"+"),wn=r(r("\\/"+U4)+"*"),zs=r("\\/"+r(Eb+wn)+"?"),oh=r(z4+wn),Wd=r(Eb+wn),Vs="(?!"+ic+")",FIe=r(wn+"|"+zs+"|"+oh+"|"+Wd+"|"+Vs),Hs=r(r(ic+"|"+t("[\\/\\?]",Ve))+"*"),sc=r(r(ic+"|[\\/\\?]")+"*"),Sb=r(r("\\/\\/"+yb+wn)+"|"+zs+"|"+Wd+"|"+Vs),V4=r(Ke+"\\:"+Sb+r("\\?"+Hs)+"?"+r("\\#"+sc)+"?"),H4=r(r("\\/\\/"+yb+wn)+"|"+zs+"|"+oh+"|"+Vs),B4=r(H4+r("\\?"+Hs)+"?"+r("\\#"+sc)+"?"),UIe=r(V4+"|"+B4),zIe=r(Ke+"\\:"+Sb+r("\\?"+Hs)+"?"),VIe="^("+Ke+")\\:"+r(r("\\/\\/("+r("("+Ne+")@")+"?("+rc+")"+r("\\:("+nc+")")+"?)")+"?("+wn+"|"+zs+"|"+Wd+"|"+Vs+")")+r("\\?("+Hs+")")+"?"+r("\\#("+sc+")")+"?$",HIe="^(){0}"+r(r("\\/\\/("+r("("+Ne+")@")+"?("+rc+")"+r("\\:("+nc+")")+"?)")+"?("+wn+"|"+zs+"|"+oh+"|"+Vs+")")+r("\\?("+Hs+")")+"?"+r("\\#("+sc+")")+"?$",BIe="^("+Ke+")\\:"+r(r("\\/\\/("+r("("+Ne+")@")+"?("+rc+")"+r("\\:("+nc+")")+"?)")+"?("+wn+"|"+zs+"|"+Wd+"|"+Vs+")")+r("\\?("+Hs+")")+"?$",GIe="^"+r("\\#("+sc+")")+"?$",WIe="^"+r("("+Ne+")@")+"?("+rc+")"+r("\\:("+nc+")")+"?$";return{NOT_SCHEME:new RegExp(t("[^]",_,b,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",Re,ye),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",Re,ye),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",Re,ye),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",Re,ye),"g"),NOT_QUERY:new RegExp(t("[^\\%]",Re,ye,"[\\:\\@\\/\\?]",Ve),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",Re,ye,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",Re,ye),"g"),UNRESERVED:new RegExp(Re,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",Re,We),"g"),PCT_ENCODED:new RegExp(Ae,"g"),IPV4ADDRESS:new RegExp("^("+Xt+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Cn+")"+r(r("\\%25|\\%(?!"+B+"{2})")+"("+Us+")")+"?\\]?$")}}var c=a(!1),l=a(!0),d=function(){function E(_,S){var b=[],R=!0,B=!1,ce=void 0;try{for(var xe=_[Symbol.iterator](),Ae;!(R=(Ae=xe.next()).done)&&(b.push(Ae.value),!(S&&b.length===S));R=!0);}catch(Ze){B=!0,ce=Ze}finally{try{!R&&xe.return&&xe.return()}finally{if(B)throw ce}}return b}return function(_,S){if(Array.isArray(_))return _;if(Symbol.iterator in Object(_))return E(_,S);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function(E){if(Array.isArray(E)){for(var _=0,S=Array(E.length);_<E.length;_++)S[_]=E[_];return S}else return Array.from(E)},m=2147483647,f=36,v=1,y=26,x=38,C=700,I=72,W=128,K="-",J=/^xn--/,$=/[^\0-\x7E]/,Q=/[\x2E\u3002\uFF0E\uFF61]/g,te={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ee=f-v,ue=Math.floor,De=String.fromCharCode;function ae(E){throw new RangeError(te[E])}function Se(E,_){for(var S=[],b=E.length;b--;)S[b]=_(E[b]);return S}function wt(E,_){var S=E.split("@"),b="";S.length>1&&(b=S[0]+"@",E=S[1]),E=E.replace(Q,".");var R=E.split("."),B=Se(R,_).join(".");return b+B}function Ur(E){for(var _=[],S=0,b=E.length;S<b;){var R=E.charCodeAt(S++);if(R>=55296&&R<=56319&&S<b){var B=E.charCodeAt(S++);(B&64512)==56320?_.push(((R&1023)<<10)+(B&1023)+65536):(_.push(R),S--)}else _.push(R)}return _}var Rt=function(_){return String.fromCodePoint.apply(String,p(_))},Qa=function(_){return _-48<10?_-22:_-65<26?_-65:_-97<26?_-97:f},tb=function(_,S){return _+22+75*(_<26)-((S!=0)<<5)},rb=function(_,S,b){var R=0;for(_=b?ue(_/C):_>>1,_+=ue(_/S);_>ee*y>>1;R+=f)_=ue(_/ee);return ue(R+(ee+1)*_/(_+x))},nb=function(_){var S=[],b=_.length,R=0,B=W,ce=I,xe=_.lastIndexOf(K);xe<0&&(xe=0);for(var Ae=0;Ae<xe;++Ae)_.charCodeAt(Ae)>=128&&ae("not-basic"),S.push(_.charCodeAt(Ae));for(var Ze=xe>0?xe+1:0;Ze<b;){for(var ye=R,We=1,et=f;;et+=f){Ze>=b&&ae("invalid-input");var Ve=Qa(_.charCodeAt(Ze++));(Ve>=f||Ve>ue((m-R)/We))&&ae("overflow"),R+=Ve*We;var Re=et<=ce?v:et>=ce+y?y:et-ce;if(Ve<Re)break;var Ke=f-Re;We>ue(m/Ke)&&ae("overflow"),We*=Ke}var Ne=S.length+1;ce=rb(R-ye,Ne,ye==0),ue(R/Ne)>m-B&&ae("overflow"),B+=ue(R/Ne),R%=Ne,S.splice(R++,0,B)}return String.fromCodePoint.apply(String,S)},ib=function(_){var S=[];_=Ur(_);var b=_.length,R=W,B=0,ce=I,xe=!0,Ae=!1,Ze=void 0;try{for(var ye=_[Symbol.iterator](),We;!(xe=(We=ye.next()).done);xe=!0){var et=We.value;et<128&&S.push(De(et))}}catch(es){Ae=!0,Ze=es}finally{try{!xe&&ye.return&&ye.return()}finally{if(Ae)throw Ze}}var Ve=S.length,Re=Ve;for(Ve&&S.push(K);Re<b;){var Ke=m,Ne=!0,Qi=!1,Vt=void 0;try{for(var Xt=_[Symbol.iterator](),Me;!(Ne=(Me=Xt.next()).done);Ne=!0){var Ht=Me.value;Ht>=R&&Ht<Ke&&(Ke=Ht)}}catch(es){Qi=!0,Vt=es}finally{try{!Ne&&Xt.return&&Xt.return()}finally{if(Qi)throw Vt}}var Jt=Re+1;Ke-R>ue((m-B)/Jt)&&ae("overflow"),B+=(Ke-R)*Jt,R=Ke;var Br=!0,Zi=!1,bn=void 0;try{for(var tc=_[Symbol.iterator](),Bd;!(Br=(Bd=tc.next()).done);Br=!0){var Gd=Bd.value;if(Gd<R&&++B>m&&ae("overflow"),Gd==R){for(var Ls=B,Fs=f;;Fs+=f){var Cn=Fs<=ce?v:Fs>=ce+y?y:Fs-ce;if(Ls<Cn)break;var Us=Ls-Cn,sh=f-Cn;S.push(De(tb(Cn+Us%sh,0))),Ls=ue(Us/sh)}S.push(De(tb(Ls,0))),ce=rb(B,Jt,Re==Ve),B=0,++Re}}}catch(es){Zi=!0,bn=es}finally{try{!Br&&tc.return&&tc.return()}finally{if(Zi)throw bn}}++B,++R}return S.join("")},v4=function(_){return wt(_,function(S){return J.test(S)?nb(S.slice(4).toLowerCase()):S})},_4=function(_){return wt(_,function(S){return $.test(S)?"xn--"+ib(S):S})},ks={version:"2.1.0",ucs2:{decode:Ur,encode:Rt},decode:nb,encode:ib,toASCII:_4,toUnicode:v4},Kt={};function zr(E){var _=E.charCodeAt(0),S=void 0;return _<16?S="%0"+_.toString(16).toUpperCase():_<128?S="%"+_.toString(16).toUpperCase():_<2048?S="%"+(_>>6|192).toString(16).toUpperCase()+"%"+(_&63|128).toString(16).toUpperCase():S="%"+(_>>12|224).toString(16).toUpperCase()+"%"+(_>>6&63|128).toString(16).toUpperCase()+"%"+(_&63|128).toString(16).toUpperCase(),S}function Ms(E){for(var _="",S=0,b=E.length;S<b;){var R=parseInt(E.substr(S+1,2),16);if(R<128)_+=String.fromCharCode(R),S+=3;else if(R>=194&&R<224){if(b-S>=6){var B=parseInt(E.substr(S+4,2),16);_+=String.fromCharCode((R&31)<<6|B&63)}else _+=E.substr(S,6);S+=6}else if(R>=224){if(b-S>=9){var ce=parseInt(E.substr(S+4,2),16),xe=parseInt(E.substr(S+7,2),16);_+=String.fromCharCode((R&15)<<12|(ce&63)<<6|xe&63)}else _+=E.substr(S,9);S+=9}else _+=E.substr(S,3),S+=3}return _}function th(E,_){function S(b){var R=Ms(b);return R.match(_.UNRESERVED)?R:b}return E.scheme&&(E.scheme=String(E.scheme).replace(_.PCT_ENCODED,S).toLowerCase().replace(_.NOT_SCHEME,"")),E.userinfo!==void 0&&(E.userinfo=String(E.userinfo).replace(_.PCT_ENCODED,S).replace(_.NOT_USERINFO,zr).replace(_.PCT_ENCODED,i)),E.host!==void 0&&(E.host=String(E.host).replace(_.PCT_ENCODED,S).toLowerCase().replace(_.NOT_HOST,zr).replace(_.PCT_ENCODED,i)),E.path!==void 0&&(E.path=String(E.path).replace(_.PCT_ENCODED,S).replace(E.scheme?_.NOT_PATH:_.NOT_PATH_NOSCHEME,zr).replace(_.PCT_ENCODED,i)),E.query!==void 0&&(E.query=String(E.query).replace(_.PCT_ENCODED,S).replace(_.NOT_QUERY,zr).replace(_.PCT_ENCODED,i)),E.fragment!==void 0&&(E.fragment=String(E.fragment).replace(_.PCT_ENCODED,S).replace(_.NOT_FRAGMENT,zr).replace(_.PCT_ENCODED,i)),E}function rh(E){return E.replace(/^0*(.*)/,"$1")||"0"}function nh(E,_){var S=E.match(_.IPV4ADDRESS)||[],b=d(S,2),R=b[1];return R?R.split(".").map(rh).join("."):E}function sb(E,_){var S=E.match(_.IPV6ADDRESS)||[],b=d(S,3),R=b[1],B=b[2];if(R){for(var ce=R.toLowerCase().split("::").reverse(),xe=d(ce,2),Ae=xe[0],Ze=xe[1],ye=Ze?Ze.split(":").map(rh):[],We=Ae.split(":").map(rh),et=_.IPV4ADDRESS.test(We[We.length-1]),Ve=et?7:8,Re=We.length-Ve,Ke=Array(Ve),Ne=0;Ne<Ve;++Ne)Ke[Ne]=ye[Ne]||We[Re+Ne]||"";et&&(Ke[Ve-1]=nh(Ke[Ve-1],_));var Qi=Ke.reduce(function(Jt,Br,Zi){if(!Br||Br==="0"){var bn=Jt[Jt.length-1];bn&&bn.index+bn.length===Zi?bn.length++:Jt.push({index:Zi,length:1})}return Jt},[]),Vt=Qi.sort(function(Jt,Br){return Br.length-Jt.length})[0],Xt=void 0;if(Vt&&Vt.length>1){var Me=Ke.slice(0,Vt.index),Ht=Ke.slice(Vt.index+Vt.length);Xt=Me.join(":")+"::"+Ht.join(":")}else Xt=Ke.join(":");return B&&(Xt+="%"+B),Xt}else return E}var y4=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,E4="".match(/(){0}/)[1]===void 0;function Sn(E){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},S={},b=_.iri!==!1?l:c;_.reference==="suffix"&&(E=(_.scheme?_.scheme+":":"")+"//"+E);var R=E.match(y4);if(R){E4?(S.scheme=R[1],S.userinfo=R[3],S.host=R[4],S.port=parseInt(R[5],10),S.path=R[6]||"",S.query=R[7],S.fragment=R[8],isNaN(S.port)&&(S.port=R[5])):(S.scheme=R[1]||void 0,S.userinfo=E.indexOf("@")!==-1?R[3]:void 0,S.host=E.indexOf("//")!==-1?R[4]:void 0,S.port=parseInt(R[5],10),S.path=R[6]||"",S.query=E.indexOf("?")!==-1?R[7]:void 0,S.fragment=E.indexOf("#")!==-1?R[8]:void 0,isNaN(S.port)&&(S.port=E.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?R[4]:void 0)),S.host&&(S.host=sb(nh(S.host,b),b)),S.scheme===void 0&&S.userinfo===void 0&&S.host===void 0&&S.port===void 0&&!S.path&&S.query===void 0?S.reference="same-document":S.scheme===void 0?S.reference="relative":S.fragment===void 0?S.reference="absolute":S.reference="uri",_.reference&&_.reference!=="suffix"&&_.reference!==S.reference&&(S.error=S.error||"URI is not a "+_.reference+" reference.");var B=Kt[(_.scheme||S.scheme||"").toLowerCase()];if(!_.unicodeSupport&&(!B||!B.unicodeSupport)){if(S.host&&(_.domainHost||B&&B.domainHost))try{S.host=ks.toASCII(S.host.replace(b.PCT_ENCODED,Ms).toLowerCase())}catch(ce){S.error=S.error||"Host's domain name can not be converted to ASCII via punycode: "+ce}th(S,c)}else th(S,b);B&&B.parse&&B.parse(S,_)}else S.error=S.error||"URI can not be parsed.";return S}function S4(E,_){var S=_.iri!==!1?l:c,b=[];return E.userinfo!==void 0&&(b.push(E.userinfo),b.push("@")),E.host!==void 0&&b.push(sb(nh(String(E.host),S),S).replace(S.IPV6ADDRESS,function(R,B,ce){return"["+B+(ce?"%25"+ce:"")+"]"})),(typeof E.port=="number"||typeof E.port=="string")&&(b.push(":"),b.push(String(E.port))),b.length?b.join(""):void 0}var ob=/^\.\.?\//,ab=/^\/\.(\/|$)/,cb=/^\/\.\.(\/|$)/,x4=/^\/?(?:.|\n)*?(?=\/|$)/;function js(E){for(var _=[];E.length;)if(E.match(ob))E=E.replace(ob,"");else if(E.match(ab))E=E.replace(ab,"/");else if(E.match(cb))E=E.replace(cb,"/"),_.pop();else if(E==="."||E==="..")E="";else{var S=E.match(x4);if(S){var b=S[0];E=E.slice(b.length),_.push(b)}else throw new Error("Unexpected dot segment condition")}return _.join("")}function Vr(E){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},S=_.iri?l:c,b=[],R=Kt[(_.scheme||E.scheme||"").toLowerCase()];if(R&&R.serialize&&R.serialize(E,_),E.host&&!S.IPV6ADDRESS.test(E.host)){if(_.domainHost||R&&R.domainHost)try{E.host=_.iri?ks.toUnicode(E.host):ks.toASCII(E.host.replace(S.PCT_ENCODED,Ms).toLowerCase())}catch(xe){E.error=E.error||"Host's domain name can not be converted to "+(_.iri?"Unicode":"ASCII")+" via punycode: "+xe}}th(E,S),_.reference!=="suffix"&&E.scheme&&(b.push(E.scheme),b.push(":"));var B=S4(E,_);if(B!==void 0&&(_.reference!=="suffix"&&b.push("//"),b.push(B),E.path&&E.path.charAt(0)!=="/"&&b.push("/")),E.path!==void 0){var ce=E.path;!_.absolutePath&&(!R||!R.absolutePath)&&(ce=js(ce)),B===void 0&&(ce=ce.replace(/^\/\//,"/%2F")),b.push(ce)}return E.query!==void 0&&(b.push("?"),b.push(E.query)),E.fragment!==void 0&&(b.push("#"),b.push(E.fragment)),b.join("")}function lb(E,_){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},b=arguments[3],R={};return b||(E=Sn(Vr(E,S),S),_=Sn(Vr(_,S),S)),S=S||{},!S.tolerant&&_.scheme?(R.scheme=_.scheme,R.userinfo=_.userinfo,R.host=_.host,R.port=_.port,R.path=js(_.path||""),R.query=_.query):(_.userinfo!==void 0||_.host!==void 0||_.port!==void 0?(R.userinfo=_.userinfo,R.host=_.host,R.port=_.port,R.path=js(_.path||""),R.query=_.query):(_.path?(_.path.charAt(0)==="/"?R.path=js(_.path):((E.userinfo!==void 0||E.host!==void 0||E.port!==void 0)&&!E.path?R.path="/"+_.path:E.path?R.path=E.path.slice(0,E.path.lastIndexOf("/")+1)+_.path:R.path=_.path,R.path=js(R.path)),R.query=_.query):(R.path=E.path,_.query!==void 0?R.query=_.query:R.query=E.query),R.userinfo=E.userinfo,R.host=E.host,R.port=E.port),R.scheme=E.scheme),R.fragment=_.fragment,R}function b4(E,_,S){var b=o({scheme:"null"},S);return Vr(lb(Sn(E,b),Sn(_,b),b,!0),b)}function C4(E,_){return typeof E=="string"?E=Vr(Sn(E,_),_):n(E)==="object"&&(E=Sn(Vr(E,_),_)),E}function w4(E,_,S){return typeof E=="string"?E=Vr(Sn(E,S),S):n(E)==="object"&&(E=Vr(E,S)),typeof _=="string"?_=Vr(Sn(_,S),S):n(_)==="object"&&(_=Vr(_,S)),E===_}function R4(E,_){return E&&E.toString().replace(!_||!_.iri?c.ESCAPE:l.ESCAPE,zr)}function xn(E,_){return E&&E.toString().replace(!_||!_.iri?c.PCT_ENCODED:l.PCT_ENCODED,Ms)}var Za={scheme:"http",domainHost:!0,parse:function(_,S){return _.host||(_.error=_.error||"HTTP URIs must have a host."),_},serialize:function(_,S){var b=String(_.scheme).toLowerCase()==="https";return(_.port===(b?443:80)||_.port==="")&&(_.port=void 0),_.path||(_.path="/"),_}},db={scheme:"https",domainHost:Za.domainHost,parse:Za.parse,serialize:Za.serialize};function ub(E){return typeof E.secure=="boolean"?E.secure:String(E.scheme).toLowerCase()==="wss"}var ec={scheme:"ws",domainHost:!0,parse:function(_,S){var b=_;return b.secure=ub(b),b.resourceName=(b.path||"/")+(b.query?"?"+b.query:""),b.path=void 0,b.query=void 0,b},serialize:function(_,S){if((_.port===(ub(_)?443:80)||_.port==="")&&(_.port=void 0),typeof _.secure=="boolean"&&(_.scheme=_.secure?"wss":"ws",_.secure=void 0),_.resourceName){var b=_.resourceName.split("?"),R=d(b,2),B=R[0],ce=R[1];_.path=B&&B!=="/"?B:void 0,_.query=ce,_.resourceName=void 0}return _.fragment=void 0,_}},pb={scheme:"wss",domainHost:ec.domainHost,parse:ec.parse,serialize:ec.serialize},P4={},T4=!0,mb="[A-Za-z0-9\\-\\.\\_\\~"+(T4?"\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF":"")+"]",Hr="[0-9A-Fa-f]",A4=r(r("%[EFef]"+Hr+"%"+Hr+Hr+"%"+Hr+Hr)+"|"+r("%[89A-Fa-f]"+Hr+"%"+Hr+Hr)+"|"+r("%"+Hr+Hr)),I4="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",O4="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",D4=t(O4,'[\\"\\\\]'),N4="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",$4=new RegExp(mb,"g"),qs=new RegExp(A4,"g"),k4=new RegExp(t("[^]",I4,"[\\.]",'[\\"]',D4),"g"),fb=new RegExp(t("[^]",mb,N4),"g"),M4=fb;function ih(E){var _=Ms(E);return _.match($4)?_:E}var hb={scheme:"mailto",parse:function(_,S){var b=_,R=b.to=b.path?b.path.split(","):[];if(b.path=void 0,b.query){for(var B=!1,ce={},xe=b.query.split("&"),Ae=0,Ze=xe.length;Ae<Ze;++Ae){var ye=xe[Ae].split("=");switch(ye[0]){case"to":for(var We=ye[1].split(","),et=0,Ve=We.length;et<Ve;++et)R.push(We[et]);break;case"subject":b.subject=xn(ye[1],S);break;case"body":b.body=xn(ye[1],S);break;default:B=!0,ce[xn(ye[0],S)]=xn(ye[1],S);break}}B&&(b.headers=ce)}b.query=void 0;for(var Re=0,Ke=R.length;Re<Ke;++Re){var Ne=R[Re].split("@");if(Ne[0]=xn(Ne[0]),S.unicodeSupport)Ne[1]=xn(Ne[1],S).toLowerCase();else try{Ne[1]=ks.toASCII(xn(Ne[1],S).toLowerCase())}catch(Qi){b.error=b.error||"Email address's domain name can not be converted to ASCII via punycode: "+Qi}R[Re]=Ne.join("@")}return b},serialize:function(_,S){var b=_,R=s(_.to);if(R){for(var B=0,ce=R.length;B<ce;++B){var xe=String(R[B]),Ae=xe.lastIndexOf("@"),Ze=xe.slice(0,Ae).replace(qs,ih).replace(qs,i).replace(k4,zr),ye=xe.slice(Ae+1);try{ye=S.iri?ks.toUnicode(ye):ks.toASCII(xn(ye,S).toLowerCase())}catch(Re){b.error=b.error||"Email address's domain name can not be converted to "+(S.iri?"Unicode":"ASCII")+" via punycode: "+Re}R[B]=Ze+"@"+ye}b.path=R.join(",")}var We=_.headers=_.headers||{};_.subject&&(We.subject=_.subject),_.body&&(We.body=_.body);var et=[];for(var Ve in We)We[Ve]!==P4[Ve]&&et.push(Ve.replace(qs,ih).replace(qs,i).replace(fb,zr)+"="+We[Ve].replace(qs,ih).replace(qs,i).replace(M4,zr));return et.length&&(b.query=et.join("&")),b}},j4=/^([^\:]+)\:(.*)/,gb={scheme:"urn",parse:function(_,S){var b=_.path&&_.path.match(j4),R=_;if(b){var B=S.scheme||R.scheme||"urn",ce=b[1].toLowerCase(),xe=b[2],Ae=B+":"+(S.nid||ce),Ze=Kt[Ae];R.nid=ce,R.nss=xe,R.path=void 0,Ze&&(R=Ze.parse(R,S))}else R.error=R.error||"URN can not be parsed.";return R},serialize:function(_,S){var b=S.scheme||_.scheme||"urn",R=_.nid,B=b+":"+(S.nid||R),ce=Kt[B];ce&&(_=ce.serialize(_,S));var xe=_,Ae=_.nss;return xe.path=(R||S.nid)+":"+Ae,xe}},q4=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,vb={scheme:"urn:uuid",parse:function(_,S){var b=_;return b.uuid=b.nss,b.nss=void 0,!S.tolerant&&(!b.uuid||!b.uuid.match(q4))&&(b.error=b.error||"UUID is not valid."),b},serialize:function(_,S){var b=_;return b.nss=(_.uuid||"").toLowerCase(),b}};Kt[Za.scheme]=Za,Kt[db.scheme]=db,Kt[ec.scheme]=ec,Kt[pb.scheme]=pb,Kt[hb.scheme]=hb,Kt[gb.scheme]=gb,Kt[vb.scheme]=vb,e.SCHEMES=Kt,e.pctEncChar=zr,e.pctDecChars=Ms,e.parse=Sn,e.removeDotSegments=js,e.serialize=Vr,e.resolveComponents=lb,e.resolve=b4,e.normalize=C4,e.equal=w4,e.escapeComponent=R4,e.unescapeComponent=xn,Object.defineProperty(e,"__esModule",{value:!0})})});var Aw=g(Cg=>{"use strict";Object.defineProperty(Cg,"__esModule",{value:!0});var Tw=Pw();Tw.code='require("ajv/dist/runtime/uri").default';Cg.default=Tw});var jw=g(ut=>{"use strict";Object.defineProperty(ut,"__esModule",{value:!0});ut.CodeGen=ut.Name=ut.nil=ut.stringify=ut.str=ut._=ut.KeywordCxt=void 0;var W8=ao();Object.defineProperty(ut,"KeywordCxt",{enumerable:!0,get:function(){return W8.KeywordCxt}});var lo=ne();Object.defineProperty(ut,"_",{enumerable:!0,get:function(){return lo._}});Object.defineProperty(ut,"str",{enumerable:!0,get:function(){return lo.str}});Object.defineProperty(ut,"stringify",{enumerable:!0,get:function(){return lo.stringify}});Object.defineProperty(ut,"nil",{enumerable:!0,get:function(){return lo.nil}});Object.defineProperty(ut,"Name",{enumerable:!0,get:function(){return lo.Name}});Object.defineProperty(ut,"CodeGen",{enumerable:!0,get:function(){return lo.CodeGen}});var K8=zu(),$w=Vu(),X8=sg(),Rc=Bu(),J8=ne(),Pc=bc(),Wu=xc(),Rg=Ce(),Iw=ww(),Y8=Aw(),kw=(e,t)=>new RegExp(e,t);kw.code="new RegExp";var Q8=["removeAdditional","useDefaults","coerceTypes"],Z8=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),eX={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},tX={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},Ow=200;function rX(e){var t,r,n,i,s,o,a,c,l,d,p,m,f,v,y,x,C,I,W,K,J,$,Q,te,ee;let ue=e.strict,De=(t=e.code)===null||t===void 0?void 0:t.optimize,ae=De===!0||De===void 0?1:De||0,Se=(n=(r=e.code)===null||r===void 0?void 0:r.regExp)!==null&&n!==void 0?n:kw,wt=(i=e.uriResolver)!==null&&i!==void 0?i:Y8.default;return{strictSchema:(o=(s=e.strictSchema)!==null&&s!==void 0?s:ue)!==null&&o!==void 0?o:!0,strictNumbers:(c=(a=e.strictNumbers)!==null&&a!==void 0?a:ue)!==null&&c!==void 0?c:!0,strictTypes:(d=(l=e.strictTypes)!==null&&l!==void 0?l:ue)!==null&&d!==void 0?d:"log",strictTuples:(m=(p=e.strictTuples)!==null&&p!==void 0?p:ue)!==null&&m!==void 0?m:"log",strictRequired:(v=(f=e.strictRequired)!==null&&f!==void 0?f:ue)!==null&&v!==void 0?v:!1,code:e.code?{...e.code,optimize:ae,regExp:Se}:{optimize:ae,regExp:Se},loopRequired:(y=e.loopRequired)!==null&&y!==void 0?y:Ow,loopEnum:(x=e.loopEnum)!==null&&x!==void 0?x:Ow,meta:(C=e.meta)!==null&&C!==void 0?C:!0,messages:(I=e.messages)!==null&&I!==void 0?I:!0,inlineRefs:(W=e.inlineRefs)!==null&&W!==void 0?W:!0,schemaId:(K=e.schemaId)!==null&&K!==void 0?K:"$id",addUsedSchema:(J=e.addUsedSchema)!==null&&J!==void 0?J:!0,validateSchema:($=e.validateSchema)!==null&&$!==void 0?$:!0,validateFormats:(Q=e.validateFormats)!==null&&Q!==void 0?Q:!0,unicodeRegExp:(te=e.unicodeRegExp)!==null&&te!==void 0?te:!0,int32range:(ee=e.int32range)!==null&&ee!==void 0?ee:!0,uriResolver:wt}}var Tc=class{constructor(t={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,t=this.opts={...t,...rX(t)};let{es5:r,lines:n}=this.opts.code;this.scope=new J8.ValueScope({scope:{},prefixes:Z8,es5:r,lines:n}),this.logger=cX(t.logger);let i=t.validateFormats;t.validateFormats=!1,this.RULES=(0,X8.getRules)(),Dw.call(this,eX,t,"NOT SUPPORTED"),Dw.call(this,tX,t,"DEPRECATED","warn"),this._metaOpts=oX.call(this),t.formats&&iX.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),t.keywords&&sX.call(this,t.keywords),typeof t.meta=="object"&&this.addMetaSchema(t.meta),nX.call(this),t.validateFormats=i}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:t,meta:r,schemaId:n}=this.opts,i=Iw;n==="id"&&(i={...Iw},i.id=i.$id,delete i.$id),r&&t&&this.addMetaSchema(i,i[n],!1)}defaultMeta(){let{meta:t,schemaId:r}=this.opts;return this.opts.defaultMeta=typeof t=="object"?t[r]||t:void 0}validate(t,r){let n;if(typeof t=="string"){if(n=this.getSchema(t),!n)throw new Error(`no schema with key or ref "${t}"`)}else n=this.compile(t);let i=n(r);return"$async"in n||(this.errors=n.errors),i}compile(t,r){let n=this._addSchema(t,r);return n.validate||this._compileSchemaEnv(n)}compileAsync(t,r){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:n}=this.opts;return i.call(this,t,r);async function i(d,p){await s.call(this,d.$schema);let m=this._addSchema(d,p);return m.validate||o.call(this,m)}async function s(d){d&&!this.getSchema(d)&&await i.call(this,{$ref:d},!0)}async function o(d){try{return this._compileSchemaEnv(d)}catch(p){if(!(p instanceof $w.default))throw p;return a.call(this,p),await c.call(this,p.missingSchema),o.call(this,d)}}function a({missingSchema:d,missingRef:p}){if(this.refs[d])throw new Error(`AnySchema ${d} is loaded but ${p} cannot be resolved`)}async function c(d){let p=await l.call(this,d);this.refs[d]||await s.call(this,p.$schema),this.refs[d]||this.addSchema(p,d,r)}async function l(d){let p=this._loading[d];if(p)return p;try{return await(this._loading[d]=n(d))}finally{delete this._loading[d]}}}addSchema(t,r,n,i=this.opts.validateSchema){if(Array.isArray(t)){for(let o of t)this.addSchema(o,void 0,n,i);return this}let s;if(typeof t=="object"){let{schemaId:o}=this.opts;if(s=t[o],s!==void 0&&typeof s!="string")throw new Error(`schema ${o} must be string`)}return r=(0,Pc.normalizeId)(r||s),this._checkUnique(r),this.schemas[r]=this._addSchema(t,n,r,i,!0),this}addMetaSchema(t,r,n=this.opts.validateSchema){return this.addSchema(t,r,!0,n),this}validateSchema(t,r){if(typeof t=="boolean")return!0;let n;if(n=t.$schema,n!==void 0&&typeof n!="string")throw new Error("$schema must be a string");if(n=n||this.opts.defaultMeta||this.defaultMeta(),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let i=this.validate(n,t);if(!i&&r){let s="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(s);else throw new Error(s)}return i}getSchema(t){let r;for(;typeof(r=Nw.call(this,t))=="string";)t=r;if(r===void 0){let{schemaId:n}=this.opts,i=new Rc.SchemaEnv({schema:{},schemaId:n});if(r=Rc.resolveSchema.call(this,i,t),!r)return;this.refs[t]=r}return r.validate||this._compileSchemaEnv(r)}removeSchema(t){if(t instanceof RegExp)return this._removeAllSchemas(this.schemas,t),this._removeAllSchemas(this.refs,t),this;switch(typeof t){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let r=Nw.call(this,t);return typeof r=="object"&&this._cache.delete(r.schema),delete this.schemas[t],delete this.refs[t],this}case"object":{let r=t;this._cache.delete(r);let n=t[this.opts.schemaId];return n&&(n=(0,Pc.normalizeId)(n),delete this.schemas[n],delete this.refs[n]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(t){for(let r of t)this.addKeyword(r);return this}addKeyword(t,r){let n;if(typeof t=="string")n=t,typeof r=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),r.keyword=n);else if(typeof t=="object"&&r===void 0){if(r=t,n=r.keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(dX.call(this,n,r),!r)return(0,Rg.eachItem)(n,s=>wg.call(this,s)),this;pX.call(this,r);let i={...r,type:(0,Wu.getJSONTypes)(r.type),schemaType:(0,Wu.getJSONTypes)(r.schemaType)};return(0,Rg.eachItem)(n,i.type.length===0?s=>wg.call(this,s,i):s=>i.type.forEach(o=>wg.call(this,s,i,o))),this}getKeyword(t){let r=this.RULES.all[t];return typeof r=="object"?r.definition:!!r}removeKeyword(t){let{RULES:r}=this;delete r.keywords[t],delete r.all[t];for(let n of r.rules){let i=n.rules.findIndex(s=>s.keyword===t);i>=0&&n.rules.splice(i,1)}return this}addFormat(t,r){return typeof r=="string"&&(r=new RegExp(r)),this.formats[t]=r,this}errorsText(t=this.errors,{separator:r=", ",dataVar:n="data"}={}){return!t||t.length===0?"No errors":t.map(i=>`${n}${i.instancePath} ${i.message}`).reduce((i,s)=>i+r+s)}$dataMetaSchema(t,r){let n=this.RULES.all;t=JSON.parse(JSON.stringify(t));for(let i of r){let s=i.split("/").slice(1),o=t;for(let a of s)o=o[a];for(let a in n){let c=n[a];if(typeof c!="object")continue;let{$data:l}=c.definition,d=o[a];l&&d&&(o[a]=Mw(d))}}return t}_removeAllSchemas(t,r){for(let n in t){let i=t[n];(!r||r.test(n))&&(typeof i=="string"?delete t[n]:i&&!i.meta&&(this._cache.delete(i.schema),delete t[n]))}}_addSchema(t,r,n,i=this.opts.validateSchema,s=this.opts.addUsedSchema){let o,{schemaId:a}=this.opts;if(typeof t=="object")o=t[a];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof t!="boolean")throw new Error("schema must be object or boolean")}let c=this._cache.get(t);if(c!==void 0)return c;n=(0,Pc.normalizeId)(o||n);let l=Pc.getSchemaRefs.call(this,t,n);return c=new Rc.SchemaEnv({schema:t,schemaId:a,meta:r,baseId:n,localRefs:l}),this._cache.set(c.schema,c),s&&!n.startsWith("#")&&(n&&this._checkUnique(n),this.refs[n]=c),i&&this.validateSchema(t,!0),c}_checkUnique(t){if(this.schemas[t]||this.refs[t])throw new Error(`schema with key or id "${t}" already exists`)}_compileSchemaEnv(t){if(t.meta?this._compileMetaSchema(t):Rc.compileSchema.call(this,t),!t.validate)throw new Error("ajv implementation error");return t.validate}_compileMetaSchema(t){let r=this.opts;this.opts=this._metaOpts;try{Rc.compileSchema.call(this,t)}finally{this.opts=r}}};ut.default=Tc;Tc.ValidationError=K8.default;Tc.MissingRefError=$w.default;function Dw(e,t,r,n="error"){for(let i in e){let s=i;s in t&&this.logger[n](`${r}: option ${i}. ${e[s]}`)}}function Nw(e){return e=(0,Pc.normalizeId)(e),this.schemas[e]||this.refs[e]}function nX(){let e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(let t in e)this.addSchema(e[t],t)}function iX(){for(let e in this.opts.formats){let t=this.opts.formats[e];t&&this.addFormat(e,t)}}function sX(e){if(Array.isArray(e)){this.addVocabulary(e);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let t in e){let r=e[t];r.keyword||(r.keyword=t),this.addKeyword(r)}}function oX(){let e={...this.opts};for(let t of Q8)delete e[t];return e}var aX={log(){},warn(){},error(){}};function cX(e){if(e===!1)return aX;if(e===void 0)return console;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}var lX=/^[a-z_$][a-z0-9_$:-]*$/i;function dX(e,t){let{RULES:r}=this;if((0,Rg.eachItem)(e,n=>{if(r.keywords[n])throw new Error(`Keyword ${n} is already defined`);if(!lX.test(n))throw new Error(`Keyword ${n} has invalid name`)}),!!t&&t.$data&&!("code"in t||"validate"in t))throw new Error('$data keyword must have "code" or "validate" function')}function wg(e,t,r){var n;let i=t?.post;if(r&&i)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:s}=this,o=i?s.post:s.rules.find(({type:c})=>c===r);if(o||(o={type:r,rules:[]},s.rules.push(o)),s.keywords[e]=!0,!t)return;let a={keyword:e,definition:{...t,type:(0,Wu.getJSONTypes)(t.type),schemaType:(0,Wu.getJSONTypes)(t.schemaType)}};t.before?uX.call(this,o,a,t.before):o.rules.push(a),s.all[e]=a,(n=t.implements)===null||n===void 0||n.forEach(c=>this.addKeyword(c))}function uX(e,t,r){let n=e.rules.findIndex(i=>i.keyword===r);n>=0?e.rules.splice(n,0,t):(e.rules.push(t),this.logger.warn(`rule ${r} is not defined`))}function pX(e){let{metaSchema:t}=e;t!==void 0&&(e.$data&&this.opts.$data&&(t=Mw(t)),e.validateSchema=this.compile(t,!0))}var mX={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Mw(e){return{anyOf:[e,mX]}}});var qw=g(Pg=>{"use strict";Object.defineProperty(Pg,"__esModule",{value:!0});var fX={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};Pg.default=fX});var zw=g(hs=>{"use strict";Object.defineProperty(hs,"__esModule",{value:!0});hs.callRef=hs.getValidate=void 0;var hX=Vu(),Lw=er(),Lt=ne(),uo=Xr(),Fw=Bu(),Ku=Ce(),gX={keyword:"$ref",schemaType:"string",code(e){let{gen:t,schema:r,it:n}=e,{baseId:i,schemaEnv:s,validateName:o,opts:a,self:c}=n,{root:l}=s;if((r==="#"||r==="#/")&&i===l.baseId)return p();let d=Fw.resolveRef.call(c,l,i,r);if(d===void 0)throw new hX.default(n.opts.uriResolver,i,r);if(d instanceof Fw.SchemaEnv)return m(d);return f(d);function p(){if(s===l)return Xu(e,o,s,s.$async);let v=t.scopeValue("root",{ref:l});return Xu(e,(0,Lt._)`${v}.validate`,l,l.$async)}function m(v){let y=Uw(e,v);Xu(e,y,v,v.$async)}function f(v){let y=t.scopeValue("schema",a.code.source===!0?{ref:v,code:(0,Lt.stringify)(v)}:{ref:v}),x=t.name("valid"),C=e.subschema({schema:v,dataTypes:[],schemaPath:Lt.nil,topSchemaRef:y,errSchemaPath:r},x);e.mergeEvaluated(C),e.ok(x)}}};function Uw(e,t){let{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,Lt._)`${r.scopeValue("wrapper",{ref:t})}.validate`}hs.getValidate=Uw;function Xu(e,t,r,n){let{gen:i,it:s}=e,{allErrors:o,schemaEnv:a,opts:c}=s,l=c.passContext?uo.default.this:Lt.nil;n?d():p();function d(){if(!a.$async)throw new Error("async schema referenced by sync schema");let v=i.let("valid");i.try(()=>{i.code((0,Lt._)`await ${(0,Lw.callValidateCode)(e,t,l)}`),f(t),o||i.assign(v,!0)},y=>{i.if((0,Lt._)`!(${y} instanceof ${s.ValidationError})`,()=>i.throw(y)),m(y),o||i.assign(v,!1)}),e.ok(v)}function p(){e.result((0,Lw.callValidateCode)(e,t,l),()=>f(t),()=>m(t))}function m(v){let y=(0,Lt._)`${v}.errors`;i.assign(uo.default.vErrors,(0,Lt._)`${uo.default.vErrors} === null ? ${y} : ${uo.default.vErrors}.concat(${y})`),i.assign(uo.default.errors,(0,Lt._)`${uo.default.vErrors}.length`)}function f(v){var y;if(!s.opts.unevaluated)return;let x=(y=r?.validate)===null||y===void 0?void 0:y.evaluated;if(s.props!==!0)if(x&&!x.dynamicProps)x.props!==void 0&&(s.props=Ku.mergeEvaluated.props(i,x.props,s.props));else{let C=i.var("props",(0,Lt._)`${v}.evaluated.props`);s.props=Ku.mergeEvaluated.props(i,C,s.props,Lt.Name)}if(s.items!==!0)if(x&&!x.dynamicItems)x.items!==void 0&&(s.items=Ku.mergeEvaluated.items(i,x.items,s.items));else{let C=i.var("items",(0,Lt._)`${v}.evaluated.items`);s.items=Ku.mergeEvaluated.items(i,C,s.items,Lt.Name)}}}hs.callRef=Xu;hs.default=gX});var Vw=g(Tg=>{"use strict";Object.defineProperty(Tg,"__esModule",{value:!0});var vX=qw(),_X=zw(),yX=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",vX.default,_X.default];Tg.default=yX});var Hw=g(Ag=>{"use strict";Object.defineProperty(Ag,"__esModule",{value:!0});var Ju=ne(),gi=Ju.operators,Yu={maximum:{okStr:"<=",ok:gi.LTE,fail:gi.GT},minimum:{okStr:">=",ok:gi.GTE,fail:gi.LT},exclusiveMaximum:{okStr:"<",ok:gi.LT,fail:gi.GTE},exclusiveMinimum:{okStr:">",ok:gi.GT,fail:gi.LTE}},EX={message:({keyword:e,schemaCode:t})=>(0,Ju.str)`must be ${Yu[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,Ju._)`{comparison: ${Yu[e].okStr}, limit: ${t}}`},SX={keyword:Object.keys(Yu),type:"number",schemaType:"number",$data:!0,error:EX,code(e){let{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,Ju._)`${r} ${Yu[t].fail} ${n} || isNaN(${r})`)}};Ag.default=SX});var Bw=g(Ig=>{"use strict";Object.defineProperty(Ig,"__esModule",{value:!0});var Ac=ne(),xX={message:({schemaCode:e})=>(0,Ac.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,Ac._)`{multipleOf: ${e}}`},bX={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:xX,code(e){let{gen:t,data:r,schemaCode:n,it:i}=e,s=i.opts.multipleOfPrecision,o=t.let("res"),a=s?(0,Ac._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${s}`:(0,Ac._)`${o} !== parseInt(${o})`;e.fail$data((0,Ac._)`(${n} === 0 || (${o} = ${r}/${n}, ${a}))`)}};Ig.default=bX});var Ww=g(Og=>{"use strict";Object.defineProperty(Og,"__esModule",{value:!0});function Gw(e){let t=e.length,r=0,n=0,i;for(;n<t;)r++,i=e.charCodeAt(n++),i>=55296&&i<=56319&&n<t&&(i=e.charCodeAt(n),(i&64512)===56320&&n++);return r}Og.default=Gw;Gw.code='require("ajv/dist/runtime/ucs2length").default'});var Kw=g(Dg=>{"use strict";Object.defineProperty(Dg,"__esModule",{value:!0});var gs=ne(),CX=Ce(),wX=Ww(),RX={message({keyword:e,schemaCode:t}){let r=e==="maxLength"?"more":"fewer";return(0,gs.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,gs._)`{limit: ${e}}`},PX={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:RX,code(e){let{keyword:t,data:r,schemaCode:n,it:i}=e,s=t==="maxLength"?gs.operators.GT:gs.operators.LT,o=i.opts.unicode===!1?(0,gs._)`${r}.length`:(0,gs._)`${(0,CX.useFunc)(e.gen,wX.default)}(${r})`;e.fail$data((0,gs._)`${o} ${s} ${n}`)}};Dg.default=PX});var Xw=g(Ng=>{"use strict";Object.defineProperty(Ng,"__esModule",{value:!0});var TX=er(),Qu=ne(),AX={message:({schemaCode:e})=>(0,Qu.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,Qu._)`{pattern: ${e}}`},IX={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:AX,code(e){let{data:t,$data:r,schema:n,schemaCode:i,it:s}=e,o=s.opts.unicodeRegExp?"u":"",a=r?(0,Qu._)`(new RegExp(${i}, ${o}))`:(0,TX.usePattern)(e,n);e.fail$data((0,Qu._)`!${a}.test(${t})`)}};Ng.default=IX});var Jw=g($g=>{"use strict";Object.defineProperty($g,"__esModule",{value:!0});var Ic=ne(),OX={message({keyword:e,schemaCode:t}){let r=e==="maxProperties"?"more":"fewer";return(0,Ic.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,Ic._)`{limit: ${e}}`},DX={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:OX,code(e){let{keyword:t,data:r,schemaCode:n}=e,i=t==="maxProperties"?Ic.operators.GT:Ic.operators.LT;e.fail$data((0,Ic._)`Object.keys(${r}).length ${i} ${n}`)}};$g.default=DX});var Yw=g(kg=>{"use strict";Object.defineProperty(kg,"__esModule",{value:!0});var Oc=er(),Dc=ne(),NX=Ce(),$X={message:({params:{missingProperty:e}})=>(0,Dc.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Dc._)`{missingProperty: ${e}}`},kX={keyword:"required",type:"object",schemaType:"array",$data:!0,error:$X,code(e){let{gen:t,schema:r,schemaCode:n,data:i,$data:s,it:o}=e,{opts:a}=o;if(!s&&r.length===0)return;let c=r.length>=a.loopRequired;if(o.allErrors?l():d(),a.strictRequired){let f=e.parentSchema.properties,{definedProperties:v}=e.it;for(let y of r)if(f?.[y]===void 0&&!v.has(y)){let x=o.schemaEnv.baseId+o.errSchemaPath,C=`required property "${y}" is not defined at "${x}" (strictRequired)`;(0,NX.checkStrictMode)(o,C,o.opts.strictRequired)}}function l(){if(c||s)e.block$data(Dc.nil,p);else for(let f of r)(0,Oc.checkReportMissingProp)(e,f)}function d(){let f=t.let("missing");if(c||s){let v=t.let("valid",!0);e.block$data(v,()=>m(f,v)),e.ok(v)}else t.if((0,Oc.checkMissingProp)(e,r,f)),(0,Oc.reportMissingProp)(e,f),t.else()}function p(){t.forOf("prop",n,f=>{e.setParams({missingProperty:f}),t.if((0,Oc.noPropertyInData)(t,i,f,a.ownProperties),()=>e.error())})}function m(f,v){e.setParams({missingProperty:f}),t.forOf(f,n,()=>{t.assign(v,(0,Oc.propertyInData)(t,i,f,a.ownProperties)),t.if((0,Dc.not)(v),()=>{e.error(),t.break()})},Dc.nil)}}};kg.default=kX});var Qw=g(Mg=>{"use strict";Object.defineProperty(Mg,"__esModule",{value:!0});var Nc=ne(),MX={message({keyword:e,schemaCode:t}){let r=e==="maxItems"?"more":"fewer";return(0,Nc.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,Nc._)`{limit: ${e}}`},jX={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:MX,code(e){let{keyword:t,data:r,schemaCode:n}=e,i=t==="maxItems"?Nc.operators.GT:Nc.operators.LT;e.fail$data((0,Nc._)`${r}.length ${i} ${n}`)}};Mg.default=jX});var Zu=g(jg=>{"use strict";Object.defineProperty(jg,"__esModule",{value:!0});var Zw=qu();Zw.code='require("ajv/dist/runtime/equal").default';jg.default=Zw});var eR=g(Lg=>{"use strict";Object.defineProperty(Lg,"__esModule",{value:!0});var qg=xc(),pt=ne(),qX=Ce(),LX=Zu(),FX={message:({params:{i:e,j:t}})=>(0,pt.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,pt._)`{i: ${e}, j: ${t}}`},UX={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:FX,code(e){let{gen:t,data:r,$data:n,schema:i,parentSchema:s,schemaCode:o,it:a}=e;if(!n&&!i)return;let c=t.let("valid"),l=s.items?(0,qg.getSchemaTypes)(s.items):[];e.block$data(c,d,(0,pt._)`${o} === false`),e.ok(c);function d(){let v=t.let("i",(0,pt._)`${r}.length`),y=t.let("j");e.setParams({i:v,j:y}),t.assign(c,!0),t.if((0,pt._)`${v} > 1`,()=>(p()?m:f)(v,y))}function p(){return l.length>0&&!l.some(v=>v==="object"||v==="array")}function m(v,y){let x=t.name("item"),C=(0,qg.checkDataTypes)(l,x,a.opts.strictNumbers,qg.DataType.Wrong),I=t.const("indices",(0,pt._)`{}`);t.for((0,pt._)`;${v}--;`,()=>{t.let(x,(0,pt._)`${r}[${v}]`),t.if(C,(0,pt._)`continue`),l.length>1&&t.if((0,pt._)`typeof ${x} == "string"`,(0,pt._)`${x} += "_"`),t.if((0,pt._)`typeof ${I}[${x}] == "number"`,()=>{t.assign(y,(0,pt._)`${I}[${x}]`),e.error(),t.assign(c,!1).break()}).code((0,pt._)`${I}[${x}] = ${v}`)})}function f(v,y){let x=(0,qX.useFunc)(t,LX.default),C=t.name("outer");t.label(C).for((0,pt._)`;${v}--;`,()=>t.for((0,pt._)`${y} = ${v}; ${y}--;`,()=>t.if((0,pt._)`${x}(${r}[${v}], ${r}[${y}])`,()=>{e.error(),t.assign(c,!1).break(C)})))}}};Lg.default=UX});var tR=g(Ug=>{"use strict";Object.defineProperty(Ug,"__esModule",{value:!0});var Fg=ne(),zX=Ce(),VX=Zu(),HX={message:"must be equal to constant",params:({schemaCode:e})=>(0,Fg._)`{allowedValue: ${e}}`},BX={keyword:"const",$data:!0,error:HX,code(e){let{gen:t,data:r,$data:n,schemaCode:i,schema:s}=e;n||s&&typeof s=="object"?e.fail$data((0,Fg._)`!${(0,zX.useFunc)(t,VX.default)}(${r}, ${i})`):e.fail((0,Fg._)`${s} !== ${r}`)}};Ug.default=BX});var rR=g(zg=>{"use strict";Object.defineProperty(zg,"__esModule",{value:!0});var $c=ne(),GX=Ce(),WX=Zu(),KX={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,$c._)`{allowedValues: ${e}}`},XX={keyword:"enum",schemaType:"array",$data:!0,error:KX,code(e){let{gen:t,data:r,$data:n,schema:i,schemaCode:s,it:o}=e;if(!n&&i.length===0)throw new Error("enum must have non-empty array");let a=i.length>=o.opts.loopEnum,c,l=()=>c??(c=(0,GX.useFunc)(t,WX.default)),d;if(a||n)d=t.let("valid"),e.block$data(d,p);else{if(!Array.isArray(i))throw new Error("ajv implementation error");let f=t.const("vSchema",s);d=(0,$c.or)(...i.map((v,y)=>m(f,y)))}e.pass(d);function p(){t.assign(d,!1),t.forOf("v",s,f=>t.if((0,$c._)`${l()}(${r}, ${f})`,()=>t.assign(d,!0).break()))}function m(f,v){let y=i[v];return typeof y=="object"&&y!==null?(0,$c._)`${l()}(${r}, ${f}[${v}])`:(0,$c._)`${r} === ${y}`}}};zg.default=XX});var nR=g(Vg=>{"use strict";Object.defineProperty(Vg,"__esModule",{value:!0});var JX=Hw(),YX=Bw(),QX=Kw(),ZX=Xw(),eJ=Jw(),tJ=Yw(),rJ=Qw(),nJ=eR(),iJ=tR(),sJ=rR(),oJ=[JX.default,YX.default,QX.default,ZX.default,eJ.default,tJ.default,rJ.default,nJ.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},iJ.default,sJ.default];Vg.default=oJ});var Bg=g(kc=>{"use strict";Object.defineProperty(kc,"__esModule",{value:!0});kc.validateAdditionalItems=void 0;var vs=ne(),Hg=Ce(),aJ={message:({params:{len:e}})=>(0,vs.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,vs._)`{limit: ${e}}`},cJ={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:aJ,code(e){let{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,Hg.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}iR(e,n)}};function iR(e,t){let{gen:r,schema:n,data:i,keyword:s,it:o}=e;o.items=!0;let a=r.const("len",(0,vs._)`${i}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,vs._)`${a} <= ${t.length}`);else if(typeof n=="object"&&!(0,Hg.alwaysValidSchema)(o,n)){let l=r.var("valid",(0,vs._)`${a} <= ${t.length}`);r.if((0,vs.not)(l),()=>c(l)),e.ok(l)}function c(l){r.forRange("i",t.length,a,d=>{e.subschema({keyword:s,dataProp:d,dataPropType:Hg.Type.Num},l),o.allErrors||r.if((0,vs.not)(l),()=>r.break())})}}kc.validateAdditionalItems=iR;kc.default=cJ});var Gg=g(Mc=>{"use strict";Object.defineProperty(Mc,"__esModule",{value:!0});Mc.validateTuple=void 0;var sR=ne(),ep=Ce(),lJ=er(),dJ={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){let{schema:t,it:r}=e;if(Array.isArray(t))return oR(e,"additionalItems",t);r.items=!0,!(0,ep.alwaysValidSchema)(r,t)&&e.ok((0,lJ.validateArray)(e))}};function oR(e,t,r=e.schema){let{gen:n,parentSchema:i,data:s,keyword:o,it:a}=e;d(i),a.opts.unevaluated&&r.length&&a.items!==!0&&(a.items=ep.mergeEvaluated.items(n,r.length,a.items));let c=n.name("valid"),l=n.const("len",(0,sR._)`${s}.length`);r.forEach((p,m)=>{(0,ep.alwaysValidSchema)(a,p)||(n.if((0,sR._)`${l} > ${m}`,()=>e.subschema({keyword:o,schemaProp:m,dataProp:m},c)),e.ok(c))});function d(p){let{opts:m,errSchemaPath:f}=a,v=r.length,y=v===p.minItems&&(v===p.maxItems||p[t]===!1);if(m.strictTuples&&!y){let x=`"${o}" is ${v}-tuple, but minItems or maxItems/${t} are not specified or different at path "${f}"`;(0,ep.checkStrictMode)(a,x,m.strictTuples)}}}Mc.validateTuple=oR;Mc.default=dJ});var aR=g(Wg=>{"use strict";Object.defineProperty(Wg,"__esModule",{value:!0});var uJ=Gg(),pJ={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,uJ.validateTuple)(e,"items")};Wg.default=pJ});var lR=g(Kg=>{"use strict";Object.defineProperty(Kg,"__esModule",{value:!0});var cR=ne(),mJ=Ce(),fJ=er(),hJ=Bg(),gJ={message:({params:{len:e}})=>(0,cR.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,cR._)`{limit: ${e}}`},vJ={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:gJ,code(e){let{schema:t,parentSchema:r,it:n}=e,{prefixItems:i}=r;n.items=!0,!(0,mJ.alwaysValidSchema)(n,t)&&(i?(0,hJ.validateAdditionalItems)(e,i):e.ok((0,fJ.validateArray)(e)))}};Kg.default=vJ});var dR=g(Xg=>{"use strict";Object.defineProperty(Xg,"__esModule",{value:!0});var rr=ne(),tp=Ce(),_J={message:({params:{min:e,max:t}})=>t===void 0?(0,rr.str)`must contain at least ${e} valid item(s)`:(0,rr.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,rr._)`{minContains: ${e}}`:(0,rr._)`{minContains: ${e}, maxContains: ${t}}`},yJ={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:_J,code(e){let{gen:t,schema:r,parentSchema:n,data:i,it:s}=e,o,a,{minContains:c,maxContains:l}=n;s.opts.next?(o=c===void 0?1:c,a=l):o=1;let d=t.const("len",(0,rr._)`${i}.length`);if(e.setParams({min:o,max:a}),a===void 0&&o===0){(0,tp.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&o>a){(0,tp.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,tp.alwaysValidSchema)(s,r)){let y=(0,rr._)`${d} >= ${o}`;a!==void 0&&(y=(0,rr._)`${y} && ${d} <= ${a}`),e.pass(y);return}s.items=!0;let p=t.name("valid");a===void 0&&o===1?f(p,()=>t.if(p,()=>t.break())):o===0?(t.let(p,!0),a!==void 0&&t.if((0,rr._)`${i}.length > 0`,m)):(t.let(p,!1),m()),e.result(p,()=>e.reset());function m(){let y=t.name("_valid"),x=t.let("count",0);f(y,()=>t.if(y,()=>v(x)))}function f(y,x){t.forRange("i",0,d,C=>{e.subschema({keyword:"contains",dataProp:C,dataPropType:tp.Type.Num,compositeRule:!0},y),x()})}function v(y){t.code((0,rr._)`${y}++`),a===void 0?t.if((0,rr._)`${y} >= ${o}`,()=>t.assign(p,!0).break()):(t.if((0,rr._)`${y} > ${a}`,()=>t.assign(p,!1).break()),o===1?t.assign(p,!0):t.if((0,rr._)`${y} >= ${o}`,()=>t.assign(p,!0)))}}};Xg.default=yJ});var mR=g(Qr=>{"use strict";Object.defineProperty(Qr,"__esModule",{value:!0});Qr.validateSchemaDeps=Qr.validatePropertyDeps=Qr.error=void 0;var Jg=ne(),EJ=Ce(),jc=er();Qr.error={message:({params:{property:e,depsCount:t,deps:r}})=>{let n=t===1?"property":"properties";return(0,Jg.str)`must have ${n} ${r} when property ${e} is present`},params:({params:{property:e,depsCount:t,deps:r,missingProperty:n}})=>(0,Jg._)`{property: ${e},
    missingProperty: ${n},
    depsCount: ${t},
    deps: ${r}}`};var SJ={keyword:"dependencies",type:"object",schemaType:"object",error:Qr.error,code(e){let[t,r]=xJ(e);uR(e,t),pR(e,r)}};function xJ({schema:e}){let t={},r={};for(let n in e){if(n==="__proto__")continue;let i=Array.isArray(e[n])?t:r;i[n]=e[n]}return[t,r]}function uR(e,t=e.schema){let{gen:r,data:n,it:i}=e;if(Object.keys(t).length===0)return;let s=r.let("missing");for(let o in t){let a=t[o];if(a.length===0)continue;let c=(0,jc.propertyInData)(r,n,o,i.opts.ownProperties);e.setParams({property:o,depsCount:a.length,deps:a.join(", ")}),i.allErrors?r.if(c,()=>{for(let l of a)(0,jc.checkReportMissingProp)(e,l)}):(r.if((0,Jg._)`${c} && (${(0,jc.checkMissingProp)(e,a,s)})`),(0,jc.reportMissingProp)(e,s),r.else())}}Qr.validatePropertyDeps=uR;function pR(e,t=e.schema){let{gen:r,data:n,keyword:i,it:s}=e,o=r.name("valid");for(let a in t)(0,EJ.alwaysValidSchema)(s,t[a])||(r.if((0,jc.propertyInData)(r,n,a,s.opts.ownProperties),()=>{let c=e.subschema({keyword:i,schemaProp:a},o);e.mergeValidEvaluated(c,o)},()=>r.var(o,!0)),e.ok(o))}Qr.validateSchemaDeps=pR;Qr.default=SJ});var hR=g(Yg=>{"use strict";Object.defineProperty(Yg,"__esModule",{value:!0});var fR=ne(),bJ=Ce(),CJ={message:"property name must be valid",params:({params:e})=>(0,fR._)`{propertyName: ${e.propertyName}}`},wJ={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:CJ,code(e){let{gen:t,schema:r,data:n,it:i}=e;if((0,bJ.alwaysValidSchema)(i,r))return;let s=t.name("valid");t.forIn("key",n,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},s),t.if((0,fR.not)(s),()=>{e.error(!0),i.allErrors||t.break()})}),e.ok(s)}};Yg.default=wJ});var Zg=g(Qg=>{"use strict";Object.defineProperty(Qg,"__esModule",{value:!0});var rp=er(),Pr=ne(),RJ=Xr(),np=Ce(),PJ={message:"must NOT have additional properties",params:({params:e})=>(0,Pr._)`{additionalProperty: ${e.additionalProperty}}`},TJ={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:PJ,code(e){let{gen:t,schema:r,parentSchema:n,data:i,errsCount:s,it:o}=e;if(!s)throw new Error("ajv implementation error");let{allErrors:a,opts:c}=o;if(o.props=!0,c.removeAdditional!=="all"&&(0,np.alwaysValidSchema)(o,r))return;let l=(0,rp.allSchemaProperties)(n.properties),d=(0,rp.allSchemaProperties)(n.patternProperties);p(),e.ok((0,Pr._)`${s} === ${RJ.default.errors}`);function p(){t.forIn("key",i,x=>{!l.length&&!d.length?v(x):t.if(m(x),()=>v(x))})}function m(x){let C;if(l.length>8){let I=(0,np.schemaRefOrVal)(o,n.properties,"properties");C=(0,rp.isOwnProperty)(t,I,x)}else l.length?C=(0,Pr.or)(...l.map(I=>(0,Pr._)`${x} === ${I}`)):C=Pr.nil;return d.length&&(C=(0,Pr.or)(C,...d.map(I=>(0,Pr._)`${(0,rp.usePattern)(e,I)}.test(${x})`))),(0,Pr.not)(C)}function f(x){t.code((0,Pr._)`delete ${i}[${x}]`)}function v(x){if(c.removeAdditional==="all"||c.removeAdditional&&r===!1){f(x);return}if(r===!1){e.setParams({additionalProperty:x}),e.error(),a||t.break();return}if(typeof r=="object"&&!(0,np.alwaysValidSchema)(o,r)){let C=t.name("valid");c.removeAdditional==="failing"?(y(x,C,!1),t.if((0,Pr.not)(C),()=>{e.reset(),f(x)})):(y(x,C),a||t.if((0,Pr.not)(C),()=>t.break()))}}function y(x,C,I){let W={keyword:"additionalProperties",dataProp:x,dataPropType:np.Type.Str};I===!1&&Object.assign(W,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(W,C)}}};Qg.default=TJ});var _R=g(tv=>{"use strict";Object.defineProperty(tv,"__esModule",{value:!0});var AJ=ao(),gR=er(),ev=Ce(),vR=Zg(),IJ={keyword:"properties",type:"object",schemaType:"object",code(e){let{gen:t,schema:r,parentSchema:n,data:i,it:s}=e;s.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&vR.default.code(new AJ.KeywordCxt(s,vR.default,"additionalProperties"));let o=(0,gR.allSchemaProperties)(r);for(let p of o)s.definedProperties.add(p);s.opts.unevaluated&&o.length&&s.props!==!0&&(s.props=ev.mergeEvaluated.props(t,(0,ev.toHash)(o),s.props));let a=o.filter(p=>!(0,ev.alwaysValidSchema)(s,r[p]));if(a.length===0)return;let c=t.name("valid");for(let p of a)l(p)?d(p):(t.if((0,gR.propertyInData)(t,i,p,s.opts.ownProperties)),d(p),s.allErrors||t.else().var(c,!0),t.endIf()),e.it.definedProperties.add(p),e.ok(c);function l(p){return s.opts.useDefaults&&!s.compositeRule&&r[p].default!==void 0}function d(p){e.subschema({keyword:"properties",schemaProp:p,dataProp:p},c)}}};tv.default=IJ});var xR=g(rv=>{"use strict";Object.defineProperty(rv,"__esModule",{value:!0});var yR=er(),ip=ne(),ER=Ce(),SR=Ce(),OJ={keyword:"patternProperties",type:"object",schemaType:"object",code(e){let{gen:t,schema:r,data:n,parentSchema:i,it:s}=e,{opts:o}=s,a=(0,yR.allSchemaProperties)(r),c=a.filter(y=>(0,ER.alwaysValidSchema)(s,r[y]));if(a.length===0||c.length===a.length&&(!s.opts.unevaluated||s.props===!0))return;let l=o.strictSchema&&!o.allowMatchingProperties&&i.properties,d=t.name("valid");s.props!==!0&&!(s.props instanceof ip.Name)&&(s.props=(0,SR.evaluatedPropsToName)(t,s.props));let{props:p}=s;m();function m(){for(let y of a)l&&f(y),s.allErrors?v(y):(t.var(d,!0),v(y),t.if(d))}function f(y){for(let x in l)new RegExp(y).test(x)&&(0,ER.checkStrictMode)(s,`property ${x} matches pattern ${y} (use allowMatchingProperties)`)}function v(y){t.forIn("key",n,x=>{t.if((0,ip._)`${(0,yR.usePattern)(e,y)}.test(${x})`,()=>{let C=c.includes(y);C||e.subschema({keyword:"patternProperties",schemaProp:y,dataProp:x,dataPropType:SR.Type.Str},d),s.opts.unevaluated&&p!==!0?t.assign((0,ip._)`${p}[${x}]`,!0):!C&&!s.allErrors&&t.if((0,ip.not)(d),()=>t.break())})})}}};rv.default=OJ});var bR=g(nv=>{"use strict";Object.defineProperty(nv,"__esModule",{value:!0});var DJ=Ce(),NJ={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){let{gen:t,schema:r,it:n}=e;if((0,DJ.alwaysValidSchema)(n,r)){e.fail();return}let i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};nv.default=NJ});var CR=g(iv=>{"use strict";Object.defineProperty(iv,"__esModule",{value:!0});var $J=er(),kJ={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:$J.validateUnion,error:{message:"must match a schema in anyOf"}};iv.default=kJ});var wR=g(sv=>{"use strict";Object.defineProperty(sv,"__esModule",{value:!0});var sp=ne(),MJ=Ce(),jJ={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,sp._)`{passingSchemas: ${e.passing}}`},qJ={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:jJ,code(e){let{gen:t,schema:r,parentSchema:n,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(i.opts.discriminator&&n.discriminator)return;let s=r,o=t.let("valid",!1),a=t.let("passing",null),c=t.name("_valid");e.setParams({passing:a}),t.block(l),e.result(o,()=>e.reset(),()=>e.error(!0));function l(){s.forEach((d,p)=>{let m;(0,MJ.alwaysValidSchema)(i,d)?t.var(c,!0):m=e.subschema({keyword:"oneOf",schemaProp:p,compositeRule:!0},c),p>0&&t.if((0,sp._)`${c} && ${o}`).assign(o,!1).assign(a,(0,sp._)`[${a}, ${p}]`).else(),t.if(c,()=>{t.assign(o,!0),t.assign(a,p),m&&e.mergeEvaluated(m,sp.Name)})})}}};sv.default=qJ});var RR=g(ov=>{"use strict";Object.defineProperty(ov,"__esModule",{value:!0});var LJ=Ce(),FJ={keyword:"allOf",schemaType:"array",code(e){let{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");let i=t.name("valid");r.forEach((s,o)=>{if((0,LJ.alwaysValidSchema)(n,s))return;let a=e.subschema({keyword:"allOf",schemaProp:o},i);e.ok(i),e.mergeEvaluated(a)})}};ov.default=FJ});var AR=g(av=>{"use strict";Object.defineProperty(av,"__esModule",{value:!0});var op=ne(),TR=Ce(),UJ={message:({params:e})=>(0,op.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,op._)`{failingKeyword: ${e.ifClause}}`},zJ={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:UJ,code(e){let{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,TR.checkStrictMode)(n,'"if" without "then" and "else" is ignored');let i=PR(n,"then"),s=PR(n,"else");if(!i&&!s)return;let o=t.let("valid",!0),a=t.name("_valid");if(c(),e.reset(),i&&s){let d=t.let("ifClause");e.setParams({ifClause:d}),t.if(a,l("then",d),l("else",d))}else i?t.if(a,l("then")):t.if((0,op.not)(a),l("else"));e.pass(o,()=>e.error(!0));function c(){let d=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);e.mergeEvaluated(d)}function l(d,p){return()=>{let m=e.subschema({keyword:d},a);t.assign(o,a),e.mergeValidEvaluated(m,o),p?t.assign(p,(0,op._)`${d}`):e.setParams({ifClause:d})}}}};function PR(e,t){let r=e.schema[t];return r!==void 0&&!(0,TR.alwaysValidSchema)(e,r)}av.default=zJ});var IR=g(cv=>{"use strict";Object.defineProperty(cv,"__esModule",{value:!0});var VJ=Ce(),HJ={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,VJ.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};cv.default=HJ});var OR=g(lv=>{"use strict";Object.defineProperty(lv,"__esModule",{value:!0});var BJ=Bg(),GJ=aR(),WJ=Gg(),KJ=lR(),XJ=dR(),JJ=mR(),YJ=hR(),QJ=Zg(),ZJ=_R(),e7=xR(),t7=bR(),r7=CR(),n7=wR(),i7=RR(),s7=AR(),o7=IR();function a7(e=!1){let t=[t7.default,r7.default,n7.default,i7.default,s7.default,o7.default,YJ.default,QJ.default,JJ.default,ZJ.default,e7.default];return e?t.push(GJ.default,KJ.default):t.push(BJ.default,WJ.default),t.push(XJ.default),t}lv.default=a7});var DR=g(dv=>{"use strict";Object.defineProperty(dv,"__esModule",{value:!0});var Qe=ne(),c7={message:({schemaCode:e})=>(0,Qe.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,Qe._)`{format: ${e}}`},l7={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:c7,code(e,t){let{gen:r,data:n,$data:i,schema:s,schemaCode:o,it:a}=e,{opts:c,errSchemaPath:l,schemaEnv:d,self:p}=a;if(!c.validateFormats)return;i?m():f();function m(){let v=r.scopeValue("formats",{ref:p.formats,code:c.code.formats}),y=r.const("fDef",(0,Qe._)`${v}[${o}]`),x=r.let("fType"),C=r.let("format");r.if((0,Qe._)`typeof ${y} == "object" && !(${y} instanceof RegExp)`,()=>r.assign(x,(0,Qe._)`${y}.type || "string"`).assign(C,(0,Qe._)`${y}.validate`),()=>r.assign(x,(0,Qe._)`"string"`).assign(C,y)),e.fail$data((0,Qe.or)(I(),W()));function I(){return c.strictSchema===!1?Qe.nil:(0,Qe._)`${o} && !${C}`}function W(){let K=d.$async?(0,Qe._)`(${y}.async ? await ${C}(${n}) : ${C}(${n}))`:(0,Qe._)`${C}(${n})`,J=(0,Qe._)`(typeof ${C} == "function" ? ${K} : ${C}.test(${n}))`;return(0,Qe._)`${C} && ${C} !== true && ${x} === ${t} && !${J}`}}function f(){let v=p.formats[s];if(!v){I();return}if(v===!0)return;let[y,x,C]=W(v);y===t&&e.pass(K());function I(){if(c.strictSchema===!1){p.logger.warn(J());return}throw new Error(J());function J(){return`unknown format "${s}" ignored in schema at path "${l}"`}}function W(J){let $=J instanceof RegExp?(0,Qe.regexpCode)(J):c.code.formats?(0,Qe._)`${c.code.formats}${(0,Qe.getProperty)(s)}`:void 0,Q=r.scopeValue("formats",{key:s,ref:J,code:$});return typeof J=="object"&&!(J instanceof RegExp)?[J.type||"string",J.validate,(0,Qe._)`${Q}.validate`]:["string",J,Q]}function K(){if(typeof v=="object"&&!(v instanceof RegExp)&&v.async){if(!d.$async)throw new Error("async format in sync schema");return(0,Qe._)`await ${C}(${n})`}return typeof x=="function"?(0,Qe._)`${C}(${n})`:(0,Qe._)`${C}.test(${n})`}}}};dv.default=l7});var NR=g(uv=>{"use strict";Object.defineProperty(uv,"__esModule",{value:!0});var d7=DR(),u7=[d7.default];uv.default=u7});var $R=g(po=>{"use strict";Object.defineProperty(po,"__esModule",{value:!0});po.contentVocabulary=po.metadataVocabulary=void 0;po.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];po.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var MR=g(pv=>{"use strict";Object.defineProperty(pv,"__esModule",{value:!0});var p7=Vw(),m7=nR(),f7=OR(),h7=NR(),kR=$R(),g7=[p7.default,m7.default,(0,f7.default)(),h7.default,kR.metadataVocabulary,kR.contentVocabulary];pv.default=g7});var jR=g(qc=>{"use strict";Object.defineProperty(qc,"__esModule",{value:!0});qc.DiscrError=void 0;var v7;(function(e){e.Tag="tag",e.Mapping="mapping"})(v7=qc.DiscrError||(qc.DiscrError={}))});var LR=g(fv=>{"use strict";Object.defineProperty(fv,"__esModule",{value:!0});var mo=ne(),mv=jR(),qR=Bu(),_7=Ce(),y7={message:({params:{discrError:e,tagName:t}})=>e===mv.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,mo._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},E7={keyword:"discriminator",type:"object",schemaType:"object",error:y7,code(e){let{gen:t,data:r,schema:n,parentSchema:i,it:s}=e,{oneOf:o}=i;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");let a=n.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");let c=t.let("valid",!1),l=t.const("tag",(0,mo._)`${r}${(0,mo.getProperty)(a)}`);t.if((0,mo._)`typeof ${l} == "string"`,()=>d(),()=>e.error(!1,{discrError:mv.DiscrError.Tag,tag:l,tagName:a})),e.ok(c);function d(){let f=m();t.if(!1);for(let v in f)t.elseIf((0,mo._)`${l} === ${v}`),t.assign(c,p(f[v]));t.else(),e.error(!1,{discrError:mv.DiscrError.Mapping,tag:l,tagName:a}),t.endIf()}function p(f){let v=t.name("valid"),y=e.subschema({keyword:"oneOf",schemaProp:f},v);return e.mergeEvaluated(y,mo.Name),v}function m(){var f;let v={},y=C(i),x=!0;for(let K=0;K<o.length;K++){let J=o[K];J?.$ref&&!(0,_7.schemaHasRulesButRef)(J,s.self.RULES)&&(J=qR.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,J?.$ref),J instanceof qR.SchemaEnv&&(J=J.schema));let $=(f=J?.properties)===null||f===void 0?void 0:f[a];if(typeof $!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);x=x&&(y||C(J)),I($,K)}if(!x)throw new Error(`discriminator: "${a}" must be required`);return v;function C({required:K}){return Array.isArray(K)&&K.includes(a)}function I(K,J){if(K.const)W(K.const,J);else if(K.enum)for(let $ of K.enum)W($,J);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function W(K,J){if(typeof K!="string"||K in v)throw new Error(`discriminator: "${a}" values must be unique strings`);v[K]=J}}}};fv.default=E7});var FR=g((eNe,S7)=>{S7.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var lp=g((Xe,zR)=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});Xe.MissingRefError=Xe.ValidationError=Xe.CodeGen=Xe.Name=Xe.nil=Xe.stringify=Xe.str=Xe._=Xe.KeywordCxt=void 0;var x7=jw(),b7=MR(),C7=LR(),UR=FR(),w7=["/properties"],ap="http://json-schema.org/draft-07/schema",cp=class extends x7.default{_addVocabularies(){super._addVocabularies(),b7.default.forEach(t=>this.addVocabulary(t)),this.opts.discriminator&&this.addKeyword(C7.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let t=this.opts.$data?this.$dataMetaSchema(UR,w7):UR;this.addMetaSchema(t,ap,!1),this.refs["http://json-schema.org/schema"]=ap}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(ap)?ap:void 0)}};zR.exports=Xe=cp;Object.defineProperty(Xe,"__esModule",{value:!0});Xe.default=cp;var R7=ao();Object.defineProperty(Xe,"KeywordCxt",{enumerable:!0,get:function(){return R7.KeywordCxt}});var fo=ne();Object.defineProperty(Xe,"_",{enumerable:!0,get:function(){return fo._}});Object.defineProperty(Xe,"str",{enumerable:!0,get:function(){return fo.str}});Object.defineProperty(Xe,"stringify",{enumerable:!0,get:function(){return fo.stringify}});Object.defineProperty(Xe,"nil",{enumerable:!0,get:function(){return fo.nil}});Object.defineProperty(Xe,"Name",{enumerable:!0,get:function(){return fo.Name}});Object.defineProperty(Xe,"CodeGen",{enumerable:!0,get:function(){return fo.CodeGen}});var P7=zu();Object.defineProperty(Xe,"ValidationError",{enumerable:!0,get:function(){return P7.default}});var T7=Vu();Object.defineProperty(Xe,"MissingRefError",{enumerable:!0,get:function(){return T7.default}})});var KR=g(Zr=>{"use strict";Object.defineProperty(Zr,"__esModule",{value:!0});Zr.formatNames=Zr.fastFormats=Zr.fullFormats=void 0;function ho(e,t){return{validate:e,compare:t}}Zr.fullFormats={date:ho(BR,vv),time:ho(GR,_v),"date-time":ho(D7,WR),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:k7,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:z7,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:M7,int32:{type:"number",validate:L7},int64:{type:"number",validate:F7},float:{type:"number",validate:HR},double:{type:"number",validate:HR},password:!0,binary:!0};Zr.fastFormats={...Zr.fullFormats,date:ho(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,vv),time:ho(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,_v),"date-time":ho(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,WR),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i};Zr.formatNames=Object.keys(Zr.fullFormats);function A7(e){return e%4===0&&(e%100!==0||e%400===0)}var I7=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,O7=[0,31,28,31,30,31,30,31,31,30,31,30,31];function BR(e){let t=I7.exec(e);if(!t)return!1;let r=+t[1],n=+t[2],i=+t[3];return n>=1&&n<=12&&i>=1&&i<=(n===2&&A7(r)?29:O7[n])}function vv(e,t){if(e&&t)return e>t?1:e<t?-1:0}var hv=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function GR(e,t){let r=hv.exec(e);if(!r)return!1;let n=+r[1],i=+r[2],s=+r[3],o=r[5];return(n<=23&&i<=59&&s<=59||n===23&&i===59&&s===60)&&(!t||o!=="")}function _v(e,t){if(!(e&&t))return;let r=hv.exec(e),n=hv.exec(t);if(r&&n)return e=r[1]+r[2]+r[3]+(r[4]||""),t=n[1]+n[2]+n[3]+(n[4]||""),e>t?1:e<t?-1:0}var gv=/t|\s/i;function D7(e){let t=e.split(gv);return t.length===2&&BR(t[0])&&GR(t[1],!0)}function WR(e,t){if(!(e&&t))return;let[r,n]=e.split(gv),[i,s]=t.split(gv),o=vv(r,i);if(o!==void 0)return o||_v(n,s)}var N7=/\/|:/,$7=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function k7(e){return N7.test(e)&&$7.test(e)}var VR=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function M7(e){return VR.lastIndex=0,VR.test(e)}var j7=-(2**31),q7=2**31-1;function L7(e){return Number.isInteger(e)&&e<=q7&&e>=j7}function F7(e){return Number.isInteger(e)}function HR(){return!0}var U7=/[^\\]\\Z/;function z7(e){if(U7.test(e))return!1;try{return new RegExp(e),!0}catch{return!1}}});var XR=g(go=>{"use strict";Object.defineProperty(go,"__esModule",{value:!0});go.formatLimitDefinition=void 0;var V7=lp(),Tr=ne(),vi=Tr.operators,dp={formatMaximum:{okStr:"<=",ok:vi.LTE,fail:vi.GT},formatMinimum:{okStr:">=",ok:vi.GTE,fail:vi.LT},formatExclusiveMaximum:{okStr:"<",ok:vi.LT,fail:vi.GTE},formatExclusiveMinimum:{okStr:">",ok:vi.GT,fail:vi.LTE}},H7={message:({keyword:e,schemaCode:t})=>Tr.str`should be ${dp[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>Tr._`{comparison: ${dp[e].okStr}, limit: ${t}}`};go.formatLimitDefinition={keyword:Object.keys(dp),type:"string",schemaType:"string",$data:!0,error:H7,code(e){let{gen:t,data:r,schemaCode:n,keyword:i,it:s}=e,{opts:o,self:a}=s;if(!o.validateFormats)return;let c=new V7.KeywordCxt(s,a.RULES.all.format.definition,"format");c.$data?l():d();function l(){let m=t.scopeValue("formats",{ref:a.formats,code:o.code.formats}),f=t.const("fmt",Tr._`${m}[${c.schemaCode}]`);e.fail$data(Tr.or(Tr._`typeof ${f} != "object"`,Tr._`${f} instanceof RegExp`,Tr._`typeof ${f}.compare != "function"`,p(f)))}function d(){let m=c.schema,f=a.formats[m];if(!f||f===!0)return;if(typeof f!="object"||f instanceof RegExp||typeof f.compare!="function")throw new Error(`"${i}": format "${m}" does not define "compare" function`);let v=t.scopeValue("formats",{key:m,ref:f,code:o.code.formats?Tr._`${o.code.formats}${Tr.getProperty(m)}`:void 0});e.fail$data(p(v))}function p(m){return Tr._`${m}.compare(${r}, ${n}) ${dp[i].fail} 0`}},dependencies:["format"]};var B7=e=>(e.addKeyword(go.formatLimitDefinition),e);go.default=B7});var ZR=g((Lc,QR)=>{"use strict";Object.defineProperty(Lc,"__esModule",{value:!0});var vo=KR(),G7=XR(),yv=ne(),JR=new yv.Name("fullFormats"),W7=new yv.Name("fastFormats"),Ev=(e,t={keywords:!0})=>{if(Array.isArray(t))return YR(e,t,vo.fullFormats,JR),e;let[r,n]=t.mode==="fast"?[vo.fastFormats,W7]:[vo.fullFormats,JR],i=t.formats||vo.formatNames;return YR(e,i,r,n),t.keywords&&G7.default(e),e};Ev.get=(e,t="full")=>{let n=(t==="fast"?vo.fastFormats:vo.fullFormats)[e];if(!n)throw new Error(`Unknown format "${e}"`);return n};function YR(e,t,r,n){var i,s;(i=(s=e.opts.code).formats)!==null&&i!==void 0||(s.formats=yv._`require("ajv-formats/dist/formats").${n}`);for(let o of t)e.addFormat(o,r[o])}QR.exports=Lc=Ev;Object.defineProperty(Lc,"__esModule",{value:!0});Lc.default=Ev});var nP=g((xv,bv)=>{"use strict";Object.defineProperty(xv,"__esModule",{value:!0});var k=lp(),_i=ne(),eP=Zs(),K7=ao(),Fc=ro(),Ar=Xr(),up="errorMessage",yi=new k.Name("emUsed"),tP={required:"missingProperty",dependencies:"property",dependentRequired:"property"},rP=/\$\{[^}]+\}/,X7=/\$\{([^}]+)\}/g,J7=/^""\s*\+\s*|\s*\+\s*""$/g;function Y7(e){return{keyword:up,schemaType:["string","object"],post:!0,code(t){let{gen:r,data:n,schema:i,schemaValue:s,it:o}=t;if(o.createErrors===!1)return;let a=i,c=_i.strConcat(Ar.default.instancePath,o.errorPath);r.if(k._`${Ar.default.errors} > 0`,()=>{if(typeof a=="object"){let[Q,te]=d(a);te&&p(te),Q&&m(Q),f(l(a))}let $=typeof a=="string"?a:a._;$&&v($),e.keepErrors||y()});function l({properties:$,items:Q}){let te={};if($){te.props={};for(let ee in $)te.props[ee]=[]}if(Q){te.items={};for(let ee=0;ee<Q.length;ee++)te.items[ee]=[]}return te}function d($){let Q,te;for(let ee in $){if(ee==="properties"||ee==="items")continue;let ue=$[ee];if(typeof ue=="object"){Q||(Q={});let De=Q[ee]={};for(let ae in ue)De[ae]=[]}else te||(te={}),te[ee]=[]}return[Q,te]}function p($){let Q=r.const("emErrors",k.stringify($)),te=r.const("templates",W($,i));r.forOf("err",Ar.default.vErrors,ae=>r.if(x(ae,Q),()=>r.code(k._`${Q}[${ae}.keyword].push(${ae})`).assign(k._`${ae}.${yi}`,!0)));let{singleError:ee}=e;if(ee){let ae=r.let("message",k._`""`),Se=r.let("paramsErrors",k._`[]`);ue(wt=>{r.if(ae,()=>r.code(k._`${ae} += ${typeof ee=="string"?ee:";"}`)),r.code(k._`${ae} += ${De(wt)}`),r.assign(Se,k._`${Se}.concat(${Q}[${wt}])`)}),Fc.reportError(t,{message:ae,params:k._`{errors: ${Se}}`})}else ue(ae=>Fc.reportError(t,{message:De(ae),params:k._`{errors: ${Q}[${ae}]}`}));function ue(ae){r.forIn("key",Q,Se=>r.if(k._`${Q}[${Se}].length`,()=>ae(Se)))}function De(ae){return k._`${ae} in ${te} ? ${te}[${ae}]() : ${s}[${ae}]`}}function m($){let Q=r.const("emErrors",k.stringify($)),te=[];for(let Se in $)te.push([Se,W($[Se],i[Se])]);let ee=r.const("templates",r.object(...te)),ue=r.scopeValue("obj",{ref:tP,code:k.stringify(tP)}),De=r.let("emPropParams"),ae=r.let("emParamsErrors");r.forOf("err",Ar.default.vErrors,Se=>r.if(x(Se,Q),()=>{r.assign(De,k._`${ue}[${Se}.keyword]`),r.assign(ae,k._`${Q}[${Se}.keyword][${Se}.params[${De}]]`),r.if(ae,()=>r.code(k._`${ae}.push(${Se})`).assign(k._`${Se}.${yi}`,!0))})),r.forIn("key",Q,Se=>r.forIn("keyProp",k._`${Q}[${Se}]`,wt=>{r.assign(ae,k._`${Q}[${Se}][${wt}]`),r.if(k._`${ae}.length`,()=>{let Ur=r.const("tmpl",k._`${ee}[${Se}] && ${ee}[${Se}][${wt}]`);Fc.reportError(t,{message:k._`${Ur} ? ${Ur}() : ${s}[${Se}][${wt}]`,params:k._`{errors: ${ae}}`})})}))}function f($){let{props:Q,items:te}=$;if(!Q&&!te)return;let ee=k._`typeof ${n} == "object"`,ue=k._`Array.isArray(${n})`,De=r.let("emErrors"),ae,Se,wt=r.let("templates");Q&&te?(ae=r.let("emChildKwd"),r.if(ee),r.if(ue,()=>{Ur(te,i.items),r.assign(ae,k.str`items`)},()=>{Ur(Q,i.properties),r.assign(ae,k.str`properties`)}),Se=k._`[${ae}]`):te?(r.if(ue),Ur(te,i.items),Se=k._`.items`):Q&&(r.if(_i.and(ee,_i.not(ue))),Ur(Q,i.properties),Se=k._`.properties`),r.forOf("err",Ar.default.vErrors,Rt=>C(Rt,De,Qa=>r.code(k._`${De}[${Qa}].push(${Rt})`).assign(k._`${Rt}.${yi}`,!0))),r.forIn("key",De,Rt=>r.if(k._`${De}[${Rt}].length`,()=>{Fc.reportError(t,{message:k._`${Rt} in ${wt} ? ${wt}[${Rt}]() : ${s}${Se}[${Rt}]`,params:k._`{errors: ${De}[${Rt}]}`}),r.assign(k._`${Ar.default.vErrors}[${Ar.default.errors}-1].instancePath`,k._`${c} + "/" + ${Rt}.replace(/~/g, "~0").replace(/\\//g, "~1")`)})),r.endIf();function Ur(Rt,Qa){r.assign(De,k.stringify(Rt)),r.assign(wt,W(Rt,Qa))}}function v($){let Q=r.const("emErrs",k._`[]`);r.forOf("err",Ar.default.vErrors,te=>r.if(I(te),()=>r.code(k._`${Q}.push(${te})`).assign(k._`${te}.${yi}`,!0))),r.if(k._`${Q}.length`,()=>Fc.reportError(t,{message:K($),params:k._`{errors: ${Q}}`}))}function y(){let $=r.const("emErrs",k._`[]`);r.forOf("err",Ar.default.vErrors,Q=>r.if(k._`!${Q}.${yi}`,()=>r.code(k._`${$}.push(${Q})`))),r.assign(Ar.default.vErrors,$).assign(Ar.default.errors,k._`${$}.length`)}function x($,Q){return _i.and(k._`${$}.keyword !== ${up}`,k._`!${$}.${yi}`,k._`${$}.instancePath === ${c}`,k._`${$}.keyword in ${Q}`,k._`${$}.schemaPath.indexOf(${o.errSchemaPath}) === 0`,k._`/^\\/[^\\/]*$/.test(${$}.schemaPath.slice(${o.errSchemaPath.length}))`)}function C($,Q,te){r.if(_i.and(k._`${$}.keyword !== ${up}`,k._`!${$}.${yi}`,k._`${$}.instancePath.indexOf(${c}) === 0`),()=>{let ee=r.scopeValue("pattern",{ref:/^\/([^/]*)(?:\/|$)/,code:k._`new RegExp("^\\\/([^/]*)(?:\\\/|$)")`}),ue=r.const("emMatches",k._`${ee}.exec(${$}.instancePath.slice(${c}.length))`),De=r.const("emChild",k._`${ue} && ${ue}[1].replace(/~1/g, "/").replace(/~0/g, "~")`);r.if(k._`${De} !== undefined && ${De} in ${Q}`,()=>te(De))})}function I($){return _i.and(k._`${$}.keyword !== ${up}`,k._`!${$}.${yi}`,_i.or(k._`${$}.instancePath === ${c}`,_i.and(k._`${$}.instancePath.indexOf(${c}) === 0`,k._`${$}.instancePath[${c}.length] === "/"`)),k._`${$}.schemaPath.indexOf(${o.errSchemaPath}) === 0`,k._`${$}.schemaPath[${o.errSchemaPath}.length] === "/"`)}function W($,Q){let te=[];for(let ee in $){let ue=Q[ee];rP.test(ue)&&te.push([ee,J(ue)])}return r.object(...te)}function K($){return rP.test($)?new eP._Code(eP.safeStringify($).replace(X7,(Q,te)=>`" + JSON.stringify(${K7.getData(te,o)}) + "`).replace(J7,"")):k.stringify($)}function J($){return k._`function(){return ${K($)}}`}},metaSchema:{anyOf:[{type:"string"},{type:"object",properties:{properties:{$ref:"#/$defs/stringMap"},items:{$ref:"#/$defs/stringList"},required:{$ref:"#/$defs/stringOrMap"},dependencies:{$ref:"#/$defs/stringOrMap"}},additionalProperties:{type:"string"}}],$defs:{stringMap:{type:"object",additionalProperties:{type:"string"}},stringOrMap:{anyOf:[{type:"string"},{$ref:"#/$defs/stringMap"}]},stringList:{type:"array",items:{type:"string"}}}}}}var Sv=(e,t={})=>{if(!e.opts.allErrors)throw new Error("ajv-errors: Ajv option allErrors must be true");if(e.opts.jsPropertySyntax)throw new Error("ajv-errors: ajv option jsPropertySyntax is not supported");return e.addKeyword(Y7(t))};xv.default=Sv;bv.exports=Sv;bv.exports.default=Sv});var cP=g((Cv,aP)=>{"use strict";Object.defineProperty(Cv,"__esModule",{value:!0});var iP=ne(),sP=["undefined","string","number","object","function","boolean","symbol"];function oP(){return{keyword:"typeof",schemaType:["string","array"],code(e){let{data:t,schema:r,schemaValue:n}=e;e.fail(typeof r=="string"?(0,iP._)`typeof ${t} != ${r}`:(0,iP._)`${n}.indexOf(typeof ${t}) < 0`)},metaSchema:{anyOf:[{type:"string",enum:sP},{type:"array",items:{type:"string",enum:sP}}]}}}Cv.default=oP;aP.exports=oP});var uP=g((Uc,dP)=>{"use strict";var Q7=Uc&&Uc.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Uc,"__esModule",{value:!0});var Z7=Q7(cP()),lP=e=>e.addKeyword((0,Z7.default)());Uc.default=lP;dP.exports=lP});var hP=g((wv,fP)=>{"use strict";Object.defineProperty(wv,"__esModule",{value:!0});var pp={Object,Array,Function,Number,String,Date,RegExp};typeof Buffer<"u"&&(pp.Buffer=Buffer);typeof Promise<"u"&&(pp.Promise=Promise);var mP=Object.assign(eY,{CONSTRUCTORS:pp});function eY(){return{keyword:"instanceof",schemaType:["string","array"],compile(e){if(typeof e=="string"){let t=pP(e);return r=>r instanceof t}if(Array.isArray(e)){let t=e.map(pP);return r=>{for(let n of t)if(r instanceof n)return!0;return!1}}throw new Error("ajv implementation error")},metaSchema:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}]}}}function pP(e){let t=pp[e];if(t)return t;throw new Error(`invalid "instanceof" keyword value ${e}`)}wv.default=mP;fP.exports=mP});var _P=g((zc,vP)=>{"use strict";var tY=zc&&zc.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zc,"__esModule",{value:!0});var rY=tY(hP()),gP=e=>e.addKeyword((0,rY.default)());zc.default=gP;vP.exports=gP});var Pv=g(Rv=>{"use strict";Object.defineProperty(Rv,"__esModule",{value:!0});function nY(e){return()=>({keyword:e,type:"number",schemaType:"array",macro:function([r,n]){return t(r,n),e==="range"?{minimum:r,maximum:n}:{exclusiveMinimum:r,exclusiveMaximum:n}},metaSchema:{type:"array",minItems:2,maxItems:2,items:{type:"number"}}});function t(r,n){if(r>n||e==="exclusiveRange"&&r===n)throw new Error("There are no numbers in range")}}Rv.default=nY});var SP=g((Vc,EP)=>{"use strict";var iY=Vc&&Vc.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vc,"__esModule",{value:!0});var sY=iY(Pv()),yP=(0,sY.default)("range");Vc.default=yP;EP.exports=yP});var CP=g((Hc,bP)=>{"use strict";var oY=Hc&&Hc.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hc,"__esModule",{value:!0});var aY=oY(SP()),xP=e=>e.addKeyword((0,aY.default)());Hc.default=xP;bP.exports=xP});var PP=g((Bc,RP)=>{"use strict";var cY=Bc&&Bc.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bc,"__esModule",{value:!0});var lY=cY(Pv()),wP=(0,lY.default)("exclusiveRange");Bc.default=wP;RP.exports=wP});var IP=g((Gc,AP)=>{"use strict";var dY=Gc&&Gc.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Gc,"__esModule",{value:!0});var uY=dY(PP()),TP=e=>e.addKeyword((0,uY.default)());Gc.default=TP;AP.exports=TP});var Wc=g(_o=>{"use strict";Object.defineProperty(_o,"__esModule",{value:!0});_o.usePattern=_o.metaSchemaRef=void 0;var pY=ne(),mY="http://json-schema.org/schema";function fY({defaultMeta:e}={}){return e===!1?{}:{$ref:e||mY}}_o.metaSchemaRef=fY;function hY({gen:e,it:{opts:t}},r,n=t.unicodeRegExp?"u":""){let i=new RegExp(r,n);return e.scopeValue("pattern",{key:i.toString(),ref:i,code:(0,pY._)`new RegExp(${r}, ${n})`})}_o.usePattern=hY});var $P=g((Tv,NP)=>{"use strict";Object.defineProperty(Tv,"__esModule",{value:!0});var gY=ne(),OP=Wc(),vY={type:"object",properties:{pattern:{type:"string"},flags:{type:"string",nullable:!0}},required:["pattern"],additionalProperties:!1},_Y=/^\/(.*)\/([gimuy]*)$/;function DP(){return{keyword:"regexp",type:"string",schemaType:["string","object"],code(e){let{data:t,schema:r}=e,n=i(r);e.pass((0,gY._)`${n}.test(${t})`);function i(s){if(typeof s=="object")return(0,OP.usePattern)(e,s.pattern,s.flags);let o=_Y.exec(s);if(o)return(0,OP.usePattern)(e,o[1],o[2]);throw new Error("cannot parse string into RegExp")}},metaSchema:{anyOf:[{type:"string"},vY]}}}Tv.default=DP;NP.exports=DP});var jP=g((Kc,MP)=>{"use strict";var yY=Kc&&Kc.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Kc,"__esModule",{value:!0});var EY=yY($P()),kP=e=>e.addKeyword((0,EY.default)());Kc.default=kP;MP.exports=kP});var UP=g((Av,FP)=>{"use strict";Object.defineProperty(Av,"__esModule",{value:!0});var _s=ne(),mp={trimStart:e=>e.trimStart(),trimEnd:e=>e.trimEnd(),trimLeft:e=>e.trimStart(),trimRight:e=>e.trimEnd(),trim:e=>e.trim(),toLowerCase:e=>e.toLowerCase(),toUpperCase:e=>e.toUpperCase(),toEnumCase:(e,t)=>t?.hash[LP(e)]||e},qP=Object.assign(SY,{transform:mp});function SY(){return{keyword:"transform",schemaType:"array",before:"enum",code(e){let{gen:t,data:r,schema:n,parentSchema:i,it:s}=e,{parentData:o,parentDataProperty:a}=s,c=n;if(!c.length)return;let l;if(c.includes("toEnumCase")){let p=xY(i);l=t.scopeValue("obj",{ref:p,code:(0,_s.stringify)(p)})}t.if((0,_s._)`typeof ${r} == "string" && ${o} !== undefined`,()=>{t.assign(r,d(c.slice())),t.assign((0,_s._)`${o}[${a}]`,r)});function d(p){if(!p.length)return r;let m=p.pop();if(!(m in mp))throw new Error(`transform: unknown transformation ${m}`);let f=t.scopeValue("func",{ref:mp[m],code:(0,_s._)`require("ajv-keywords/dist/definitions/transform").transform${(0,_s.getProperty)(m)}`}),v=d(p);return l&&m==="toEnumCase"?(0,_s._)`${f}(${v}, ${l})`:(0,_s._)`${f}(${v})`}},metaSchema:{type:"array",items:{type:"string",enum:Object.keys(mp)}}}}function xY(e){let t={hash:{}};if(!e.enum)throw new Error('transform: "toEnumCase" requires "enum"');for(let r of e.enum){if(typeof r!="string")continue;let n=LP(r);if(t.hash[n])throw new Error('transform: "toEnumCase" requires all lowercased "enum" values to be unique');t.hash[n]=r}return t}function LP(e){return e.toLowerCase()}Av.default=qP;FP.exports=qP});var HP=g((Xc,VP)=>{"use strict";var bY=Xc&&Xc.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xc,"__esModule",{value:!0});var CY=bY(UP()),zP=e=>e.addKeyword((0,CY.default)());Xc.default=zP;VP.exports=zP});var WP=g((Iv,GP)=>{"use strict";Object.defineProperty(Iv,"__esModule",{value:!0});var wY=qu(),RY=["number","integer","string","boolean","null"];function BP(){return{keyword:"uniqueItemProperties",type:"array",schemaType:"array",compile(e,t){let r=PY(e,t);return n=>{if(n.length<=1)return!0;for(let i=0;i<e.length;i++){let s=e[i];if(r[i]){let o={};for(let a of n){if(!a||typeof a!="object")continue;let c=a[s];if(!(c&&typeof c=="object")){if(typeof c=="string"&&(c='"'+c),o[c])return!1;o[c]=!0}}}else for(let o=n.length;o--;){let a=n[o];if(!(!a||typeof a!="object"))for(let c=o;c--;){let l=n[c];if(l&&typeof l=="object"&&wY(a[s],l[s]))return!1}}}return!0}},metaSchema:{type:"array",items:{type:"string"}}}}Iv.default=BP;function PY(e,t){return e.map(r=>{var n,i,s;let o=(s=(i=(n=t.items)===null||n===void 0?void 0:n.properties)===null||i===void 0?void 0:i[r])===null||s===void 0?void 0:s.type;return Array.isArray(o)?!o.includes("object")&&!o.includes("array"):RY.includes(o)})}GP.exports=BP});var JP=g((Jc,XP)=>{"use strict";var TY=Jc&&Jc.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jc,"__esModule",{value:!0});var AY=TY(WP()),KP=e=>e.addKeyword((0,AY.default)());Jc.default=KP;XP.exports=KP});var ZP=g((Ov,QP)=>{"use strict";Object.defineProperty(Ov,"__esModule",{value:!0});function YP(){return{keyword:"allRequired",type:"object",schemaType:"boolean",macro(e,t){if(!e)return!0;let r=Object.keys(t.properties);return r.length===0?!0:{required:r}},dependencies:["properties"]}}Ov.default=YP;QP.exports=YP});var rT=g((Yc,tT)=>{"use strict";var IY=Yc&&Yc.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yc,"__esModule",{value:!0});var OY=IY(ZP()),eT=e=>e.addKeyword((0,OY.default)());Yc.default=eT;tT.exports=eT});var Nv=g(Dv=>{"use strict";Object.defineProperty(Dv,"__esModule",{value:!0});function DY(e){return()=>({keyword:e,type:"object",schemaType:"array",macro(t){return t.length===0?!0:t.length===1?{required:t}:{[e==="anyRequired"?"anyOf":"oneOf"]:t.map(n=>({required:[n]}))}},metaSchema:{type:"array",items:{type:"string"}}})}Dv.default=DY});var sT=g((Qc,iT)=>{"use strict";var NY=Qc&&Qc.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qc,"__esModule",{value:!0});var $Y=NY(Nv()),nT=(0,$Y.default)("anyRequired");Qc.default=nT;iT.exports=nT});var cT=g((Zc,aT)=>{"use strict";var kY=Zc&&Zc.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zc,"__esModule",{value:!0});var MY=kY(sT()),oT=e=>e.addKeyword((0,MY.default)());Zc.default=oT;aT.exports=oT});var uT=g((el,dT)=>{"use strict";var jY=el&&el.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(el,"__esModule",{value:!0});var qY=jY(Nv()),lT=(0,qY.default)("oneRequired");el.default=lT;dT.exports=lT});var fT=g((tl,mT)=>{"use strict";var LY=tl&&tl.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(tl,"__esModule",{value:!0});var FY=LY(uT()),pT=e=>e.addKeyword((0,FY.default)());tl.default=pT;mT.exports=pT});var vT=g(($v,gT)=>{"use strict";Object.defineProperty($v,"__esModule",{value:!0});var fp=ne(),UY=Wc(),zY={message:({params:{missingPattern:e}})=>(0,fp.str)`should have property matching pattern '${e}'`,params:({params:{missingPattern:e}})=>(0,fp._)`{missingPattern: ${e}}`};function hT(){return{keyword:"patternRequired",type:"object",schemaType:"array",error:zY,code(e){let{gen:t,schema:r,data:n}=e;if(r.length===0)return;let i=t.let("valid",!0);for(let o of r)s(o);function s(o){let a=t.let("matched",!1);t.forIn("key",n,c=>{t.assign(a,(0,fp._)`${(0,UY.usePattern)(e,o)}.test(${c})`),t.if(a,()=>t.break())}),e.setParams({missingPattern:o}),t.assign(i,(0,fp.and)(i,a)),e.pass(i)}},metaSchema:{type:"array",items:{type:"string",format:"regex"},uniqueItems:!0}}}$v.default=hT;gT.exports=hT});var ET=g((rl,yT)=>{"use strict";var VY=rl&&rl.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rl,"__esModule",{value:!0});var HY=VY(vT()),_T=e=>e.addKeyword((0,HY.default)());rl.default=_T;yT.exports=_T});var bT=g((kv,xT)=>{"use strict";Object.defineProperty(kv,"__esModule",{value:!0});function ST(){return{keyword:"prohibited",type:"object",schemaType:"array",macro:function(e){return e.length===0?!0:e.length===1?{not:{required:e}}:{not:{anyOf:e.map(t=>({required:[t]}))}}},metaSchema:{type:"array",items:{type:"string"}}}}kv.default=ST;xT.exports=ST});var RT=g((nl,wT)=>{"use strict";var BY=nl&&nl.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nl,"__esModule",{value:!0});var GY=BY(bT()),CT=e=>e.addKeyword((0,GY.default)());nl.default=CT;wT.exports=CT});var AT=g((Mv,TT)=>{"use strict";Object.defineProperty(Mv,"__esModule",{value:!0});var WY=Wc();function PT(e){return{keyword:"deepProperties",type:"object",schemaType:"object",macro:function(t){let r=[];for(let n in t)r.push(KY(n,t[n]));return{allOf:r}},metaSchema:{type:"object",propertyNames:{type:"string",format:"json-pointer"},additionalProperties:(0,WY.metaSchemaRef)(e)}}}Mv.default=PT;function KY(e,t){let r=e.split("/"),n={},i=n;for(let s=1;s<r.length;s++){let o=r[s],a=s===r.length-1;o=XY(o);let c=i.properties={},l;if(/[0-9]+/.test(o)){let d=+o;for(l=i.items=[],i.type=["object","array"];d--;)l.push({})}else i.type="object";i=a?t:{},c[o]=i,l&&l.push(i)}return n}function XY(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}TT.exports=PT});var DT=g((il,OT)=>{"use strict";var JY=il&&il.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(il,"__esModule",{value:!0});var YY=JY(AT()),IT=(e,t)=>e.addKeyword((0,YY.default)(t));il.default=IT;OT.exports=IT});var kT=g((jv,$T)=>{"use strict";Object.defineProperty(jv,"__esModule",{value:!0});var sl=ne();function NT(){return{keyword:"deepRequired",type:"object",schemaType:"array",code(e){let{schema:t,data:r}=e,n=t.map(s=>(0,sl._)`(${i(s)}) === undefined`);e.fail((0,sl.or)(...n));function i(s){if(s==="")throw new Error("empty JSON pointer not allowed");let o=s.split("/"),a=r,c=o.map((l,d)=>d?a=(0,sl._)`${a}${(0,sl.getProperty)(QY(l))}`:a);return(0,sl.and)(...c)}},metaSchema:{type:"array",items:{type:"string",format:"json-pointer"}}}}jv.default=NT;function QY(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}$T.exports=NT});var qT=g((ol,jT)=>{"use strict";var ZY=ol&&ol.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ol,"__esModule",{value:!0});var eQ=ZY(kT()),MT=e=>e.addKeyword((0,eQ.default)());ol.default=MT;jT.exports=MT});var zT=g((Fv,UT)=>{"use strict";Object.defineProperty(Fv,"__esModule",{value:!0});var qv={},Lv={timestamp:()=>()=>Date.now(),datetime:()=>()=>new Date().toISOString(),date:()=>()=>new Date().toISOString().slice(0,10),time:()=>()=>new Date().toISOString().slice(11),random:()=>()=>Math.random(),randomint:e=>{var t;let r=(t=e?.max)!==null&&t!==void 0?t:2;return()=>Math.floor(Math.random()*r)},seq:e=>{var t;let r=(t=e?.name)!==null&&t!==void 0?t:"";return qv[r]||(qv[r]=0),()=>qv[r]++}},LT=Object.assign(tQ,{DEFAULTS:Lv});function tQ(){return{keyword:"dynamicDefaults",type:"object",schemaType:["string","object"],modifying:!0,valid:!0,compile(e,t,r){if(!r.opts.useDefaults||r.compositeRule)return()=>!0;let n={};for(let s in e)n[s]=rQ(e[s]);let i=r.opts.useDefaults==="empty";return s=>{for(let o in e)(s[o]===void 0||i&&(s[o]===null||s[o]===""))&&(s[o]=n[o]());return!0}},metaSchema:{type:"object",additionalProperties:{anyOf:[{type:"string"},{type:"object",additionalProperties:!1,required:["func","args"],properties:{func:{type:"string"},args:{type:"object"}}}]}}}}function rQ(e){return typeof e=="object"?nQ(e):iQ(e)}function nQ({func:e,args:t}){let r=Lv[e];return FT(e,r),r(t)}function iQ(e=""){let t=Lv[e];return FT(e,t),t()}function FT(e,t){if(!t)throw new Error(`invalid "dynamicDefaults" keyword property value: ${e}`)}Fv.default=LT;UT.exports=LT});var BT=g((al,HT)=>{"use strict";var sQ=al&&al.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(al,"__esModule",{value:!0});var oQ=sQ(zT()),VT=e=>e.addKeyword((0,oQ.default)());al.default=VT;HT.exports=VT});var KT=g((Uv,WT)=>{"use strict";Object.defineProperty(Uv,"__esModule",{value:!0});var Mn=ne(),aQ=Wc(),cQ={message:({params:{schemaProp:e}})=>e?(0,Mn.str)`should match case "${e}" schema`:(0,Mn.str)`should match default case schema`,params:({params:{schemaProp:e}})=>e?(0,Mn._)`{failingCase: ${e}}`:(0,Mn._)`{failingDefault: true}`};function GT(e){let t=(0,aQ.metaSchemaRef)(e);return[{keyword:"select",schemaType:["string","number","boolean","null"],$data:!0,error:cQ,dependencies:["selectCases"],code(r){let{gen:n,schemaCode:i,parentSchema:s}=r;r.block$data(Mn.nil,()=>{let o=n.let("valid",!0),a=n.name("_valid"),c=n.const("value",(0,Mn._)`${i} === null ? "null" : ${i}`);n.if(!1);for(let l in s.selectCases){r.setParams({schemaProp:l}),n.elseIf((0,Mn._)`"" + ${c} == ${l}`);let d=r.subschema({keyword:"selectCases",schemaProp:l},a);r.mergeEvaluated(d,Mn.Name),n.assign(o,a)}if(n.else(),s.selectDefault!==void 0){r.setParams({schemaProp:void 0});let l=r.subschema({keyword:"selectDefault"},a);r.mergeEvaluated(l,Mn.Name),n.assign(o,a)}n.endIf(),r.pass(o)})}},{keyword:"selectCases",dependencies:["select"],metaSchema:{type:"object",additionalProperties:t}},{keyword:"selectDefault",dependencies:["select","selectCases"],metaSchema:t}]}Uv.default=GT;WT.exports=GT});var YT=g((cl,JT)=>{"use strict";var lQ=cl&&cl.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cl,"__esModule",{value:!0});var dQ=lQ(KT()),XT=(e,t)=>((0,dQ.default)(t).forEach(r=>e.addKeyword(r)),e);cl.default=XT;JT.exports=XT});var eA=g((ll,ZT)=>{"use strict";var St=ll&&ll.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ll,"__esModule",{value:!0});var uQ=St(uP()),pQ=St(_P()),mQ=St(CP()),fQ=St(IP()),hQ=St(jP()),gQ=St(HP()),vQ=St(JP()),_Q=St(rT()),yQ=St(cT()),EQ=St(fT()),SQ=St(ET()),xQ=St(RT()),bQ=St(DT()),CQ=St(qT()),wQ=St(BT()),RQ=St(YT()),QT={typeof:uQ.default,instanceof:pQ.default,range:mQ.default,exclusiveRange:fQ.default,regexp:hQ.default,transform:gQ.default,uniqueItemProperties:vQ.default,allRequired:_Q.default,anyRequired:yQ.default,oneRequired:EQ.default,patternRequired:SQ.default,prohibited:xQ.default,deepProperties:bQ.default,deepRequired:CQ.default,dynamicDefaults:wQ.default,select:RQ.default};ll.default=QT;ZT.exports=QT});var rA=g((dl,zv)=>{"use strict";var PQ=dl&&dl.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(dl,"__esModule",{value:!0});var tA=PQ(eA()),gp=(e,t)=>{if(Array.isArray(t)){for(let r of t)hp(r)(e);return e}if(t)return hp(t)(e),e;for(t in tA.default)hp(t)(e);return e};gp.get=hp;function hp(e){let t=tA.default[e];if(!t)throw new Error("Unknown keyword "+e);return t}dl.default=gp;zv.exports=gp;zv.exports.default=gp});var iA=g((oNe,nA)=>{var TQ=lp(),AQ=ZR(),IQ=nP(),OQ=rA(),ul=new TQ({allErrors:!0,removeAdditional:!0});AQ(ul);IQ(ul);OQ(ul,"transform");var vp=class extends Error{constructor(t){super(t),this.statusCode=400,this.expose=!0,this.type="urn:problem:invalid-request",this.title="Bad Request"}},DQ=({eventSchema:e,contextSchema:t})=>({before:async n=>{if(e){let i=ul.compile(e);if(!i(n.event))throw new vp(i.errors[0].message)}if(t){let i=ul.compile(t);if(!i(n.context))throw new vp(i.errors[0].message)}}});nA.exports=DQ});var oA=g((aNe,sA)=>{var NQ=()=>({onError:async t=>{if(t.response!==void 0||!t.error)return;(!t.error.statusCode||!t.error.expose)&&(t.error={type:"urn:problem:server-error",title:"Server Error",message:"An unexpected error has occurred, contact the administrator.",statusCode:500});let{statusCode:r,type:n,title:i,name:s}=t.error,{message:o}=t.error;r===400&&t.error.cause&&(o=t.error.cause[0].message);let a=null;t.event.requestContext!==void 0&&(a=t.event.requestContext.path),t.response={statusCode:r,body:JSON.stringify({type:n??"about:blank",title:i??s,detail:o,instance:a,status:r}),headers:{"Content-Type":"application/problem+json"}}}});sA.exports=NQ});var cA=g((cNe,aA)=>{var _p=class extends Error{constructor(t){super(t),this.statusCode=400,this.expose=!0,this.type="urn:problem:invalid-request",this.title="Bad Request"}},$Q=()=>({before:async t=>{if(!t.event.Records||!Array.isArray(t.event.Records))throw new _p("Invalid or malformed Event was provided");try{t.event.Records.forEach(r=>{r.rawBody=r.body,r.body=JSON.parse(r.body)})}catch(r){throw console.log({error:r,req:t}),new _p("Invalid or malformed JSON was provided")}}});aA.exports=$Q});var dA=g((lNe,lA)=>{var Vv=c0(),kQ=y0(),MQ=w0(),{injectLambdaContext:Hv}=uu(),{logMetrics:Bv}=lu(),{logger:Gv,metrics:Wv}=(kh(),ni(i0)),Kv=iA(),Xv=oA(),jQ=cA(),qQ=(e,t={},r={})=>Vv(e).use(kQ()).use(MQ()).use(Kv({eventSchema:t,contextSchema:r})).use(Xv()).use(Hv(Gv,{logEvent:!1})).use(Bv(Wv)),LQ=(e,t={},r={})=>Vv(e).use(jQ()).use(Kv({eventSchema:t,contextSchema:r})).use(Xv()).use(Hv(Gv,{logEvent:!1})).use(Bv(Wv)),FQ=(e,t={},r={})=>Vv(e).use(Kv({eventSchema:t,contextSchema:r})).use(Xv()).use(Hv(Gv,{logEvent:!1})).use(Bv(Wv));lA.exports={adapter:qQ,adapterEvent:LQ,adapterDynamoEvent:FQ}});var fA=g((uNe,mA)=>{"use strict";var uA=require("url"),pA=1800,Yv=class{constructor(t){this.options=t||{},this.cookies=[]}set(t,r){let n=uA.parse(r||""),i=this.parse(t),s;return i.domain?(s=i.domain.replace(/^\./,""),(n.hostname.length<s.length||("."+n.hostname).substr(-s.length+1)!=="."+s)&&(i.domain=n.hostname)):i.domain=n.hostname,i.path||(i.path=this.getPath(n.pathname)),i.expires||(i.expires=new Date(Date.now()+(Number(this.options.sessionTimeout||pA)||pA)*1e3)),this.add(i)}get(t){return this.list(t).map(r=>r.name+"="+r.value).join("; ")}list(t){let r=[],n,i;for(n=this.cookies.length-1;n>=0;n--){if(i=this.cookies[n],this.isExpired(i)){this.cookies.splice(n,n);continue}this.match(i,t)&&r.unshift(i)}return r}parse(t){let r={};return(t||"").toString().split(";").forEach(n=>{let i=n.split("="),s=i.shift().trim().toLowerCase(),o=i.join("=").trim(),a;if(s)switch(s){case"expires":o=new Date(o),o.toString()!=="Invalid Date"&&(r.expires=o);break;case"path":r.path=o;break;case"domain":a=o.toLowerCase(),a.length&&a.charAt(0)!=="."&&(a="."+a),r.domain=a;break;case"max-age":r.expires=new Date(Date.now()+(Number(o)||0)*1e3);break;case"secure":r.secure=!0;break;case"httponly":r.httponly=!0;break;default:r.name||(r.name=s,r.value=o)}}),r}match(t,r){let n=uA.parse(r||"");return!(n.hostname!==t.domain&&(t.domain.charAt(0)!=="."||("."+n.hostname).substr(-t.domain.length)!==t.domain)||this.getPath(n.pathname).substr(0,t.path.length)!==t.path||t.secure&&n.protocol!=="https:")}add(t){let r,n;if(!t||!t.name)return!1;for(r=0,n=this.cookies.length;r<n;r++)if(this.compare(this.cookies[r],t))return this.isExpired(t)?(this.cookies.splice(r,1),!1):(this.cookies[r]=t,!0);return this.isExpired(t)||this.cookies.push(t),!0}compare(t,r){return t.name===r.name&&t.path===r.path&&t.domain===r.domain&&t.secure===r.secure&&t.httponly===t.httponly}isExpired(t){return t.expires&&t.expires<new Date||!t.value}getPath(t){let r=(t||"/").split("/");return r.pop(),r=r.join("/").trim(),r.charAt(0)!=="/"&&(r="/"+r),r.substr(-1)!=="/"&&(r+="/"),r}};mA.exports=Yv});var Ir=g((pNe,YQ)=>{YQ.exports={name:"nodemailer",version:"6.9.13",description:"Easy as cake e-mail sending from your Node.js applications",main:"lib/nodemailer.js",scripts:{test:"node --test --test-concurrency=1 test/**/*.test.js test/**/*-test.js","test:coverage":"c8 node --test --test-concurrency=1 test/**/*.test.js test/**/*-test.js",lint:"eslint .",update:"rm -rf node_modules/ package-lock.json && ncu -u && npm install"},repository:{type:"git",url:"https://github.com/nodemailer/nodemailer.git"},keywords:["Nodemailer"],author:"Andris Reinman",license:"MIT-0",bugs:{url:"https://github.com/nodemailer/nodemailer/issues"},homepage:"https://nodemailer.com/",devDependencies:{"@aws-sdk/client-ses":"3.529.1",bunyan:"1.8.15",c8:"9.1.0",eslint:"8.57.0","eslint-config-nodemailer":"1.2.0","eslint-config-prettier":"9.1.0",libbase64:"1.3.0",libmime:"5.3.4",libqp:"2.1.0","nodemailer-ntlm-auth":"1.0.4",proxy:"1.0.2","proxy-test-server":"1.0.0","smtp-server":"3.13.3"},engines:{node:">=6.0.0"}}});var pl=g((mNe,Qv)=>{"use strict";var QQ=require("http"),ZQ=require("https"),hA=require("url"),eZ=require("zlib"),tZ=require("stream").PassThrough,gA=fA(),rZ=Ir(),nZ=require("net"),iZ=5;Qv.exports=function(e,t){return vA(e,t)};Qv.exports.Cookies=gA;function vA(e,t){t=t||{},t.fetchRes=t.fetchRes||new tZ,t.cookies=t.cookies||new gA,t.redirects=t.redirects||0,t.maxRedirects=isNaN(t.maxRedirects)?iZ:t.maxRedirects,t.cookie&&([].concat(t.cookie||[]).forEach(m=>{t.cookies.set(m,e)}),t.cookie=!1);let r=t.fetchRes,n=hA.parse(e),i=(t.method||"").toString().trim().toUpperCase()||"GET",s=!1,o,a,c=n.protocol==="https:"?ZQ:QQ,l={"accept-encoding":"gzip,deflate","user-agent":"nodemailer/"+rZ.version};if(Object.keys(t.headers||{}).forEach(m=>{l[m.toLowerCase().trim()]=t.headers[m]}),t.userAgent&&(l["user-agent"]=t.userAgent),n.auth&&(l.Authorization="Basic "+Buffer.from(n.auth).toString("base64")),(o=t.cookies.get(e))&&(l.cookie=o),t.body){if(t.contentType!==!1&&(l["Content-Type"]=t.contentType||"application/x-www-form-urlencoded"),typeof t.body.pipe=="function")l["Transfer-Encoding"]="chunked",a=t.body,a.on("error",m=>{s||(s=!0,m.type="FETCH",m.sourceUrl=e,r.emit("error",m))});else{if(t.body instanceof Buffer)a=t.body;else if(typeof t.body=="object")try{a=Buffer.from(Object.keys(t.body).map(m=>{let f=t.body[m].toString().trim();return encodeURIComponent(m)+"="+encodeURIComponent(f)}).join("&"))}catch(m){if(s)return;s=!0,m.type="FETCH",m.sourceUrl=e,r.emit("error",m);return}else a=Buffer.from(t.body.toString().trim());l["Content-Type"]=t.contentType||"application/x-www-form-urlencoded",l["Content-Length"]=a.length}i=(t.method||"").toString().trim().toUpperCase()||"POST"}let d,p={method:i,host:n.hostname,path:n.path,port:n.port?n.port:n.protocol==="https:"?443:80,headers:l,rejectUnauthorized:!1,agent:!1};t.tls&&Object.keys(t.tls).forEach(m=>{p[m]=t.tls[m]}),n.protocol==="https:"&&n.hostname&&n.hostname!==p.host&&!nZ.isIP(n.hostname)&&!p.servername&&(p.servername=n.hostname);try{d=c.request(p)}catch(m){return s=!0,setImmediate(()=>{m.type="FETCH",m.sourceUrl=e,r.emit("error",m)}),r}return t.timeout&&d.setTimeout(t.timeout,()=>{if(s)return;s=!0,d.abort();let m=new Error("Request Timeout");m.type="FETCH",m.sourceUrl=e,r.emit("error",m)}),d.on("error",m=>{s||(s=!0,m.type="FETCH",m.sourceUrl=e,r.emit("error",m))}),d.on("response",m=>{let f;if(!s){switch(m.headers["content-encoding"]){case"gzip":case"deflate":f=eZ.createUnzip();break}if(m.headers["set-cookie"]&&[].concat(m.headers["set-cookie"]||[]).forEach(v=>{t.cookies.set(v,e)}),[301,302,303,307,308].includes(m.statusCode)&&m.headers.location){if(t.redirects++,t.redirects>t.maxRedirects){s=!0;let v=new Error("Maximum redirect count exceeded");v.type="FETCH",v.sourceUrl=e,r.emit("error",v),d.abort();return}return t.method="GET",t.body=!1,vA(hA.resolve(e,m.headers.location),t)}if(r.statusCode=m.statusCode,r.headers=m.headers,m.statusCode>=300&&!t.allowErrorResponse){s=!0;let v=new Error("Invalid status code "+m.statusCode);v.type="FETCH",v.sourceUrl=e,r.emit("error",v),d.abort();return}m.on("error",v=>{s||(s=!0,v.type="FETCH",v.sourceUrl=e,r.emit("error",v),d.abort())}),f?(m.pipe(f).pipe(r),f.on("error",v=>{s||(s=!0,v.type="FETCH",v.sourceUrl=e,r.emit("error",v),d.abort())})):m.pipe(r)}}),setImmediate(()=>{if(a)try{if(typeof a.pipe=="function")return a.pipe(d);d.write(a)}catch(m){s=!0,m.type="FETCH",m.sourceUrl=e,r.emit("error",m);return}d.end()}),r}});var It=g((fNe,xt)=>{"use strict";var sZ=require("url"),oZ=require("util"),aZ=require("fs"),cZ=pl(),tn=require("dns"),lZ=require("net"),dZ=require("os"),Zv=5*60*1e3,yA;try{yA=dZ.networkInterfaces()}catch{}xt.exports.networkInterfaces=yA;var EA=(e,t)=>{let r=xt.exports.networkInterfaces;return r?Object.keys(r).map(i=>r[i]).reduce((i,s)=>i.concat(s),[]).filter(i=>!i.internal||t).filter(i=>i.family==="IPv"+e||i.family===e).length>0:!0},_A=(e,t,r,n)=>{if(r=r||{},!EA(e,r.allowInternalNetworkInterfaces))return n(null,[]);(tn.Resolver?new tn.Resolver(r):tn)["resolve"+e](t,(o,a)=>{if(o){switch(o.code){case tn.NODATA:case tn.NOTFOUND:case tn.NOTIMP:case tn.SERVFAIL:case tn.CONNREFUSED:case tn.REFUSED:case"EAI_AGAIN":return n(null,[])}return n(o)}return n(null,Array.isArray(a)?a:[].concat(a||[]))})},ml=xt.exports.dnsCache=new Map,en=(e,t)=>e?Object.assign({servername:e.servername,host:!e.addresses||!e.addresses.length?null:e.addresses.length===1?e.addresses[0]:e.addresses[Math.floor(Math.random()*e.addresses.length)]},t||{}):Object.assign({},t||{});xt.exports.resolveHostname=(e,t)=>{if(e=e||{},!e.host&&e.servername&&(e.host=e.servername),!e.host||lZ.isIP(e.host)){let n={addresses:[e.host],servername:e.servername||!1};return t(null,en(n,{cached:!1}))}let r;if(ml.has(e.host)&&(r=ml.get(e.host),!r.expires||r.expires>=Date.now()))return t(null,en(r.value,{cached:!0}));_A(4,e.host,e,(n,i)=>{if(n)return r?t(null,en(r.value,{cached:!0,error:n})):t(n);if(i&&i.length){let s={addresses:i,servername:e.servername||e.host};return ml.set(e.host,{value:s,expires:Date.now()+(e.dnsTtl||Zv)}),t(null,en(s,{cached:!1}))}_A(6,e.host,e,(s,o)=>{if(s)return r?t(null,en(r.value,{cached:!0,error:s})):t(s);if(o&&o.length){let a={addresses:o,servername:e.servername||e.host};return ml.set(e.host,{value:a,expires:Date.now()+(e.dnsTtl||Zv)}),t(null,en(a,{cached:!1}))}try{tn.lookup(e.host,{all:!0},(a,c)=>{if(a)return r?t(null,en(r.value,{cached:!0,error:a})):t(a);let l=c?c.filter(p=>EA(p.family)).map(p=>p.address).shift():!1;if(c&&c.length&&!l&&console.warn(`Failed to resolve IPv${c[0].family} addresses with current network`),!l&&r)return t(null,en(r.value,{cached:!0}));let d={addresses:l?[l]:[e.host],servername:e.servername||e.host};return ml.set(e.host,{value:d,expires:Date.now()+(e.dnsTtl||Zv)}),t(null,en(d,{cached:!1}))})}catch(a){return r?t(null,en(r.value,{cached:!0,error:a})):t(a)}})})};xt.exports.parseConnectionUrl=e=>{e=e||"";let t={};return[sZ.parse(e,!0)].forEach(r=>{let n;switch(r.protocol){case"smtp:":t.secure=!1;break;case"smtps:":t.secure=!0;break;case"direct:":t.direct=!0;break}!isNaN(r.port)&&Number(r.port)&&(t.port=Number(r.port)),r.hostname&&(t.host=r.hostname),r.auth&&(n=r.auth.split(":"),t.auth||(t.auth={}),t.auth.user=n.shift(),t.auth.pass=n.join(":")),Object.keys(r.query||{}).forEach(i=>{let s=t,o=i,a=r.query[i];switch(isNaN(a)||(a=Number(a)),a){case"true":a=!0;break;case"false":a=!1;break}if(i.indexOf("tls.")===0)o=i.substr(4),t.tls||(t.tls={}),s=t.tls;else if(i.indexOf(".")>=0)return;o in s||(s[o]=a)})}),t};xt.exports._logFunc=(e,t,r,n,i,...s)=>{let o={};Object.keys(r||{}).forEach(a=>{a!=="level"&&(o[a]=r[a])}),Object.keys(n||{}).forEach(a=>{a!=="level"&&(o[a]=n[a])}),e[t](o,i,...s)};xt.exports.getLogger=(e,t)=>{e=e||{};let r={},n=["trace","debug","info","warn","error","fatal"];if(!e.logger)return n.forEach(s=>{r[s]=()=>!1}),r;let i=e.logger;return e.logger===!0&&(i=uZ(n)),n.forEach(s=>{r[s]=(o,a,...c)=>{xt.exports._logFunc(i,s,t,o,a,...c)}}),r};xt.exports.callbackPromise=(e,t)=>function(){let r=Array.from(arguments),n=r.shift();n?t(n):e(...r)};xt.exports.parseDataURI=e=>{let t=e,r=t.indexOf(",");if(!r)return e;let n=t.substring(r+1),i=t.substring(5,r),s,o=i.split(";"),a=o.length>1?o[o.length-1]:!1;a&&a.indexOf("=")<0&&(s=a.toLowerCase(),o.pop());let c=o.shift()||"application/octet-stream",l={};for(let d of o){let p=d.indexOf("=");if(p>=0){let m=d.substring(0,p),f=d.substring(p+1);l[m]=f}}switch(s){case"base64":n=Buffer.from(n,"base64");break;case"utf8":n=Buffer.from(n);break;default:try{n=Buffer.from(decodeURIComponent(n))}catch{n=Buffer.from(n)}n=Buffer.from(n)}return{data:n,encoding:s,contentType:c,params:l}};xt.exports.resolveContent=(e,t,r)=>{let n;r||(n=new Promise((a,c)=>{r=xt.exports.callbackPromise(a,c)}));let i=e&&e[t]&&e[t].content||e[t],s,o=(typeof e[t]=="object"&&e[t].encoding||"utf8").toString().toLowerCase().replace(/[-_\s]/g,"");if(!i)return r(null,i);if(typeof i=="object"){if(typeof i.pipe=="function")return e_(i,(a,c)=>{if(a)return r(a);e[t].content?e[t].content=c:e[t]=c,r(null,c)});if(/^https?:\/\//i.test(i.path||i.href))return s=cZ(i.path||i.href),e_(s,r);if(/^data:/i.test(i.path||i.href)){let a=xt.exports.parseDataURI(i.path||i.href);return!a||!a.data?r(null,Buffer.from(0)):r(null,a.data)}else if(i.path)return e_(aZ.createReadStream(i.path),r)}return typeof e[t].content=="string"&&!["utf8","usascii","ascii"].includes(o)&&(i=Buffer.from(e[t].content,o)),setImmediate(()=>r(null,i)),n};xt.exports.assign=function(){let e=Array.from(arguments),t=e.shift()||{};return e.forEach(r=>{Object.keys(r||{}).forEach(n=>{["tls","auth"].includes(n)&&r[n]&&typeof r[n]=="object"?(t[n]||(t[n]={}),Object.keys(r[n]).forEach(i=>{t[n][i]=r[n][i]})):t[n]=r[n]})}),t};xt.exports.encodeXText=e=>{if(!/[^\x21-\x2A\x2C-\x3C\x3E-\x7E]/.test(e))return e;let t=Buffer.from(e),r="";for(let n=0,i=t.length;n<i;n++){let s=t[n];s<33||s>126||s===43||s===61?r+="+"+(s<16?"0":"")+s.toString(16).toUpperCase():r+=String.fromCharCode(s)}return r};function e_(e,t){let r=!1,n=[],i=0;e.on("error",s=>{r||(r=!0,t(s))}),e.on("readable",()=>{let s;for(;(s=e.read())!==null;)n.push(s),i+=s.length}),e.on("end",()=>{if(r)return;r=!0;let s;try{s=Buffer.concat(n,i)}catch(o){return t(o)}t(null,s)})}function uZ(e){let t=0,r=new Map;e.forEach(s=>{s.length>t&&(t=s.length)}),e.forEach(s=>{let o=s.toUpperCase();o.length<t&&(o+=" ".repeat(t-o.length)),r.set(s,o)});let n=(s,o,a,...c)=>{let l="";o&&(o.tnx==="server"?l="S: ":o.tnx==="client"&&(l="C: "),o.sid&&(l="["+o.sid+"] "+l),o.cid&&(l="[#"+o.cid+"] "+l)),a=oZ.format(a,...c),a.split(/\r?\n/).forEach(d=>{console.log("[%s] %s %s",new Date().toISOString().substr(0,19).replace(/T/," "),r.get(s),l+d)})},i={};return e.forEach(s=>{i[s]=n.bind(null,s)}),i}});var t_=g((hNe,CA)=>{"use strict";var pZ=require("path"),SA="application/octet-stream",mZ="bin",xA=new Map([["application/acad","dwg"],["application/applixware","aw"],["application/arj","arj"],["application/atom+xml","xml"],["application/atomcat+xml","atomcat"],["application/atomsvc+xml","atomsvc"],["application/base64",["mm","mme"]],["application/binhex","hqx"],["application/binhex4","hqx"],["application/book",["book","boo"]],["application/ccxml+xml,","ccxml"],["application/cdf","cdf"],["application/cdmi-capability","cdmia"],["application/cdmi-container","cdmic"],["application/cdmi-domain","cdmid"],["application/cdmi-object","cdmio"],["application/cdmi-queue","cdmiq"],["application/clariscad","ccad"],["application/commonground","dp"],["application/cu-seeme","cu"],["application/davmount+xml","davmount"],["application/drafting","drw"],["application/dsptype","tsp"],["application/dssc+der","dssc"],["application/dssc+xml","xdssc"],["application/dxf","dxf"],["application/ecmascript",["js","es"]],["application/emma+xml","emma"],["application/envoy","evy"],["application/epub+zip","epub"],["application/excel",["xls","xl","xla","xlb","xlc","xld","xlk","xll","xlm","xlt","xlv","xlw"]],["application/exi","exi"],["application/font-tdpfr","pfr"],["application/fractals","fif"],["application/freeloader","frl"],["application/futuresplash","spl"],["application/gnutar","tgz"],["application/groupwise","vew"],["application/hlp","hlp"],["application/hta","hta"],["application/hyperstudio","stk"],["application/i-deas","unv"],["application/iges",["iges","igs"]],["application/inf","inf"],["application/internet-property-stream","acx"],["application/ipfix","ipfix"],["application/java","class"],["application/java-archive","jar"],["application/java-byte-code","class"],["application/java-serialized-object","ser"],["application/java-vm","class"],["application/javascript","js"],["application/json","json"],["application/lha","lha"],["application/lzx","lzx"],["application/mac-binary","bin"],["application/mac-binhex","hqx"],["application/mac-binhex40","hqx"],["application/mac-compactpro","cpt"],["application/macbinary","bin"],["application/mads+xml","mads"],["application/marc","mrc"],["application/marcxml+xml","mrcx"],["application/mathematica","ma"],["application/mathml+xml","mathml"],["application/mbedlet","mbd"],["application/mbox","mbox"],["application/mcad","mcd"],["application/mediaservercontrol+xml","mscml"],["application/metalink4+xml","meta4"],["application/mets+xml","mets"],["application/mime","aps"],["application/mods+xml","mods"],["application/mp21","m21"],["application/mp4","mp4"],["application/mspowerpoint",["ppt","pot","pps","ppz"]],["application/msword",["doc","dot","w6w","wiz","word"]],["application/mswrite","wri"],["application/mxf","mxf"],["application/netmc","mcp"],["application/octet-stream",["*"]],["application/oda","oda"],["application/oebps-package+xml","opf"],["application/ogg","ogx"],["application/olescript","axs"],["application/onenote","onetoc"],["application/patch-ops-error+xml","xer"],["application/pdf","pdf"],["application/pgp-encrypted","asc"],["application/pgp-signature","pgp"],["application/pics-rules","prf"],["application/pkcs-12","p12"],["application/pkcs-crl","crl"],["application/pkcs10","p10"],["application/pkcs7-mime",["p7c","p7m"]],["application/pkcs7-signature","p7s"],["application/pkcs8","p8"],["application/pkix-attr-cert","ac"],["application/pkix-cert",["cer","crt"]],["application/pkix-crl","crl"],["application/pkix-pkipath","pkipath"],["application/pkixcmp","pki"],["application/plain","text"],["application/pls+xml","pls"],["application/postscript",["ps","ai","eps"]],["application/powerpoint","ppt"],["application/pro_eng",["part","prt"]],["application/prs.cww","cww"],["application/pskc+xml","pskcxml"],["application/rdf+xml","rdf"],["application/reginfo+xml","rif"],["application/relax-ng-compact-syntax","rnc"],["application/resource-lists+xml","rl"],["application/resource-lists-diff+xml","rld"],["application/ringing-tones","rng"],["application/rls-services+xml","rs"],["application/rsd+xml","rsd"],["application/rss+xml","xml"],["application/rtf",["rtf","rtx"]],["application/sbml+xml","sbml"],["application/scvp-cv-request","scq"],["application/scvp-cv-response","scs"],["application/scvp-vp-request","spq"],["application/scvp-vp-response","spp"],["application/sdp","sdp"],["application/sea","sea"],["application/set","set"],["application/set-payment-initiation","setpay"],["application/set-registration-initiation","setreg"],["application/shf+xml","shf"],["application/sla","stl"],["application/smil",["smi","smil"]],["application/smil+xml","smi"],["application/solids","sol"],["application/sounder","sdr"],["application/sparql-query","rq"],["application/sparql-results+xml","srx"],["application/srgs","gram"],["application/srgs+xml","grxml"],["application/sru+xml","sru"],["application/ssml+xml","ssml"],["application/step",["step","stp"]],["application/streamingmedia","ssm"],["application/tei+xml","tei"],["application/thraud+xml","tfi"],["application/timestamped-data","tsd"],["application/toolbook","tbk"],["application/vda","vda"],["application/vnd.3gpp.pic-bw-large","plb"],["application/vnd.3gpp.pic-bw-small","psb"],["application/vnd.3gpp.pic-bw-var","pvb"],["application/vnd.3gpp2.tcap","tcap"],["application/vnd.3m.post-it-notes","pwn"],["application/vnd.accpac.simply.aso","aso"],["application/vnd.accpac.simply.imp","imp"],["application/vnd.acucobol","acu"],["application/vnd.acucorp","atc"],["application/vnd.adobe.air-application-installer-package+zip","air"],["application/vnd.adobe.fxp","fxp"],["application/vnd.adobe.xdp+xml","xdp"],["application/vnd.adobe.xfdf","xfdf"],["application/vnd.ahead.space","ahead"],["application/vnd.airzip.filesecure.azf","azf"],["application/vnd.airzip.filesecure.azs","azs"],["application/vnd.amazon.ebook","azw"],["application/vnd.americandynamics.acc","acc"],["application/vnd.amiga.ami","ami"],["application/vnd.android.package-archive","apk"],["application/vnd.anser-web-certificate-issue-initiation","cii"],["application/vnd.anser-web-funds-transfer-initiation","fti"],["application/vnd.antix.game-component","atx"],["application/vnd.apple.installer+xml","mpkg"],["application/vnd.apple.mpegurl","m3u8"],["application/vnd.aristanetworks.swi","swi"],["application/vnd.audiograph","aep"],["application/vnd.blueice.multipass","mpm"],["application/vnd.bmi","bmi"],["application/vnd.businessobjects","rep"],["application/vnd.chemdraw+xml","cdxml"],["application/vnd.chipnuts.karaoke-mmd","mmd"],["application/vnd.cinderella","cdy"],["application/vnd.claymore","cla"],["application/vnd.cloanto.rp9","rp9"],["application/vnd.clonk.c4group","c4g"],["application/vnd.cluetrust.cartomobile-config","c11amc"],["application/vnd.cluetrust.cartomobile-config-pkg","c11amz"],["application/vnd.commonspace","csp"],["application/vnd.contact.cmsg","cdbcmsg"],["application/vnd.cosmocaller","cmc"],["application/vnd.crick.clicker","clkx"],["application/vnd.crick.clicker.keyboard","clkk"],["application/vnd.crick.clicker.palette","clkp"],["application/vnd.crick.clicker.template","clkt"],["application/vnd.crick.clicker.wordbank","clkw"],["application/vnd.criticaltools.wbs+xml","wbs"],["application/vnd.ctc-posml","pml"],["application/vnd.cups-ppd","ppd"],["application/vnd.curl.car","car"],["application/vnd.curl.pcurl","pcurl"],["application/vnd.data-vision.rdz","rdz"],["application/vnd.denovo.fcselayout-link","fe_launch"],["application/vnd.dna","dna"],["application/vnd.dolby.mlp","mlp"],["application/vnd.dpgraph","dpg"],["application/vnd.dreamfactory","dfac"],["application/vnd.dvb.ait","ait"],["application/vnd.dvb.service","svc"],["application/vnd.dynageo","geo"],["application/vnd.ecowin.chart","mag"],["application/vnd.enliven","nml"],["application/vnd.epson.esf","esf"],["application/vnd.epson.msf","msf"],["application/vnd.epson.quickanime","qam"],["application/vnd.epson.salt","slt"],["application/vnd.epson.ssf","ssf"],["application/vnd.eszigno3+xml","es3"],["application/vnd.ezpix-album","ez2"],["application/vnd.ezpix-package","ez3"],["application/vnd.fdf","fdf"],["application/vnd.fdsn.seed","seed"],["application/vnd.flographit","gph"],["application/vnd.fluxtime.clip","ftc"],["application/vnd.framemaker","fm"],["application/vnd.frogans.fnc","fnc"],["application/vnd.frogans.ltf","ltf"],["application/vnd.fsc.weblaunch","fsc"],["application/vnd.fujitsu.oasys","oas"],["application/vnd.fujitsu.oasys2","oa2"],["application/vnd.fujitsu.oasys3","oa3"],["application/vnd.fujitsu.oasysgp","fg5"],["application/vnd.fujitsu.oasysprs","bh2"],["application/vnd.fujixerox.ddd","ddd"],["application/vnd.fujixerox.docuworks","xdw"],["application/vnd.fujixerox.docuworks.binder","xbd"],["application/vnd.fuzzysheet","fzs"],["application/vnd.genomatix.tuxedo","txd"],["application/vnd.geogebra.file","ggb"],["application/vnd.geogebra.tool","ggt"],["application/vnd.geometry-explorer","gex"],["application/vnd.geonext","gxt"],["application/vnd.geoplan","g2w"],["application/vnd.geospace","g3w"],["application/vnd.gmx","gmx"],["application/vnd.google-earth.kml+xml","kml"],["application/vnd.google-earth.kmz","kmz"],["application/vnd.grafeq","gqf"],["application/vnd.groove-account","gac"],["application/vnd.groove-help","ghf"],["application/vnd.groove-identity-message","gim"],["application/vnd.groove-injector","grv"],["application/vnd.groove-tool-message","gtm"],["application/vnd.groove-tool-template","tpl"],["application/vnd.groove-vcard","vcg"],["application/vnd.hal+xml","hal"],["application/vnd.handheld-entertainment+xml","zmm"],["application/vnd.hbci","hbci"],["application/vnd.hhe.lesson-player","les"],["application/vnd.hp-hpgl",["hgl","hpg","hpgl"]],["application/vnd.hp-hpid","hpid"],["application/vnd.hp-hps","hps"],["application/vnd.hp-jlyt","jlt"],["application/vnd.hp-pcl","pcl"],["application/vnd.hp-pclxl","pclxl"],["application/vnd.hydrostatix.sof-data","sfd-hdstx"],["application/vnd.hzn-3d-crossword","x3d"],["application/vnd.ibm.minipay","mpy"],["application/vnd.ibm.modcap","afp"],["application/vnd.ibm.rights-management","irm"],["application/vnd.ibm.secure-container","sc"],["application/vnd.iccprofile","icc"],["application/vnd.igloader","igl"],["application/vnd.immervision-ivp","ivp"],["application/vnd.immervision-ivu","ivu"],["application/vnd.insors.igm","igm"],["application/vnd.intercon.formnet","xpw"],["application/vnd.intergeo","i2g"],["application/vnd.intu.qbo","qbo"],["application/vnd.intu.qfx","qfx"],["application/vnd.ipunplugged.rcprofile","rcprofile"],["application/vnd.irepository.package+xml","irp"],["application/vnd.is-xpr","xpr"],["application/vnd.isac.fcs","fcs"],["application/vnd.jam","jam"],["application/vnd.jcp.javame.midlet-rms","rms"],["application/vnd.jisp","jisp"],["application/vnd.joost.joda-archive","joda"],["application/vnd.kahootz","ktz"],["application/vnd.kde.karbon","karbon"],["application/vnd.kde.kchart","chrt"],["application/vnd.kde.kformula","kfo"],["application/vnd.kde.kivio","flw"],["application/vnd.kde.kontour","kon"],["application/vnd.kde.kpresenter","kpr"],["application/vnd.kde.kspread","ksp"],["application/vnd.kde.kword","kwd"],["application/vnd.kenameaapp","htke"],["application/vnd.kidspiration","kia"],["application/vnd.kinar","kne"],["application/vnd.koan","skp"],["application/vnd.kodak-descriptor","sse"],["application/vnd.las.las+xml","lasxml"],["application/vnd.llamagraphics.life-balance.desktop","lbd"],["application/vnd.llamagraphics.life-balance.exchange+xml","lbe"],["application/vnd.lotus-1-2-3","123"],["application/vnd.lotus-approach","apr"],["application/vnd.lotus-freelance","pre"],["application/vnd.lotus-notes","nsf"],["application/vnd.lotus-organizer","org"],["application/vnd.lotus-screencam","scm"],["application/vnd.lotus-wordpro","lwp"],["application/vnd.macports.portpkg","portpkg"],["application/vnd.mcd","mcd"],["application/vnd.medcalcdata","mc1"],["application/vnd.mediastation.cdkey","cdkey"],["application/vnd.mfer","mwf"],["application/vnd.mfmp","mfm"],["application/vnd.micrografx.flo","flo"],["application/vnd.micrografx.igx","igx"],["application/vnd.mif","mif"],["application/vnd.mobius.daf","daf"],["application/vnd.mobius.dis","dis"],["application/vnd.mobius.mbk","mbk"],["application/vnd.mobius.mqy","mqy"],["application/vnd.mobius.msl","msl"],["application/vnd.mobius.plc","plc"],["application/vnd.mobius.txf","txf"],["application/vnd.mophun.application","mpn"],["application/vnd.mophun.certificate","mpc"],["application/vnd.mozilla.xul+xml","xul"],["application/vnd.ms-artgalry","cil"],["application/vnd.ms-cab-compressed","cab"],["application/vnd.ms-excel",["xls","xla","xlc","xlm","xlt","xlw","xlb","xll"]],["application/vnd.ms-excel.addin.macroenabled.12","xlam"],["application/vnd.ms-excel.sheet.binary.macroenabled.12","xlsb"],["application/vnd.ms-excel.sheet.macroenabled.12","xlsm"],["application/vnd.ms-excel.template.macroenabled.12","xltm"],["application/vnd.ms-fontobject","eot"],["application/vnd.ms-htmlhelp","chm"],["application/vnd.ms-ims","ims"],["application/vnd.ms-lrm","lrm"],["application/vnd.ms-officetheme","thmx"],["application/vnd.ms-outlook","msg"],["application/vnd.ms-pki.certstore","sst"],["application/vnd.ms-pki.pko","pko"],["application/vnd.ms-pki.seccat","cat"],["application/vnd.ms-pki.stl","stl"],["application/vnd.ms-pkicertstore","sst"],["application/vnd.ms-pkiseccat","cat"],["application/vnd.ms-pkistl","stl"],["application/vnd.ms-powerpoint",["ppt","pot","pps","ppa","pwz"]],["application/vnd.ms-powerpoint.addin.macroenabled.12","ppam"],["application/vnd.ms-powerpoint.presentation.macroenabled.12","pptm"],["application/vnd.ms-powerpoint.slide.macroenabled.12","sldm"],["application/vnd.ms-powerpoint.slideshow.macroenabled.12","ppsm"],["application/vnd.ms-powerpoint.template.macroenabled.12","potm"],["application/vnd.ms-project","mpp"],["application/vnd.ms-word.document.macroenabled.12","docm"],["application/vnd.ms-word.template.macroenabled.12","dotm"],["application/vnd.ms-works",["wks","wcm","wdb","wps"]],["application/vnd.ms-wpl","wpl"],["application/vnd.ms-xpsdocument","xps"],["application/vnd.mseq","mseq"],["application/vnd.musician","mus"],["application/vnd.muvee.style","msty"],["application/vnd.neurolanguage.nlu","nlu"],["application/vnd.noblenet-directory","nnd"],["application/vnd.noblenet-sealer","nns"],["application/vnd.noblenet-web","nnw"],["application/vnd.nokia.configuration-message","ncm"],["application/vnd.nokia.n-gage.data","ngdat"],["application/vnd.nokia.n-gage.symbian.install","n-gage"],["application/vnd.nokia.radio-preset","rpst"],["application/vnd.nokia.radio-presets","rpss"],["application/vnd.nokia.ringing-tone","rng"],["application/vnd.novadigm.edm","edm"],["application/vnd.novadigm.edx","edx"],["application/vnd.novadigm.ext","ext"],["application/vnd.oasis.opendocument.chart","odc"],["application/vnd.oasis.opendocument.chart-template","otc"],["application/vnd.oasis.opendocument.database","odb"],["application/vnd.oasis.opendocument.formula","odf"],["application/vnd.oasis.opendocument.formula-template","odft"],["application/vnd.oasis.opendocument.graphics","odg"],["application/vnd.oasis.opendocument.graphics-template","otg"],["application/vnd.oasis.opendocument.image","odi"],["application/vnd.oasis.opendocument.image-template","oti"],["application/vnd.oasis.opendocument.presentation","odp"],["application/vnd.oasis.opendocument.presentation-template","otp"],["application/vnd.oasis.opendocument.spreadsheet","ods"],["application/vnd.oasis.opendocument.spreadsheet-template","ots"],["application/vnd.oasis.opendocument.text","odt"],["application/vnd.oasis.opendocument.text-master","odm"],["application/vnd.oasis.opendocument.text-template","ott"],["application/vnd.oasis.opendocument.text-web","oth"],["application/vnd.olpc-sugar","xo"],["application/vnd.oma.dd2+xml","dd2"],["application/vnd.openofficeorg.extension","oxt"],["application/vnd.openxmlformats-officedocument.presentationml.presentation","pptx"],["application/vnd.openxmlformats-officedocument.presentationml.slide","sldx"],["application/vnd.openxmlformats-officedocument.presentationml.slideshow","ppsx"],["application/vnd.openxmlformats-officedocument.presentationml.template","potx"],["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","xlsx"],["application/vnd.openxmlformats-officedocument.spreadsheetml.template","xltx"],["application/vnd.openxmlformats-officedocument.wordprocessingml.document","docx"],["application/vnd.openxmlformats-officedocument.wordprocessingml.template","dotx"],["application/vnd.osgeo.mapguide.package","mgp"],["application/vnd.osgi.dp","dp"],["application/vnd.palm","pdb"],["application/vnd.pawaafile","paw"],["application/vnd.pg.format","str"],["application/vnd.pg.osasli","ei6"],["application/vnd.picsel","efif"],["application/vnd.pmi.widget","wg"],["application/vnd.pocketlearn","plf"],["application/vnd.powerbuilder6","pbd"],["application/vnd.previewsystems.box","box"],["application/vnd.proteus.magazine","mgz"],["application/vnd.publishare-delta-tree","qps"],["application/vnd.pvi.ptid1","ptid"],["application/vnd.quark.quarkxpress","qxd"],["application/vnd.realvnc.bed","bed"],["application/vnd.recordare.musicxml","mxl"],["application/vnd.recordare.musicxml+xml","musicxml"],["application/vnd.rig.cryptonote","cryptonote"],["application/vnd.rim.cod","cod"],["application/vnd.rn-realmedia","rm"],["application/vnd.rn-realplayer","rnx"],["application/vnd.route66.link66+xml","link66"],["application/vnd.sailingtracker.track","st"],["application/vnd.seemail","see"],["application/vnd.sema","sema"],["application/vnd.semd","semd"],["application/vnd.semf","semf"],["application/vnd.shana.informed.formdata","ifm"],["application/vnd.shana.informed.formtemplate","itp"],["application/vnd.shana.informed.interchange","iif"],["application/vnd.shana.informed.package","ipk"],["application/vnd.simtech-mindmapper","twd"],["application/vnd.smaf","mmf"],["application/vnd.smart.teacher","teacher"],["application/vnd.solent.sdkm+xml","sdkm"],["application/vnd.spotfire.dxp","dxp"],["application/vnd.spotfire.sfs","sfs"],["application/vnd.stardivision.calc","sdc"],["application/vnd.stardivision.draw","sda"],["application/vnd.stardivision.impress","sdd"],["application/vnd.stardivision.math","smf"],["application/vnd.stardivision.writer","sdw"],["application/vnd.stardivision.writer-global","sgl"],["application/vnd.stepmania.stepchart","sm"],["application/vnd.sun.xml.calc","sxc"],["application/vnd.sun.xml.calc.template","stc"],["application/vnd.sun.xml.draw","sxd"],["application/vnd.sun.xml.draw.template","std"],["application/vnd.sun.xml.impress","sxi"],["application/vnd.sun.xml.impress.template","sti"],["application/vnd.sun.xml.math","sxm"],["application/vnd.sun.xml.writer","sxw"],["application/vnd.sun.xml.writer.global","sxg"],["application/vnd.sun.xml.writer.template","stw"],["application/vnd.sus-calendar","sus"],["application/vnd.svd","svd"],["application/vnd.symbian.install","sis"],["application/vnd.syncml+xml","xsm"],["application/vnd.syncml.dm+wbxml","bdm"],["application/vnd.syncml.dm+xml","xdm"],["application/vnd.tao.intent-module-archive","tao"],["application/vnd.tmobile-livetv","tmo"],["application/vnd.trid.tpt","tpt"],["application/vnd.triscape.mxs","mxs"],["application/vnd.trueapp","tra"],["application/vnd.ufdl","ufd"],["application/vnd.uiq.theme","utz"],["application/vnd.umajin","umj"],["application/vnd.unity","unityweb"],["application/vnd.uoml+xml","uoml"],["application/vnd.vcx","vcx"],["application/vnd.visio","vsd"],["application/vnd.visionary","vis"],["application/vnd.vsf","vsf"],["application/vnd.wap.wbxml","wbxml"],["application/vnd.wap.wmlc","wmlc"],["application/vnd.wap.wmlscriptc","wmlsc"],["application/vnd.webturbo","wtb"],["application/vnd.wolfram.player","nbp"],["application/vnd.wordperfect","wpd"],["application/vnd.wqd","wqd"],["application/vnd.wt.stf","stf"],["application/vnd.xara",["web","xar"]],["application/vnd.xfdl","xfdl"],["application/vnd.yamaha.hv-dic","hvd"],["application/vnd.yamaha.hv-script","hvs"],["application/vnd.yamaha.hv-voice","hvp"],["application/vnd.yamaha.openscoreformat","osf"],["application/vnd.yamaha.openscoreformat.osfpvg+xml","osfpvg"],["application/vnd.yamaha.smaf-audio","saf"],["application/vnd.yamaha.smaf-phrase","spf"],["application/vnd.yellowriver-custom-menu","cmp"],["application/vnd.zul","zir"],["application/vnd.zzazz.deck+xml","zaz"],["application/vocaltec-media-desc","vmd"],["application/vocaltec-media-file","vmf"],["application/voicexml+xml","vxml"],["application/widget","wgt"],["application/winhlp","hlp"],["application/wordperfect",["wp","wp5","wp6","wpd"]],["application/wordperfect6.0",["w60","wp5"]],["application/wordperfect6.1","w61"],["application/wsdl+xml","wsdl"],["application/wspolicy+xml","wspolicy"],["application/x-123","wk1"],["application/x-7z-compressed","7z"],["application/x-abiword","abw"],["application/x-ace-compressed","ace"],["application/x-aim","aim"],["application/x-authorware-bin","aab"],["application/x-authorware-map","aam"],["application/x-authorware-seg","aas"],["application/x-bcpio","bcpio"],["application/x-binary","bin"],["application/x-binhex40","hqx"],["application/x-bittorrent","torrent"],["application/x-bsh",["bsh","sh","shar"]],["application/x-bytecode.elisp","elc"],["application/x-bytecode.python","pyc"],["application/x-bzip","bz"],["application/x-bzip2",["boz","bz2"]],["application/x-cdf","cdf"],["application/x-cdlink","vcd"],["application/x-chat",["cha","chat"]],["application/x-chess-pgn","pgn"],["application/x-cmu-raster","ras"],["application/x-cocoa","cco"],["application/x-compactpro","cpt"],["application/x-compress","z"],["application/x-compressed",["tgz","gz","z","zip"]],["application/x-conference","nsc"],["application/x-cpio","cpio"],["application/x-cpt","cpt"],["application/x-csh","csh"],["application/x-debian-package","deb"],["application/x-deepv","deepv"],["application/x-director",["dir","dcr","dxr"]],["application/x-doom","wad"],["application/x-dtbncx+xml","ncx"],["application/x-dtbook+xml","dtb"],["application/x-dtbresource+xml","res"],["application/x-dvi","dvi"],["application/x-elc","elc"],["application/x-envoy",["env","evy"]],["application/x-esrehber","es"],["application/x-excel",["xls","xla","xlb","xlc","xld","xlk","xll","xlm","xlt","xlv","xlw"]],["application/x-font-bdf","bdf"],["application/x-font-ghostscript","gsf"],["application/x-font-linux-psf","psf"],["application/x-font-otf","otf"],["application/x-font-pcf","pcf"],["application/x-font-snf","snf"],["application/x-font-ttf","ttf"],["application/x-font-type1","pfa"],["application/x-font-woff","woff"],["application/x-frame","mif"],["application/x-freelance","pre"],["application/x-futuresplash","spl"],["application/x-gnumeric","gnumeric"],["application/x-gsp","gsp"],["application/x-gss","gss"],["application/x-gtar","gtar"],["application/x-gzip",["gz","gzip"]],["application/x-hdf","hdf"],["application/x-helpfile",["help","hlp"]],["application/x-httpd-imap","imap"],["application/x-ima","ima"],["application/x-internet-signup",["ins","isp"]],["application/x-internett-signup","ins"],["application/x-inventor","iv"],["application/x-ip2","ip"],["application/x-iphone","iii"],["application/x-java-class","class"],["application/x-java-commerce","jcm"],["application/x-java-jnlp-file","jnlp"],["application/x-javascript","js"],["application/x-koan",["skd","skm","skp","skt"]],["application/x-ksh","ksh"],["application/x-latex",["latex","ltx"]],["application/x-lha","lha"],["application/x-lisp","lsp"],["application/x-livescreen","ivy"],["application/x-lotus","wq1"],["application/x-lotusscreencam","scm"],["application/x-lzh","lzh"],["application/x-lzx","lzx"],["application/x-mac-binhex40","hqx"],["application/x-macbinary","bin"],["application/x-magic-cap-package-1.0","mc$"],["application/x-mathcad","mcd"],["application/x-meme","mm"],["application/x-midi",["mid","midi"]],["application/x-mif","mif"],["application/x-mix-transfer","nix"],["application/x-mobipocket-ebook","prc"],["application/x-mplayer2","asx"],["application/x-ms-application","application"],["application/x-ms-wmd","wmd"],["application/x-ms-wmz","wmz"],["application/x-ms-xbap","xbap"],["application/x-msaccess","mdb"],["application/x-msbinder","obd"],["application/x-mscardfile","crd"],["application/x-msclip","clp"],["application/x-msdownload",["exe","dll"]],["application/x-msexcel",["xls","xla","xlw"]],["application/x-msmediaview",["mvb","m13","m14"]],["application/x-msmetafile","wmf"],["application/x-msmoney","mny"],["application/x-mspowerpoint","ppt"],["application/x-mspublisher","pub"],["application/x-msschedule","scd"],["application/x-msterminal","trm"],["application/x-mswrite","wri"],["application/x-navi-animation","ani"],["application/x-navidoc","nvd"],["application/x-navimap","map"],["application/x-navistyle","stl"],["application/x-netcdf",["cdf","nc"]],["application/x-newton-compatible-pkg","pkg"],["application/x-nokia-9000-communicator-add-on-software","aos"],["application/x-omc","omc"],["application/x-omcdatamaker","omcd"],["application/x-omcregerator","omcr"],["application/x-pagemaker",["pm4","pm5"]],["application/x-pcl","pcl"],["application/x-perfmon",["pma","pmc","pml","pmr","pmw"]],["application/x-pixclscript","plx"],["application/x-pkcs10","p10"],["application/x-pkcs12",["p12","pfx"]],["application/x-pkcs7-certificates",["p7b","spc"]],["application/x-pkcs7-certreqresp","p7r"],["application/x-pkcs7-mime",["p7m","p7c"]],["application/x-pkcs7-signature",["p7s","p7a"]],["application/x-pointplus","css"],["application/x-portable-anymap","pnm"],["application/x-project",["mpc","mpt","mpv","mpx"]],["application/x-qpro","wb1"],["application/x-rar-compressed","rar"],["application/x-rtf","rtf"],["application/x-sdp","sdp"],["application/x-sea","sea"],["application/x-seelogo","sl"],["application/x-sh","sh"],["application/x-shar",["shar","sh"]],["application/x-shockwave-flash","swf"],["application/x-silverlight-app","xap"],["application/x-sit","sit"],["application/x-sprite",["spr","sprite"]],["application/x-stuffit","sit"],["application/x-stuffitx","sitx"],["application/x-sv4cpio","sv4cpio"],["application/x-sv4crc","sv4crc"],["application/x-tar","tar"],["application/x-tbook",["sbk","tbk"]],["application/x-tcl","tcl"],["application/x-tex","tex"],["application/x-tex-tfm","tfm"],["application/x-texinfo",["texi","texinfo"]],["application/x-troff",["roff","t","tr"]],["application/x-troff-man","man"],["application/x-troff-me","me"],["application/x-troff-ms","ms"],["application/x-troff-msvideo","avi"],["application/x-ustar","ustar"],["application/x-visio",["vsd","vst","vsw"]],["application/x-vnd.audioexplosion.mzz","mzz"],["application/x-vnd.ls-xpix","xpix"],["application/x-vrml","vrml"],["application/x-wais-source",["src","wsrc"]],["application/x-winhelp","hlp"],["application/x-wintalk","wtk"],["application/x-world",["wrl","svr"]],["application/x-wpwin","wpd"],["application/x-wri","wri"],["application/x-x509-ca-cert",["cer","crt","der"]],["application/x-x509-user-cert","crt"],["application/x-xfig","fig"],["application/x-xpinstall","xpi"],["application/x-zip-compressed","zip"],["application/xcap-diff+xml","xdf"],["application/xenc+xml","xenc"],["application/xhtml+xml","xhtml"],["application/xml","xml"],["application/xml-dtd","dtd"],["application/xop+xml","xop"],["application/xslt+xml","xslt"],["application/xspf+xml","xspf"],["application/xv+xml","mxml"],["application/yang","yang"],["application/yin+xml","yin"],["application/ynd.ms-pkipko","pko"],["application/zip","zip"],["audio/adpcm","adp"],["audio/aiff",["aiff","aif","aifc"]],["audio/basic",["snd","au"]],["audio/it","it"],["audio/make",["funk","my","pfunk"]],["audio/make.my.funk","pfunk"],["audio/mid",["mid","rmi"]],["audio/midi",["midi","kar","mid"]],["audio/mod","mod"],["audio/mp4","mp4a"],["audio/mpeg",["mpga","mp3","m2a","mp2","mpa","mpg"]],["audio/mpeg3","mp3"],["audio/nspaudio",["la","lma"]],["audio/ogg","oga"],["audio/s3m","s3m"],["audio/tsp-audio","tsi"],["audio/tsplayer","tsp"],["audio/vnd.dece.audio","uva"],["audio/vnd.digital-winds","eol"],["audio/vnd.dra","dra"],["audio/vnd.dts","dts"],["audio/vnd.dts.hd","dtshd"],["audio/vnd.lucent.voice","lvp"],["audio/vnd.ms-playready.media.pya","pya"],["audio/vnd.nuera.ecelp4800","ecelp4800"],["audio/vnd.nuera.ecelp7470","ecelp7470"],["audio/vnd.nuera.ecelp9600","ecelp9600"],["audio/vnd.qcelp","qcp"],["audio/vnd.rip","rip"],["audio/voc","voc"],["audio/voxware","vox"],["audio/wav","wav"],["audio/webm","weba"],["audio/x-aac","aac"],["audio/x-adpcm","snd"],["audio/x-aiff",["aiff","aif","aifc"]],["audio/x-au","au"],["audio/x-gsm",["gsd","gsm"]],["audio/x-jam","jam"],["audio/x-liveaudio","lam"],["audio/x-mid",["mid","midi"]],["audio/x-midi",["midi","mid"]],["audio/x-mod","mod"],["audio/x-mpeg","mp2"],["audio/x-mpeg-3","mp3"],["audio/x-mpegurl","m3u"],["audio/x-mpequrl","m3u"],["audio/x-ms-wax","wax"],["audio/x-ms-wma","wma"],["audio/x-nspaudio",["la","lma"]],["audio/x-pn-realaudio",["ra","ram","rm","rmm","rmp"]],["audio/x-pn-realaudio-plugin",["ra","rmp","rpm"]],["audio/x-psid","sid"],["audio/x-realaudio","ra"],["audio/x-twinvq","vqf"],["audio/x-twinvq-plugin",["vqe","vql"]],["audio/x-vnd.audioexplosion.mjuicemediafile","mjf"],["audio/x-voc","voc"],["audio/x-wav","wav"],["audio/xm","xm"],["chemical/x-cdx","cdx"],["chemical/x-cif","cif"],["chemical/x-cmdf","cmdf"],["chemical/x-cml","cml"],["chemical/x-csml","csml"],["chemical/x-pdb",["pdb","xyz"]],["chemical/x-xyz","xyz"],["drawing/x-dwf","dwf"],["i-world/i-vrml","ivr"],["image/bmp",["bmp","bm"]],["image/cgm","cgm"],["image/cis-cod","cod"],["image/cmu-raster",["ras","rast"]],["image/fif","fif"],["image/florian",["flo","turbot"]],["image/g3fax","g3"],["image/gif","gif"],["image/ief",["ief","iefs"]],["image/jpeg",["jpeg","jpe","jpg","jfif","jfif-tbnl"]],["image/jutvision","jut"],["image/ktx","ktx"],["image/naplps",["nap","naplps"]],["image/pict",["pic","pict"]],["image/pipeg","jfif"],["image/pjpeg",["jfif","jpe","jpeg","jpg"]],["image/png",["png","x-png"]],["image/prs.btif","btif"],["image/svg+xml","svg"],["image/tiff",["tif","tiff"]],["image/vasa","mcf"],["image/vnd.adobe.photoshop","psd"],["image/vnd.dece.graphic","uvi"],["image/vnd.djvu","djvu"],["image/vnd.dvb.subtitle","sub"],["image/vnd.dwg",["dwg","dxf","svf"]],["image/vnd.dxf","dxf"],["image/vnd.fastbidsheet","fbs"],["image/vnd.fpx","fpx"],["image/vnd.fst","fst"],["image/vnd.fujixerox.edmics-mmr","mmr"],["image/vnd.fujixerox.edmics-rlc","rlc"],["image/vnd.ms-modi","mdi"],["image/vnd.net-fpx",["fpx","npx"]],["image/vnd.rn-realflash","rf"],["image/vnd.rn-realpix","rp"],["image/vnd.wap.wbmp","wbmp"],["image/vnd.xiff","xif"],["image/webp","webp"],["image/x-cmu-raster","ras"],["image/x-cmx","cmx"],["image/x-dwg",["dwg","dxf","svf"]],["image/x-freehand","fh"],["image/x-icon","ico"],["image/x-jg","art"],["image/x-jps","jps"],["image/x-niff",["niff","nif"]],["image/x-pcx","pcx"],["image/x-pict",["pct","pic"]],["image/x-portable-anymap","pnm"],["image/x-portable-bitmap","pbm"],["image/x-portable-graymap","pgm"],["image/x-portable-greymap","pgm"],["image/x-portable-pixmap","ppm"],["image/x-quicktime",["qif","qti","qtif"]],["image/x-rgb","rgb"],["image/x-tiff",["tif","tiff"]],["image/x-windows-bmp","bmp"],["image/x-xbitmap","xbm"],["image/x-xbm","xbm"],["image/x-xpixmap",["xpm","pm"]],["image/x-xwd","xwd"],["image/x-xwindowdump","xwd"],["image/xbm","xbm"],["image/xpm","xpm"],["message/rfc822",["eml","mht","mhtml","nws","mime"]],["model/iges",["iges","igs"]],["model/mesh","msh"],["model/vnd.collada+xml","dae"],["model/vnd.dwf","dwf"],["model/vnd.gdl","gdl"],["model/vnd.gtw","gtw"],["model/vnd.mts","mts"],["model/vnd.vtu","vtu"],["model/vrml",["vrml","wrl","wrz"]],["model/x-pov","pov"],["multipart/x-gzip","gzip"],["multipart/x-ustar","ustar"],["multipart/x-zip","zip"],["music/crescendo",["mid","midi"]],["music/x-karaoke","kar"],["paleovu/x-pv","pvu"],["text/asp","asp"],["text/calendar","ics"],["text/css","css"],["text/csv","csv"],["text/ecmascript","js"],["text/h323","323"],["text/html",["html","htm","stm","acgi","htmls","htx","shtml"]],["text/iuls","uls"],["text/javascript","js"],["text/mcf","mcf"],["text/n3","n3"],["text/pascal","pas"],["text/plain",["txt","bas","c","h","c++","cc","com","conf","cxx","def","f","f90","for","g","hh","idc","jav","java","list","log","lst","m","mar","pl","sdml","text"]],["text/plain-bas","par"],["text/prs.lines.tag","dsc"],["text/richtext",["rtx","rt","rtf"]],["text/scriplet","wsc"],["text/scriptlet","sct"],["text/sgml",["sgm","sgml"]],["text/tab-separated-values","tsv"],["text/troff","t"],["text/turtle","ttl"],["text/uri-list",["uni","unis","uri","uris"]],["text/vnd.abc","abc"],["text/vnd.curl","curl"],["text/vnd.curl.dcurl","dcurl"],["text/vnd.curl.mcurl","mcurl"],["text/vnd.curl.scurl","scurl"],["text/vnd.fly","fly"],["text/vnd.fmi.flexstor","flx"],["text/vnd.graphviz","gv"],["text/vnd.in3d.3dml","3dml"],["text/vnd.in3d.spot","spot"],["text/vnd.rn-realtext","rt"],["text/vnd.sun.j2me.app-descriptor","jad"],["text/vnd.wap.wml","wml"],["text/vnd.wap.wmlscript","wmls"],["text/webviewhtml","htt"],["text/x-asm",["asm","s"]],["text/x-audiosoft-intra","aip"],["text/x-c",["c","cc","cpp"]],["text/x-component","htc"],["text/x-fortran",["for","f","f77","f90"]],["text/x-h",["h","hh"]],["text/x-java-source",["java","jav"]],["text/x-java-source,java","java"],["text/x-la-asf","lsx"],["text/x-m","m"],["text/x-pascal","p"],["text/x-script","hlb"],["text/x-script.csh","csh"],["text/x-script.elisp","el"],["text/x-script.guile","scm"],["text/x-script.ksh","ksh"],["text/x-script.lisp","lsp"],["text/x-script.perl","pl"],["text/x-script.perl-module","pm"],["text/x-script.phyton","py"],["text/x-script.rexx","rexx"],["text/x-script.scheme","scm"],["text/x-script.sh","sh"],["text/x-script.tcl","tcl"],["text/x-script.tcsh","tcsh"],["text/x-script.zsh","zsh"],["text/x-server-parsed-html",["shtml","ssi"]],["text/x-setext","etx"],["text/x-sgml",["sgm","sgml"]],["text/x-speech",["spc","talk"]],["text/x-uil","uil"],["text/x-uuencode",["uu","uue"]],["text/x-vcalendar","vcs"],["text/x-vcard","vcf"],["text/xml","xml"],["video/3gpp","3gp"],["video/3gpp2","3g2"],["video/animaflex","afl"],["video/avi","avi"],["video/avs-video","avs"],["video/dl","dl"],["video/fli","fli"],["video/gl","gl"],["video/h261","h261"],["video/h263","h263"],["video/h264","h264"],["video/jpeg","jpgv"],["video/jpm","jpm"],["video/mj2","mj2"],["video/mp4","mp4"],["video/mpeg",["mpeg","mp2","mpa","mpe","mpg","mpv2","m1v","m2v","mp3"]],["video/msvideo","avi"],["video/ogg","ogv"],["video/quicktime",["mov","qt","moov"]],["video/vdo","vdo"],["video/vivo",["viv","vivo"]],["video/vnd.dece.hd","uvh"],["video/vnd.dece.mobile","uvm"],["video/vnd.dece.pd","uvp"],["video/vnd.dece.sd","uvs"],["video/vnd.dece.video","uvv"],["video/vnd.fvt","fvt"],["video/vnd.mpegurl","mxu"],["video/vnd.ms-playready.media.pyv","pyv"],["video/vnd.rn-realvideo","rv"],["video/vnd.uvvu.mp4","uvu"],["video/vnd.vivo",["viv","vivo"]],["video/vosaic","vos"],["video/webm","webm"],["video/x-amt-demorun","xdr"],["video/x-amt-showrun","xsr"],["video/x-atomic3d-feature","fmf"],["video/x-dl","dl"],["video/x-dv",["dif","dv"]],["video/x-f4v","f4v"],["video/x-fli","fli"],["video/x-flv","flv"],["video/x-gl","gl"],["video/x-isvideo","isu"],["video/x-la-asf",["lsf","lsx"]],["video/x-m4v","m4v"],["video/x-motion-jpeg","mjpg"],["video/x-mpeg",["mp3","mp2"]],["video/x-mpeq2a","mp2"],["video/x-ms-asf",["asf","asr","asx"]],["video/x-ms-asf-plugin","asx"],["video/x-ms-wm","wm"],["video/x-ms-wmv","wmv"],["video/x-ms-wmx","wmx"],["video/x-ms-wvx","wvx"],["video/x-msvideo","avi"],["video/x-qtc","qtc"],["video/x-scm","scm"],["video/x-sgi-movie",["movie","mv"]],["windows/metafile","wmf"],["www/mime","mime"],["x-conference/x-cooltalk","ice"],["x-music/x-midi",["mid","midi"]],["x-world/x-3dmf",["3dm","3dmf","qd3","qd3d"]],["x-world/x-svr","svr"],["x-world/x-vrml",["flr","vrml","wrl","wrz","xaf","xof"]],["x-world/x-vrt","vrt"],["xgl/drawing","xgz"],["xgl/movie","xmz"]]),bA=new Map([["123","application/vnd.lotus-1-2-3"],["323","text/h323"],["*","application/octet-stream"],["3dm","x-world/x-3dmf"],["3dmf","x-world/x-3dmf"],["3dml","text/vnd.in3d.3dml"],["3g2","video/3gpp2"],["3gp","video/3gpp"],["7z","application/x-7z-compressed"],["a","application/octet-stream"],["aab","application/x-authorware-bin"],["aac","audio/x-aac"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abc","text/vnd.abc"],["abw","application/x-abiword"],["ac","application/pkix-attr-cert"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acgi","text/html"],["acu","application/vnd.acucobol"],["acx","application/internet-property-stream"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afl","video/animaflex"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/postscript"],["aif",["audio/aiff","audio/x-aiff"]],["aifc",["audio/aiff","audio/x-aiff"]],["aiff",["audio/aiff","audio/x-aiff"]],["aim","application/x-aim"],["aip","text/x-audiosoft-intra"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["ani","application/x-navi-animation"],["aos","application/x-nokia-9000-communicator-add-on-software"],["apk","application/vnd.android.package-archive"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["aps","application/mime"],["arc","application/octet-stream"],["arj",["application/arj","application/octet-stream"]],["art","image/x-jg"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asp","text/asp"],["asr","video/x-ms-asf"],["asx",["video/x-ms-asf","application/x-mplayer2","video/x-ms-asf-plugin"]],["atc","application/vnd.acucorp"],["atomcat","application/atomcat+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au",["audio/basic","audio/x-au"]],["avi",["video/avi","video/msvideo","application/x-troff-msvideo","video/x-msvideo"]],["avs","video/avs-video"],["aw","application/applixware"],["axs","application/olescript"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azw","application/vnd.amazon.ebook"],["bas","text/plain"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin",["application/octet-stream","application/mac-binary","application/macbinary","application/x-macbinary","application/x-binary"]],["bm","image/bmp"],["bmi","application/vnd.bmi"],["bmp",["image/bmp","image/x-windows-bmp"]],["boo","application/book"],["book","application/book"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bsh","application/x-bsh"],["btif","image/prs.btif"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c",["text/plain","text/x-c"]],["c++","text/plain"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["c4g","application/vnd.clonk.c4group"],["cab","application/vnd.ms-cab-compressed"],["car","application/vnd.curl.car"],["cat",["application/vnd.ms-pkiseccat","application/vnd.ms-pki.seccat"]],["cc",["text/plain","text/x-c"]],["ccad","application/clariscad"],["cco","application/x-cocoa"],["ccxml","application/ccxml+xml,"],["cdbcmsg","application/vnd.contact.cmsg"],["cdf",["application/cdf","application/x-cdf","application/x-netcdf"]],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer",["application/pkix-cert","application/x-x509-ca-cert"]],["cgm","image/cgm"],["cha","application/x-chat"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cla","application/vnd.claymore"],["class",["application/octet-stream","application/java","application/java-byte-code","application/java-vm","application/x-java-class"]],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod",["image/cis-cod","application/vnd.rim.cod"]],["com",["application/octet-stream","text/plain"]],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt",["application/mac-compactpro","application/x-compactpro","application/x-cpt"]],["crd","application/x-mscardfile"],["crl",["application/pkix-crl","application/pkcs-crl"]],["crt",["application/pkix-cert","application/x-x509-user-cert","application/x-x509-ca-cert"]],["cryptonote","application/vnd.rig.cryptonote"],["csh",["text/x-script.csh","application/x-csh"]],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["css",["text/css","application/x-pointplus"]],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxx","text/plain"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["davmount","application/davmount+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["deb","application/x-debian-package"],["deepv","application/x-deepv"],["def","text/plain"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dif","video/x-dv"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["djvu","image/vnd.djvu"],["dl",["video/dl","video/x-dl"]],["dll","application/x-msdownload"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.document.macroenabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroenabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp",["application/commonground","application/vnd.osgi.dp"]],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drw","application/drafting"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dv","video/x-dv"],["dvi","application/x-dvi"],["dwf",["model/vnd.dwf","drawing/x-dwf"]],["dwg",["application/acad","image/vnd.dwg","image/x-dwg"]],["dxf",["application/dxf","image/vnd.dwg","image/vnd.dxf","image/x-dwg"]],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["el","text/x-script.elisp"],["elc",["application/x-elc","application/x-bytecode.elisp"]],["eml","message/rfc822"],["emma","application/emma+xml"],["env","application/x-envoy"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es",["application/ecmascript","application/x-esrehber"]],["es3","application/vnd.eszigno3+xml"],["esf","application/vnd.epson.esf"],["etx","text/x-setext"],["evy",["application/envoy","application/x-envoy"]],["exe",["application/octet-stream","application/x-msdownload"]],["exi","application/exi"],["ext","application/vnd.novadigm.ext"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f",["text/plain","text/x-fortran"]],["f4v","video/x-f4v"],["f77","text/x-fortran"],["f90",["text/plain","text/x-fortran"]],["fbs","image/vnd.fastbidsheet"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fh","image/x-freehand"],["fif",["application/fractals","image/fif"]],["fig","application/x-xfig"],["fli",["video/fli","video/x-fli"]],["flo",["image/florian","application/vnd.micrografx.flo"]],["flr","x-world/x-vrml"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fmf","video/x-atomic3d-feature"],["fnc","application/vnd.frogans.fnc"],["for",["text/plain","text/x-fortran"]],["fpx",["image/vnd.fpx","image/vnd.net-fpx"]],["frl","application/freeloader"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["funk","audio/make"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g","text/plain"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gdl","model/vnd.gdl"],["geo","application/vnd.dynageo"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["gl",["video/gl","video/x-gl"]],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gph","application/vnd.flographit"],["gqf","application/vnd.grafeq"],["gram","application/srgs"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsd","audio/x-gsm"],["gsf","application/x-font-ghostscript"],["gsm","audio/x-gsm"],["gsp","application/x-gsp"],["gss","application/x-gss"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxt","application/vnd.geonext"],["gz",["application/x-gzip","application/x-compressed"]],["gzip",["multipart/x-gzip","application/x-gzip"]],["h",["text/plain","text/x-h"]],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hdf","application/x-hdf"],["help","application/x-helpfile"],["hgl","application/vnd.hp-hpgl"],["hh",["text/plain","text/x-h"]],["hlb","text/x-script"],["hlp",["application/winhlp","application/hlp","application/x-helpfile","application/x-winhelp"]],["hpg","application/vnd.hp-hpgl"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx",["application/mac-binhex40","application/binhex","application/binhex4","application/mac-binhex","application/x-binhex40","application/x-mac-binhex40"]],["hta","application/hta"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["htmls","text/html"],["htt","text/webviewhtml"],["htx","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["ico","image/x-icon"],["ics","text/calendar"],["idc","text/plain"],["ief","image/ief"],["iefs","image/ief"],["ifm","application/vnd.shana.informed.formdata"],["iges",["application/iges","model/iges"]],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs",["application/iges","model/iges"]],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["iii","application/x-iphone"],["ima","application/x-ima"],["imap","application/x-httpd-imap"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["inf","application/inf"],["ins",["application/x-internet-signup","application/x-internett-signup"]],["ip","application/x-ip2"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["isp","application/x-internet-signup"],["isu","video/x-isvideo"],["it","audio/it"],["itp","application/vnd.shana.informed.formtemplate"],["iv","application/x-inventor"],["ivp","application/vnd.immervision-ivp"],["ivr","i-world/i-vrml"],["ivu","application/vnd.immervision-ivu"],["ivy","application/x-livescreen"],["jad","text/vnd.sun.j2me.app-descriptor"],["jam",["application/vnd.jam","audio/x-jam"]],["jar","application/java-archive"],["jav",["text/plain","text/x-java-source"]],["java",["text/plain","text/x-java-source,java","text/x-java-source"]],["jcm","application/x-java-commerce"],["jfif",["image/pipeg","image/jpeg","image/pjpeg"]],["jfif-tbnl","image/jpeg"],["jisp","application/vnd.jisp"],["jlt","application/vnd.hp-jlyt"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jpe",["image/jpeg","image/pjpeg"]],["jpeg",["image/jpeg","image/pjpeg"]],["jpg",["image/jpeg","image/pjpeg"]],["jpgv","video/jpeg"],["jpm","video/jpm"],["jps","image/x-jps"],["js",["application/javascript","application/ecmascript","text/javascript","text/ecmascript","application/x-javascript"]],["json","application/json"],["jut","image/jutvision"],["kar",["audio/midi","music/x-karaoke"]],["karbon","application/vnd.kde.karbon"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["ksh",["application/x-ksh","text/x-script.ksh"]],["ksp","application/vnd.kde.kspread"],["ktx","image/ktx"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["la",["audio/nspaudio","audio/x-nspaudio"]],["lam","audio/x-liveaudio"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["lha",["application/octet-stream","application/lha","application/x-lha"]],["lhx","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["lma",["audio/nspaudio","audio/x-nspaudio"]],["log","text/plain"],["lrm","application/vnd.ms-lrm"],["lsf","video/x-la-asf"],["lsp",["application/x-lisp","text/x-script.lisp"]],["lst","text/plain"],["lsx",["video/x-la-asf","text/x-la-asf"]],["ltf","application/vnd.frogans.ltf"],["ltx","application/x-latex"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh",["application/octet-stream","application/x-lzh"]],["lzx",["application/lzx","application/octet-stream","application/x-lzx"]],["m",["text/plain","text/x-m"]],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m1v","video/mpeg"],["m21","application/mp21"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3u",["audio/x-mpegurl","audio/x-mpequrl"]],["m3u8","application/vnd.apple.mpegurl"],["m4v","video/x-m4v"],["ma","application/mathematica"],["mads","application/mads+xml"],["mag","application/vnd.ecowin.chart"],["man","application/x-troff-man"],["map","application/x-navimap"],["mar","text/plain"],["mathml","application/mathml+xml"],["mbd","application/mbedlet"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc$","application/x-magic-cap-package-1.0"],["mc1","application/vnd.medcalcdata"],["mcd",["application/mcad","application/vnd.mcd","application/x-mathcad"]],["mcf",["image/vasa","text/mcf"]],["mcp","application/netmc"],["mcurl","text/vnd.curl.mcurl"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["me","application/x-troff-me"],["meta4","application/metalink4+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mht","message/rfc822"],["mhtml","message/rfc822"],["mid",["audio/mid","audio/midi","music/crescendo","x-music/x-midi","audio/x-midi","application/x-midi","audio/x-mid"]],["midi",["audio/midi","music/crescendo","x-music/x-midi","audio/x-midi","application/x-midi","audio/x-mid"]],["mif",["application/vnd.mif","application/x-mif","application/x-frame"]],["mime",["message/rfc822","www/mime"]],["mj2","video/mj2"],["mjf","audio/x-vnd.audioexplosion.mjuicemediafile"],["mjpg","video/x-motion-jpeg"],["mlp","application/vnd.dolby.mlp"],["mm",["application/base64","application/x-meme"]],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mme","application/base64"],["mmf","application/vnd.smaf"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mny","application/x-msmoney"],["mod",["audio/mod","audio/x-mod"]],["mods","application/mods+xml"],["moov","video/quicktime"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2",["video/mpeg","audio/mpeg","video/x-mpeg","audio/x-mpeg","video/x-mpeq2a"]],["mp3",["audio/mpeg","audio/mpeg3","video/mpeg","audio/x-mpeg-3","video/x-mpeg"]],["mp4",["video/mp4","application/mp4"]],["mp4a","audio/mp4"],["mpa",["video/mpeg","audio/mpeg"]],["mpc",["application/vnd.mophun.certificate","application/x-project"]],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg",["video/mpeg","audio/mpeg"]],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/x-project"],["mpv","application/x-project"],["mpv2","video/mpeg"],["mpx","application/x-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","application/x-troff-ms"],["mscml","application/mediaservercontrol+xml"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msl","application/vnd.mobius.msl"],["msty","application/vnd.muvee.style"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musicxml","application/vnd.recordare.musicxml+xml"],["mv","video/x-sgi-movie"],["mvb","application/x-msmediaview"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["my","audio/make"],["mzz","application/x-vnd.audioexplosion.mzz"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nap","image/naplps"],["naplps","image/naplps"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncm","application/vnd.nokia.configuration-message"],["ncx","application/x-dtbncx+xml"],["ngdat","application/vnd.nokia.n-gage.data"],["nif","image/x-niff"],["niff","image/x-niff"],["nix","application/x-mix-transfer"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nvd","application/x-navidoc"],["nws","message/rfc822"],["o","application/octet-stream"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omc","application/x-omc"],["omcd","application/x-omcdatamaker"],["omcr","application/x-omcregerator"],["onetoc","application/onenote"],["opf","application/oebps-package+xml"],["org","application/vnd.lotus-organizer"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","application/x-font-otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p10",["application/pkcs10","application/x-pkcs10"]],["p12",["application/pkcs-12","application/x-pkcs12"]],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c",["application/pkcs7-mime","application/x-pkcs7-mime"]],["p7m",["application/pkcs7-mime","application/x-pkcs7-mime"]],["p7r","application/x-pkcs7-certreqresp"],["p7s",["application/pkcs7-signature","application/x-pkcs7-signature"]],["p8","application/pkcs8"],["par","text/plain-bas"],["part","application/pro_eng"],["pas","text/pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcf","application/x-font-pcf"],["pcl",["application/vnd.hp-pcl","application/x-pcl"]],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb",["application/vnd.palm","chemical/x-pdb"]],["pdf","application/pdf"],["pfa","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfunk",["audio/make","audio/make.my.funk"]],["pfx","application/x-pkcs12"],["pgm",["image/x-portable-graymap","image/x-portable-greymap"]],["pgn","application/x-chess-pgn"],["pgp","application/pgp-signature"],["pic",["image/pict","image/x-pict"]],["pict","image/pict"],["pkg","application/x-newton-compatible-pkg"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pko",["application/ynd.ms-pkipko","application/vnd.ms-pki.pko"]],["pl",["text/plain","text/x-script.perl"]],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["plx","application/x-pixclscript"],["pm",["text/x-script.perl-module","image/x-xpixmap"]],["pm4","application/x-pagemaker"],["pm5","application/x-pagemaker"],["pma","application/x-perfmon"],["pmc","application/x-perfmon"],["pml",["application/vnd.ctc-posml","application/x-perfmon"]],["pmr","application/x-perfmon"],["pmw","application/x-perfmon"],["png","image/png"],["pnm",["application/x-portable-anymap","image/x-portable-anymap"]],["portpkg","application/vnd.macports.portpkg"],["pot",["application/vnd.ms-powerpoint","application/mspowerpoint"]],["potm","application/vnd.ms-powerpoint.template.macroenabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["pov","model/x-pov"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroenabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps",["application/vnd.ms-powerpoint","application/mspowerpoint"]],["ppsm","application/vnd.ms-powerpoint.slideshow.macroenabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt",["application/vnd.ms-powerpoint","application/mspowerpoint","application/powerpoint","application/x-mspowerpoint"]],["pptm","application/vnd.ms-powerpoint.presentation.macroenabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["ppz","application/mspowerpoint"],["prc","application/x-mobipocket-ebook"],["pre",["application/vnd.lotus-freelance","application/x-freelance"]],["prf","application/pics-rules"],["prt","application/pro_eng"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd",["application/octet-stream","image/vnd.adobe.photoshop"]],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pvu","paleovu/x-pv"],["pwn","application/vnd.3m.post-it-notes"],["pwz","application/vnd.ms-powerpoint"],["py","text/x-script.phyton"],["pya","audio/vnd.ms-playready.media.pya"],["pyc","application/x-bytecode.python"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qcp","audio/vnd.qcelp"],["qd3","x-world/x-3dmf"],["qd3d","x-world/x-3dmf"],["qfx","application/vnd.intu.qfx"],["qif","image/x-quicktime"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qtc","video/x-qtc"],["qti","image/x-quicktime"],["qtif","image/x-quicktime"],["qxd","application/vnd.quark.quarkxpress"],["ra",["audio/x-realaudio","audio/x-pn-realaudio","audio/x-pn-realaudio-plugin"]],["ram","audio/x-pn-realaudio"],["rar","application/x-rar-compressed"],["ras",["image/cmu-raster","application/x-cmu-raster","image/x-cmu-raster"]],["rast","image/cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rexx","text/x-script.rexx"],["rf","image/vnd.rn-realflash"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm",["application/vnd.rn-realmedia","audio/x-pn-realaudio"]],["rmi","audio/mid"],["rmm","audio/x-pn-realaudio"],["rmp",["audio/x-pn-realaudio-plugin","audio/x-pn-realaudio"]],["rms","application/vnd.jcp.javame.midlet-rms"],["rnc","application/relax-ng-compact-syntax"],["rng",["application/ringing-tones","application/vnd.nokia.ringing-tone"]],["rnx","application/vnd.rn-realplayer"],["roff","application/x-troff"],["rp","image/vnd.rn-realpix"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsd","application/rsd+xml"],["rt",["text/richtext","text/vnd.rn-realtext"]],["rtf",["application/rtf","text/richtext","application/x-rtf"]],["rtx",["text/richtext","application/rtf"]],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["saveme","application/octet-stream"],["sbk","application/x-tbook"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm",["application/vnd.lotus-screencam","video/x-scm","text/x-script.guile","application/x-lotusscreencam","text/x-script.scheme"]],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["sct","text/scriptlet"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkm","application/vnd.solent.sdkm+xml"],["sdml","text/plain"],["sdp",["application/sdp","application/x-sdp"]],["sdr","application/sounder"],["sdw","application/vnd.stardivision.writer"],["sea",["application/sea","application/x-sea"]],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["ser","application/java-serialized-object"],["set","application/set"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sgl","application/vnd.stardivision.writer-global"],["sgm",["text/sgml","text/x-sgml"]],["sgml",["text/sgml","text/x-sgml"]],["sh",["application/x-shar","application/x-bsh","application/x-sh","text/x-script.sh"]],["shar",["application/x-bsh","application/x-shar"]],["shf","application/shf+xml"],["shtml",["text/html","text/x-server-parsed-html"]],["sid","audio/x-psid"],["sis","application/vnd.symbian.install"],["sit",["application/x-stuffit","application/x-sit"]],["sitx","application/x-stuffitx"],["skd","application/x-koan"],["skm","application/x-koan"],["skp",["application/vnd.koan","application/x-koan"]],["skt","application/x-koan"],["sl","application/x-seelogo"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi",["application/smil","application/smil+xml"]],["smil","application/smil"],["snd",["audio/basic","audio/x-adpcm"]],["snf","application/x-font-snf"],["sol","application/solids"],["spc",["text/x-speech","application/x-pkcs7-certificates"]],["spf","application/vnd.yamaha.smaf-phrase"],["spl",["application/futuresplash","application/x-futuresplash"]],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spr","application/x-sprite"],["sprite","application/x-sprite"],["src","application/x-wais-source"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssi","text/x-server-parsed-html"],["ssm","application/streamingmedia"],["ssml","application/ssml+xml"],["sst",["application/vnd.ms-pkicertstore","application/vnd.ms-pki.certstore"]],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["step","application/step"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl",["application/vnd.ms-pkistl","application/sla","application/vnd.ms-pki.stl","application/x-navistyle"]],["stm","text/html"],["stp","application/step"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["sub","image/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svf",["image/vnd.dwg","image/x-dwg"]],["svg","image/svg+xml"],["svr",["x-world/x-svr","application/x-world"]],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t",["text/troff","application/x-troff"]],["talk","text/x-speech"],["tao","application/vnd.tao.intent-module-archive"],["tar","application/x-tar"],["tbk",["application/toolbook","application/x-tbook"]],["tcap","application/vnd.3gpp2.tcap"],["tcl",["text/x-script.tcl","application/x-tcl"]],["tcsh","text/x-script.tcsh"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text",["application/plain","text/plain"]],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tgz",["application/gnutar","application/x-compressed"]],["thmx","application/vnd.ms-officetheme"],["tif",["image/tiff","image/x-tiff"]],["tiff",["image/tiff","image/x-tiff"]],["tmo","application/vnd.tmobile-livetv"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","application/x-troff"],["tra","application/vnd.trueapp"],["trm","application/x-msterminal"],["tsd","application/timestamped-data"],["tsi","audio/tsp-audio"],["tsp",["application/dsptype","audio/tsplayer"]],["tsv","text/tab-separated-values"],["ttf","application/x-font-ttf"],["ttl","text/turtle"],["turbot","image/florian"],["twd","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["ufd","application/vnd.ufdl"],["uil","text/x-uil"],["uls","text/iuls"],["umj","application/vnd.umajin"],["uni","text/uri-list"],["unis","text/uri-list"],["unityweb","application/vnd.unity"],["unv","application/i-deas"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["ustar",["application/x-ustar","multipart/x-ustar"]],["utz","application/vnd.uiq.theme"],["uu",["application/octet-stream","text/x-uuencode"]],["uue","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vda","application/vda"],["vdo","video/vdo"],["vew","application/groupwise"],["vis","application/vnd.visionary"],["viv",["video/vivo","video/vnd.vivo"]],["vivo",["video/vivo","video/vnd.vivo"]],["vmd","application/vocaltec-media-desc"],["vmf","application/vocaltec-media-file"],["voc",["audio/voc","audio/x-voc"]],["vos","video/vosaic"],["vox","audio/voxware"],["vqe","audio/x-twinvq-plugin"],["vqf","audio/x-twinvq"],["vql","audio/x-twinvq-plugin"],["vrml",["model/vrml","x-world/x-vrml","application/x-vrml"]],["vrt","x-world/x-vrt"],["vsd",["application/vnd.visio","application/x-visio"]],["vsf","application/vnd.vsf"],["vst","application/x-visio"],["vsw","application/x-visio"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w60","application/wordperfect6.0"],["w61","application/wordperfect6.1"],["w6w","application/msword"],["wad","application/x-doom"],["wav",["audio/wav","audio/x-wav"]],["wax","audio/x-ms-wax"],["wb1","application/x-qpro"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/vnd.wap.wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["web","application/vnd.xara"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wiz","application/msword"],["wk1","application/x-123"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf",["windows/metafile","application/x-msmetafile"]],["wml","text/vnd.wap.wml"],["wmlc","application/vnd.wap.wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-ms-wmz"],["woff","application/x-font-woff"],["word","application/msword"],["wp","application/wordperfect"],["wp5",["application/wordperfect","application/wordperfect6.0"]],["wp6","application/wordperfect"],["wpd",["application/wordperfect","application/vnd.wordperfect","application/x-wpwin"]],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wq1","application/x-lotus"],["wqd","application/vnd.wqd"],["wri",["application/mswrite","application/x-wri","application/x-mswrite"]],["wrl",["model/vrml","x-world/x-vrml","application/x-world"]],["wrz",["model/vrml","x-world/x-vrml"]],["wsc","text/scriplet"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wsrc","application/x-wais-source"],["wtb","application/vnd.webturbo"],["wtk","application/x-wintalk"],["wvx","video/x-ms-wvx"],["x-png","image/png"],["x3d","application/vnd.hzn-3d-crossword"],["xaf","x-world/x-vrml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm",["image/xbm","image/x-xbm","image/x-xbitmap"]],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdr","video/x-amt-demorun"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xgz","xgl/drawing"],["xhtml","application/xhtml+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla",["application/vnd.ms-excel","application/excel","application/x-msexcel","application/x-excel"]],["xlam","application/vnd.ms-excel.addin.macroenabled.12"],["xlb",["application/excel","application/vnd.ms-excel","application/x-excel"]],["xlc",["application/vnd.ms-excel","application/excel","application/x-excel"]],["xld",["application/excel","application/x-excel"]],["xlk",["application/excel","application/x-excel"]],["xll",["application/excel","application/vnd.ms-excel","application/x-excel"]],["xlm",["application/vnd.ms-excel","application/excel","application/x-excel"]],["xls",["application/vnd.ms-excel","application/excel","application/x-msexcel","application/x-excel"]],["xlsb","application/vnd.ms-excel.sheet.binary.macroenabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroenabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt",["application/vnd.ms-excel","application/excel","application/x-excel"]],["xltm","application/vnd.ms-excel.template.macroenabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlv",["application/excel","application/x-excel"]],["xlw",["application/vnd.ms-excel","application/excel","application/x-msexcel","application/x-excel"]],["xm","audio/xm"],["xml",["application/xml","text/xml","application/atom+xml","application/rss+xml"]],["xmz","xgl/movie"],["xo","application/vnd.olpc-sugar"],["xof","x-world/x-vrml"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpix","application/x-vnd.ls-xpix"],["xpm",["image/xpm","image/x-xpixmap"]],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xsr","video/x-amt-showrun"],["xul","application/vnd.mozilla.xul+xml"],["xwd",["image/x-xwd","image/x-xwindowdump"]],["xyz",["chemical/x-xyz","chemical/x-pdb"]],["yang","application/yang"],["yin","application/yin+xml"],["z",["application/x-compressed","application/x-compress"]],["zaz","application/vnd.zzazz.deck+xml"],["zip",["application/zip","multipart/x-zip","application/x-zip-compressed","application/x-compressed"]],["zir","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zoo","application/octet-stream"],["zsh","text/x-script.zsh"]]);CA.exports={detectMimeType(e){if(!e)return SA;let t=pZ.parse(e),r=(t.ext.substr(1)||t.name||"").split("?").shift().trim().toLowerCase(),n=SA;return bA.has(r)&&(n=bA.get(r)),Array.isArray(n)?n[0]:n},detectExtension(e){if(!e)return mZ;let t=(e||"").toLowerCase().trim().split("/"),r=t.shift().trim(),n=t.join("/").trim();if(xA.has(r+"/"+n)){let i=xA.get(r+"/"+n);return Array.isArray(i)?i[0]:i}switch(r){case"text":return"txt";default:return"bin"}}}});var i_=g((gNe,DA)=>{"use strict";var RA="-",fZ=/^xn--/,hZ=/[^\0-\x7F]/,gZ=/[\x2E\u3002\uFF0E\uFF61]/g,vZ={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},r_=35,rn=Math.floor,n_=String.fromCharCode;function Ei(e){throw new RangeError(vZ[e])}function _Z(e,t){let r=[],n=e.length;for(;n--;)r[n]=t(e[n]);return r}function PA(e,t){let r=e.split("@"),n="";r.length>1&&(n=r[0]+"@",e=r[1]),e=e.replace(gZ,".");let i=e.split("."),s=_Z(i,t).join(".");return n+s}function TA(e){let t=[],r=0,n=e.length;for(;r<n;){let i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){let s=e.charCodeAt(r++);(s&64512)==56320?t.push(((i&1023)<<10)+(s&1023)+65536):(t.push(i),r--)}else t.push(i)}return t}var yZ=e=>String.fromCodePoint(...e),EZ=function(e){return e>=48&&e<58?26+(e-48):e>=65&&e<91?e-65:e>=97&&e<123?e-97:36},wA=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)},AA=function(e,t,r){let n=0;for(e=r?rn(e/700):e>>1,e+=rn(e/t);e>r_*26>>1;n+=36)e=rn(e/r_);return rn(n+(r_+1)*e/(e+38))},IA=function(e){let t=[],r=e.length,n=0,i=128,s=72,o=e.lastIndexOf(RA);o<0&&(o=0);for(let a=0;a<o;++a)e.charCodeAt(a)>=128&&Ei("not-basic"),t.push(e.charCodeAt(a));for(let a=o>0?o+1:0;a<r;){let c=n;for(let d=1,p=36;;p+=36){a>=r&&Ei("invalid-input");let m=EZ(e.charCodeAt(a++));m>=36&&Ei("invalid-input"),m>rn((2147483647-n)/d)&&Ei("overflow"),n+=m*d;let f=p<=s?1:p>=s+26?26:p-s;if(m<f)break;let v=36-f;d>rn(2147483647/v)&&Ei("overflow"),d*=v}let l=t.length+1;s=AA(n-c,l,c==0),rn(n/l)>2147483647-i&&Ei("overflow"),i+=rn(n/l),n%=l,t.splice(n++,0,i)}return String.fromCodePoint(...t)},OA=function(e){let t=[];e=TA(e);let r=e.length,n=128,i=0,s=72;for(let c of e)c<128&&t.push(n_(c));let o=t.length,a=o;for(o&&t.push(RA);a<r;){let c=2147483647;for(let d of e)d>=n&&d<c&&(c=d);let l=a+1;c-n>rn((2147483647-i)/l)&&Ei("overflow"),i+=(c-n)*l,n=c;for(let d of e)if(d<n&&++i>2147483647&&Ei("overflow"),d===n){let p=i;for(let m=36;;m+=36){let f=m<=s?1:m>=s+26?26:m-s;if(p<f)break;let v=p-f,y=36-f;t.push(n_(wA(f+v%y,0))),p=rn(v/y)}t.push(n_(wA(p,0))),s=AA(i,l,a===o),i=0,++a}++i,++n}return t.join("")},SZ=function(e){return PA(e,function(t){return fZ.test(t)?IA(t.slice(4).toLowerCase()):t})},xZ=function(e){return PA(e,function(t){return hZ.test(t)?"xn--"+OA(t):t})},bZ={version:"2.3.1",ucs2:{decode:TA,encode:yZ},decode:IA,encode:OA,toASCII:xZ,toUnicode:SZ};DA.exports=bZ});var c_=g((vNe,NA)=>{"use strict";var CZ=require("stream").Transform;function s_(e){return typeof e=="string"&&(e=Buffer.from(e,"utf-8")),e.toString("base64")}function o_(e,t){if(e=(e||"").toString(),t=t||76,e.length<=t)return e;let r=[],n=0,i=t*1024;for(;n<e.length;){let s=e.substr(n,i).replace(new RegExp(".{"+t+"}","g"),`$&\r
`).trim();r.push(s),n+=i}return r.join(`\r
`).trim()}var a_=class extends CZ{constructor(t){super(),this.options=t||{},this.options.lineLength!==!1&&(this.options.lineLength=this.options.lineLength||76),this._curLine="",this._remainingBytes=!1,this.inputBytes=0,this.outputBytes=0}_transform(t,r,n){if(r!=="buffer"&&(t=Buffer.from(t,r)),!t||!t.length)return setImmediate(n);this.inputBytes+=t.length,this._remainingBytes&&this._remainingBytes.length&&(t=Buffer.concat([this._remainingBytes,t],this._remainingBytes.length+t.length),this._remainingBytes=!1),t.length%3?(this._remainingBytes=t.slice(t.length-t.length%3),t=t.slice(0,t.length-t.length%3)):this._remainingBytes=!1;let i=this._curLine+s_(t);if(this.options.lineLength){i=o_(i,this.options.lineLength);let s=i.lastIndexOf(`
`);s<0?(this._curLine=i,i=""):s===i.length-1?this._curLine="":(this._curLine=i.substr(s+1),i=i.substr(0,s+1))}i&&(this.outputBytes+=i.length,this.push(Buffer.from(i,"ascii"))),setImmediate(n)}_flush(t){this._remainingBytes&&this._remainingBytes.length&&(this._curLine+=s_(this._remainingBytes)),this._curLine&&(this._curLine=o_(this._curLine,this.options.lineLength),this.outputBytes+=this._curLine.length,this.push(this._curLine,"ascii"),this._curLine=""),t()}};NA.exports={encode:s_,wrap:o_,Encoder:a_}});var u_=g((_Ne,kA)=>{"use strict";var wZ=require("stream").Transform;function l_(e){typeof e=="string"&&(e=Buffer.from(e,"utf-8"));let t=[[9],[10],[13],[32,60],[62,126]],r="",n;for(let i=0,s=e.length;i<s;i++){if(n=e[i],RZ(n,t)&&!((n===32||n===9)&&(i===s-1||e[i+1]===10||e[i+1]===13))){r+=String.fromCharCode(n);continue}r+="="+(n<16?"0":"")+n.toString(16).toUpperCase()}return r}function $A(e,t){if(e=(e||"").toString(),t=t||76,e.length<=t)return e;let r=0,n=e.length,i,s,o,a=Math.floor(t/3),c="";for(;r<n;){if(o=e.substr(r,t),i=o.match(/\r\n/)){o=o.substr(0,i.index+i[0].length),c+=o,r+=o.length;continue}if(o.substr(-1)===`
`){c+=o,r+=o.length;continue}else if(i=o.substr(-a).match(/\n.*?$/)){o=o.substr(0,o.length-(i[0].length-1)),c+=o,r+=o.length;continue}else if(o.length>t-a&&(i=o.substr(-a).match(/[ \t.,!?][^ \t.,!?]*$/)))o=o.substr(0,o.length-(i[0].length-1));else if(o.match(/[=][\da-f]{0,2}$/i))for((i=o.match(/[=][\da-f]{0,1}$/i))&&(o=o.substr(0,o.length-i[0].length));o.length>3&&o.length<n-r&&!o.match(/^(?:=[\da-f]{2}){1,4}$/i)&&(i=o.match(/[=][\da-f]{2}$/gi))&&(s=parseInt(i[0].substr(1,2),16),!(s<128||(o=o.substr(0,o.length-3),s>=192))););r+o.length<n&&o.substr(-1)!==`
`?(o.length===t&&o.match(/[=][\da-f]{2}$/i)?o=o.substr(0,o.length-3):o.length===t&&(o=o.substr(0,o.length-1)),r+=o.length,o+=`=\r
`):r+=o.length,c+=o}return c}function RZ(e,t){for(let r=t.length-1;r>=0;r--)if(t[r].length&&(t[r].length===1&&e===t[r][0]||t[r].length===2&&e>=t[r][0]&&e<=t[r][1]))return!0;return!1}var d_=class extends wZ{constructor(t){super(),this.options=t||{},this.options.lineLength!==!1&&(this.options.lineLength=this.options.lineLength||76),this._curLine="",this.inputBytes=0,this.outputBytes=0}_transform(t,r,n){let i;if(r!=="buffer"&&(t=Buffer.from(t,r)),!t||!t.length)return n();this.inputBytes+=t.length,this.options.lineLength?(i=this._curLine+l_(t),i=$A(i,this.options.lineLength),i=i.replace(/(^|\n)([^\n]*)$/,(s,o,a)=>(this._curLine=a,o)),i&&(this.outputBytes+=i.length,this.push(i))):(i=l_(t),this.outputBytes+=i.length,this.push(i,"ascii")),n()}_flush(t){this._curLine&&(this.outputBytes+=this._curLine.length,this.push(this._curLine,"ascii")),t()}};kA.exports={encode:l_,wrap:$A,Encoder:d_}});var hl=g((yNe,jA)=>{"use strict";var fl=c_(),PZ=u_(),MA=t_();jA.exports={isPlainText(e,t){return!(typeof e!="string"||(t?/[\x00-\x08\x0b\x0c\x0e-\x1f"\u0080-\uFFFF]/:/[\x00-\x08\x0b\x0c\x0e-\x1f\u0080-\uFFFF]/).test(e))},hasLongerLines(e,t){return e.length>128*1024?!0:new RegExp("^.{"+(t+1)+",}","m").test(e)},encodeWord(e,t,r){t=(t||"Q").toString().toUpperCase().trim().charAt(0),r=r||0;let n,i="UTF-8";if(r&&r>7+i.length&&(r-=7+i.length),t==="Q"?n=PZ.encode(e).replace(/[^a-z0-9!*+\-/=]/gi,s=>{let o=s.charCodeAt(0).toString(16).toUpperCase();return s===" "?"_":"="+(o.length===1?"0"+o:o)}):t==="B"&&(n=typeof e=="string"?e:fl.encode(e),r=r?Math.max(3,(r-r%4)/4*3):0),r&&(t!=="B"?n:fl.encode(e)).length>r)if(t==="Q")n=this.splitMimeEncodedString(n,r).join("?= =?"+i+"?"+t+"?");else{let s=[],o="";for(let a=0,c=n.length;a<c;a++){let l=n.charAt(a);/[\ud83c\ud83d\ud83e]/.test(l)&&a<c-1&&(l+=n.charAt(++a)),Buffer.byteLength(o+l)<=r||a===0?o+=l:(s.push(fl.encode(o)),o=l)}o&&s.push(fl.encode(o)),s.length>1?n=s.join("?= =?"+i+"?"+t+"?"):n=s.join("")}else t==="B"&&(n=fl.encode(e));return"=?"+i+"?"+t+"?"+n+(n.substr(-2)==="?="?"":"?=")},encodeWords(e,t,r,n){r=r||0;let i,s=e.match(/(?:^|\s)([^\s]*["\u0080-\uFFFF])/);if(!s)return e;if(n)return this.encodeWord(e,t,r);let o=e.match(/(["\u0080-\uFFFF][^\s]*)[^"\u0080-\uFFFF]*$/);if(!o)return e;let a=s.index+(s[0].match(/[^\s]/)||{index:0}).index,c=o.index+(o[1]||"").length;return i=(a?e.substr(0,a):"")+this.encodeWord(e.substring(a,c),t||"Q",r)+(c<e.length?e.substr(c):""),i},buildHeaderValue(e){let t=[];return Object.keys(e.params||{}).forEach(r=>{let n=e.params[r];!this.isPlainText(n,!0)||n.length>=75?this.buildHeaderParam(r,n,50).forEach(i=>{!/[\s"\\;:/=(),<>@[\]?]|^[-']|'$/.test(i.value)||i.key.substr(-1)==="*"?t.push(i.key+"="+i.value):t.push(i.key+"="+JSON.stringify(i.value))}):/[\s'"\\;:/=(),<>@[\]?]|^-/.test(n)?t.push(r+"="+JSON.stringify(n)):t.push(r+"="+n)}),e.value+(t.length?"; "+t.join("; "):"")},buildHeaderParam(e,t,r){let n=[],i=typeof t=="string"?t:(t||"").toString(),s,o,a,c,l=0,d,p;if(r=r||50,this.isPlainText(t,!0)){if(i.length<=r)return[{key:e,value:i}];i=i.replace(new RegExp(".{"+r+"}","g"),m=>(n.push({line:m}),"")),i&&n.push({line:i})}else{if(/[\uD800-\uDBFF]/.test(i)){for(s=[],d=0,p=i.length;d<p;d++)o=i.charAt(d),a=o.charCodeAt(0),a>=55296&&a<=56319&&d<p-1?(o+=i.charAt(d+1),s.push(o),d++):s.push(o);i=s}c="utf-8''";let m=!0;for(l=0,d=0,p=i.length;d<p;d++){if(o=i[d],m)o=this.safeEncodeURIComponent(o);else if(o=o===" "?o:this.safeEncodeURIComponent(o),o!==i[d])if((this.safeEncodeURIComponent(c)+o).length>=r)n.push({line:c,encoded:m}),c="",l=d-1;else{m=!0,d=l,c="";continue}(c+o).length>=r?(n.push({line:c,encoded:m}),c=o=i[d]===" "?" ":this.safeEncodeURIComponent(i[d]),o===i[d]?(m=!1,l=d-1):m=!0):c+=o}c&&n.push({line:c,encoded:m})}return n.map((m,f)=>({key:e+"*"+f+(m.encoded?"*":""),value:m.line}))},parseHeaderValue(e){let t={value:!1,params:{}},r=!1,n="",i="value",s=!1,o=!1,a;for(let c=0,l=e.length;c<l;c++)if(a=e.charAt(c),i==="key"){if(a==="="){r=n.trim().toLowerCase(),i="value",n="";continue}n+=a}else{if(o)n+=a;else if(a==="\\"){o=!0;continue}else s&&a===s?s=!1:!s&&a==='"'?s=a:!s&&a===";"?(r===!1?t.value=n.trim():t.params[r]=n.trim(),i="key",n=""):n+=a;o=!1}return i==="value"?r===!1?t.value=n.trim():t.params[r]=n.trim():n.trim()&&(t.params[n.trim().toLowerCase()]=""),Object.keys(t.params).forEach(c=>{let l,d,p,m;(p=c.match(/(\*(\d+)|\*(\d+)\*|\*)$/))&&(l=c.substr(0,p.index),d=Number(p[2]||p[3])||0,(!t.params[l]||typeof t.params[l]!="object")&&(t.params[l]={charset:!1,values:[]}),m=t.params[c],d===0&&p[0].substr(-1)==="*"&&(p=m.match(/^([^']*)'[^']*'(.*)$/))&&(t.params[l].charset=p[1]||"iso-8859-1",m=p[2]),t.params[l].values[d]=m,delete t.params[c])}),Object.keys(t.params).forEach(c=>{let l;t.params[c]&&Array.isArray(t.params[c].values)&&(l=t.params[c].values.map(d=>d||"").join(""),t.params[c].charset?t.params[c]="=?"+t.params[c].charset+"?Q?"+l.replace(/[=?_\s]/g,d=>{let p=d.charCodeAt(0).toString(16);return d===" "?"_":"%"+(p.length<2?"0":"")+p}).replace(/%/g,"=")+"?=":t.params[c]=l)}),t},detectExtension:e=>MA.detectExtension(e),detectMimeType:e=>MA.detectMimeType(e),foldLines(e,t,r){e=(e||"").toString(),t=t||76;let n=0,i=e.length,s="",o,a;for(;n<i;){if(o=e.substr(n,t),o.length<t){s+=o;break}if(a=o.match(/^[^\n\r]*(\r?\n|\r)/)){o=a[0],s+=o,n+=o.length;continue}else(a=o.match(/(\s+)[^\s]*$/))&&a[0].length-(r?(a[1]||"").length:0)<o.length?o=o.substr(0,o.length-(a[0].length-(r?(a[1]||"").length:0))):(a=e.substr(n+o.length).match(/^[^\s]+(\s*)/))&&(o=o+a[0].substr(0,a[0].length-(r?0:(a[1]||"").length)));s+=o,n+=o.length,n<i&&(s+=`\r
`)}return s},splitMimeEncodedString:(e,t)=>{let r,n,i,s,o=[];for(t=Math.max(t||0,12);e.length;){for(r=e.substr(0,t),(n=r.match(/[=][0-9A-F]?$/i))&&(r=r.substr(0,n.index)),s=!1;!s;)s=!0,(n=e.substr(r.length).match(/^[=]([0-9A-F]{2})/i))&&(i=parseInt(n[1],16),i<194&&i>127&&(r=r.substr(0,r.length-3),s=!1));r.length&&o.push(r),e=e.substr(r.length)}return o},encodeURICharComponent:e=>{let t="",r=e.charCodeAt(0).toString(16).toUpperCase();if(r.length%2&&(r="0"+r),r.length>2)for(let n=0,i=r.length/2;n<i;n++)t+="%"+r.substr(n,2);else t+="%"+r;return t},safeEncodeURIComponent(e){e=(e||"").toString();try{e=encodeURIComponent(e)}catch{return e.replace(/[^\x00-\x1F *'()<>@,;:\\"[\]?=\u007F-\uFFFF]+/g,"")}return e.replace(/[\x00-\x1F *'()<>@,;:\\"[\]?=\u007F-\uFFFF]/g,t=>this.encodeURICharComponent(t))}}});var FA=g((ENe,LA)=>{"use strict";function TZ(e){let t,r=!1,n="text",i,s=[],o={address:[],comment:[],group:[],text:[]},a,c;for(a=0,c=e.length;a<c;a++)if(t=e[a],t.type==="operator")switch(t.value){case"<":n="address";break;case"(":n="comment";break;case":":n="group",r=!0;break;default:n="text"}else t.value&&(n==="address"&&(t.value=t.value.replace(/^[^<]*<\s*/,"")),o[n].push(t.value));if(!o.text.length&&o.comment.length&&(o.text=o.comment,o.comment=[]),r)o.text=o.text.join(" "),s.push({name:o.text||i&&i.name,group:o.group.length?qA(o.group.join(",")):[]});else{if(!o.address.length&&o.text.length){for(a=o.text.length-1;a>=0;a--)if(o.text[a].match(/^[^@\s]+@[^@\s]+$/)){o.address=o.text.splice(a,1);break}let l=function(d){return o.address.length?d:(o.address=[d.trim()]," ")};if(!o.address.length)for(a=o.text.length-1;a>=0&&(o.text[a]=o.text[a].replace(/\s*\b[^@\s]+@[^\s]+\b\s*/,l).trim(),!o.address.length);a--);}if(!o.text.length&&o.comment.length&&(o.text=o.comment,o.comment=[]),o.address.length>1&&(o.text=o.text.concat(o.address.splice(1))),o.text=o.text.join(" "),o.address=o.address.join(" "),!o.address&&r)return[];i={address:o.address||o.text||"",name:o.text||o.address||""},i.address===i.name&&((i.address||"").match(/@/)?i.name="":i.address=""),s.push(i)}return s}var p_=class{constructor(t){this.str=(t||"").toString(),this.operatorCurrent="",this.operatorExpecting="",this.node=null,this.escaped=!1,this.list=[],this.operators={'"':'"',"(":")","<":">",",":"",":":";",";":""}}tokenize(){let t,r=[];for(let n=0,i=this.str.length;n<i;n++)t=this.str.charAt(n),this.checkChar(t);return this.list.forEach(n=>{n.value=(n.value||"").toString().trim(),n.value&&r.push(n)}),r}checkChar(t){if(!this.escaped){if(t===this.operatorExpecting){this.node={type:"operator",value:t},this.list.push(this.node),this.node=null,this.operatorExpecting="",this.escaped=!1;return}else if(!this.operatorExpecting&&t in this.operators){this.node={type:"operator",value:t},this.list.push(this.node),this.node=null,this.operatorExpecting=this.operators[t],this.escaped=!1;return}else if(['"',"'"].includes(this.operatorExpecting)&&t==="\\"){this.escaped=!0;return}}this.node||(this.node={type:"text",value:""},this.list.push(this.node)),t===`
`&&(t=" "),(t.charCodeAt(0)>=33||[" ","	"].includes(t))&&(this.node.value+=t),this.escaped=!1}};function qA(e,t){t=t||{};let n=new p_(e).tokenize(),i=[],s=[],o=[];if(n.forEach(a=>{a.type==="operator"&&(a.value===","||a.value===";")?(s.length&&i.push(s),s=[]):s.push(a)}),s.length&&i.push(s),i.forEach(a=>{a=TZ(a),a.length&&(o=o.concat(a))}),t.flatten){let a=[],c=l=>{l.forEach(d=>{if(d.group)return c(d.group);a.push(d)})};return c(o),a}return o}LA.exports=qA});var zA=g((SNe,UA)=>{"use strict";var AZ=require("stream").Transform,m_=class extends AZ{constructor(){super(),this.lastByte=!1}_transform(t,r,n){t.length&&(this.lastByte=t[t.length-1]),this.push(t),n()}_flush(t){return this.lastByte===10?t():this.lastByte===13?(this.push(Buffer.from(`
`)),t()):(this.push(Buffer.from(`\r
`)),t())}};UA.exports=m_});var h_=g((xNe,VA)=>{"use strict";var IZ=require("stream"),OZ=IZ.Transform,f_=class extends OZ{constructor(t){super(t),this.options=t||{},this.lastByte=!1}_transform(t,r,n){let i,s=0;for(let o=0,a=t.length;o<a;o++)t[o]===10&&(o&&t[o-1]!==13||!o&&this.lastByte!==13)&&(o>s&&(i=t.slice(s,o),this.push(i)),this.push(Buffer.from(`\r
`)),s=o+1);s&&s<t.length?(i=t.slice(s),this.push(i)):s||this.push(t),this.lastByte=t[t.length-1],n()}};VA.exports=f_});var BA=g((bNe,HA)=>{"use strict";var DZ=require("stream"),NZ=DZ.Transform,g_=class extends NZ{constructor(t){super(t),this.options=t||{}}_transform(t,r,n){let i,s=0;for(let o=0,a=t.length;o<a;o++)t[o]===13&&(i=t.slice(s,o),s=o+1,this.push(i));s&&s<t.length?(i=t.slice(s),this.push(i)):s||this.push(t),n()}};HA.exports=g_});var y_=g((CNe,GA)=>{"use strict";var v_=require("crypto"),$Z=require("fs"),kZ=i_(),gl=require("stream").PassThrough,MZ=It(),Or=hl(),jZ=u_(),qZ=c_(),LZ=FA(),FZ=pl(),UZ=zA(),zZ=h_(),VZ=BA(),__=class e{constructor(t,r){this.nodeCounter=0,r=r||{},this.baseBoundary=r.baseBoundary||v_.randomBytes(8).toString("hex"),this.boundaryPrefix=r.boundaryPrefix||"--_NmP",this.disableFileAccess=!!r.disableFileAccess,this.disableUrlAccess=!!r.disableUrlAccess,this.normalizeHeaderKey=r.normalizeHeaderKey,this.date=new Date,this.rootNode=r.rootNode||this,this.keepBcc=!!r.keepBcc,r.filename&&(this.filename=r.filename,t||(t=Or.detectMimeType(this.filename.split(".").pop()))),this.textEncoding=(r.textEncoding||"").toString().trim().charAt(0).toUpperCase(),this.parentNode=r.parentNode,this.hostname=r.hostname,this.newline=r.newline,this.childNodes=[],this._nodeId=++this.rootNode.nodeCounter,this._headers=[],this._isPlainText=!1,this._hasLongLines=!1,this._envelope=!1,this._raw=!1,this._transforms=[],this._processFuncs=[],t&&this.setHeader("Content-Type",t)}createChild(t,r){!r&&typeof t=="object"&&(r=t,t=void 0);let n=new e(t,r);return this.appendChild(n),n}appendChild(t){return t.rootNode!==this.rootNode&&(t.rootNode=this.rootNode,t._nodeId=++this.rootNode.nodeCounter),t.parentNode=this,this.childNodes.push(t),t}replace(t){return t===this?this:(this.parentNode.childNodes.forEach((r,n)=>{r===this&&(t.rootNode=this.rootNode,t.parentNode=this.parentNode,t._nodeId=this._nodeId,this.rootNode=this,this.parentNode=void 0,t.parentNode.childNodes[n]=t)}),t)}remove(){if(!this.parentNode)return this;for(let t=this.parentNode.childNodes.length-1;t>=0;t--)if(this.parentNode.childNodes[t]===this)return this.parentNode.childNodes.splice(t,1),this.parentNode=void 0,this.rootNode=this,this}setHeader(t,r){let n=!1,i;if(!r&&t&&typeof t=="object")return t.key&&"value"in t?this.setHeader(t.key,t.value):Array.isArray(t)?t.forEach(s=>{this.setHeader(s.key,s.value)}):Object.keys(t).forEach(s=>{this.setHeader(s,t[s])}),this;t=this._normalizeHeaderKey(t),i={key:t,value:r};for(let s=0,o=this._headers.length;s<o;s++)this._headers[s].key===t&&(n?(this._headers.splice(s,1),s--,o--):(this._headers[s]=i,n=!0));return n||this._headers.push(i),this}addHeader(t,r){return!r&&t&&typeof t=="object"?(t.key&&t.value?this.addHeader(t.key,t.value):Array.isArray(t)?t.forEach(n=>{this.addHeader(n.key,n.value)}):Object.keys(t).forEach(n=>{this.addHeader(n,t[n])}),this):Array.isArray(r)?(r.forEach(n=>{this.addHeader(t,n)}),this):(this._headers.push({key:this._normalizeHeaderKey(t),value:r}),this)}getHeader(t){t=this._normalizeHeaderKey(t);for(let r=0,n=this._headers.length;r<n;r++)if(this._headers[r].key===t)return this._headers[r].value}setContent(t){return this.content=t,typeof this.content.pipe=="function"?(this._contentErrorHandler=r=>{this.content.removeListener("error",this._contentErrorHandler),this.content=r},this.content.once("error",this._contentErrorHandler)):typeof this.content=="string"&&(this._isPlainText=Or.isPlainText(this.content),this._isPlainText&&Or.hasLongerLines(this.content,76)&&(this._hasLongLines=!0)),this}build(t){let r;t||(r=new Promise((a,c)=>{t=MZ.callbackPromise(a,c)}));let n=this.createReadStream(),i=[],s=0,o=!1;return n.on("readable",()=>{let a;for(;(a=n.read())!==null;)i.push(a),s+=a.length}),n.once("error",a=>{if(!o)return o=!0,t(a)}),n.once("end",a=>{if(!o)return o=!0,a&&a.length&&(i.push(a),s+=a.length),t(null,Buffer.concat(i,s))}),r}getTransferEncoding(){let t=!1,r=(this.getHeader("Content-Type")||"").toString().toLowerCase().trim();return this.content&&(t=(this.getHeader("Content-Transfer-Encoding")||"").toString().toLowerCase().trim(),(!t||!["base64","quoted-printable"].includes(t))&&(/^text\//i.test(r)?this._isPlainText&&!this._hasLongLines?t="7bit":typeof this.content=="string"||this.content instanceof Buffer?t=this._getTextEncoding(this.content)==="Q"?"quoted-printable":"base64":t=this.textEncoding==="B"?"base64":"quoted-printable":/^(multipart|message)\//i.test(r)||(t=t||"base64"))),t}buildHeaders(){let t=this.getTransferEncoding(),r=[];if(t&&this.setHeader("Content-Transfer-Encoding",t),this.filename&&!this.getHeader("Content-Disposition")&&this.setHeader("Content-Disposition","attachment"),this.rootNode===this){this.getHeader("Date")||this.setHeader("Date",this.date.toUTCString().replace(/GMT/,"+0000")),this.messageId(),this.getHeader("MIME-Version")||this.setHeader("MIME-Version","1.0");for(let n=this._headers.length-2;n>=0;n--){let i=this._headers[n];i.key==="Content-Type"&&(this._headers.splice(n,1),this._headers.push(i))}}return this._headers.forEach(n=>{let i=n.key,s=n.value,o,a,c={};if(!(s&&typeof s=="object"&&!["From","Sender","To","Cc","Bcc","Reply-To","Date","References"].includes(i)&&(Object.keys(s).forEach(d=>{d!=="value"&&(c[d]=s[d])}),s=(s.value||"").toString(),!s.trim()))){if(c.prepared){c.foldLines?r.push(Or.foldLines(i+": "+s)):r.push(i+": "+s);return}switch(n.key){case"Content-Disposition":o=Or.parseHeaderValue(s),this.filename&&(o.params.filename=this.filename),s=Or.buildHeaderValue(o);break;case"Content-Type":o=Or.parseHeaderValue(s),this._handleContentType(o),o.value.match(/^text\/plain\b/)&&typeof this.content=="string"&&/[\u0080-\uFFFF]/.test(this.content)&&(o.params.charset="utf-8"),s=Or.buildHeaderValue(o),this.filename&&(a=this._encodeWords(this.filename),(a!==this.filename||/[\s'"\\;:/=(),<>@[\]?]|^-/.test(a))&&(a='"'+a+'"'),s+="; name="+a);break;case"Bcc":if(!this.keepBcc)return;break}if(s=this._encodeHeaderValue(i,s),!!(s||"").toString().trim()){if(typeof this.normalizeHeaderKey=="function"){let d=this.normalizeHeaderKey(i,s);d&&typeof d=="string"&&d.length&&(i=d)}r.push(Or.foldLines(i+": "+s,76))}}}),r.join(`\r
`)}createReadStream(t){t=t||{};let r=new gl(t),n=r,i;this.stream(r,t,s=>{if(s){n.emit("error",s);return}r.end()});for(let s=0,o=this._transforms.length;s<o;s++)i=typeof this._transforms[s]=="function"?this._transforms[s]():this._transforms[s],n.once("error",a=>{i.emit("error",a)}),n=n.pipe(i);i=new UZ,n.once("error",s=>{i.emit("error",s)}),n=n.pipe(i);for(let s=0,o=this._processFuncs.length;s<o;s++)i=this._processFuncs[s],n=i(n);if(this.newline){let o=["win","windows","dos",`\r
`].includes(this.newline.toString().toLowerCase())?new zZ:new VZ,a=n.pipe(o);return n.on("error",c=>a.emit("error",c)),a}return n}transform(t){this._transforms.push(t)}processFunc(t){this._processFuncs.push(t)}stream(t,r,n){let i=this.getTransferEncoding(),s,o,a=!1,c=p=>{a||(a=!0,n(p))},l=()=>{let p=0,m=()=>{if(p>=this.childNodes.length)return t.write(`\r
--`+this.boundary+`--\r
`),c();let f=this.childNodes[p++];t.write((p>1?`\r
`:"")+"--"+this.boundary+`\r
`),f.stream(t,r,v=>{if(v)return c(v);setImmediate(m)})};if(this.multipart)setImmediate(m);else return c()},d=()=>{if(this.content){if(Object.prototype.toString.call(this.content)==="[object Error]")return c(this.content);typeof this.content.pipe=="function"&&(this.content.removeListener("error",this._contentErrorHandler),this._contentErrorHandler=m=>c(m),this.content.once("error",this._contentErrorHandler));let p=()=>{["quoted-printable","base64"].includes(i)?(s=new(i==="base64"?qZ:jZ).Encoder(r),s.pipe(t,{end:!1}),s.once("end",l),s.once("error",m=>c(m)),o=this._getStream(this.content),o.pipe(s)):(o=this._getStream(this.content),o.pipe(t,{end:!1}),o.once("end",l)),o.once("error",m=>c(m))};if(this.content._resolve){let m=[],f=0,v=!1,y=this._getStream(this.content);y.on("error",x=>{v||(v=!0,c(x))}),y.on("readable",()=>{let x;for(;(x=y.read())!==null;)m.push(x),f+=x.length}),y.on("end",()=>{v||(v=!0,this.content._resolve=!1,this.content._resolvedValue=Buffer.concat(m,f),setImmediate(p))})}else setImmediate(p);return}else return setImmediate(l)};this._raw?setImmediate(()=>{if(Object.prototype.toString.call(this._raw)==="[object Error]")return c(this._raw);typeof this._raw.pipe=="function"&&this._raw.removeListener("error",this._contentErrorHandler);let p=this._getStream(this._raw);p.pipe(t,{end:!1}),p.on("error",m=>t.emit("error",m)),p.on("end",l)}):(t.write(this.buildHeaders()+`\r
\r
`),setImmediate(d))}setEnvelope(t){let r;this._envelope={from:!1,to:[]},t.from&&(r=[],this._convertAddresses(this._parseAddresses(t.from),r),r=r.filter(i=>i&&i.address),r.length&&r[0]&&(this._envelope.from=r[0].address)),["to","cc","bcc"].forEach(i=>{t[i]&&this._convertAddresses(this._parseAddresses(t[i]),this._envelope.to)}),this._envelope.to=this._envelope.to.map(i=>i.address).filter(i=>i);let n=["to","cc","bcc","from"];return Object.keys(t).forEach(i=>{n.includes(i)||(this._envelope[i]=t[i])}),this}getAddresses(){let t={};return this._headers.forEach(r=>{let n=r.key.toLowerCase();["from","sender","reply-to","to","cc","bcc"].includes(n)&&(Array.isArray(t[n])||(t[n]=[]),this._convertAddresses(this._parseAddresses(r.value),t[n]))}),t}getEnvelope(){if(this._envelope)return this._envelope;let t={from:!1,to:[]};return this._headers.forEach(r=>{let n=[];r.key==="From"||!t.from&&["Reply-To","Sender"].includes(r.key)?(this._convertAddresses(this._parseAddresses(r.value),n),n.length&&n[0]&&(t.from=n[0].address)):["To","Cc","Bcc"].includes(r.key)&&this._convertAddresses(this._parseAddresses(r.value),t.to)}),t.to=t.to.map(r=>r.address),t}messageId(){let t=this.getHeader("Message-ID");return t||(t=this._generateMessageId(),this.setHeader("Message-ID",t)),t}setRaw(t){return this._raw=t,this._raw&&typeof this._raw.pipe=="function"&&(this._contentErrorHandler=r=>{this._raw.removeListener("error",this._contentErrorHandler),this._raw=r},this._raw.once("error",this._contentErrorHandler)),this}_getStream(t){let r;return t._resolvedValue?(r=new gl,setImmediate(()=>{try{r.end(t._resolvedValue)}catch(n){r.emit("error",n)}}),r):typeof t.pipe=="function"?t:t&&typeof t.path=="string"&&!t.href?this.disableFileAccess?(r=new gl,setImmediate(()=>r.emit("error",new Error("File access rejected for "+t.path))),r):$Z.createReadStream(t.path):t&&typeof t.href=="string"?this.disableUrlAccess?(r=new gl,setImmediate(()=>r.emit("error",new Error("Url access rejected for "+t.href))),r):FZ(t.href,{headers:t.httpHeaders}):(r=new gl,setImmediate(()=>{try{r.end(t||"")}catch(n){r.emit("error",n)}}),r)}_parseAddresses(t){return[].concat.apply([],[].concat(t).map(r=>r&&r.address?(r.address=this._normalizeAddress(r.address),r.name=r.name||"",[r]):LZ(r)))}_normalizeHeaderKey(t){return t=(t||"").toString().replace(/\r?\n|\r/g," ").trim().toLowerCase().replace(/^X-SMTPAPI$|^(MIME|DKIM|ARC|BIMI)\b|^[a-z]|-(SPF|FBL|ID|MD5)$|-[a-z]/gi,r=>r.toUpperCase()).replace(/^Content-Features$/i,"Content-features"),t}_handleContentType(t){this.contentType=t.value.trim().toLowerCase(),this.multipart=/^multipart\//i.test(this.contentType)?this.contentType.substr(this.contentType.indexOf("/")+1):!1,this.multipart?this.boundary=t.params.boundary=t.params.boundary||this.boundary||this._generateBoundary():this.boundary=!1}_generateBoundary(){return this.rootNode.boundaryPrefix+"-"+this.rootNode.baseBoundary+"-Part_"+this._nodeId}_encodeHeaderValue(t,r){switch(t=this._normalizeHeaderKey(t),t){case"From":case"Sender":case"To":case"Cc":case"Bcc":case"Reply-To":return this._convertAddresses(this._parseAddresses(r));case"Message-ID":case"In-Reply-To":case"Content-Id":return r=(r||"").toString().replace(/\r?\n|\r/g," "),r.charAt(0)!=="<"&&(r="<"+r),r.charAt(r.length-1)!==">"&&(r=r+">"),r;case"References":return r=[].concat.apply([],[].concat(r||"").map(n=>(n=(n||"").toString().replace(/\r?\n|\r/g," ").trim(),n.replace(/<[^>]*>/g,i=>i.replace(/\s/g,"")).split(/\s+/)))).map(n=>(n.charAt(0)!=="<"&&(n="<"+n),n.charAt(n.length-1)!==">"&&(n=n+">"),n)),r.join(" ").trim();case"Date":return Object.prototype.toString.call(r)==="[object Date]"?r.toUTCString().replace(/GMT/,"+0000"):(r=(r||"").toString().replace(/\r?\n|\r/g," "),this._encodeWords(r));case"Content-Type":case"Content-Disposition":return(r||"").toString().replace(/\r?\n|\r/g," ");default:return r=(r||"").toString().replace(/\r?\n|\r/g," "),this._encodeWords(r)}}_convertAddresses(t,r){let n=[];return r=r||[],[].concat(t||[]).forEach(i=>{if(i.address)i.address=this._normalizeAddress(i.address),i.name?i.name&&n.push(`${this._encodeAddressName(i.name)} <${i.address}>`):n.push(i.address.indexOf(" ")>=0?`<${i.address}>`:`${i.address}`),i.address&&(r.filter(s=>s.address===i.address).length||r.push(i));else if(i.group){let s=(i.group.length?this._convertAddresses(i.group,r):"").trim();n.push(`${this._encodeAddressName(i.name)}:${s};`)}}),n.join(", ")}_normalizeAddress(t){t=(t||"").toString().replace(/[\x00-\x1F<>]+/g," ").trim();let r=t.lastIndexOf("@");if(r<0)return t;let n=t.substr(0,r),i=t.substr(r+1),s;try{s=kZ.toASCII(i.toLowerCase())}catch{}return n.indexOf(" ")>=0&&(n.charAt(0)!=='"'&&(n='"'+n),n.substr(-1)!=='"'&&(n=n+'"')),`${n}@${s}`}_encodeAddressName(t){return/^[\w ]*$/.test(t)?t:/^[\x20-\x7e]*$/.test(t)?'"'+t.replace(/([\\"])/g,"\\$1")+'"':Or.encodeWord(t,this._getTextEncoding(t),52)}_encodeWords(t){return Or.encodeWords(t,this._getTextEncoding(t),52,!0)}_getTextEncoding(t){t=(t||"").toString();let r=this.textEncoding,n,i;return r||(i=(t.match(/[\x00-\x08\x0B\x0C\x0E-\x1F\u0080-\uFFFF]/g)||[]).length,n=(t.match(/[a-z]/gi)||[]).length,r=i<n?"Q":"B"),r}_generateMessageId(){return"<"+[2,2,2,6].reduce((t,r)=>t+"-"+v_.randomBytes(r).toString("hex"),v_.randomBytes(4).toString("hex"))+"@"+(this.getEnvelope().from||this.hostname||"localhost").split("@").pop()+">"}};GA.exports=__});var KA=g((wNe,WA)=>{"use strict";var vl=y_(),E_=hl(),HZ=It().parseDataURI,S_=class{constructor(t){this.mail=t||{},this.message=!1}compile(){return this._alternatives=this.getAlternatives(),this._htmlNode=this._alternatives.filter(t=>/^text\/html\b/i.test(t.contentType)).pop(),this._attachments=this.getAttachments(!!this._htmlNode),this._useRelated=!!(this._htmlNode&&this._attachments.related.length),this._useAlternative=this._alternatives.length>1,this._useMixed=this._attachments.attached.length>1||this._alternatives.length&&this._attachments.attached.length===1,this.mail.raw?this.message=new vl("message/rfc822",{newline:this.mail.newline}).setRaw(this.mail.raw):this._useMixed?this.message=this._createMixed():this._useAlternative?this.message=this._createAlternative():this._useRelated?this.message=this._createRelated():this.message=this._createContentNode(!1,[].concat(this._alternatives||[]).concat(this._attachments.attached||[]).shift()||{contentType:"text/plain",content:""}),this.mail.headers&&this.message.addHeader(this.mail.headers),["from","sender","to","cc","bcc","reply-to","in-reply-to","references","subject","message-id","date"].forEach(t=>{let r=t.replace(/-(\w)/g,(n,i)=>i.toUpperCase());this.mail[r]&&this.message.setHeader(t,this.mail[r])}),this.mail.envelope&&this.message.setEnvelope(this.mail.envelope),this.message.messageId(),this.message}getAttachments(t){let r,n,i=[].concat(this.mail.attachments||[]).map((s,o)=>{let a,c=/^message\//i.test(s.contentType);/^data:/i.test(s.path||s.href)&&(s=this._processDataUrl(s));let l=s.contentType||E_.detectMimeType(s.filename||s.path||s.href||"bin"),d=/^image\//i.test(l),p=s.contentDisposition||(c||d&&s.cid?"inline":"attachment");return a={contentType:l,contentDisposition:p,contentTransferEncoding:"contentTransferEncoding"in s?s.contentTransferEncoding:"base64"},s.filename?a.filename=s.filename:!c&&s.filename!==!1&&(a.filename=(s.path||s.href||"").split("/").pop().split("?").shift()||"attachment-"+(o+1),a.filename.indexOf(".")<0&&(a.filename+="."+E_.detectExtension(a.contentType))),/^https?:\/\//i.test(s.path)&&(s.href=s.path,s.path=void 0),s.cid&&(a.cid=s.cid),s.raw?a.raw=s.raw:s.path?a.content={path:s.path}:s.href?a.content={href:s.href,httpHeaders:s.httpHeaders}:a.content=s.content||"",s.encoding&&(a.encoding=s.encoding),s.headers&&(a.headers=s.headers),a});return this.mail.icalEvent&&(typeof this.mail.icalEvent=="object"&&(this.mail.icalEvent.content||this.mail.icalEvent.path||this.mail.icalEvent.href||this.mail.icalEvent.raw)?r=this.mail.icalEvent:r={content:this.mail.icalEvent},n={},Object.keys(r).forEach(s=>{n[s]=r[s]}),n.contentType="application/ics",n.headers||(n.headers={}),n.filename=n.filename||"invite.ics",n.headers["Content-Disposition"]="attachment",n.headers["Content-Transfer-Encoding"]="base64"),t?{attached:i.filter(s=>!s.cid).concat(n||[]),related:i.filter(s=>!!s.cid)}:{attached:i.concat(n||[]),related:[]}}getAlternatives(){let t=[],r,n,i,s,o,a;return this.mail.text&&(typeof this.mail.text=="object"&&(this.mail.text.content||this.mail.text.path||this.mail.text.href||this.mail.text.raw)?r=this.mail.text:r={content:this.mail.text},r.contentType="text/plain; charset=utf-8"),this.mail.watchHtml&&(typeof this.mail.watchHtml=="object"&&(this.mail.watchHtml.content||this.mail.watchHtml.path||this.mail.watchHtml.href||this.mail.watchHtml.raw)?i=this.mail.watchHtml:i={content:this.mail.watchHtml},i.contentType="text/watch-html; charset=utf-8"),this.mail.amp&&(typeof this.mail.amp=="object"&&(this.mail.amp.content||this.mail.amp.path||this.mail.amp.href||this.mail.amp.raw)?s=this.mail.amp:s={content:this.mail.amp},s.contentType="text/x-amp-html; charset=utf-8"),this.mail.icalEvent&&(typeof this.mail.icalEvent=="object"&&(this.mail.icalEvent.content||this.mail.icalEvent.path||this.mail.icalEvent.href||this.mail.icalEvent.raw)?o=this.mail.icalEvent:o={content:this.mail.icalEvent},a={},Object.keys(o).forEach(c=>{a[c]=o[c]}),a.content&&typeof a.content=="object"&&(a.content._resolve=!0),a.filename=!1,a.contentType="text/calendar; charset=utf-8; method="+(a.method||"PUBLISH").toString().trim().toUpperCase(),a.headers||(a.headers={})),this.mail.html&&(typeof this.mail.html=="object"&&(this.mail.html.content||this.mail.html.path||this.mail.html.href||this.mail.html.raw)?n=this.mail.html:n={content:this.mail.html},n.contentType="text/html; charset=utf-8"),[].concat(r||[]).concat(i||[]).concat(s||[]).concat(n||[]).concat(a||[]).concat(this.mail.alternatives||[]).forEach(c=>{let l;/^data:/i.test(c.path||c.href)&&(c=this._processDataUrl(c)),l={contentType:c.contentType||E_.detectMimeType(c.filename||c.path||c.href||"txt"),contentTransferEncoding:c.contentTransferEncoding},c.filename&&(l.filename=c.filename),/^https?:\/\//i.test(c.path)&&(c.href=c.path,c.path=void 0),c.raw?l.raw=c.raw:c.path?l.content={path:c.path}:c.href?l.content={href:c.href}:l.content=c.content||"",c.encoding&&(l.encoding=c.encoding),c.headers&&(l.headers=c.headers),t.push(l)}),t}_createMixed(t){let r;return t?r=t.createChild("multipart/mixed",{disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}):r=new vl("multipart/mixed",{baseBoundary:this.mail.baseBoundary,textEncoding:this.mail.textEncoding,boundaryPrefix:this.mail.boundaryPrefix,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}),this._useAlternative?this._createAlternative(r):this._useRelated&&this._createRelated(r),[].concat(!this._useAlternative&&this._alternatives||[]).concat(this._attachments.attached||[]).forEach(n=>{(!this._useRelated||n!==this._htmlNode)&&this._createContentNode(r,n)}),r}_createAlternative(t){let r;return t?r=t.createChild("multipart/alternative",{disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}):r=new vl("multipart/alternative",{baseBoundary:this.mail.baseBoundary,textEncoding:this.mail.textEncoding,boundaryPrefix:this.mail.boundaryPrefix,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}),this._alternatives.forEach(n=>{this._useRelated&&this._htmlNode===n?this._createRelated(r):this._createContentNode(r,n)}),r}_createRelated(t){let r;return t?r=t.createChild('multipart/related; type="text/html"',{disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}):r=new vl('multipart/related; type="text/html"',{baseBoundary:this.mail.baseBoundary,textEncoding:this.mail.textEncoding,boundaryPrefix:this.mail.boundaryPrefix,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}),this._createContentNode(r,this._htmlNode),this._attachments.related.forEach(n=>this._createContentNode(r,n)),r}_createContentNode(t,r){r=r||{},r.content=r.content||"";let n,i=(r.encoding||"utf8").toString().toLowerCase().replace(/[-_\s]/g,"");return t?n=t.createChild(r.contentType,{filename:r.filename,textEncoding:this.mail.textEncoding,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}):n=new vl(r.contentType,{filename:r.filename,baseBoundary:this.mail.baseBoundary,textEncoding:this.mail.textEncoding,boundaryPrefix:this.mail.boundaryPrefix,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}),r.headers&&n.addHeader(r.headers),r.cid&&n.setHeader("Content-Id","<"+r.cid.replace(/[<>]/g,"")+">"),r.contentTransferEncoding?n.setHeader("Content-Transfer-Encoding",r.contentTransferEncoding):this.mail.encoding&&/^text\//i.test(r.contentType)&&n.setHeader("Content-Transfer-Encoding",this.mail.encoding),(!/^text\//i.test(r.contentType)||r.contentDisposition)&&n.setHeader("Content-Disposition",r.contentDisposition||(r.cid&&/^image\//i.test(r.contentType)?"inline":"attachment")),typeof r.content=="string"&&!["utf8","usascii","ascii"].includes(i)&&(r.content=Buffer.from(r.content,i)),r.raw?n.setRaw(r.raw):n.setContent(r.content),n}_processDataUrl(t){let r;return(t.path||t.href).match(/^data:/)&&(r=HZ(t.path||t.href)),r&&(t.content=r.data,t.contentType=t.contentType||r.contentType,"path"in t&&(t.path=!1),"href"in t&&(t.href=!1)),t}};WA.exports=S_});var JA=g((RNe,XA)=>{"use strict";var BZ=require("stream").Transform,x_=class extends BZ{constructor(t){super(t),this.lastBytes=Buffer.alloc(4),this.headersParsed=!1,this.headerBytes=0,this.headerChunks=[],this.rawHeaders=!1,this.bodySize=0}updateLastBytes(t){let r=this.lastBytes.length,n=Math.min(t.length,r);for(let i=0,s=r-n;i<s;i++)this.lastBytes[i]=this.lastBytes[i+n];for(let i=1;i<=n;i++)this.lastBytes[r-i]=t[t.length-i]}checkHeaders(t){if(this.headersParsed)return!0;let r=this.lastBytes.length,n=0;this.curLinePos=0;for(let i=0,s=this.lastBytes.length+t.length;i<s;i++){let o;if(i<r?o=this.lastBytes[i]:o=t[i-r],o===10&&i){let a=i-1<r?this.lastBytes[i-1]:t[i-1-r],c=i>1?i-2<r?this.lastBytes[i-2]:t[i-2-r]:!1;if(a===10){this.headersParsed=!0,n=i-r+1,this.headerBytes+=n;break}else if(a===13&&c===10){this.headersParsed=!0,n=i-r+1,this.headerBytes+=n;break}}}if(this.headersParsed){if(this.headerChunks.push(t.slice(0,n)),this.rawHeaders=Buffer.concat(this.headerChunks,this.headerBytes),this.headerChunks=null,this.emit("headers",this.parseHeaders()),t.length-1>n){let i=t.slice(n);this.bodySize+=i.length,setImmediate(()=>this.push(i))}return!1}else this.headerBytes+=t.length,this.headerChunks.push(t);return this.updateLastBytes(t),!1}_transform(t,r,n){if(!t||!t.length)return n();typeof t=="string"&&(t=Buffer.from(t,r));let i;try{i=this.checkHeaders(t)}catch(s){return n(s)}i&&(this.bodySize+=t.length,this.push(t)),setImmediate(n)}_flush(t){if(this.headerChunks){let r=Buffer.concat(this.headerChunks,this.headerBytes);this.bodySize+=r.length,this.push(r),this.headerChunks=null}t()}parseHeaders(){let t=(this.rawHeaders||"").toString().split(/\r?\n/);for(let r=t.length-1;r>0;r--)/^\s/.test(t[r])&&(t[r-1]+=`
`+t[r],t.splice(r,1));return t.filter(r=>r.trim()).map(r=>({key:r.substr(0,r.indexOf(":")).trim().toLowerCase(),line:r}))}};XA.exports=x_});var QA=g((PNe,YA)=>{"use strict";var GZ=require("stream").Transform,WZ=require("crypto"),b_=class extends GZ{constructor(t){super(),t=t||{},this.chunkBuffer=[],this.chunkBufferLen=0,this.bodyHash=WZ.createHash(t.hashAlgo||"sha1"),this.remainder="",this.byteLength=0,this.debug=t.debug,this._debugBody=t.debug?[]:!1}updateHash(t){let r,n="",i="file";for(let o=t.length-1;o>=0;o--){let a=t[o];if(!(i==="file"&&(a===10||a===13))){if(i==="file"&&(a===9||a===32))i="line";else if(!(i==="line"&&(a===9||a===32))){if((i==="file"||i==="line")&&(i="body",o===t.length-1))break}}if(o===0){if(i==="file"&&(!this.remainder||/[\r\n]$/.test(this.remainder))||i==="line"&&(!this.remainder||/[ \t]$/.test(this.remainder))){this.remainder+=t.toString("binary");return}else if(i==="line"||i==="file"){n=t.toString("binary"),t=!1;break}}if(i==="body"){n=t.slice(o+1).toString("binary"),t=t.slice(0,o+1);break}}let s=!!this.remainder;if(t&&!s){for(let o=0,a=t.length;o<a;o++)if(o&&t[o]===10&&t[o-1]!==13){s=!0;break}else if(o&&t[o]===13&&t[o-1]===32){s=!0;break}else if(o&&t[o]===32&&t[o-1]===32){s=!0;break}else if(t[o]===9){s=!0;break}}s?(r=this.remainder+(t?t.toString("binary"):""),this.remainder=n,r=r.replace(/\r?\n/g,`
`).replace(/[ \t]*$/gm,"").replace(/[ \t]+/gm," ").replace(/\n/g,`\r
`),t=Buffer.from(r,"binary")):n&&(this.remainder=n),this.debug&&this._debugBody.push(t),this.bodyHash.update(t)}_transform(t,r,n){if(!t||!t.length)return n();typeof t=="string"&&(t=Buffer.from(t,r)),this.updateHash(t),this.byteLength+=t.length,this.push(t),n()}_flush(t){/[\r\n]$/.test(this.remainder)&&this.byteLength>2&&this.bodyHash.update(Buffer.from(`\r
`)),this.byteLength||this.push(Buffer.from(`\r
`)),this.emit("hash",this.bodyHash.digest("base64"),this.debug?Buffer.concat(this._debugBody):!1),t()}};YA.exports=b_});var tI=g((TNe,C_)=>{"use strict";var KZ=i_(),XZ=hl(),JZ=require("crypto");C_.exports=(e,t,r,n)=>{n=n||{};let s=n.headerFieldNames||"From:Sender:Reply-To:Subject:Date:Message-ID:To:Cc:MIME-Version:Content-Type:Content-Transfer-Encoding:Content-ID:Content-Description:Resent-Date:Resent-From:Resent-Sender:Resent-To:Resent-Cc:Resent-Message-ID:In-Reply-To:References:List-Id:List-Help:List-Unsubscribe:List-Subscribe:List-Post:List-Owner:List-Archive",o=ZA(e,s,n.skipFields),a=YZ(n.domainName,n.keySelector,o.fieldNames,t,r),c,l;o.headers+="dkim-signature:"+eI(a),c=JZ.createSign(("rsa-"+t).toUpperCase()),c.update(o.headers);try{l=c.sign(n.privateKey,"base64")}catch{return!1}return a+l.replace(/(^.{73}|.{75}(?!\r?\n|\r))/g,`$&\r
 `).trim()};C_.exports.relaxedHeaders=ZA;function YZ(e,t,r,n,i){let s=["v=1","a=rsa-"+n,"c=relaxed/relaxed","d="+KZ.toASCII(e),"q=dns/txt","s="+t,"bh="+i,"h="+r].join("; ");return XZ.foldLines("DKIM-Signature: "+s,76)+`;\r
 b=`}function ZA(e,t,r){let n=new Set,i=new Set,s=new Map;(r||"").toLowerCase().split(":").forEach(c=>{i.add(c.trim())}),(t||"").toLowerCase().split(":").filter(c=>!i.has(c.trim())).forEach(c=>{n.add(c.trim())});for(let c=e.length-1;c>=0;c--){let l=e[c];n.has(l.key)&&!s.has(l.key)&&s.set(l.key,eI(l.line))}let o=[],a=[];return n.forEach(c=>{s.has(c)&&(a.push(c),o.push(c+":"+s.get(c)))}),{headers:o.join(`\r
`)+`\r
`,fieldNames:a.join(":")}}function eI(e){return e.substr(e.indexOf(":")+1).replace(/\r?\n/g,"").replace(/\s+/g," ").trim()}});var nI=g((ANe,rI)=>{"use strict";var QZ=JA(),ZZ=QA(),eee=tI(),w_=require("stream").PassThrough,R_=require("fs"),tee=require("path"),ree=require("crypto"),nee="sha256",iee=128*1024,P_=class{constructor(t,r,n,i){this.options=t||{},this.keys=r,this.cacheTreshold=Number(this.options.cacheTreshold)||iee,this.hashAlgo=this.options.hashAlgo||nee,this.cacheDir=this.options.cacheDir||!1,this.chunks=[],this.chunklen=0,this.readPos=0,this.cachePath=this.cacheDir?tee.join(this.cacheDir,"message."+Date.now()+"-"+ree.randomBytes(14).toString("hex")):!1,this.cache=!1,this.headers=!1,this.bodyHash=!1,this.parser=!1,this.relaxedBody=!1,this.input=n,this.output=i,this.output.usingCache=!1,this.hasErrored=!1,this.input.on("error",s=>{this.hasErrored=!0,this.cleanup(),i.emit("error",s)})}cleanup(){!this.cache||!this.cachePath||R_.unlink(this.cachePath,()=>!1)}createReadCache(){this.cache=R_.createReadStream(this.cachePath),this.cache.once("error",t=>{this.cleanup(),this.output.emit("error",t)}),this.cache.once("close",()=>{this.cleanup()}),this.cache.pipe(this.output)}sendNextChunk(){if(this.hasErrored)return;if(this.readPos>=this.chunks.length)return this.cache?this.createReadCache():this.output.end();let t=this.chunks[this.readPos++];if(this.output.write(t)===!1)return this.output.once("drain",()=>{this.sendNextChunk()});setImmediate(()=>this.sendNextChunk())}sendSignedOutput(){let t=0,r=()=>{if(t>=this.keys.length)return this.output.write(this.parser.rawHeaders),setImmediate(()=>this.sendNextChunk());let n=this.keys[t++],i=eee(this.headers,this.hashAlgo,this.bodyHash,{domainName:n.domainName,keySelector:n.keySelector,privateKey:n.privateKey,headerFieldNames:this.options.headerFieldNames,skipFields:this.options.skipFields});return i&&this.output.write(Buffer.from(i+`\r
`)),setImmediate(r)};if(this.bodyHash&&this.headers)return r();this.output.write(this.parser.rawHeaders),this.sendNextChunk()}createWriteCache(){this.output.usingCache=!0,this.cache=R_.createWriteStream(this.cachePath),this.cache.once("error",t=>{this.cleanup(),this.relaxedBody.unpipe(this.cache),this.relaxedBody.on("readable",()=>{for(;this.relaxedBody.read()!==null;);}),this.hasErrored=!0,this.output.emit("error",t)}),this.cache.once("close",()=>{this.sendSignedOutput()}),this.relaxedBody.removeAllListeners("readable"),this.relaxedBody.pipe(this.cache)}signStream(){this.parser=new QZ,this.relaxedBody=new ZZ({hashAlgo:this.hashAlgo}),this.parser.on("headers",t=>{this.headers=t}),this.relaxedBody.on("hash",t=>{this.bodyHash=t}),this.relaxedBody.on("readable",()=>{let t;if(!this.cache){for(;(t=this.relaxedBody.read())!==null;)if(this.chunks.push(t),this.chunklen+=t.length,this.chunklen>=this.cacheTreshold&&this.cachePath)return this.createWriteCache()}}),this.relaxedBody.on("end",()=>{this.cache||this.sendSignedOutput()}),this.parser.pipe(this.relaxedBody),setImmediate(()=>this.input.pipe(this.parser))}},T_=class{constructor(t){this.options=t||{},this.keys=[].concat(this.options.keys||{domainName:t.domainName,keySelector:t.keySelector,privateKey:t.privateKey})}sign(t,r){let n=new w_,i=t,s=!1;Buffer.isBuffer(t)?(s=t,i=new w_):typeof t=="string"&&(s=Buffer.from(t),i=new w_);let o=this.options;r&&Object.keys(r).length&&(o={},Object.keys(this.options||{}).forEach(c=>{o[c]=this.options[c]}),Object.keys(r||{}).forEach(c=>{c in o||(o[c]=r[c])}));let a=new P_(o,this.keys,i,n);return setImmediate(()=>{a.signStream(),s&&setImmediate(()=>{i.end(s)})}),n}};rI.exports=T_});var cI=g((INe,aI)=>{"use strict";var iI=require("net"),sI=require("tls"),see=require("url");function oI(e,t,r,n){let i=see.parse(e),s,o,a;s={host:i.hostname,port:Number(i.port)?Number(i.port):i.protocol==="https:"?443:80},i.protocol==="https:"?(s.rejectUnauthorized=!1,o=sI.connect.bind(sI)):o=iI.connect.bind(iI);let c=!1,l=p=>{if(!c){c=!0;try{a.destroy()}catch{}n(p)}},d=()=>{let p=new Error("Proxy socket timed out");p.code="ETIMEDOUT",l(p)};a=o(s,()=>{if(c)return;let p={Host:r+":"+t,Connection:"close"};i.auth&&(p["Proxy-Authorization"]="Basic "+Buffer.from(i.auth).toString("base64")),a.write("CONNECT "+r+":"+t+` HTTP/1.1\r
`+Object.keys(p).map(v=>v+": "+p[v]).join(`\r
`)+`\r
\r
`);let m="",f=v=>{let y,x;if(!c&&(m+=v.toString("binary"),y=m.match(/\r\n\r\n/))){if(a.removeListener("data",f),x=m.substr(y.index+y[0].length),m=m.substr(0,y.index),x&&a.unshift(Buffer.from(x,"binary")),c=!0,y=m.match(/^HTTP\/\d+\.\d+ (\d+)/i),!y||(y[1]||"").charAt(0)!=="2"){try{a.destroy()}catch{}return n(new Error("Invalid response from proxy"+(y&&": "+y[1]||"")))}return a.removeListener("error",l),a.removeListener("timeout",d),a.setTimeout(0),n(null,a)}};a.on("data",f)}),a.setTimeout(oI.timeout||30*1e3),a.on("timeout",d),a.once("error",l)}aI.exports=oI});var uI=g((ONe,dI)=>{"use strict";var lI=It(),oee=y_(),yo=hl(),A_=class{constructor(t,r){this.mailer=t,this.data={},this.message=null,r=r||{};let n=t.options||{},i=t._defaults||{};Object.keys(r).forEach(s=>{this.data[s]=r[s]}),this.data.headers=this.data.headers||{},Object.keys(i).forEach(s=>{s in this.data?s==="headers"&&Object.keys(i.headers).forEach(o=>{o in this.data.headers||(this.data.headers[o]=i.headers[o])}):this.data[s]=i[s]}),["disableFileAccess","disableUrlAccess","normalizeHeaderKey"].forEach(s=>{s in n&&(this.data[s]=n[s])})}resolveContent(...t){return lI.resolveContent(...t)}resolveAll(t){let r=[[this.data,"html"],[this.data,"text"],[this.data,"watchHtml"],[this.data,"amp"],[this.data,"icalEvent"]];this.data.alternatives&&this.data.alternatives.length&&this.data.alternatives.forEach((c,l)=>{r.push([this.data.alternatives,l])}),this.data.attachments&&this.data.attachments.length&&this.data.attachments.forEach((c,l)=>{c.filename||(c.filename=(c.path||c.href||"").split("/").pop().split("?").shift()||"attachment-"+(l+1),c.filename.indexOf(".")<0&&(c.filename+="."+yo.detectExtension(c.contentType))),c.contentType||(c.contentType=yo.detectMimeType(c.filename||c.path||c.href||"bin")),r.push([this.data.attachments,l])});let n=new oee;["from","to","cc","bcc","sender","replyTo"].forEach(c=>{let l;this.message?l=[].concat(n._parseAddresses(this.message.getHeader(c==="replyTo"?"reply-to":c))||[]):this.data[c]&&(l=[].concat(n._parseAddresses(this.data[c])||[])),l&&l.length?this.data[c]=l:c in this.data&&(this.data[c]=null)}),["from","sender"].forEach(c=>{this.data[c]&&(this.data[c]=this.data[c].shift())});let o=0,a=()=>{if(o>=r.length)return t(null,this.data);let c=r[o++];if(!c[0]||!c[0][c[1]])return a();lI.resolveContent(...c,(l,d)=>{if(l)return t(l);let p={content:d};c[0][c[1]]&&typeof c[0][c[1]]=="object"&&!Buffer.isBuffer(c[0][c[1]])&&Object.keys(c[0][c[1]]).forEach(m=>{!(m in p)&&!["content","path","href","raw"].includes(m)&&(p[m]=c[0][c[1]][m])}),c[0][c[1]]=p,a()})};setImmediate(()=>a())}normalize(t){let r=this.data.envelope||this.message.getEnvelope(),n=this.message.messageId();this.resolveAll((i,s)=>i?t(i):(s.envelope=r,s.messageId=n,["html","text","watchHtml","amp"].forEach(o=>{s[o]&&s[o].content&&(typeof s[o].content=="string"?s[o]=s[o].content:Buffer.isBuffer(s[o].content)&&(s[o]=s[o].content.toString()))}),s.icalEvent&&Buffer.isBuffer(s.icalEvent.content)&&(s.icalEvent.content=s.icalEvent.content.toString("base64"),s.icalEvent.encoding="base64"),s.alternatives&&s.alternatives.length&&s.alternatives.forEach(o=>{o&&o.content&&Buffer.isBuffer(o.content)&&(o.content=o.content.toString("base64"),o.encoding="base64")}),s.attachments&&s.attachments.length&&s.attachments.forEach(o=>{o&&o.content&&Buffer.isBuffer(o.content)&&(o.content=o.content.toString("base64"),o.encoding="base64")}),s.normalizedHeaders={},Object.keys(s.headers||{}).forEach(o=>{let a=[].concat(s.headers[o]||[]).shift();a=a&&a.value||a,a&&(["references","in-reply-to","message-id","content-id"].includes(o)&&(a=this.message._encodeHeaderValue(o,a)),s.normalizedHeaders[o]=a)}),s.list&&typeof s.list=="object"&&this._getListHeaders(s.list).forEach(a=>{s.normalizedHeaders[a.key]=a.value.map(c=>c&&c.value||c).join(", ")}),s.references&&(s.normalizedHeaders.references=this.message._encodeHeaderValue("references",s.references)),s.inReplyTo&&(s.normalizedHeaders["in-reply-to"]=this.message._encodeHeaderValue("in-reply-to",s.inReplyTo)),t(null,s)))}setMailerHeader(){!this.message||!this.data.xMailer||this.message.setHeader("X-Mailer",this.data.xMailer)}setPriorityHeaders(){if(!(!this.message||!this.data.priority))switch((this.data.priority||"").toString().toLowerCase()){case"high":this.message.setHeader("X-Priority","1 (Highest)"),this.message.setHeader("X-MSMail-Priority","High"),this.message.setHeader("Importance","High");break;case"low":this.message.setHeader("X-Priority","5 (Lowest)"),this.message.setHeader("X-MSMail-Priority","Low"),this.message.setHeader("Importance","Low");break;default:}}setListHeaders(){!this.message||!this.data.list||typeof this.data.list!="object"||this.data.list&&typeof this.data.list=="object"&&this._getListHeaders(this.data.list).forEach(t=>{t.value.forEach(r=>{this.message.addHeader(t.key,r)})})}_getListHeaders(t){return Object.keys(t).map(r=>({key:"list-"+r.toLowerCase().trim(),value:[].concat(t[r]||[]).map(n=>({prepared:!0,foldLines:!0,value:[].concat(n||[]).map(i=>{if(typeof i=="string"&&(i={url:i}),i&&i.url){if(r.toLowerCase().trim()==="id"){let o=i.comment||"";return yo.isPlainText(o)?o='"'+o+'"':o=yo.encodeWord(o),(i.comment?o+" ":"")+this._formatListUrl(i.url).replace(/^<[^:]+\/{,2}/,"")}let s=i.comment||"";return yo.isPlainText(s)||(s=yo.encodeWord(s)),this._formatListUrl(i.url)+(i.comment?" ("+s+")":"")}return""}).filter(i=>i).join(", ")}))}))}_formatListUrl(t){return t=t.replace(/[\s<]+|[\s>]+/g,""),/^(https?|mailto|ftp):/.test(t)?"<"+t+">":/^[^@]+@[^@]+$/.test(t)?"<mailto:"+t+">":"<http://"+t+">"}};dI.exports=A_});var hI=g((DNe,fI)=>{"use strict";var aee=require("events"),pI=It(),cee=t_(),lee=KA(),mI=nI(),dee=cI(),uee=require("util"),pee=require("url"),I_=Ir(),mee=uI(),fee=require("net"),hee=require("dns"),gee=require("crypto"),O_=class extends aee{constructor(t,r,n){super(),this.options=r||{},this._defaults=n||{},this._defaultPlugins={compile:[(...i)=>this._convertDataImages(...i)],stream:[]},this._userPlugins={compile:[],stream:[]},this.meta=new Map,this.dkim=this.options.dkim?new mI(this.options.dkim):!1,this.transporter=t,this.transporter.mailer=this,this.logger=pI.getLogger(this.options,{component:this.options.component||"mail"}),this.logger.debug({tnx:"create"},"Creating transport: %s",this.getVersionString()),typeof this.transporter.on=="function"&&(this.transporter.on("log",i=>{this.logger.debug({tnx:"transport"},"%s: %s",i.type,i.message)}),this.transporter.on("error",i=>{this.logger.error({err:i,tnx:"transport"},"Transport Error: %s",i.message),this.emit("error",i)}),this.transporter.on("idle",(...i)=>{this.emit("idle",...i)})),["close","isIdle","verify"].forEach(i=>{this[i]=(...s)=>typeof this.transporter[i]=="function"?(i==="verify"&&typeof this.getSocket=="function"&&(this.transporter.getSocket=this.getSocket,this.getSocket=!1),this.transporter[i](...s)):(this.logger.warn({tnx:"transport",methodName:i},"Non existing method %s called for transport",i),!1)}),this.options.proxy&&typeof this.options.proxy=="string"&&this.setupProxy(this.options.proxy)}use(t,r){return t=(t||"").toString(),this._userPlugins.hasOwnProperty(t)?this._userPlugins[t].push(r):this._userPlugins[t]=[r],this}sendMail(t,r=null){let n;r||(n=new Promise((s,o)=>{r=pI.callbackPromise(s,o)})),typeof this.getSocket=="function"&&(this.transporter.getSocket=this.getSocket,this.getSocket=!1);let i=new mee(this,t);return this.logger.debug({tnx:"transport",name:this.transporter.name,version:this.transporter.version,action:"send"},"Sending mail using %s/%s",this.transporter.name,this.transporter.version),this._processPlugins("compile",i,s=>{if(s)return this.logger.error({err:s,tnx:"plugin",action:"compile"},"PluginCompile Error: %s",s.message),r(s);i.message=new lee(i.data).compile(),i.setMailerHeader(),i.setPriorityHeaders(),i.setListHeaders(),this._processPlugins("stream",i,o=>{if(o)return this.logger.error({err:o,tnx:"plugin",action:"stream"},"PluginStream Error: %s",o.message),r(o);(i.data.dkim||this.dkim)&&i.message.processFunc(a=>{let c=i.data.dkim?new mI(i.data.dkim):this.dkim;return this.logger.debug({tnx:"DKIM",messageId:i.message.messageId(),dkimDomains:c.keys.map(l=>l.keySelector+"."+l.domainName).join(", ")},"Signing outgoing message with %s keys",c.keys.length),c.sign(a,i.data._dkim)}),this.transporter.send(i,(...a)=>{a[0]&&this.logger.error({err:a[0],tnx:"transport",action:"send"},"Send Error: %s",a[0].message),r(...a)})})}),n}getVersionString(){return uee.format("%s (%s; +%s; %s/%s)",I_.name,I_.version,I_.homepage,this.transporter.name,this.transporter.version)}_processPlugins(t,r,n){if(t=(t||"").toString(),!this._userPlugins.hasOwnProperty(t))return n();let i=this._userPlugins[t]||[],s=this._defaultPlugins[t]||[];if(i.length&&this.logger.debug({tnx:"transaction",pluginCount:i.length,step:t},"Using %s plugins for %s",i.length,t),i.length+s.length===0)return n();let o=0,a="default",c=()=>{let l=a==="default"?s:i;if(o>=l.length)if(a==="default"&&i.length)a="user",o=0,l=i;else return n();let d=l[o++];d(r,p=>{if(p)return n(p);c()})};c()}setupProxy(t){let r=pee.parse(t);this.getSocket=(n,i)=>{let s=r.protocol.replace(/:$/,"").toLowerCase();if(this.meta.has("proxy_handler_"+s))return this.meta.get("proxy_handler_"+s)(r,n,i);switch(s){case"http":case"https":dee(r.href,n.port,n.host,(o,a)=>o?i(o):i(null,{connection:a}));return;case"socks":case"socks5":case"socks4":case"socks4a":{if(!this.meta.has("proxy_socks_module"))return i(new Error("Socks module not loaded"));let o=a=>{let c=!!this.meta.get("proxy_socks_module").SocksClient,l=c?this.meta.get("proxy_socks_module").SocksClient:this.meta.get("proxy_socks_module"),d=Number(r.protocol.replace(/\D/g,""))||5,p={proxy:{ipaddress:a,port:Number(r.port),type:d},[c?"destination":"target"]:{host:n.host,port:n.port},command:"connect"};if(r.auth){let m=decodeURIComponent(r.auth.split(":").shift()),f=decodeURIComponent(r.auth.split(":").pop());c?(p.proxy.userId=m,p.proxy.password=f):d===4?p.userid=m:p.authentication={username:m,password:f}}l.createConnection(p,(m,f)=>m?i(m):i(null,{connection:f.socket||f}))};return fee.isIP(r.hostname)?o(r.hostname):hee.resolve(r.hostname,(a,c)=>{if(a)return i(a);o(Array.isArray(c)?c[0]:c)})}}i(new Error("Unknown proxy configuration"))}}_convertDataImages(t,r){if(!this.options.attachDataUrls&&!t.data.attachDataUrls||!t.data.html)return r();t.resolveContent(t.data,"html",(n,i)=>{if(n)return r(n);let s=0;i=(i||"").toString().replace(/(<img\b[^<>]{0,1024} src\s{0,20}=[\s"']{0,20})(data:([^;]+);[^"'>\s]+)/gi,(o,a,c,l)=>{let d=gee.randomBytes(10).toString("hex")+"@localhost";return t.data.attachments||(t.data.attachments=[]),Array.isArray(t.data.attachments)||(t.data.attachments=[].concat(t.data.attachments||[])),t.data.attachments.push({path:c,cid:d,filename:"image-"+ ++s+"."+cee.detectExtension(l)}),a+"cid:"+d}),t.data.html=i,r()})}set(t,r){return this.meta.set(t,r)}get(t){return this.meta.get(t)}};fI.exports=O_});var vI=g((NNe,gI)=>{"use strict";var vee=require("stream"),_ee=vee.Transform,D_=class extends _ee{constructor(t){super(t),this.options=t||{},this._curLine="",this.inByteCount=0,this.outByteCount=0,this.lastByte=!1}_transform(t,r,n){let i=[],s=0,o,a,c=0,l;if(!t||!t.length)return n();for(typeof t=="string"&&(t=Buffer.from(t)),this.inByteCount+=t.length,o=0,a=t.length;o<a;o++)t[o]===46?(o&&t[o-1]===10||!o&&(!this.lastByte||this.lastByte===10))&&(l=t.slice(c,o+1),i.push(l),i.push(Buffer.from(".")),s+=l.length+1,c=o+1):t[o]===10&&(o&&t[o-1]!==13||!o&&this.lastByte!==13)&&(o>c?(l=t.slice(c,o),i.push(l),s+=l.length+2):s+=2,i.push(Buffer.from(`\r
`)),c=o+1);s?(c<t.length&&(l=t.slice(c),i.push(l),s+=l.length),this.outByteCount+=s,this.push(Buffer.concat(i,s))):(this.outByteCount+=t.length,this.push(t)),this.lastByte=t[t.length-1],n()}_flush(t){let r;this.lastByte===10?r=Buffer.from(`.\r
`):this.lastByte===13?r=Buffer.from(`
.\r
`):r=Buffer.from(`\r
.\r
`),this.outByteCount+=r.length,this.push(r),t()}};gI.exports=D_});var yp=g(($Ne,xI)=>{"use strict";var yee=Ir(),Eee=require("events").EventEmitter,_I=require("net"),yI=require("tls"),See=require("os"),EI=require("crypto"),xee=vI(),bee=require("stream").PassThrough,jn=It(),Cee=2*60*1e3,SI=10*60*1e3,wee=30*1e3,Ree=30*1e3,N_=class extends Eee{constructor(t){super(t),this.id=EI.randomBytes(8).toString("base64").replace(/\W/g,""),this.stage="init",this.options=t||{},this.secureConnection=!!this.options.secure,this.alreadySecured=!!this.options.secured,this.port=Number(this.options.port)||(this.secureConnection?465:587),this.host=this.options.host||"localhost",this.servername=this.options.servername?this.options.servername:_I.isIP(this.host)?!1:this.host,this.allowInternalNetworkInterfaces=this.options.allowInternalNetworkInterfaces||!1,typeof this.options.secure>"u"&&this.port===465&&(this.secureConnection=!0),this.name=this.options.name||this._getHostname(),this.logger=jn.getLogger(this.options,{component:this.options.component||"smtp-connection",sid:this.id}),this.customAuth=new Map,Object.keys(this.options.customAuth||{}).forEach(r=>{let n=(r||"").toString().trim().toUpperCase();n&&this.customAuth.set(n,this.options.customAuth[r])}),this.version=yee.version,this.authenticated=!1,this.destroyed=!1,this.secure=!!this.secureConnection,this._remainder="",this._responseQueue=[],this.lastServerResponse=!1,this._socket=!1,this._supportedAuth=[],this.allowsAuth=!1,this._envelope=!1,this._supportedExtensions=[],this._maxAllowedSize=0,this._responseActions=[],this._recipientQueue=[],this._greetingTimeout=!1,this._connectionTimeout=!1,this._destroyed=!1,this._closing=!1,this._onSocketData=r=>this._onData(r),this._onSocketError=r=>this._onError(r,"ESOCKET",!1,"CONN"),this._onSocketClose=()=>this._onClose(),this._onSocketEnd=()=>this._onEnd(),this._onSocketTimeout=()=>this._onTimeout()}connect(t){if(typeof t=="function"){this.once("connect",()=>{this.logger.debug({tnx:"smtp"},"SMTP handshake finished"),t()});let i=this._isDestroyedMessage("connect");if(i)return t(this._formatError(i,"ECONNECTION",!1,"CONN"))}let r={port:this.port,host:this.host,allowInternalNetworkInterfaces:this.allowInternalNetworkInterfaces,timeout:this.options.dnsTimeout||Ree};this.options.localAddress&&(r.localAddress=this.options.localAddress);let n=()=>{this._connectionTimeout=setTimeout(()=>{this._onError("Connection timeout","ETIMEDOUT",!1,"CONN")},this.options.connectionTimeout||Cee),this._socket.on("error",this._onSocketError)};if(this.options.connection){this._socket=this.options.connection,this.secureConnection&&!this.alreadySecured?setImmediate(()=>this._upgradeConnection(i=>{if(i){this._onError(new Error("Error initiating TLS - "+(i.message||i)),"ETLS",!1,"CONN");return}this._onConnect()})):setImmediate(()=>this._onConnect());return}else return this.options.socket?(this._socket=this.options.socket,jn.resolveHostname(r,(i,s)=>{if(i)return setImmediate(()=>this._onError(i,"EDNS",!1,"CONN"));this.logger.debug({tnx:"dns",source:r.host,resolved:s.host,cached:!!s.cached},"Resolved %s as %s [cache %s]",r.host,s.host,s.cached?"hit":"miss"),Object.keys(s).forEach(o=>{o.charAt(0)!=="_"&&s[o]&&(r[o]=s[o])});try{this._socket.connect(this.port,this.host,()=>{this._socket.setKeepAlive(!0),this._onConnect()}),n()}catch(o){return setImmediate(()=>this._onError(o,"ECONNECTION",!1,"CONN"))}})):this.secureConnection?(this.options.tls&&Object.keys(this.options.tls).forEach(i=>{r[i]=this.options.tls[i]}),this.servername&&!r.servername&&(r.servername=this.servername),jn.resolveHostname(r,(i,s)=>{if(i)return setImmediate(()=>this._onError(i,"EDNS",!1,"CONN"));this.logger.debug({tnx:"dns",source:r.host,resolved:s.host,cached:!!s.cached},"Resolved %s as %s [cache %s]",r.host,s.host,s.cached?"hit":"miss"),Object.keys(s).forEach(o=>{o.charAt(0)!=="_"&&s[o]&&(r[o]=s[o])});try{this._socket=yI.connect(r,()=>{this._socket.setKeepAlive(!0),this._onConnect()}),n()}catch(o){return setImmediate(()=>this._onError(o,"ECONNECTION",!1,"CONN"))}})):jn.resolveHostname(r,(i,s)=>{if(i)return setImmediate(()=>this._onError(i,"EDNS",!1,"CONN"));this.logger.debug({tnx:"dns",source:r.host,resolved:s.host,cached:!!s.cached},"Resolved %s as %s [cache %s]",r.host,s.host,s.cached?"hit":"miss"),Object.keys(s).forEach(o=>{o.charAt(0)!=="_"&&s[o]&&(r[o]=s[o])});try{this._socket=_I.connect(r,()=>{this._socket.setKeepAlive(!0),this._onConnect()}),n()}catch(o){return setImmediate(()=>this._onError(o,"ECONNECTION",!1,"CONN"))}})}quit(){this._sendCommand("QUIT"),this._responseActions.push(this.close)}close(){if(clearTimeout(this._connectionTimeout),clearTimeout(this._greetingTimeout),this._responseActions=[],this._closing)return;this._closing=!0;let t="end";this.stage==="init"&&(t="destroy"),this.logger.debug({tnx:"smtp"},'Closing connection to the server using "%s"',t);let r=this._socket&&this._socket.socket||this._socket;if(r&&!r.destroyed)try{this._socket[t]()}catch{}this._destroy()}login(t,r){let n=this._isDestroyedMessage("login");if(n)return r(this._formatError(n,"ECONNECTION",!1,"API"));if(this._auth=t||{},this._authMethod=(this._auth.method||"").toString().trim().toUpperCase()||!1,!this._authMethod&&this._auth.oauth2&&!this._auth.credentials?this._authMethod="XOAUTH2":(!this._authMethod||this._authMethod==="XOAUTH2"&&!this._auth.oauth2)&&(this._authMethod=(this._supportedAuth[0]||"PLAIN").toUpperCase().trim()),this._authMethod!=="XOAUTH2"&&(!this._auth.credentials||!this._auth.credentials.user||!this._auth.credentials.pass))if(this._auth.user&&this._auth.pass||this.customAuth.has(this._authMethod))this._auth.credentials={user:this._auth.user,pass:this._auth.pass,options:this._auth.options};else return r(this._formatError('Missing credentials for "'+this._authMethod+'"',"EAUTH",!1,"API"));if(this.customAuth.has(this._authMethod)){let i=this.customAuth.get(this._authMethod),s,o=!1,a=()=>{o||(o=!0,this.logger.info({tnx:"smtp",username:this._auth.user,action:"authenticated",method:this._authMethod},"User %s authenticated",JSON.stringify(this._auth.user)),this.authenticated=!0,r(null,!0))},c=d=>{o||(o=!0,r(this._formatError(d,"EAUTH",s,"AUTH "+this._authMethod)))},l=i({auth:this._auth,method:this._authMethod,extensions:[].concat(this._supportedExtensions),authMethods:[].concat(this._supportedAuth),maxAllowedSize:this._maxAllowedSize||!1,sendCommand:(d,p)=>{let m;return p||(m=new Promise((f,v)=>{p=jn.callbackPromise(f,v)})),this._responseActions.push(f=>{s=f;let v=f.match(/^(\d+)(?:\s(\d+\.\d+\.\d+))?\s/),y={command:d,response:f};v?(y.status=Number(v[1])||0,v[2]&&(y.code=v[2]),y.text=f.substr(v[0].length)):(y.text=f,y.status=0),p(null,y)}),setImmediate(()=>this._sendCommand(d)),m},resolve:a,reject:c});l&&typeof l.catch=="function"&&l.then(a).catch(c);return}switch(this._authMethod){case"XOAUTH2":this._handleXOauth2Token(!1,r);return;case"LOGIN":this._responseActions.push(i=>{this._actionAUTH_LOGIN_USER(i,r)}),this._sendCommand("AUTH LOGIN");return;case"PLAIN":this._responseActions.push(i=>{this._actionAUTHComplete(i,r)}),this._sendCommand("AUTH PLAIN "+Buffer.from("\0"+this._auth.credentials.user+"\0"+this._auth.credentials.pass,"utf-8").toString("base64"),"AUTH PLAIN "+Buffer.from("\0"+this._auth.credentials.user+"\0/* secret */","utf-8").toString("base64"));return;case"CRAM-MD5":this._responseActions.push(i=>{this._actionAUTH_CRAM_MD5(i,r)}),this._sendCommand("AUTH CRAM-MD5");return}return r(this._formatError('Unknown authentication method "'+this._authMethod+'"',"EAUTH",!1,"API"))}send(t,r,n){if(!r)return n(this._formatError("Empty message","EMESSAGE",!1,"API"));let i=this._isDestroyedMessage("send message");if(i)return n(this._formatError(i,"ECONNECTION",!1,"API"));if(this._maxAllowedSize&&t.size>this._maxAllowedSize)return setImmediate(()=>{n(this._formatError("Message size larger than allowed "+this._maxAllowedSize,"EMESSAGE",!1,"MAIL FROM"))});let s=!1,o=function(){s||(s=!0,n(...arguments))};typeof r.on=="function"&&r.on("error",c=>o(this._formatError(c,"ESTREAM",!1,"API")));let a=Date.now();this._setEnvelope(t,(c,l)=>{if(c)return o(c);let d=Date.now(),p=this._createSendStream((m,f)=>m?o(m):(l.envelopeTime=d-a,l.messageTime=Date.now()-d,l.messageSize=p.outByteCount,l.response=f,o(null,l)));typeof r.pipe=="function"?r.pipe(p):(p.write(r),p.end())})}reset(t){this._sendCommand("RSET"),this._responseActions.push(r=>r.charAt(0)!=="2"?t(this._formatError("Could not reset session state. response="+r,"EPROTOCOL",r,"RSET")):(this._envelope=!1,t(null,!0)))}_onConnect(){if(clearTimeout(this._connectionTimeout),this.logger.info({tnx:"network",localAddress:this._socket.localAddress,localPort:this._socket.localPort,remoteAddress:this._socket.remoteAddress,remotePort:this._socket.remotePort},"%s established to %s:%s",this.secure?"Secure connection":"Connection",this._socket.remoteAddress,this._socket.remotePort),this._destroyed){this.close();return}this.stage="connected",this._socket.removeListener("data",this._onSocketData),this._socket.removeListener("timeout",this._onSocketTimeout),this._socket.removeListener("close",this._onSocketClose),this._socket.removeListener("end",this._onSocketEnd),this._socket.on("data",this._onSocketData),this._socket.once("close",this._onSocketClose),this._socket.once("end",this._onSocketEnd),this._socket.setTimeout(this.options.socketTimeout||SI),this._socket.on("timeout",this._onSocketTimeout),this._greetingTimeout=setTimeout(()=>{this._socket&&!this._destroyed&&this._responseActions[0]===this._actionGreeting&&this._onError("Greeting never received","ETIMEDOUT",!1,"CONN")},this.options.greetingTimeout||wee),this._responseActions.push(this._actionGreeting),this._socket.resume()}_onData(t){if(this._destroyed||!t||!t.length)return;let r=(t||"").toString("binary"),n=(this._remainder+r).split(/\r?\n/),i;this._remainder=n.pop();for(let s=0,o=n.length;s<o;s++){if(this._responseQueue.length&&(i=this._responseQueue[this._responseQueue.length-1],/^\d+-/.test(i.split(`
`).pop()))){this._responseQueue[this._responseQueue.length-1]+=`
`+n[s];continue}this._responseQueue.push(n[s])}this._responseQueue.length&&(i=this._responseQueue[this._responseQueue.length-1],/^\d+-/.test(i.split(`
`).pop()))||this._processResponse()}_onError(t,r,n,i){clearTimeout(this._connectionTimeout),clearTimeout(this._greetingTimeout),!this._destroyed&&(t=this._formatError(t,r,n,i),this.logger.error(n,t.message),this.emit("error",t),this.close())}_formatError(t,r,n,i){let s;/Error\]$/i.test(Object.prototype.toString.call(t))?s=t:s=new Error(t),r&&r!=="Error"&&(s.code=r),n&&(s.response=n,s.message+=": "+n);let o=typeof n=="string"&&Number((n.match(/^\d+/)||[])[0])||!1;return o&&(s.responseCode=o),i&&(s.command=i),s}_onClose(){let t=!1;if(this._remainder&&this._remainder.trim()&&((this.options.debug||this.options.transactionLog)&&this.logger.debug({tnx:"server"},this._remainder.replace(/\r?\n$/,"")),this.lastServerResponse=t=this._remainder.trim()),this.logger.info({tnx:"network"},"Connection closed"),this.upgrading&&!this._destroyed)return this._onError(new Error("Connection closed unexpectedly"),"ETLS",t,"CONN");if(![this._actionGreeting,this.close].includes(this._responseActions[0])&&!this._destroyed)return this._onError(new Error("Connection closed unexpectedly"),"ECONNECTION",t,"CONN");if(/^[45]\d{2}\b/.test(t))return this._onError(new Error("Connection closed unexpectedly"),"ECONNECTION",t,"CONN");this._destroy()}_onEnd(){this._socket&&!this._socket.destroyed&&this._socket.destroy()}_onTimeout(){return this._onError(new Error("Timeout"),"ETIMEDOUT",!1,"CONN")}_destroy(){this._destroyed||(this._destroyed=!0,this.emit("end"))}_upgradeConnection(t){this._socket.removeListener("data",this._onSocketData),this._socket.removeListener("timeout",this._onSocketTimeout);let r=this._socket,n={socket:this._socket,host:this.host};Object.keys(this.options.tls||{}).forEach(i=>{n[i]=this.options.tls[i]}),this.servername&&!n.servername&&(n.servername=this.servername),this.upgrading=!0;try{this._socket=yI.connect(n,()=>(this.secure=!0,this.upgrading=!1,this._socket.on("data",this._onSocketData),r.removeListener("close",this._onSocketClose),r.removeListener("end",this._onSocketEnd),t(null,!0)))}catch(i){return t(i)}this._socket.on("error",this._onSocketError),this._socket.once("close",this._onSocketClose),this._socket.once("end",this._onSocketEnd),this._socket.setTimeout(this.options.socketTimeout||SI),this._socket.on("timeout",this._onSocketTimeout),r.resume()}_processResponse(){if(!this._responseQueue.length)return!1;let t=this.lastServerResponse=(this._responseQueue.shift()||"").toString();if(/^\d+-/.test(t.split(`
`).pop()))return;(this.options.debug||this.options.transactionLog)&&this.logger.debug({tnx:"server"},t.replace(/\r?\n$/,"")),t.trim()||setImmediate(()=>this._processResponse());let r=this._responseActions.shift();if(typeof r=="function")r.call(this,t),setImmediate(()=>this._processResponse());else return this._onError(new Error("Unexpected Response"),"EPROTOCOL",t,"CONN")}_sendCommand(t,r){if(!this._destroyed){if(this._socket.destroyed)return this.close();(this.options.debug||this.options.transactionLog)&&this.logger.debug({tnx:"client"},(r||t||"").toString().replace(/\r?\n$/,"")),this._socket.write(Buffer.from(t+`\r
`,"utf-8"))}}_setEnvelope(t,r){let n=[],i=!1;if(this._envelope=t||{},this._envelope.from=(this._envelope.from&&this._envelope.from.address||this._envelope.from||"").toString().trim(),this._envelope.to=[].concat(this._envelope.to||[]).map(s=>(s&&s.address||s||"").toString().trim()),!this._envelope.to.length)return r(this._formatError("No recipients defined","EENVELOPE",!1,"API"));if(this._envelope.from&&/[\r\n<>]/.test(this._envelope.from))return r(this._formatError("Invalid sender "+JSON.stringify(this._envelope.from),"EENVELOPE",!1,"API"));/[\x80-\uFFFF]/.test(this._envelope.from)&&(i=!0);for(let s=0,o=this._envelope.to.length;s<o;s++){if(!this._envelope.to[s]||/[\r\n<>]/.test(this._envelope.to[s]))return r(this._formatError("Invalid recipient "+JSON.stringify(this._envelope.to[s]),"EENVELOPE",!1,"API"));/[\x80-\uFFFF]/.test(this._envelope.to[s])&&(i=!0)}if(this._envelope.rcptQueue=JSON.parse(JSON.stringify(this._envelope.to||[])),this._envelope.rejected=[],this._envelope.rejectedErrors=[],this._envelope.accepted=[],this._envelope.dsn)try{this._envelope.dsn=this._setDsnEnvelope(this._envelope.dsn)}catch(s){return r(this._formatError("Invalid DSN "+s.message,"EENVELOPE",!1,"API"))}this._responseActions.push(s=>{this._actionMAIL(s,r)}),i&&this._supportedExtensions.includes("SMTPUTF8")&&(n.push("SMTPUTF8"),this._usingSmtpUtf8=!0),this._envelope.use8BitMime&&this._supportedExtensions.includes("8BITMIME")&&(n.push("BODY=8BITMIME"),this._using8BitMime=!0),this._envelope.size&&this._supportedExtensions.includes("SIZE")&&n.push("SIZE="+this._envelope.size),this._envelope.dsn&&this._supportedExtensions.includes("DSN")&&(this._envelope.dsn.ret&&n.push("RET="+jn.encodeXText(this._envelope.dsn.ret)),this._envelope.dsn.envid&&n.push("ENVID="+jn.encodeXText(this._envelope.dsn.envid))),this._sendCommand("MAIL FROM:<"+this._envelope.from+">"+(n.length?" "+n.join(" "):""))}_setDsnEnvelope(t){let r=(t.ret||t.return||"").toString().toUpperCase()||null;if(r)switch(r){case"HDRS":case"HEADERS":r="HDRS";break;case"FULL":case"BODY":r="FULL";break}if(r&&!["FULL","HDRS"].includes(r))throw new Error("ret: "+JSON.stringify(r));let n=(t.envid||t.id||"").toString()||null,i=t.notify||null;if(i){typeof i=="string"&&(i=i.split(",")),i=i.map(c=>c.trim().toUpperCase());let o=["NEVER","SUCCESS","FAILURE","DELAY"];if(i.filter(c=>!o.includes(c)).length||i.length>1&&i.includes("NEVER"))throw new Error("notify: "+JSON.stringify(i.join(",")));i=i.join(",")}let s=(t.recipient||t.orcpt||"").toString()||null;return s&&s.indexOf(";")<0&&(s="rfc822;"+s),{ret:r,envid:n,notify:i,orcpt:s}}_getDsnRcptToArgs(){let t=[];return this._envelope.dsn&&this._supportedExtensions.includes("DSN")&&(this._envelope.dsn.notify&&t.push("NOTIFY="+jn.encodeXText(this._envelope.dsn.notify)),this._envelope.dsn.orcpt&&t.push("ORCPT="+jn.encodeXText(this._envelope.dsn.orcpt))),t.length?" "+t.join(" "):""}_createSendStream(t){let r=new xee,n;return this.options.lmtp?this._envelope.accepted.forEach((i,s)=>{let o=s===this._envelope.accepted.length-1;this._responseActions.push(a=>{this._actionLMTPStream(i,o,a,t)})}):this._responseActions.push(i=>{this._actionSMTPStream(i,t)}),r.pipe(this._socket,{end:!1}),this.options.debug&&(n=new bee,n.on("readable",()=>{let i;for(;i=n.read();)this.logger.debug({tnx:"message"},i.toString("binary").replace(/\r?\n$/,""))}),r.pipe(n)),r.once("end",()=>{this.logger.info({tnx:"message",inByteCount:r.inByteCount,outByteCount:r.outByteCount},"<%s bytes encoded mime message (source size %s bytes)>",r.outByteCount,r.inByteCount)}),r}_actionGreeting(t){if(clearTimeout(this._greetingTimeout),t.substr(0,3)!=="220"){this._onError(new Error("Invalid greeting. response="+t),"EPROTOCOL",t,"CONN");return}this.options.lmtp?(this._responseActions.push(this._actionLHLO),this._sendCommand("LHLO "+this.name)):(this._responseActions.push(this._actionEHLO),this._sendCommand("EHLO "+this.name))}_actionLHLO(t){if(t.charAt(0)!=="2"){this._onError(new Error("Invalid LHLO. response="+t),"EPROTOCOL",t,"LHLO");return}this._actionEHLO(t)}_actionEHLO(t){let r;if(t.substr(0,3)==="421"){this._onError(new Error("Server terminates connection. response="+t),"ECONNECTION",t,"EHLO");return}if(t.charAt(0)!=="2"){if(this.options.requireTLS){this._onError(new Error("EHLO failed but HELO does not support required STARTTLS. response="+t),"ECONNECTION",t,"EHLO");return}this._responseActions.push(this._actionHELO),this._sendCommand("HELO "+this.name);return}if(this._ehloLines=t.split(/\r?\n/).map(n=>n.replace(/^\d+[ -]/,"").trim()).filter(n=>n).slice(1),!this.secure&&!this.options.ignoreTLS&&(/[ -]STARTTLS\b/im.test(t)||this.options.requireTLS)){this._sendCommand("STARTTLS"),this._responseActions.push(this._actionSTARTTLS);return}/[ -]SMTPUTF8\b/im.test(t)&&this._supportedExtensions.push("SMTPUTF8"),/[ -]DSN\b/im.test(t)&&this._supportedExtensions.push("DSN"),/[ -]8BITMIME\b/im.test(t)&&this._supportedExtensions.push("8BITMIME"),/[ -]PIPELINING\b/im.test(t)&&this._supportedExtensions.push("PIPELINING"),/[ -]AUTH\b/i.test(t)&&(this.allowsAuth=!0),/[ -]AUTH(?:(\s+|=)[^\n]*\s+|\s+|=)PLAIN/i.test(t)&&this._supportedAuth.push("PLAIN"),/[ -]AUTH(?:(\s+|=)[^\n]*\s+|\s+|=)LOGIN/i.test(t)&&this._supportedAuth.push("LOGIN"),/[ -]AUTH(?:(\s+|=)[^\n]*\s+|\s+|=)CRAM-MD5/i.test(t)&&this._supportedAuth.push("CRAM-MD5"),/[ -]AUTH(?:(\s+|=)[^\n]*\s+|\s+|=)XOAUTH2/i.test(t)&&this._supportedAuth.push("XOAUTH2"),(r=t.match(/[ -]SIZE(?:[ \t]+(\d+))?/im))&&(this._supportedExtensions.push("SIZE"),this._maxAllowedSize=Number(r[1])||0),this.emit("connect")}_actionHELO(t){if(t.charAt(0)!=="2"){this._onError(new Error("Invalid HELO. response="+t),"EPROTOCOL",t,"HELO");return}this.allowsAuth=!0,this.emit("connect")}_actionSTARTTLS(t){if(t.charAt(0)!=="2"){if(this.options.opportunisticTLS)return this.logger.info({tnx:"smtp"},"Failed STARTTLS upgrade, continuing unencrypted"),this.emit("connect");this._onError(new Error("Error upgrading connection with STARTTLS"),"ETLS",t,"STARTTLS");return}this._upgradeConnection((r,n)=>{if(r){this._onError(new Error("Error initiating TLS - "+(r.message||r)),"ETLS",!1,"STARTTLS");return}this.logger.info({tnx:"smtp"},"Connection upgraded with STARTTLS"),n?this.options.lmtp?(this._responseActions.push(this._actionLHLO),this._sendCommand("LHLO "+this.name)):(this._responseActions.push(this._actionEHLO),this._sendCommand("EHLO "+this.name)):this.emit("connect")})}_actionAUTH_LOGIN_USER(t,r){if(!/^334[ -]/.test(t)){r(this._formatError('Invalid login sequence while waiting for "334 VXNlcm5hbWU6"',"EAUTH",t,"AUTH LOGIN"));return}this._responseActions.push(n=>{this._actionAUTH_LOGIN_PASS(n,r)}),this._sendCommand(Buffer.from(this._auth.credentials.user+"","utf-8").toString("base64"))}_actionAUTH_CRAM_MD5(t,r){let n=t.match(/^334\s+(.+)$/),i="";if(n)i=n[1];else return r(this._formatError("Invalid login sequence while waiting for server challenge string","EAUTH",t,"AUTH CRAM-MD5"));let s=Buffer.from(i,"base64").toString("ascii"),o=EI.createHmac("md5",this._auth.credentials.pass);o.update(s);let a=this._auth.credentials.user+" "+o.digest("hex");this._responseActions.push(c=>{this._actionAUTH_CRAM_MD5_PASS(c,r)}),this._sendCommand(Buffer.from(a).toString("base64"),Buffer.from(this._auth.credentials.user+" /* secret */").toString("base64"))}_actionAUTH_CRAM_MD5_PASS(t,r){if(!t.match(/^235\s+/))return r(this._formatError('Invalid login sequence while waiting for "235"',"EAUTH",t,"AUTH CRAM-MD5"));this.logger.info({tnx:"smtp",username:this._auth.user,action:"authenticated",method:this._authMethod},"User %s authenticated",JSON.stringify(this._auth.user)),this.authenticated=!0,r(null,!0)}_actionAUTH_LOGIN_PASS(t,r){if(!/^334[ -]/.test(t))return r(this._formatError('Invalid login sequence while waiting for "334 UGFzc3dvcmQ6"',"EAUTH",t,"AUTH LOGIN"));this._responseActions.push(n=>{this._actionAUTHComplete(n,r)}),this._sendCommand(Buffer.from((this._auth.credentials.pass||"").toString(),"utf-8").toString("base64"),Buffer.from("/* secret */","utf-8").toString("base64"))}_actionAUTHComplete(t,r,n){if(!n&&typeof r=="function"&&(n=r,r=!1),t.substr(0,3)==="334"){this._responseActions.push(i=>{r||this._authMethod!=="XOAUTH2"?this._actionAUTHComplete(i,!0,n):setImmediate(()=>this._handleXOauth2Token(!0,n))}),this._sendCommand("");return}if(t.charAt(0)!=="2")return this.logger.info({tnx:"smtp",username:this._auth.user,action:"authfail",method:this._authMethod},"User %s failed to authenticate",JSON.stringify(this._auth.user)),n(this._formatError("Invalid login","EAUTH",t,"AUTH "+this._authMethod));this.logger.info({tnx:"smtp",username:this._auth.user,action:"authenticated",method:this._authMethod},"User %s authenticated",JSON.stringify(this._auth.user)),this.authenticated=!0,n(null,!0)}_actionMAIL(t,r){let n,i;if(Number(t.charAt(0))!==2)return this._usingSmtpUtf8&&/^550 /.test(t)&&/[\x80-\uFFFF]/.test(this._envelope.from)?n="Internationalized mailbox name not allowed":n="Mail command failed",r(this._formatError(n,"EENVELOPE",t,"MAIL FROM"));if(this._envelope.rcptQueue.length)if(this._recipientQueue=[],this._supportedExtensions.includes("PIPELINING"))for(;this._envelope.rcptQueue.length;)i=this._envelope.rcptQueue.shift(),this._recipientQueue.push(i),this._responseActions.push(s=>{this._actionRCPT(s,r)}),this._sendCommand("RCPT TO:<"+i+">"+this._getDsnRcptToArgs());else i=this._envelope.rcptQueue.shift(),this._recipientQueue.push(i),this._responseActions.push(s=>{this._actionRCPT(s,r)}),this._sendCommand("RCPT TO:<"+i+">"+this._getDsnRcptToArgs());else return r(this._formatError("Can't send mail - no recipients defined","EENVELOPE",!1,"API"))}_actionRCPT(t,r){let n,i,s=this._recipientQueue.shift();if(Number(t.charAt(0))!==2?(this._usingSmtpUtf8&&/^553 /.test(t)&&/[\x80-\uFFFF]/.test(s)?n="Internationalized mailbox name not allowed":n="Recipient command failed",this._envelope.rejected.push(s),i=this._formatError(n,"EENVELOPE",t,"RCPT TO"),i.recipient=s,this._envelope.rejectedErrors.push(i)):this._envelope.accepted.push(s),!this._envelope.rcptQueue.length&&!this._recipientQueue.length)if(this._envelope.rejected.length<this._envelope.to.length)this._responseActions.push(o=>{this._actionDATA(o,r)}),this._sendCommand("DATA");else return i=this._formatError("Can't send mail - all recipients were rejected","EENVELOPE",t,"RCPT TO"),i.rejected=this._envelope.rejected,i.rejectedErrors=this._envelope.rejectedErrors,r(i);else this._envelope.rcptQueue.length&&(s=this._envelope.rcptQueue.shift(),this._recipientQueue.push(s),this._responseActions.push(o=>{this._actionRCPT(o,r)}),this._sendCommand("RCPT TO:<"+s+">"+this._getDsnRcptToArgs()))}_actionDATA(t,r){if(!/^[23]/.test(t))return r(this._formatError("Data command failed","EENVELOPE",t,"DATA"));let n={accepted:this._envelope.accepted,rejected:this._envelope.rejected};this._ehloLines&&this._ehloLines.length&&(n.ehlo=this._ehloLines),this._envelope.rejectedErrors.length&&(n.rejectedErrors=this._envelope.rejectedErrors),r(null,n)}_actionSMTPStream(t,r){return Number(t.charAt(0))!==2?r(this._formatError("Message failed","EMESSAGE",t,"DATA")):r(null,t)}_actionLMTPStream(t,r,n,i){let s;if(Number(n.charAt(0))!==2){s=this._formatError("Message failed for recipient "+t,"EMESSAGE",n,"DATA"),s.recipient=t,this._envelope.rejected.push(t),this._envelope.rejectedErrors.push(s);for(let o=0,a=this._envelope.accepted.length;o<a;o++)this._envelope.accepted[o]===t&&this._envelope.accepted.splice(o,1)}if(r)return i(null,n)}_handleXOauth2Token(t,r){this._auth.oauth2.getToken(t,(n,i)=>{if(n)return this.logger.info({tnx:"smtp",username:this._auth.user,action:"authfail",method:this._authMethod},"User %s failed to authenticate",JSON.stringify(this._auth.user)),r(this._formatError(n,"EAUTH",!1,"AUTH XOAUTH2"));this._responseActions.push(s=>{this._actionAUTHComplete(s,t,r)}),this._sendCommand("AUTH XOAUTH2 "+this._auth.oauth2.buildXOAuth2Token(i),"AUTH XOAUTH2 "+this._auth.oauth2.buildXOAuth2Token("/* secret */"))})}_isDestroyedMessage(t){if(this._destroyed)return"Cannot "+t+" - smtp connection is already destroyed.";if(this._socket){if(this._socket.destroyed)return"Cannot "+t+" - smtp connection socket is already destroyed.";if(!this._socket.writable)return"Cannot "+t+" - smtp connection socket is already half-closed."}}_getHostname(){let t;try{t=See.hostname()||""}catch{t="localhost"}return(!t||t.indexOf(".")<0)&&(t="[127.0.0.1]"),t.match(/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/)&&(t="["+t+"]"),t}};xI.exports=N_});var k_=g((kNe,bI)=>{"use strict";var Pee=require("stream").Stream,Tee=pl(),Aee=require("crypto"),Iee=It(),$_=class extends Pee{constructor(t,r){if(super(),this.options=t||{},t&&t.serviceClient){if(!t.privateKey||!t.user){setImmediate(()=>this.emit("error",new Error('Options "privateKey" and "user" are required for service account!')));return}let n=Math.min(Math.max(Number(this.options.serviceRequestTimeout)||0,0),3600);this.options.serviceRequestTimeout=n||5*60}if(this.logger=Iee.getLogger({logger:r},{component:this.options.component||"OAuth2"}),this.provisionCallback=typeof this.options.provisionCallback=="function"?this.options.provisionCallback:!1,this.options.accessUrl=this.options.accessUrl||"https://accounts.google.com/o/oauth2/token",this.options.customHeaders=this.options.customHeaders||{},this.options.customParams=this.options.customParams||{},this.accessToken=this.options.accessToken||!1,this.options.expires&&Number(this.options.expires))this.expires=this.options.expires;else{let n=Math.max(Number(this.options.timeout)||0,0);this.expires=n&&Date.now()+n*1e3||0}}getToken(t,r){if(!t&&this.accessToken&&(!this.expires||this.expires>Date.now()))return r(null,this.accessToken);let n=(...i)=>{i[0]?this.logger.error({err:i[0],tnx:"OAUTH2",user:this.options.user,action:"renew"},"Failed generating new Access Token for %s",this.options.user):this.logger.info({tnx:"OAUTH2",user:this.options.user,action:"renew"},"Generated new Access Token for %s",this.options.user),r(...i)};this.provisionCallback?this.provisionCallback(this.options.user,!!t,(i,s,o)=>{!i&&s&&(this.accessToken=s,this.expires=o||0),n(i,s)}):this.generateToken(n)}updateToken(t,r){this.accessToken=t,r=Math.max(Number(r)||0,0),this.expires=r&&Date.now()+r*1e3||0,this.emit("token",{user:this.options.user,accessToken:t||"",expires:this.expires})}generateToken(t){let r,n;if(this.options.serviceClient){let i=Math.floor(Date.now()/1e3),s={iss:this.options.serviceClient,scope:this.options.scope||"https://mail.google.com/",sub:this.options.user,aud:this.options.accessUrl,iat:i,exp:i+this.options.serviceRequestTimeout},o;try{o=this.jwtSignRS256(s)}catch{return t(new Error("Can't generate token. Check your auth options"))}r={grant_type:"urn:ietf:params:oauth:grant-type:jwt-bearer",assertion:o},n={grant_type:"urn:ietf:params:oauth:grant-type:jwt-bearer",assertion:s}}else{if(!this.options.refreshToken)return t(new Error("Can't create new access token for user"));r={client_id:this.options.clientId||"",client_secret:this.options.clientSecret||"",refresh_token:this.options.refreshToken,grant_type:"refresh_token"},n={client_id:this.options.clientId||"",client_secret:(this.options.clientSecret||"").substr(0,6)+"...",refresh_token:(this.options.refreshToken||"").substr(0,6)+"...",grant_type:"refresh_token"}}Object.keys(this.options.customParams).forEach(i=>{r[i]=this.options.customParams[i],n[i]=this.options.customParams[i]}),this.logger.debug({tnx:"OAUTH2",user:this.options.user,action:"generate"},"Requesting token using: %s",JSON.stringify(n)),this.postRequest(this.options.accessUrl,r,this.options,(i,s)=>{let o;if(i)return t(i);try{o=JSON.parse(s.toString())}catch(c){return t(c)}if(!o||typeof o!="object")return this.logger.debug({tnx:"OAUTH2",user:this.options.user,action:"post"},"Response: %s",(s||"").toString()),t(new Error("Invalid authentication response"));let a={};if(Object.keys(o).forEach(c=>{c!=="access_token"?a[c]=o[c]:a[c]=(o[c]||"").toString().substr(0,6)+"..."}),this.logger.debug({tnx:"OAUTH2",user:this.options.user,action:"post"},"Response: %s",JSON.stringify(a)),o.error){let c=o.error;return o.error_description&&(c+=": "+o.error_description),o.error_uri&&(c+=" ("+o.error_uri+")"),t(new Error(c))}return o.access_token?(this.updateToken(o.access_token,o.expires_in),t(null,this.accessToken)):t(new Error("No access token"))})}buildXOAuth2Token(t){let r=["user="+(this.options.user||""),"auth=Bearer "+(t||this.accessToken),"",""];return Buffer.from(r.join(""),"utf-8").toString("base64")}postRequest(t,r,n,i){let s=!1,o=[],a=0,c=Tee(t,{method:"post",headers:n.customHeaders,body:r,allowErrorResponse:!0});c.on("readable",()=>{let l;for(;(l=c.read())!==null;)o.push(l),a+=l.length}),c.once("error",l=>{if(!s)return s=!0,i(l)}),c.once("end",()=>{if(!s)return s=!0,i(null,Buffer.concat(o,a))})}toBase64URL(t){return typeof t=="string"&&(t=Buffer.from(t)),t.toString("base64").replace(/[=]+/g,"").replace(/\+/g,"-").replace(/\//g,"_")}jwtSignRS256(t){t=['{"alg":"RS256","typ":"JWT"}',JSON.stringify(t)].map(n=>this.toBase64URL(n)).join(".");let r=Aee.createSign("RSA-SHA256").update(t).sign(this.options.privateKey);return t+"."+this.toBase64URL(r)}};bI.exports=$_});var wI=g((MNe,CI)=>{"use strict";var Oee=yp(),Dee=It().assign,Nee=k_(),$ee=require("events"),M_=class extends $ee{constructor(t){if(super(),this.pool=t,this.options=t.options,this.logger=this.pool.logger,this.options.auth)switch((this.options.auth.type||"").toString().toUpperCase()){case"OAUTH2":{let r=new Nee(this.options.auth,this.logger);r.provisionCallback=this.pool.mailer&&this.pool.mailer.get("oauth2_provision_cb")||r.provisionCallback,this.auth={type:"OAUTH2",user:this.options.auth.user,oauth2:r,method:"XOAUTH2"},r.on("token",n=>this.pool.mailer.emit("token",n)),r.on("error",n=>this.emit("error",n));break}default:if(!this.options.auth.user&&!this.options.auth.pass)break;this.auth={type:(this.options.auth.type||"").toString().toUpperCase()||"LOGIN",user:this.options.auth.user,credentials:{user:this.options.auth.user||"",pass:this.options.auth.pass,options:this.options.auth.options},method:(this.options.auth.method||"").trim().toUpperCase()||this.options.authMethod||!1}}this._connection=!1,this._connected=!1,this.messages=0,this.available=!0}connect(t){this.pool.getSocket(this.options,(r,n)=>{if(r)return t(r);let i=!1,s=this.options;n&&n.connection&&(this.logger.info({tnx:"proxy",remoteAddress:n.connection.remoteAddress,remotePort:n.connection.remotePort,destHost:s.host||"",destPort:s.port||"",action:"connected"},"Using proxied socket from %s:%s to %s:%s",n.connection.remoteAddress,n.connection.remotePort,s.host||"",s.port||""),s=Dee(!1,s),Object.keys(n).forEach(o=>{s[o]=n[o]})),this.connection=new Oee(s),this.connection.once("error",o=>{if(this.emit("error",o),!i)return i=!0,t(o)}),this.connection.once("end",()=>{if(this.close(),i)return;i=!0;let o=setTimeout(()=>{if(i)return;let a=new Error("Unexpected socket close");this.connection&&this.connection._socket&&this.connection._socket.upgrading&&(a.code="ETLS"),t(a)},1e3);try{o.unref()}catch{}}),this.connection.connect(()=>{if(!i)if(this.auth&&(this.connection.allowsAuth||s.forceAuth))this.connection.login(this.auth,o=>{if(!i){if(i=!0,o)return this.connection.close(),this.emit("error",o),t(o);this._connected=!0,t(null,!0)}});else return i=!0,this._connected=!0,t(null,!0)})})}send(t,r){if(!this._connected)return this.connect(o=>o?r(o):this.send(t,r));let n=t.message.getEnvelope(),i=t.message.messageId(),s=[].concat(n.to||[]);s.length>3&&s.push("...and "+s.splice(2).length+" more"),this.logger.info({tnx:"send",messageId:i,cid:this.id},"Sending message %s using #%s to <%s>",i,this.id,s.join(", ")),t.data.dsn&&(n.dsn=t.data.dsn),this.connection.send(n,t.message.createReadStream(),(o,a)=>{if(this.messages++,o)return this.connection.close(),this.emit("error",o),r(o);a.envelope={from:n.from,to:n.to},a.messageId=i,setImmediate(()=>{let c;this.messages>=this.options.maxMessages?(c=new Error("Resource exhausted"),c.code="EMAXLIMIT",this.connection.close(),this.emit("error",c)):this.pool._checkRateLimit(()=>{this.available=!0,this.emit("available")})}),r(null,a)})}close(){this._connected=!1,this.auth&&this.auth.oauth2&&this.auth.oauth2.removeAllListeners(),this.connection&&this.connection.close(),this.emit("close")}};CI.exports=M_});var RI=g((jNe,kee)=>{kee.exports={"1und1":{host:"smtp.1und1.de",port:465,secure:!0,authMethod:"LOGIN"},Aliyun:{domains:["aliyun.com"],host:"smtp.aliyun.com",port:465,secure:!0},AOL:{domains:["aol.com"],host:"smtp.aol.com",port:587},Bluewin:{host:"smtpauths.bluewin.ch",domains:["bluewin.ch"],port:465},DebugMail:{host:"debugmail.io",port:25},DynectEmail:{aliases:["Dynect"],host:"smtp.dynect.net",port:25},Ethereal:{aliases:["ethereal.email"],host:"smtp.ethereal.email",port:587},FastMail:{domains:["fastmail.fm"],host:"smtp.fastmail.com",port:465,secure:!0},"Forward Email":{aliases:["FE","ForwardEmail"],domains:["forwardemail.net"],host:"smtp.forwardemail.net",port:465,secure:!0},GandiMail:{aliases:["Gandi","Gandi Mail"],host:"mail.gandi.net",port:587},Gmail:{aliases:["Google Mail"],domains:["gmail.com","googlemail.com"],host:"smtp.gmail.com",port:465,secure:!0},Godaddy:{host:"smtpout.secureserver.net",port:25},GodaddyAsia:{host:"smtp.asia.secureserver.net",port:25},GodaddyEurope:{host:"smtp.europe.secureserver.net",port:25},"hot.ee":{host:"mail.hot.ee"},Hotmail:{aliases:["Outlook","Outlook.com","Hotmail.com"],domains:["hotmail.com","outlook.com"],host:"smtp-mail.outlook.com",port:587},iCloud:{aliases:["Me","Mac"],domains:["me.com","mac.com"],host:"smtp.mail.me.com",port:587},Infomaniak:{host:"mail.infomaniak.com",domains:["ik.me","ikmail.com","etik.com"],port:587},"mail.ee":{host:"smtp.mail.ee"},"Mail.ru":{host:"smtp.mail.ru",port:465,secure:!0},"Mailcatch.app":{host:"sandbox-smtp.mailcatch.app",port:2525},Maildev:{port:1025,ignoreTLS:!0},Mailgun:{host:"smtp.mailgun.org",port:465,secure:!0},Mailjet:{host:"in.mailjet.com",port:587},Mailosaur:{host:"mailosaur.io",port:25},Mailtrap:{host:"smtp.mailtrap.io",port:2525},Mandrill:{host:"smtp.mandrillapp.com",port:587},Naver:{host:"smtp.naver.com",port:587},One:{host:"send.one.com",port:465,secure:!0},OpenMailBox:{aliases:["OMB","openmailbox.org"],host:"smtp.openmailbox.org",port:465,secure:!0},Outlook365:{host:"smtp.office365.com",port:587,secure:!1},OhMySMTP:{host:"smtp.ohmysmtp.com",port:587,secure:!1},Postmark:{aliases:["PostmarkApp"],host:"smtp.postmarkapp.com",port:2525},"qiye.aliyun":{host:"smtp.mxhichina.com",port:"465",secure:!0},QQ:{domains:["qq.com"],host:"smtp.qq.com",port:465,secure:!0},QQex:{aliases:["QQ Enterprise"],domains:["exmail.qq.com"],host:"smtp.exmail.qq.com",port:465,secure:!0},SendCloud:{host:"smtp.sendcloud.net",port:2525},SendGrid:{host:"smtp.sendgrid.net",port:587},SendinBlue:{aliases:["Brevo"],host:"smtp-relay.brevo.com",port:587},SendPulse:{host:"smtp-pulse.com",port:465,secure:!0},SES:{host:"email-smtp.us-east-1.amazonaws.com",port:465,secure:!0},"SES-US-EAST-1":{host:"email-smtp.us-east-1.amazonaws.com",port:465,secure:!0},"SES-US-WEST-2":{host:"email-smtp.us-west-2.amazonaws.com",port:465,secure:!0},"SES-EU-WEST-1":{host:"email-smtp.eu-west-1.amazonaws.com",port:465,secure:!0},"SES-AP-SOUTH-1":{host:"email-smtp.ap-south-1.amazonaws.com",port:465,secure:!0},"SES-AP-NORTHEAST-1":{host:"email-smtp.ap-northeast-1.amazonaws.com",port:465,secure:!0},"SES-AP-NORTHEAST-2":{host:"email-smtp.ap-northeast-2.amazonaws.com",port:465,secure:!0},"SES-AP-NORTHEAST-3":{host:"email-smtp.ap-northeast-3.amazonaws.com",port:465,secure:!0},"SES-AP-SOUTHEAST-1":{host:"email-smtp.ap-southeast-1.amazonaws.com",port:465,secure:!0},"SES-AP-SOUTHEAST-2":{host:"email-smtp.ap-southeast-2.amazonaws.com",port:465,secure:!0},Sparkpost:{aliases:["SparkPost","SparkPost Mail"],domains:["sparkpost.com"],host:"smtp.sparkpostmail.com",port:587,secure:!1},Tipimail:{host:"smtp.tipimail.com",port:587},Yahoo:{domains:["yahoo.com"],host:"smtp.mail.yahoo.com",port:465,secure:!0},Yandex:{domains:["yandex.ru"],host:"smtp.yandex.ru",port:465,secure:!0},Zoho:{host:"smtp.zoho.com",port:465,secure:!0,authMethod:"LOGIN"},"126":{host:"smtp.126.com",port:465,secure:!0},"163":{host:"smtp.163.com",port:465,secure:!0}}});var q_=g((qNe,TI)=>{"use strict";var PI=RI(),Ep={};Object.keys(PI).forEach(e=>{let t=PI[e];Ep[Sp(e)]=j_(t),[].concat(t.aliases||[]).forEach(r=>{Ep[Sp(r)]=j_(t)}),[].concat(t.domains||[]).forEach(r=>{Ep[Sp(r)]=j_(t)})});function Sp(e){return e.replace(/[^a-zA-Z0-9.-]/g,"").toLowerCase()}function j_(e){let t=["domains","aliases"],r={};return Object.keys(e).forEach(n=>{t.indexOf(n)<0&&(r[n]=e[n])}),r}TI.exports=function(e){return e=Sp(e.split("@").pop()),Ep[e]||!1}});var DI=g((LNe,OI)=>{"use strict";var Mee=require("events"),AI=wI(),II=yp(),jee=q_(),_l=It(),qee=Ir(),L_=class extends Mee{constructor(t){super(),t=t||{},typeof t=="string"&&(t={url:t});let r,n=t.service;typeof t.getSocket=="function"&&(this.getSocket=t.getSocket),t.url&&(r=_l.parseConnectionUrl(t.url),n=n||r.service),this.options=_l.assign(!1,t,r,n&&jee(n)),this.options.maxConnections=this.options.maxConnections||5,this.options.maxMessages=this.options.maxMessages||100,this.logger=_l.getLogger(this.options,{component:this.options.component||"smtp-pool"});let i=new II(this.options);this.name="SMTP (pool)",this.version=qee.version+"[client:"+i.version+"]",this._rateLimit={counter:0,timeout:null,waiting:[],checkpoint:!1,delta:Number(this.options.rateDelta)||1e3,limit:Number(this.options.rateLimit)||0},this._closed=!1,this._queue=[],this._connections=[],this._connectionCounter=0,this.idling=!0,setImmediate(()=>{this.idling&&this.emit("idle")})}getSocket(t,r){return setImmediate(()=>r(null,!1))}send(t,r){return this._closed?!1:(this._queue.push({mail:t,requeueAttempts:0,callback:r}),this.idling&&this._queue.length>=this.options.maxConnections&&(this.idling=!1),setImmediate(()=>this._processMessages()),!0)}close(){let t,r=this._connections.length;if(this._closed=!0,clearTimeout(this._rateLimit.timeout),!r&&!this._queue.length)return;for(let i=r-1;i>=0;i--)this._connections[i]&&this._connections[i].available&&(t=this._connections[i],t.close(),this.logger.info({tnx:"connection",cid:t.id,action:"removed"},"Connection #%s removed",t.id));if(r&&!this._connections.length&&this.logger.debug({tnx:"connection"},"All connections removed"),!this._queue.length)return;let n=()=>{if(!this._queue.length){this.logger.debug({tnx:"connection"},"Pending queue entries cleared");return}let i=this._queue.shift();if(i&&typeof i.callback=="function")try{i.callback(new Error("Connection pool was closed"))}catch(s){this.logger.error({err:s,tnx:"callback",cid:t.id},"Callback error for #%s: %s",t.id,s.message)}setImmediate(n)};setImmediate(n)}_processMessages(){let t,r,n;if(this._closed)return;if(!this._queue.length){this.idling||(this.idling=!0,this.emit("idle"));return}for(r=0,n=this._connections.length;r<n;r++)if(this._connections[r].available){t=this._connections[r];break}if(!t&&this._connections.length<this.options.maxConnections&&(t=this._createConnection()),!t){this.idling=!1;return}!this.idling&&this._queue.length<this.options.maxConnections&&(this.idling=!0,this.emit("idle"));let i=t.queueEntry=this._queue.shift();i.messageId=(t.queueEntry.mail.message.getHeader("message-id")||"").replace(/[<>\s]/g,""),t.available=!1,this.logger.debug({tnx:"pool",cid:t.id,messageId:i.messageId,action:"assign"},"Assigned message <%s> to #%s (%s)",i.messageId,t.id,t.messages+1),this._rateLimit.limit&&(this._rateLimit.counter++,this._rateLimit.checkpoint||(this._rateLimit.checkpoint=Date.now())),t.send(i.mail,(s,o)=>{if(i===t.queueEntry){try{i.callback(s,o)}catch(a){this.logger.error({err:a,tnx:"callback",cid:t.id},"Callback error for #%s: %s",t.id,a.message)}t.queueEntry=!1}})}_createConnection(){let t=new AI(this);return t.id=++this._connectionCounter,this.logger.info({tnx:"pool",cid:t.id,action:"conection"},"Created new pool resource #%s",t.id),t.on("available",()=>{this.logger.debug({tnx:"connection",cid:t.id,action:"available"},"Connection #%s became available",t.id),this._closed?this.close():this._processMessages()}),t.once("error",r=>{if(r.code!=="EMAXLIMIT"?this.logger.error({err:r,tnx:"pool",cid:t.id},"Pool Error for #%s: %s",t.id,r.message):this.logger.debug({tnx:"pool",cid:t.id,action:"maxlimit"},"Max messages limit exchausted for #%s",t.id),t.queueEntry){try{t.queueEntry.callback(r)}catch(n){this.logger.error({err:n,tnx:"callback",cid:t.id},"Callback error for #%s: %s",t.id,n.message)}t.queueEntry=!1}this._removeConnection(t),this._continueProcessing()}),t.once("close",()=>{this.logger.info({tnx:"connection",cid:t.id,action:"closed"},"Connection #%s was closed",t.id),this._removeConnection(t),t.queueEntry?setTimeout(()=>{t.queueEntry&&(this._shouldRequeuOnConnectionClose(t.queueEntry)?this._requeueEntryOnConnectionClose(t):this._failDeliveryOnConnectionClose(t)),this._continueProcessing()},50):this._continueProcessing()}),this._connections.push(t),t}_shouldRequeuOnConnectionClose(t){return this.options.maxRequeues===void 0||this.options.maxRequeues<0?!0:t.requeueAttempts<this.options.maxRequeues}_failDeliveryOnConnectionClose(t){if(t.queueEntry&&t.queueEntry.callback){try{t.queueEntry.callback(new Error("Reached maximum number of retries after connection was closed"))}catch(r){this.logger.error({err:r,tnx:"callback",messageId:t.queueEntry.messageId,cid:t.id},"Callback error for #%s: %s",t.id,r.message)}t.queueEntry=!1}}_requeueEntryOnConnectionClose(t){t.queueEntry.requeueAttempts=t.queueEntry.requeueAttempts+1,this.logger.debug({tnx:"pool",cid:t.id,messageId:t.queueEntry.messageId,action:"requeue"},"Re-queued message <%s> for #%s. Attempt: #%s",t.queueEntry.messageId,t.id,t.queueEntry.requeueAttempts),this._queue.unshift(t.queueEntry),t.queueEntry=!1}_continueProcessing(){this._closed?this.close():setTimeout(()=>this._processMessages(),100)}_removeConnection(t){let r=this._connections.indexOf(t);r!==-1&&this._connections.splice(r,1)}_checkRateLimit(t){if(!this._rateLimit.limit)return t();let r=Date.now();if(this._rateLimit.counter<this._rateLimit.limit)return t();if(this._rateLimit.waiting.push(t),this._rateLimit.checkpoint<=r-this._rateLimit.delta)return this._clearRateLimit();this._rateLimit.timeout||(this._rateLimit.timeout=setTimeout(()=>this._clearRateLimit(),this._rateLimit.delta-(r-this._rateLimit.checkpoint)),this._rateLimit.checkpoint=r)}_clearRateLimit(){for(clearTimeout(this._rateLimit.timeout),this._rateLimit.timeout=null,this._rateLimit.counter=0,this._rateLimit.checkpoint=!1;this._rateLimit.waiting.length;){let t=this._rateLimit.waiting.shift();setImmediate(t)}}isIdle(){return this.idling}verify(t){let r;t||(r=new Promise((i,s)=>{t=_l.callbackPromise(i,s)}));let n=new AI(this).auth;return this.getSocket(this.options,(i,s)=>{if(i)return t(i);let o=this.options;s&&s.connection&&(this.logger.info({tnx:"proxy",remoteAddress:s.connection.remoteAddress,remotePort:s.connection.remotePort,destHost:o.host||"",destPort:o.port||"",action:"connected"},"Using proxied socket from %s:%s to %s:%s",s.connection.remoteAddress,s.connection.remotePort,o.host||"",o.port||""),o=_l.assign(!1,o),Object.keys(s).forEach(d=>{o[d]=s[d]}));let a=new II(o),c=!1;a.once("error",d=>{if(!c)return c=!0,a.close(),t(d)}),a.once("end",()=>{if(!c)return c=!0,t(new Error("Connection closed"))});let l=()=>{if(!c)return c=!0,a.quit(),t(null,!0)};a.connect(()=>{if(!c)if(n&&(a.allowsAuth||o.forceAuth))a.login(n,d=>{if(!c){if(d)return c=!0,a.close(),t(d);l()}});else if(!n&&a.allowsAuth&&o.forceAuth){let d=new Error("Authentication info was not provided");return d.code="NoAuth",c=!0,a.close(),t(d)}else l()})}),r}};OI.exports=L_});var $I=g((FNe,NI)=>{"use strict";var Lee=require("events"),F_=yp(),Fee=q_(),Eo=It(),Uee=k_(),zee=Ir(),U_=class extends Lee{constructor(t){super(),t=t||{},typeof t=="string"&&(t={url:t});let r,n=t.service;typeof t.getSocket=="function"&&(this.getSocket=t.getSocket),t.url&&(r=Eo.parseConnectionUrl(t.url),n=n||r.service),this.options=Eo.assign(!1,t,r,n&&Fee(n)),this.logger=Eo.getLogger(this.options,{component:this.options.component||"smtp-transport"});let i=new F_(this.options);this.name="SMTP",this.version=zee.version+"[client:"+i.version+"]",this.options.auth&&(this.auth=this.getAuth({}))}getSocket(t,r){return setImmediate(()=>r(null,!1))}getAuth(t){if(!t)return this.auth;let r=!1,n={};if(this.options.auth&&typeof this.options.auth=="object"&&Object.keys(this.options.auth).forEach(i=>{r=!0,n[i]=this.options.auth[i]}),t&&typeof t=="object"&&Object.keys(t).forEach(i=>{r=!0,n[i]=t[i]}),!r)return!1;switch((n.type||"").toString().toUpperCase()){case"OAUTH2":{if(!n.service&&!n.user)return!1;let i=new Uee(n,this.logger);return i.provisionCallback=this.mailer&&this.mailer.get("oauth2_provision_cb")||i.provisionCallback,i.on("token",s=>this.mailer.emit("token",s)),i.on("error",s=>this.emit("error",s)),{type:"OAUTH2",user:n.user,oauth2:i,method:"XOAUTH2"}}default:return{type:(n.type||"").toString().toUpperCase()||"LOGIN",user:n.user,credentials:{user:n.user||"",pass:n.pass,options:n.options},method:(n.method||"").trim().toUpperCase()||this.options.authMethod||!1}}}send(t,r){this.getSocket(this.options,(n,i)=>{if(n)return r(n);let s=!1,o=this.options;i&&i.connection&&(this.logger.info({tnx:"proxy",remoteAddress:i.connection.remoteAddress,remotePort:i.connection.remotePort,destHost:o.host||"",destPort:o.port||"",action:"connected"},"Using proxied socket from %s:%s to %s:%s",i.connection.remoteAddress,i.connection.remotePort,o.host||"",o.port||""),o=Eo.assign(!1,o),Object.keys(i).forEach(l=>{o[l]=i[l]}));let a=new F_(o);a.once("error",l=>{if(!s)return s=!0,a.close(),r(l)}),a.once("end",()=>{if(s)return;let l=setTimeout(()=>{if(s)return;s=!0;let d=new Error("Unexpected socket close");a&&a._socket&&a._socket.upgrading&&(d.code="ETLS"),r(d)},1e3);try{l.unref()}catch{}});let c=()=>{let l=t.message.getEnvelope(),d=t.message.messageId(),p=[].concat(l.to||[]);p.length>3&&p.push("...and "+p.splice(2).length+" more"),t.data.dsn&&(l.dsn=t.data.dsn),this.logger.info({tnx:"send",messageId:d},"Sending message %s to <%s>",d,p.join(", ")),a.send(l,t.message.createReadStream(),(m,f)=>{if(s=!0,a.close(),m)return this.logger.error({err:m,tnx:"send"},"Send error for %s: %s",d,m.message),r(m);f.envelope={from:l.from,to:l.to},f.messageId=d;try{return r(null,f)}catch(v){this.logger.error({err:v,tnx:"callback"},"Callback error for %s: %s",d,v.message)}})};a.connect(()=>{if(s)return;let l=this.getAuth(t.data.auth);l&&(a.allowsAuth||o.forceAuth)?a.login(l,d=>{if(l&&l!==this.auth&&l.oauth2&&l.oauth2.removeAllListeners(),!s){if(d)return s=!0,a.close(),r(d);c()}}):c()})})}verify(t){let r;return t||(r=new Promise((n,i)=>{t=Eo.callbackPromise(n,i)})),this.getSocket(this.options,(n,i)=>{if(n)return t(n);let s=this.options;i&&i.connection&&(this.logger.info({tnx:"proxy",remoteAddress:i.connection.remoteAddress,remotePort:i.connection.remotePort,destHost:s.host||"",destPort:s.port||"",action:"connected"},"Using proxied socket from %s:%s to %s:%s",i.connection.remoteAddress,i.connection.remotePort,s.host||"",s.port||""),s=Eo.assign(!1,s),Object.keys(i).forEach(l=>{s[l]=i[l]}));let o=new F_(s),a=!1;o.once("error",l=>{if(!a)return a=!0,o.close(),t(l)}),o.once("end",()=>{if(!a)return a=!0,t(new Error("Connection closed"))});let c=()=>{if(!a)return a=!0,o.quit(),t(null,!0)};o.connect(()=>{if(a)return;let l=this.getAuth({});if(l&&(o.allowsAuth||s.forceAuth))o.login(l,d=>{if(!a){if(d)return a=!0,o.close(),t(d);c()}});else if(!l&&o.allowsAuth&&s.forceAuth){let d=new Error("Authentication info was not provided");return d.code="NoAuth",a=!0,o.close(),t(d)}else c()})}),r}close(){this.auth&&this.auth.oauth2&&this.auth.oauth2.removeAllListeners(),this.emit("close")}};NI.exports=U_});var MI=g((UNe,kI)=>{"use strict";var Vee=require("child_process").spawn,Hee=Ir(),Bee=It(),z_=class{constructor(t){t=t||{},this._spawn=Vee,this.options=t||{},this.name="Sendmail",this.version=Hee.version,this.path="sendmail",this.args=!1,this.winbreak=!1,this.logger=Bee.getLogger(this.options,{component:this.options.component||"sendmail"}),t&&(typeof t=="string"?this.path=t:typeof t=="object"&&(t.path&&(this.path=t.path),Array.isArray(t.args)&&(this.args=t.args),this.winbreak=["win","windows","dos",`\r
`].includes((t.newline||"").toString().toLowerCase())))}send(t,r){t.message.keepBcc=!0;let n=t.data.envelope||t.message.getEnvelope(),i=t.message.messageId(),s,o,a;if([].concat(n.from||[]).concat(n.to||[]).some(d=>/^-/.test(d)))return r(new Error("Can not send mail. Invalid envelope addresses."));this.args?s=["-i"].concat(this.args).concat(n.to):s=["-i"].concat(n.from?["-f",n.from]:[]).concat(n.to);let l=d=>{if(!a&&(a=!0,typeof r=="function"))return d?r(d):r(null,{envelope:t.data.envelope||t.message.getEnvelope(),messageId:i,response:"Messages queued for delivery"})};try{o=this._spawn(this.path,s)}catch(d){return this.logger.error({err:d,tnx:"spawn",messageId:i},"Error occurred while spawning sendmail. %s",d.message),l(d)}if(o){o.on("error",m=>{this.logger.error({err:m,tnx:"spawn",messageId:i},"Error occurred when sending message %s. %s",i,m.message),l(m)}),o.once("exit",m=>{if(!m)return l();let f;m===127?f=new Error("Sendmail command not found, process exited with code "+m):f=new Error("Sendmail exited with code "+m),this.logger.error({err:f,tnx:"stdin",messageId:i},"Error sending message %s to sendmail. %s",i,f.message),l(f)}),o.once("close",l),o.stdin.on("error",m=>{this.logger.error({err:m,tnx:"stdin",messageId:i},"Error occurred when piping message %s to sendmail. %s",i,m.message),l(m)});let d=[].concat(n.to||[]);d.length>3&&d.push("...and "+d.splice(2).length+" more"),this.logger.info({tnx:"send",messageId:i},"Sending message %s to <%s>",i,d.join(", "));let p=t.message.createReadStream();p.once("error",m=>{this.logger.error({err:m,tnx:"stdin",messageId:i},"Error occurred when generating message %s. %s",i,m.message),o.kill("SIGINT"),l(m)}),p.pipe(o.stdin)}else return l(new Error("sendmail was not found"))}};kI.exports=z_});var qI=g((zNe,jI)=>{"use strict";var Gee=Ir(),Wee=It(),V_=class{constructor(t){t=t||{},this.options=t||{},this.name="StreamTransport",this.version=Gee.version,this.logger=Wee.getLogger(this.options,{component:this.options.component||"stream-transport"}),this.winbreak=["win","windows","dos",`\r
`].includes((t.newline||"").toString().toLowerCase())}send(t,r){t.message.keepBcc=!0;let n=t.data.envelope||t.message.getEnvelope(),i=t.message.messageId(),s=[].concat(n.to||[]);s.length>3&&s.push("...and "+s.splice(2).length+" more"),this.logger.info({tnx:"send",messageId:i},"Sending message %s to <%s> using %s line breaks",i,s.join(", "),this.winbreak?"<CR><LF>":"<LF>"),setImmediate(()=>{let o;try{o=t.message.createReadStream()}catch(l){return this.logger.error({err:l,tnx:"send",messageId:i},"Creating send stream failed for %s. %s",i,l.message),r(l)}if(!this.options.buffer)return o.once("error",l=>{this.logger.error({err:l,tnx:"send",messageId:i},"Failed creating message for %s. %s",i,l.message)}),r(null,{envelope:t.data.envelope||t.message.getEnvelope(),messageId:i,message:o});let a=[],c=0;o.on("readable",()=>{let l;for(;(l=o.read())!==null;)a.push(l),c+=l.length}),o.once("error",l=>(this.logger.error({err:l,tnx:"send",messageId:i},"Failed creating message for %s. %s",i,l.message),r(l))),o.on("end",()=>r(null,{envelope:t.data.envelope||t.message.getEnvelope(),messageId:i,message:Buffer.concat(a,c)}))})}};jI.exports=V_});var FI=g((VNe,LI)=>{"use strict";var Kee=Ir(),Xee=It(),H_=class{constructor(t){t=t||{},this.options=t||{},this.name="JSONTransport",this.version=Kee.version,this.logger=Xee.getLogger(this.options,{component:this.options.component||"json-transport"})}send(t,r){t.message.keepBcc=!0;let n=t.data.envelope||t.message.getEnvelope(),i=t.message.messageId(),s=[].concat(n.to||[]);s.length>3&&s.push("...and "+s.splice(2).length+" more"),this.logger.info({tnx:"send",messageId:i},"Composing JSON structure of %s to <%s>",i,s.join(", ")),setImmediate(()=>{t.normalize((o,a)=>o?(this.logger.error({err:o,tnx:"send",messageId:i},"Failed building JSON structure for %s. %s",i,o.message),r(o)):(delete a.envelope,delete a.normalizedHeaders,r(null,{envelope:n,messageId:i,message:this.options.skipEncoding?a:JSON.stringify(a)})))})}};LI.exports=H_});var VI=g((HNe,zI)=>{"use strict";var Jee=require("events"),Yee=Ir(),UI=It(),Qee=h_(),B_=class extends Jee{constructor(t){super(),t=t||{},this.options=t||{},this.ses=this.options.SES,this.name="SESTransport",this.version=Yee.version,this.logger=UI.getLogger(this.options,{component:this.options.component||"ses-transport"}),this.maxConnections=Number(this.options.maxConnections)||1/0,this.connections=0,this.sendingRate=Number(this.options.sendingRate)||1/0,this.sendingRateTTL=null,this.rateInterval=1e3,this.rateMessages=[],this.pending=[],this.idling=!0,setImmediate(()=>{this.idling&&this.emit("idle")})}send(t,r){if(this.connections>=this.maxConnections)return this.idling=!1,this.pending.push({mail:t,callback:r});if(!this._checkSendingRate())return this.idling=!1,this.pending.push({mail:t,callback:r});this._send(t,(...n)=>{setImmediate(()=>r(...n)),this._sent()})}_checkRatedQueue(){if(this.connections>=this.maxConnections||!this._checkSendingRate())return;if(!this.pending.length){this.idling||(this.idling=!0,this.emit("idle"));return}let t=this.pending.shift();this._send(t.mail,(...r)=>{setImmediate(()=>t.callback(...r)),this._sent()})}_checkSendingRate(){clearTimeout(this.sendingRateTTL);let t=Date.now(),r=!1;for(let i=this.rateMessages.length-1;i>=0;i--)this.rateMessages[i].ts>=t-this.rateInterval&&(!r||this.rateMessages[i].ts<r)&&(r=this.rateMessages[i].ts),this.rateMessages[i].ts<t-this.rateInterval&&!this.rateMessages[i].pending&&this.rateMessages.splice(i,1);if(this.rateMessages.length<this.sendingRate)return!0;let n=Math.max(r+1001,t+20);this.sendingRateTTL=setTimeout(()=>this._checkRatedQueue(),t-n);try{this.sendingRateTTL.unref()}catch{}return!1}_sent(){this.connections--,this._checkRatedQueue()}isIdle(){return this.idling}_send(t,r){let n={ts:Date.now(),pending:!0};this.connections++,this.rateMessages.push(n);let i=t.data.envelope||t.message.getEnvelope(),s=t.message.messageId(),o=[].concat(i.to||[]);o.length>3&&o.push("...and "+o.splice(2).length+" more"),this.logger.info({tnx:"send",messageId:s},"Sending message %s to <%s>",s,o.join(", "));let a=c=>{t.data._dkim||(t.data._dkim={}),t.data._dkim.skipFields&&typeof t.data._dkim.skipFields=="string"?t.data._dkim.skipFields+=":date:message-id":t.data._dkim.skipFields="date:message-id";let l=t.message.createReadStream(),d=l.pipe(new Qee),p=[],m=0;d.on("readable",()=>{let f;for(;(f=d.read())!==null;)p.push(f),m+=f.length}),l.once("error",f=>d.emit("error",f)),d.once("error",f=>{c(f)}),d.once("end",()=>c(null,Buffer.concat(p,m)))};setImmediate(()=>a((c,l)=>{if(c)return this.logger.error({err:c,tnx:"send",messageId:s},"Failed creating message for %s. %s",s,c.message),n.pending=!1,r(c);let d={RawMessage:{Data:l},Source:i.from,Destinations:i.to};Object.keys(t.data.ses||{}).forEach(v=>{d[v]=t.data.ses[v]});let p=(this.ses.aws?this.ses.ses:this.ses)||{},m=this.ses.aws||{};(v=>p.config&&typeof p.config.region=="function"?p.config.region().then(y=>v(null,y)).catch(y=>v(y)):v(null,p.config&&p.config.region||"us-east-1"))((v,y)=>{(v||!y)&&(y="us-east-1");let x;typeof p.send=="function"&&m.SendRawEmailCommand?x=p.send(new m.SendRawEmailCommand(d)):x=p.sendRawEmail(d).promise(),x.then(C=>{y==="us-east-1"&&(y="email"),n.pending=!1,r(null,{envelope:{from:i.from,to:i.to},messageId:"<"+C.MessageId+(/@/.test(C.MessageId)?"":"@"+y+".amazonses.com")+">",response:C.MessageId,raw:l})}).catch(C=>{this.logger.error({err:C,tnx:"send"},"Send error for %s: %s",s,C.message),n.pending=!1,r(C)})})}))}verify(t){let r,n=(this.ses.aws?this.ses.ses:this.ses)||{},i=this.ses.aws||{},s={RawMessage:{Data:`From: invalid@invalid\r
To: invalid@invalid\r
 Subject: Invalid\r
\r
Invalid`},Source:"invalid@invalid",Destinations:["invalid@invalid"]};t||(r=new Promise((a,c)=>{t=UI.callbackPromise(a,c)}));let o=a=>a&&(a.code||a.Code)!=="InvalidParameterValue"?t(a):t(null,!0);return typeof n.send=="function"&&i.SendRawEmailCommand?(s.RawMessage.Data=Buffer.from(s.RawMessage.Data),n.send(new i.SendRawEmailCommand(s),o)):n.sendRawEmail(s,o),r}};zI.exports=B_});var GI=g((BNe,xp)=>{"use strict";var Zee=hI(),BI=It(),ete=DI(),tte=$I(),rte=MI(),nte=qI(),ite=FI(),ste=VI(),ote=pl(),HI=Ir(),ate=(process.env.ETHEREAL_API||"https://api.nodemailer.com").replace(/\/+$/,""),cte=(process.env.ETHEREAL_WEB||"https://ethereal.email").replace(/\/+$/,""),lte=["true","yes","y","1"].includes((process.env.ETHEREAL_CACHE||"yes").toString().trim().toLowerCase()),yl=!1;xp.exports.createTransport=function(e,t){let r,n,i;return(typeof e=="object"&&typeof e.send!="function"||typeof e=="string"&&/^(smtps?|direct):/i.test(e))&&((r=typeof e=="string"?e:e.url)?n=BI.parseConnectionUrl(r):n=e,n.pool?e=new ete(n):n.sendmail?e=new rte(n):n.streamTransport?e=new nte(n):n.jsonTransport?e=new ite(n):n.SES?e=new ste(n):e=new tte(n)),i=new Zee(e,n,t),i};xp.exports.createTestAccount=function(e,t){let r;if(!t&&typeof e=="function"&&(t=e,e=!1),t||(r=new Promise((o,a)=>{t=BI.callbackPromise(o,a)})),lte&&yl)return setImmediate(()=>t(null,yl)),r;e=e||ate;let n=[],i=0,s=ote(e+"/user",{contentType:"application/json",method:"POST",body:Buffer.from(JSON.stringify({requestor:HI.name,version:HI.version}))});return s.on("readable",()=>{let o;for(;(o=s.read())!==null;)n.push(o),i+=o.length}),s.once("error",o=>t(o)),s.once("end",()=>{let o=Buffer.concat(n,i),a,c;try{a=JSON.parse(o.toString())}catch(l){c=l}if(c)return t(c);if(a.status!=="success"||a.error)return t(new Error(a.error||"Request failed"));delete a.status,yl=a,t(null,yl)}),r};xp.exports.getTestMessageUrl=function(e){if(!e||!e.response)return!1;let t=new Map;return e.response.replace(/\[([^\]]+)\]$/,(r,n)=>{n.replace(/\b([A-Z0-9]+)=([^\s]+)/g,(i,s,o)=>{t.set(s,o)})}),t.has("STATUS")&&t.has("MSGID")?(yl.web||cte)+"/message/"+t.get("MSGID"):!1}});var Dr=g((GNe,tO)=>{var bp=Object.defineProperty,dte=Object.getOwnPropertyDescriptor,ute=Object.getOwnPropertyNames,pte=Object.prototype.hasOwnProperty,Cp=(e,t)=>bp(e,"name",{value:t,configurable:!0}),mte=(e,t)=>{for(var r in t)bp(e,r,{get:t[r],enumerable:!0})},fte=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of ute(t))!pte.call(e,i)&&i!==r&&bp(e,i,{get:()=>t[i],enumerable:!(n=dte(t,i))||n.enumerable});return e},hte=e=>fte(bp({},"__esModule",{value:!0}),e),WI={};mte(WI,{AlgorithmId:()=>YI,EndpointURLScheme:()=>JI,FieldPosition:()=>QI,HttpApiKeyAuthLocation:()=>XI,HttpAuthLocation:()=>KI,IniSectionType:()=>ZI,RequestHandlerProtocol:()=>eO,SMITHY_CONTEXT_KEY:()=>Ete,getDefaultClientConfiguration:()=>_te,resolveDefaultRuntimeConfig:()=>yte});tO.exports=hte(WI);var KI=(e=>(e.HEADER="header",e.QUERY="query",e))(KI||{}),XI=(e=>(e.HEADER="header",e.QUERY="query",e))(XI||{}),JI=(e=>(e.HTTP="http",e.HTTPS="https",e))(JI||{}),YI=(e=>(e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256",e))(YI||{}),gte=Cp(e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:()=>"sha256",checksumConstructor:()=>e.sha256}),e.md5!=null&&t.push({algorithmId:()=>"md5",checksumConstructor:()=>e.md5}),{_checksumAlgorithms:t,addChecksumAlgorithm(r){this._checksumAlgorithms.push(r)},checksumAlgorithms(){return this._checksumAlgorithms}}},"getChecksumConfiguration"),vte=Cp(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),_te=Cp(e=>({...gte(e)}),"getDefaultClientConfiguration"),yte=Cp(e=>({...vte(e)}),"resolveDefaultRuntimeConfig"),QI=(e=>(e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER",e))(QI||{}),Ete="__smithy_context",ZI=(e=>(e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services",e))(ZI||{}),eO=(e=>(e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0",e))(eO||{})});var Ot=g((JNe,dO)=>{var wp=Object.defineProperty,Ste=Object.getOwnPropertyDescriptor,xte=Object.getOwnPropertyNames,bte=Object.prototype.hasOwnProperty,Si=(e,t)=>wp(e,"name",{value:t,configurable:!0}),Cte=(e,t)=>{for(var r in t)wp(e,r,{get:t[r],enumerable:!0})},wte=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of xte(t))!bte.call(e,i)&&i!==r&&wp(e,i,{get:()=>t[i],enumerable:!(n=Ste(t,i))||n.enumerable});return e},Rte=e=>wte(wp({},"__esModule",{value:!0}),e),rO={};Cte(rO,{Field:()=>Ite,Fields:()=>Ote,HttpRequest:()=>Dte,HttpResponse:()=>Nte,getHttpHandlerExtensionConfiguration:()=>Pte,isValidHostname:()=>lO,resolveHttpHandlerRuntimeConfig:()=>Tte});dO.exports=Rte(rO);var Pte=Si(e=>{let t=e.httpHandler;return{setHttpHandler(r){t=r},httpHandler(){return t},updateHttpClientConfig(r,n){t.updateHttpClientConfig(r,n)},httpHandlerConfigs(){return t.httpHandlerConfigs()}}},"getHttpHandlerExtensionConfiguration"),Tte=Si(e=>({httpHandler:e.httpHandler()}),"resolveHttpHandlerRuntimeConfig"),Ate=Dr(),nO=class{constructor({name:t,kind:r=Ate.FieldPosition.HEADER,values:n=[]}){this.name=t,this.kind=r,this.values=n}add(t){this.values.push(t)}set(t){this.values=t}remove(t){this.values=this.values.filter(r=>r!==t)}toString(){return this.values.map(t=>t.includes(",")||t.includes(" ")?`"${t}"`:t).join(", ")}get(){return this.values}};Si(nO,"Field");var Ite=nO,iO=class{constructor({fields:t=[],encoding:r="utf-8"}){this.entries={},t.forEach(this.setField.bind(this)),this.encoding=r}setField(t){this.entries[t.name.toLowerCase()]=t}getField(t){return this.entries[t.toLowerCase()]}removeField(t){delete this.entries[t.toLowerCase()]}getByType(t){return Object.values(this.entries).filter(r=>r.kind===t)}};Si(iO,"Fields");var Ote=iO,sO=class oO{constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){let t=new oO({...this,headers:{...this.headers}});return t.query&&(t.query=aO(t.query)),t}};Si(sO,"HttpRequest");var Dte=sO;function aO(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}Si(aO,"cloneQuery");var cO=class{constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};Si(cO,"HttpResponse");var Nte=cO;function lO(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}Si(lO,"isValidHostname")});var El=g((YNe,hO)=>{var Rp=Object.defineProperty,$te=Object.getOwnPropertyDescriptor,kte=Object.getOwnPropertyNames,Mte=Object.prototype.hasOwnProperty,G_=(e,t)=>Rp(e,"name",{value:t,configurable:!0}),jte=(e,t)=>{for(var r in t)Rp(e,r,{get:t[r],enumerable:!0})},qte=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of kte(t))!Mte.call(e,i)&&i!==r&&Rp(e,i,{get:()=>t[i],enumerable:!(n=$te(t,i))||n.enumerable});return e},Lte=e=>qte(Rp({},"__esModule",{value:!0}),e),uO={};jte(uO,{getHostHeaderPlugin:()=>Ute,hostHeaderMiddleware:()=>mO,hostHeaderMiddlewareOptions:()=>fO,resolveHostHeaderConfig:()=>pO});hO.exports=Lte(uO);var Fte=Ot();function pO(e){return e}G_(pO,"resolveHostHeaderConfig");var mO=G_(e=>t=>async r=>{if(!Fte.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:i=""}=e.requestHandler.metadata||{};if(i.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let s=n.hostname;n.port!=null&&(s+=`:${n.port}`),n.headers.host=s}return t(r)},"hostHeaderMiddleware"),fO={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Ute=G_(e=>({applyToStack:t=>{t.add(mO(e),fO)}}),"getHostHeaderPlugin")});var Sl=g((QNe,EO)=>{var Pp=Object.defineProperty,zte=Object.getOwnPropertyDescriptor,Vte=Object.getOwnPropertyNames,Hte=Object.prototype.hasOwnProperty,gO=(e,t)=>Pp(e,"name",{value:t,configurable:!0}),Bte=(e,t)=>{for(var r in t)Pp(e,r,{get:t[r],enumerable:!0})},Gte=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Vte(t))!Hte.call(e,i)&&i!==r&&Pp(e,i,{get:()=>t[i],enumerable:!(n=zte(t,i))||n.enumerable});return e},Wte=e=>Gte(Pp({},"__esModule",{value:!0}),e),vO={};Bte(vO,{getLoggerPlugin:()=>Kte,loggerMiddleware:()=>_O,loggerMiddlewareOptions:()=>yO});EO.exports=Wte(vO);var _O=gO(()=>(e,t)=>async r=>{var n,i;try{let s=await e(r),{clientName:o,commandName:a,logger:c,dynamoDbDocumentClientOptions:l={}}=t,{overrideInputFilterSensitiveLog:d,overrideOutputFilterSensitiveLog:p}=l,m=d??t.inputFilterSensitiveLog,f=p??t.outputFilterSensitiveLog,{$metadata:v,...y}=s.output;return(n=c?.info)==null||n.call(c,{clientName:o,commandName:a,input:m(r.input),output:f(y),metadata:v}),s}catch(s){let{clientName:o,commandName:a,logger:c,dynamoDbDocumentClientOptions:l={}}=t,{overrideInputFilterSensitiveLog:d}=l,p=d??t.inputFilterSensitiveLog;throw(i=c?.error)==null||i.call(c,{clientName:o,commandName:a,input:p(r.input),error:s,metadata:s.$metadata}),s}},"loggerMiddleware"),yO={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},Kte=gO(e=>({applyToStack:t=>{t.add(_O(),yO)}}),"getLoggerPlugin")});var xl=g((ZNe,wO)=>{var Tp=Object.defineProperty,Xte=Object.getOwnPropertyDescriptor,Jte=Object.getOwnPropertyNames,Yte=Object.prototype.hasOwnProperty,W_=(e,t)=>Tp(e,"name",{value:t,configurable:!0}),Qte=(e,t)=>{for(var r in t)Tp(e,r,{get:t[r],enumerable:!0})},Zte=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Jte(t))!Yte.call(e,i)&&i!==r&&Tp(e,i,{get:()=>t[i],enumerable:!(n=Xte(t,i))||n.enumerable});return e},ere=e=>Zte(Tp({},"__esModule",{value:!0}),e),xO={};Qte(xO,{addRecursionDetectionMiddlewareOptions:()=>CO,getRecursionDetectionPlugin:()=>ire,recursionDetectionMiddleware:()=>bO});wO.exports=ere(xO);var tre=Ot(),SO="X-Amzn-Trace-Id",rre="AWS_LAMBDA_FUNCTION_NAME",nre="_X_AMZN_TRACE_ID",bO=W_(e=>t=>async r=>{let{request:n}=r;if(!tre.HttpRequest.isInstance(n)||e.runtime!=="node"||n.headers.hasOwnProperty(SO))return t(r);let i=process.env[rre],s=process.env[nre],o=W_(a=>typeof a=="string"&&a.length>0,"nonEmptyString");return o(i)&&o(s)&&(n.headers[SO]=s),t({...r,request:n})},"recursionDetectionMiddleware"),CO={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},ire=W_(e=>({applyToStack:t=>{t.add(bO(e),CO)}}),"getRecursionDetectionPlugin")});var So=g((t$e,kO)=>{var Ap=Object.defineProperty,sre=Object.getOwnPropertyDescriptor,ore=Object.getOwnPropertyNames,are=Object.prototype.hasOwnProperty,ke=(e,t)=>Ap(e,"name",{value:t,configurable:!0}),cre=(e,t)=>{for(var r in t)Ap(e,r,{get:t[r],enumerable:!0})},lre=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of ore(t))!are.call(e,i)&&i!==r&&Ap(e,i,{get:()=>t[i],enumerable:!(n=sre(t,i))||n.enumerable});return e},dre=e=>lre(Ap({},"__esModule",{value:!0}),e),RO={};cre(RO,{EndpointError:()=>Ft,customEndpointFunctions:()=>X_,isIpAddress:()=>PO,isValidHostLabel:()=>Y_,resolveEndpoint:()=>Are});kO.exports=dre(RO);var ure=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),PO=ke(e=>ure.test(e)||e.startsWith("[")&&e.endsWith("]"),"isIpAddress"),pre=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),Y_=ke((e,t=!1)=>{if(!t)return pre.test(e);let r=e.split(".");for(let n of r)if(!Y_(n))return!1;return!0},"isValidHostLabel"),X_={},bl="endpoints";function qn(e){return typeof e!="object"||e==null?e:"ref"in e?`$${qn(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(qn).join(", ")})`:JSON.stringify(e,null,2)}ke(qn,"toDebugString");var TO=class extends Error{constructor(t){super(t),this.name="EndpointError"}};ke(TO,"EndpointError");var Ft=TO,mre=ke((e,t)=>e===t,"booleanEquals"),fre=ke(e=>{let t=e.split("."),r=[];for(let n of t){let i=n.indexOf("[");if(i!==-1){if(n.indexOf("]")!==n.length-1)throw new Ft(`Path: '${e}' does not end with ']'`);let s=n.slice(i+1,-1);if(Number.isNaN(parseInt(s)))throw new Ft(`Invalid array index: '${s}' in path: '${e}'`);i!==0&&r.push(n.slice(0,i)),r.push(s)}else r.push(n)}return r},"getAttrPathList"),AO=ke((e,t)=>fre(t).reduce((r,n)=>{if(typeof r!="object")throw new Ft(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),"getAttr"),hre=ke(e=>e!=null,"isSet"),gre=ke(e=>!e,"not"),J_=Dr(),K_={[J_.EndpointURLScheme.HTTP]:80,[J_.EndpointURLScheme.HTTPS]:443},vre=ke(e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:m,port:f,protocol:v="",path:y="",query:x={}}=e,C=new URL(`${v}//${m}${f?`:${f}`:""}${y}`);return C.search=Object.entries(x).map(([I,W])=>`${I}=${W}`).join("&"),C}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:i,pathname:s,protocol:o,search:a}=t;if(a)return null;let c=o.slice(0,-1);if(!Object.values(J_.EndpointURLScheme).includes(c))return null;let l=PO(i),d=r.includes(`${n}:${K_[c]}`)||typeof e=="string"&&e.includes(`${n}:${K_[c]}`),p=`${n}${d?`:${K_[c]}`:""}`;return{scheme:c,authority:p,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:l}},"parseURL"),_re=ke((e,t)=>e===t,"stringEquals"),yre=ke((e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),"substring"),Ere=ke(e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),"uriEncode"),Sre={booleanEquals:mre,getAttr:AO,isSet:hre,isValidHostLabel:Y_,not:gre,parseURL:vre,stringEquals:_re,substring:yre,uriEncode:Ere},IO=ke((e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},i=0;for(;i<e.length;){let s=e.indexOf("{",i);if(s===-1){r.push(e.slice(i));break}r.push(e.slice(i,s));let o=e.indexOf("}",s);if(o===-1){r.push(e.slice(s));break}e[s+1]==="{"&&e[o+1]==="}"&&(r.push(e.slice(s+1,o)),i=o+2);let a=e.substring(s+1,o);if(a.includes("#")){let[c,l]=a.split("#");r.push(AO(n[c],l))}else r.push(n[a]);i=o+1}return r.join("")},"evaluateTemplate"),xre=ke(({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],"getReferenceValue"),Ip=ke((e,t,r)=>{if(typeof e=="string")return IO(e,r);if(e.fn)return OO(e,r);if(e.ref)return xre(e,r);throw new Ft(`'${t}': ${String(e)} is not a string, function or reference.`)},"evaluateExpression"),OO=ke(({fn:e,argv:t},r)=>{let n=t.map(s=>["boolean","number"].includes(typeof s)?s:Ip(s,"arg",r)),i=e.split(".");return i[0]in X_&&i[1]!=null?X_[i[0]][i[1]](...n):Sre[e](...n)},"callFunction"),bre=ke(({assign:e,...t},r)=>{var n,i;if(e&&e in r.referenceRecord)throw new Ft(`'${e}' is already defined in Reference Record.`);let s=OO(t,r);return(i=(n=r.logger)==null?void 0:n.debug)==null||i.call(n,bl,`evaluateCondition: ${qn(t)} = ${qn(s)}`),{result:s===""?!0:!!s,...e!=null&&{toAssign:{name:e,value:s}}}},"evaluateCondition"),Q_=ke((e=[],t)=>{var r,n;let i={};for(let s of e){let{result:o,toAssign:a}=bre(s,{...t,referenceRecord:{...t.referenceRecord,...i}});if(!o)return{result:o};a&&(i[a.name]=a.value,(n=(r=t.logger)==null?void 0:r.debug)==null||n.call(r,bl,`assign: ${a.name} := ${qn(a.value)}`))}return{result:!0,referenceRecord:i}},"evaluateConditions"),Cre=ke((e,t)=>Object.entries(e).reduce((r,[n,i])=>({...r,[n]:i.map(s=>{let o=Ip(s,"Header value entry",t);if(typeof o!="string")throw new Ft(`Header '${n}' value '${o}' is not a string`);return o})}),{}),"getEndpointHeaders"),DO=ke((e,t)=>{if(Array.isArray(e))return e.map(r=>DO(r,t));switch(typeof e){case"string":return IO(e,t);case"object":if(e===null)throw new Ft(`Unexpected endpoint property: ${e}`);return NO(e,t);case"boolean":return e;default:throw new Ft(`Unexpected endpoint property type: ${typeof e}`)}},"getEndpointProperty"),NO=ke((e,t)=>Object.entries(e).reduce((r,[n,i])=>({...r,[n]:DO(i,t)}),{}),"getEndpointProperties"),wre=ke((e,t)=>{let r=Ip(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new Ft(`Endpoint URL must be a string, got ${typeof r}`)},"getEndpointUrl"),Rre=ke((e,t)=>{var r,n;let{conditions:i,endpoint:s}=e,{result:o,referenceRecord:a}=Q_(i,t);if(!o)return;let c={...t,referenceRecord:{...t.referenceRecord,...a}},{url:l,properties:d,headers:p}=s;return(n=(r=t.logger)==null?void 0:r.debug)==null||n.call(r,bl,`Resolving endpoint from template: ${qn(s)}`),{...p!=null&&{headers:Cre(p,c)},...d!=null&&{properties:NO(d,c)},url:wre(l,c)}},"evaluateEndpointRule"),Pre=ke((e,t)=>{let{conditions:r,error:n}=e,{result:i,referenceRecord:s}=Q_(r,t);if(i)throw new Ft(Ip(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...s}}))},"evaluateErrorRule"),Tre=ke((e,t)=>{let{conditions:r,rules:n}=e,{result:i,referenceRecord:s}=Q_(r,t);if(i)return $O(n,{...t,referenceRecord:{...t.referenceRecord,...s}})},"evaluateTreeRule"),$O=ke((e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=Rre(r,t);if(n)return n}else if(r.type==="error")Pre(r,t);else if(r.type==="tree"){let n=Tre(r,t);if(n)return n}else throw new Ft(`Unknown endpoint rule: ${r}`);throw new Ft("Rules evaluation failed")},"evaluateRules"),Are=ke((e,t)=>{var r,n,i,s,o;let{endpointParams:a,logger:c}=t,{parameters:l,rules:d}=e;(n=(r=t.logger)==null?void 0:r.debug)==null||n.call(r,`${bl} Initial EndpointParams: ${qn(a)}`);let p=Object.entries(l).filter(([,v])=>v.default!=null).map(([v,y])=>[v,y.default]);if(p.length>0)for(let[v,y]of p)a[v]=a[v]??y;let m=Object.entries(l).filter(([,v])=>v.required).map(([v])=>v);for(let v of m)if(a[v]==null)throw new Ft(`Missing required parameter: '${v}'`);let f=$O(d,{endpointParams:a,logger:c,referenceRecord:{}});if((i=t.endpointParams)!=null&&i.Endpoint)try{let v=new URL(t.endpointParams.Endpoint),{protocol:y,port:x}=v;f.url.protocol=y,f.url.port=x}catch{}return(o=(s=t.logger)==null?void 0:s.debug)==null||o.call(s,`${bl} Resolved endpoint: ${qn(f)}`),f},"resolveEndpoint")});var bo=g((r$e,HO)=>{var Op=Object.defineProperty,Ire=Object.getOwnPropertyDescriptor,Ore=Object.getOwnPropertyNames,Dre=Object.prototype.hasOwnProperty,xo=(e,t)=>Op(e,"name",{value:t,configurable:!0}),Nre=(e,t)=>{for(var r in t)Op(e,r,{get:t[r],enumerable:!0})},$re=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Ore(t))!Dre.call(e,i)&&i!==r&&Op(e,i,{get:()=>t[i],enumerable:!(n=Ire(t,i))||n.enumerable});return e},kre=e=>$re(Op({},"__esModule",{value:!0}),e),MO={};Nre(MO,{ConditionObject:()=>Le.ConditionObject,DeprecatedObject:()=>Le.DeprecatedObject,EndpointError:()=>Le.EndpointError,EndpointObject:()=>Le.EndpointObject,EndpointObjectHeaders:()=>Le.EndpointObjectHeaders,EndpointObjectProperties:()=>Le.EndpointObjectProperties,EndpointParams:()=>Le.EndpointParams,EndpointResolverOptions:()=>Le.EndpointResolverOptions,EndpointRuleObject:()=>Le.EndpointRuleObject,ErrorRuleObject:()=>Le.ErrorRuleObject,EvaluateOptions:()=>Le.EvaluateOptions,Expression:()=>Le.Expression,FunctionArgv:()=>Le.FunctionArgv,FunctionObject:()=>Le.FunctionObject,FunctionReturn:()=>Le.FunctionReturn,ParameterObject:()=>Le.ParameterObject,ReferenceObject:()=>Le.ReferenceObject,ReferenceRecord:()=>Le.ReferenceRecord,RuleSetObject:()=>Le.RuleSetObject,RuleSetRules:()=>Le.RuleSetRules,TreeRuleObject:()=>Le.TreeRuleObject,awsEndpointFunctions:()=>VO,getUserAgentPrefix:()=>qre,isIpAddress:()=>Le.isIpAddress,partition:()=>UO,resolveEndpoint:()=>Le.resolveEndpoint,setPartitionInfo:()=>zO,useDefaultPartitionInfo:()=>jre});HO.exports=kre(MO);var Le=So(),jO=xo((e,t=!1)=>{if(t){for(let r of e.split("."))if(!jO(r))return!1;return!0}return!(!(0,Le.isValidHostLabel)(e)||e.length<3||e.length>63||e!==e.toLowerCase()||(0,Le.isIpAddress)(e))},"isVirtualHostableS3Bucket"),Mre=xo(e=>{let t=e.split(":");if(t.length<6)return null;let[r,n,i,s,o,...a]=t;return r!=="arn"||n===""||i===""||a[0]===""?null:{partition:n,service:i,region:s,accountId:o,resourceId:a[0].includes("/")?a[0].split("/"):a}},"parseArn"),qO={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{}}],version:"1.1"},LO=qO,FO="",UO=xo(e=>{let{partitions:t}=LO;for(let n of t){let{regions:i,outputs:s}=n;for(let[o,a]of Object.entries(i))if(o===e)return{...s,...a}}for(let n of t){let{regionRegex:i,outputs:s}=n;if(new RegExp(i).test(e))return{...s}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},"partition"),zO=xo((e,t="")=>{LO=e,FO=t},"setPartitionInfo"),jre=xo(()=>{zO(qO,"")},"useDefaultPartitionInfo"),qre=xo(()=>FO,"getUserAgentPrefix"),VO={isVirtualHostableS3Bucket:jO,parseArn:Mre,partition:UO};Le.customEndpointFunctions.aws=VO});var Cl=g((n$e,QO)=>{var Dp=Object.defineProperty,Lre=Object.getOwnPropertyDescriptor,Fre=Object.getOwnPropertyNames,Ure=Object.prototype.hasOwnProperty,Np=(e,t)=>Dp(e,"name",{value:t,configurable:!0}),zre=(e,t)=>{for(var r in t)Dp(e,r,{get:t[r],enumerable:!0})},Vre=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Fre(t))!Ure.call(e,i)&&i!==r&&Dp(e,i,{get:()=>t[i],enumerable:!(n=Lre(t,i))||n.enumerable});return e},Hre=e=>Vre(Dp({},"__esModule",{value:!0}),e),KO={};zre(KO,{getUserAgentMiddlewareOptions:()=>YO,getUserAgentPlugin:()=>Xre,resolveUserAgentConfig:()=>XO,userAgentMiddleware:()=>JO});QO.exports=Hre(KO);function XO(e){return{...e,customUserAgent:typeof e.customUserAgent=="string"?[[e.customUserAgent]]:e.customUserAgent}}Np(XO,"resolveUserAgentConfig");var Bre=bo(),Gre=Ot(),BO="user-agent",Z_="x-amz-user-agent",GO=" ",ey="/",Wre=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,Kre=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,WO="-",JO=Np(e=>(t,r)=>async n=>{var i,s;let{request:o}=n;if(!Gre.HttpRequest.isInstance(o))return t(n);let{headers:a}=o,c=((i=r?.userAgent)==null?void 0:i.map(ty))||[],l=(await e.defaultUserAgentProvider()).map(ty),d=((s=e?.customUserAgent)==null?void 0:s.map(ty))||[],p=(0,Bre.getUserAgentPrefix)(),m=(p?[p]:[]).concat([...l,...c,...d]).join(GO),f=[...l.filter(v=>v.startsWith("aws-sdk-")),...d].join(GO);return e.runtime!=="browser"?(f&&(a[Z_]=a[Z_]?`${a[BO]} ${f}`:f),a[BO]=m):a[Z_]=m,t({...n,request:o})},"userAgentMiddleware"),ty=Np(e=>{var t;let r=e[0].split(ey).map(a=>a.replace(Wre,WO)).join(ey),n=(t=e[1])==null?void 0:t.replace(Kre,WO),i=r.indexOf(ey),s=r.substring(0,i),o=r.substring(i+1);return s==="api"&&(o=o.toLowerCase()),[s,o,n].filter(a=>a&&a.length>0).reduce((a,c,l)=>{switch(l){case 0:return c;case 1:return`${a}/${c}`;default:return`${a}#${c}`}},"")},"escapeUserAgent"),YO={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},Xre=Np(e=>({applyToStack:t=>{t.add(JO(e),YO)}}),"getUserAgentPlugin")});var nD=g((i$e,rD)=>{var $p=Object.defineProperty,Jre=Object.getOwnPropertyDescriptor,Yre=Object.getOwnPropertyNames,Qre=Object.prototype.hasOwnProperty,ZO=(e,t)=>$p(e,"name",{value:t,configurable:!0}),Zre=(e,t)=>{for(var r in t)$p(e,r,{get:t[r],enumerable:!0})},ene=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Yre(t))!Qre.call(e,i)&&i!==r&&$p(e,i,{get:()=>t[i],enumerable:!(n=Jre(t,i))||n.enumerable});return e},tne=e=>ene($p({},"__esModule",{value:!0}),e),eD={};Zre(eD,{SelectorType:()=>tD,booleanSelector:()=>rne,numberSelector:()=>nne});rD.exports=tne(eD);var rne=ZO((e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}},"booleanSelector"),nne=ZO((e,t,r)=>{if(!(t in e))return;let n=parseInt(e[t],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${t}'. Expected number, got '${e[t]}'.`);return n},"numberSelector"),tD=(e=>(e.ENV="env",e.CONFIG="shared config entry",e))(tD||{})});var nn=g((s$e,aD)=>{var kp=Object.defineProperty,ine=Object.getOwnPropertyDescriptor,sne=Object.getOwnPropertyNames,one=Object.prototype.hasOwnProperty,sD=(e,t)=>kp(e,"name",{value:t,configurable:!0}),ane=(e,t)=>{for(var r in t)kp(e,r,{get:t[r],enumerable:!0})},cne=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of sne(t))!one.call(e,i)&&i!==r&&kp(e,i,{get:()=>t[i],enumerable:!(n=ine(t,i))||n.enumerable});return e},lne=e=>cne(kp({},"__esModule",{value:!0}),e),oD={};ane(oD,{getSmithyContext:()=>dne,normalizeProvider:()=>une});aD.exports=lne(oD);var iD=Dr(),dne=sD(e=>e[iD.SMITHY_CONTEXT_KEY]||(e[iD.SMITHY_CONTEXT_KEY]={}),"getSmithyContext"),une=sD(e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t},"normalizeProvider")});var sn=g((o$e,_D)=>{var jp=Object.defineProperty,pne=Object.getOwnPropertyDescriptor,mne=Object.getOwnPropertyNames,fne=Object.prototype.hasOwnProperty,Nr=(e,t)=>jp(e,"name",{value:t,configurable:!0}),hne=(e,t)=>{for(var r in t)jp(e,r,{get:t[r],enumerable:!0})},gne=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of mne(t))!fne.call(e,i)&&i!==r&&jp(e,i,{get:()=>t[i],enumerable:!(n=pne(t,i))||n.enumerable});return e},vne=e=>gne(jp({},"__esModule",{value:!0}),e),dD={};hne(dD,{CONFIG_USE_DUALSTACK_ENDPOINT:()=>pD,CONFIG_USE_FIPS_ENDPOINT:()=>fD,DEFAULT_USE_DUALSTACK_ENDPOINT:()=>_ne,DEFAULT_USE_FIPS_ENDPOINT:()=>Ene,ENV_USE_DUALSTACK_ENDPOINT:()=>uD,ENV_USE_FIPS_ENDPOINT:()=>mD,NODE_REGION_CONFIG_FILE_OPTIONS:()=>Rne,NODE_REGION_CONFIG_OPTIONS:()=>wne,NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS:()=>yne,NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS:()=>Sne,REGION_ENV_NAME:()=>hD,REGION_INI_NAME:()=>gD,getRegionInfo:()=>One,resolveCustomEndpointsConfig:()=>xne,resolveEndpointsConfig:()=>Cne,resolveRegionConfig:()=>Pne});_D.exports=vne(dD);var xi=nD(),uD="AWS_USE_DUALSTACK_ENDPOINT",pD="use_dualstack_endpoint",_ne=!1,yne={environmentVariableSelector:e=>(0,xi.booleanSelector)(e,uD,xi.SelectorType.ENV),configFileSelector:e=>(0,xi.booleanSelector)(e,pD,xi.SelectorType.CONFIG),default:!1},mD="AWS_USE_FIPS_ENDPOINT",fD="use_fips_endpoint",Ene=!1,Sne={environmentVariableSelector:e=>(0,xi.booleanSelector)(e,mD,xi.SelectorType.ENV),configFileSelector:e=>(0,xi.booleanSelector)(e,fD,xi.SelectorType.CONFIG),default:!1},Mp=nn(),xne=Nr(e=>{let{endpoint:t,urlParser:r}=e;return{...e,tls:e.tls??!0,endpoint:(0,Mp.normalizeProvider)(typeof t=="string"?r(t):t),isCustomEndpoint:!0,useDualstackEndpoint:(0,Mp.normalizeProvider)(e.useDualstackEndpoint??!1)}},"resolveCustomEndpointsConfig"),bne=Nr(async e=>{let{tls:t=!0}=e,r=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let i=await e.useDualstackEndpoint(),s=await e.useFipsEndpoint(),{hostname:o}=await e.regionInfoProvider(r,{useDualstackEndpoint:i,useFipsEndpoint:s})??{};if(!o)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${t?"https:":"http:"}//${o}`)},"getEndpointFromRegion"),Cne=Nr(e=>{let t=(0,Mp.normalizeProvider)(e.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:i}=e;return{...e,tls:e.tls??!0,endpoint:r?(0,Mp.normalizeProvider)(typeof r=="string"?i(r):r):()=>bne({...e,useDualstackEndpoint:t,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:t}},"resolveEndpointsConfig"),hD="AWS_REGION",gD="region",wne={environmentVariableSelector:e=>e[hD],configFileSelector:e=>e[gD],default:()=>{throw new Error("Region is missing")}},Rne={preferredFile:"credentials"},vD=Nr(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),cD=Nr(e=>vD(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),Pne=Nr(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if(typeof t=="string")return cD(t);let n=await t();return cD(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return vD(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}},"resolveRegionConfig"),lD=Nr((e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>{var n;return(n=e.find(({tags:i})=>t===i.includes("fips")&&r===i.includes("dualstack")))==null?void 0:n.hostname},"getHostnameFromVariants"),Tne=Nr((e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0),"getResolvedHostname"),Ane=Nr((e,{partitionHash:t})=>Object.keys(t||{}).find(r=>t[r].regions.includes(e))??"aws","getResolvedPartition"),Ine=Nr((e,{signingRegion:t,regionRegex:r,useFipsEndpoint:n})=>{if(t)return t;if(n){let i=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),s=e.match(i);if(s)return s[0].slice(1,-1)}},"getResolvedSigningRegion"),One=Nr((e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:i,partitionHash:s})=>{var o,a,c,l,d;let p=Ane(e,{partitionHash:s}),m=e in i?e:((o=s[p])==null?void 0:o.endpoint)??e,f={useFipsEndpoint:t,useDualstackEndpoint:r},v=lD((a=i[m])==null?void 0:a.variants,f),y=lD((c=s[p])==null?void 0:c.variants,f),x=Tne(m,{regionHostname:v,partitionHostname:y});if(x===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:m,useFipsEndpoint:t,useDualstackEndpoint:r}}`);let C=Ine(x,{signingRegion:(l=i[m])==null?void 0:l.signingRegion,regionRegex:s[p].regionRegex,useFipsEndpoint:t});return{partition:p,signingService:n,hostname:x,...C&&{signingRegion:C},...((d=i[m])==null?void 0:d.signingService)&&{signingService:i[m].signingService}}},"getRegionInfo")});var Ut=g((a$e,RD)=>{var qp=Object.defineProperty,Dne=Object.getOwnPropertyDescriptor,Nne=Object.getOwnPropertyNames,$ne=Object.prototype.hasOwnProperty,ys=(e,t)=>qp(e,"name",{value:t,configurable:!0}),kne=(e,t)=>{for(var r in t)qp(e,r,{get:t[r],enumerable:!0})},Mne=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Nne(t))!$ne.call(e,i)&&i!==r&&qp(e,i,{get:()=>t[i],enumerable:!(n=Dne(t,i))||n.enumerable});return e},jne=e=>Mne(qp({},"__esModule",{value:!0}),e),yD={};kne(yD,{CredentialsProviderError:()=>qne,ProviderError:()=>Lp,TokenProviderError:()=>Lne,chain:()=>Fne,fromStatic:()=>Une,memoize:()=>zne});RD.exports=jne(yD);var ED=class SD extends Error{constructor(t,r=!0){super(t),this.tryNextLink=r,this.name="ProviderError",Object.setPrototypeOf(this,SD.prototype)}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}};ys(ED,"ProviderError");var Lp=ED,xD=class bD extends Lp{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="CredentialsProviderError",Object.setPrototypeOf(this,bD.prototype)}};ys(xD,"CredentialsProviderError");var qne=xD,CD=class wD extends Lp{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="TokenProviderError",Object.setPrototypeOf(this,wD.prototype)}};ys(CD,"TokenProviderError");var Lne=CD,Fne=ys((...e)=>async()=>{if(e.length===0)throw new Lp("No providers in chain");let t;for(let r of e)try{return await r()}catch(n){if(t=n,n?.tryNextLink)continue;throw n}throw t},"chain"),Une=ys(e=>()=>Promise.resolve(e),"fromStatic"),zne=ys((e,t,r)=>{let n,i,s,o=!1,a=ys(async()=>{i||(i=e());try{n=await i,s=!0,o=!1}finally{i=void 0}return n},"coalesceProvider");return t===void 0?async c=>((!s||c?.forceRefresh)&&(n=await a()),n):async c=>((!s||c?.forceRefresh)&&(n=await a()),o?n:r&&!r(n)?(o=!0,n):(t(n)&&await a(),n))},"memoize")});var wl=g(Fp=>{"use strict";Object.defineProperty(Fp,"__esModule",{value:!0});Fp.getHomeDir=void 0;var Vne=require("os"),Hne=require("path"),ry={},Bne=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",Gne=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${Hne.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let i=Bne();return ry[i]||(ry[i]=(0,Vne.homedir)()),ry[i]};Fp.getHomeDir=Gne});var ny=g(Up=>{"use strict";Object.defineProperty(Up,"__esModule",{value:!0});Up.getSSOTokenFilepath=void 0;var Wne=require("crypto"),Kne=require("path"),Xne=wl(),Jne=e=>{let r=(0,Wne.createHash)("sha1").update(e).digest("hex");return(0,Kne.join)((0,Xne.getHomeDir)(),".aws","sso","cache",`${r}.json`)};Up.getSSOTokenFilepath=Jne});var PD=g(zp=>{"use strict";Object.defineProperty(zp,"__esModule",{value:!0});zp.getSSOTokenFromFile=void 0;var Yne=require("fs"),Qne=ny(),{readFile:Zne}=Yne.promises,eie=async e=>{let t=(0,Qne.getSSOTokenFilepath)(e),r=await Zne(t,"utf8");return JSON.parse(r)};zp.getSSOTokenFromFile=eie});var sy=g(Vp=>{"use strict";Object.defineProperty(Vp,"__esModule",{value:!0});Vp.slurpFile=void 0;var tie=require("fs"),{readFile:rie}=tie.promises,iy={},nie=(e,t)=>((!iy[e]||t?.ignoreCache)&&(iy[e]=rie(e,"utf8")),iy[e]);Vp.slurpFile=nie});var bi=g((p$e,Pl)=>{var Bp=Object.defineProperty,iie=Object.getOwnPropertyDescriptor,sie=Object.getOwnPropertyNames,oie=Object.prototype.hasOwnProperty,nr=(e,t)=>Bp(e,"name",{value:t,configurable:!0}),aie=(e,t)=>{for(var r in t)Bp(e,r,{get:t[r],enumerable:!0})},oy=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of sie(t))!oie.call(e,i)&&i!==r&&Bp(e,i,{get:()=>t[i],enumerable:!(n=iie(t,i))||n.enumerable});return e},cy=(e,t,r)=>(oy(e,t,"default"),r&&oy(r,t,"default")),cie=e=>oy(Bp({},"__esModule",{value:!0}),e),Rl={};aie(Rl,{CONFIG_PREFIX_SEPARATOR:()=>Es,DEFAULT_PROFILE:()=>OD,ENV_PROFILE:()=>ID,getProfileName:()=>lie,loadSharedConfigFiles:()=>$D,loadSsoSessionData:()=>Sie,parseKnownFiles:()=>bie});Pl.exports=cie(Rl);cy(Rl,wl(),Pl.exports);var ID="AWS_PROFILE",OD="default",lie=nr(e=>e.profile||process.env[ID]||OD,"getProfileName");cy(Rl,ny(),Pl.exports);cy(Rl,PD(),Pl.exports);var Hp=Dr(),die=nr(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(Es);return r===-1?!1:Object.values(Hp.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let i=r.indexOf(Es),s=r.substring(0,i)===Hp.IniSectionType.PROFILE?r.substring(i+1):r;return t[s]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),DD=require("path"),uie=wl(),pie="AWS_CONFIG_FILE",ND=nr(()=>process.env[pie]||(0,DD.join)((0,uie.getHomeDir)(),".aws","config"),"getConfigFilepath"),mie=wl(),fie="AWS_SHARED_CREDENTIALS_FILE",hie=nr(()=>process.env[fie]||(0,DD.join)((0,mie.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),gie=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,vie=["__proto__","profile __proto__"],ay=nr(e=>{let t={},r,n;for(let i of e.split(/\r?\n/)){let s=i.split(/(^|\s)[;#]/)[0].trim();if(s[0]==="["&&s[s.length-1]==="]"){r=void 0,n=void 0;let a=s.substring(1,s.length-1),c=gie.exec(a);if(c){let[,l,,d]=c;Object.values(Hp.IniSectionType).includes(l)&&(r=[l,d].join(Es))}else r=a;if(vie.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=s.indexOf("=");if(![0,-1].includes(a)){let[c,l]=[s.substring(0,a).trim(),s.substring(a+1).trim()];if(l==="")n=c;else{n&&i.trimStart()===i&&(n=void 0),t[r]=t[r]||{};let d=n?[n,c].join(Es):c;t[r][d]=l}}}}return t},"parseIni"),TD=sy(),AD=nr(()=>({}),"swallowError"),Es=".",$D=nr(async(e={})=>{let{filepath:t=hie(),configFilepath:r=ND()}=e,n=await Promise.all([(0,TD.slurpFile)(r,{ignoreCache:e.ignoreCache}).then(ay).then(die).catch(AD),(0,TD.slurpFile)(t,{ignoreCache:e.ignoreCache}).then(ay).catch(AD)]);return{configFile:n[0],credentialsFile:n[1]}},"loadSharedConfigFiles"),_ie=nr(e=>Object.entries(e).filter(([t])=>t.startsWith(Hp.IniSectionType.SSO_SESSION+Es)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(Es)+1)]:n}),{}),"getSsoSessionData"),yie=sy(),Eie=nr(()=>({}),"swallowError"),Sie=nr(async(e={})=>(0,yie.slurpFile)(e.configFilepath??ND()).then(ay).then(_ie).catch(Eie),"loadSsoSessionData"),xie=nr((...e)=>{let t={};for(let r of e)for(let[n,i]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],i):t[n]=i;return t},"mergeConfigFiles"),bie=nr(async e=>{let t=await $D(e);return xie(t.configFile,t.credentialsFile)},"parseKnownFiles")});var Ln=g((m$e,jD)=>{var Gp=Object.defineProperty,Cie=Object.getOwnPropertyDescriptor,wie=Object.getOwnPropertyNames,Rie=Object.prototype.hasOwnProperty,Al=(e,t)=>Gp(e,"name",{value:t,configurable:!0}),Pie=(e,t)=>{for(var r in t)Gp(e,r,{get:t[r],enumerable:!0})},Tie=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of wie(t))!Rie.call(e,i)&&i!==r&&Gp(e,i,{get:()=>t[i],enumerable:!(n=Cie(t,i))||n.enumerable});return e},Aie=e=>Tie(Gp({},"__esModule",{value:!0}),e),MD={};Pie(MD,{loadConfig:()=>$ie});jD.exports=Aie(MD);var Tl=Ut(),Iie=Al(e=>async()=>{try{let t=e(process.env);if(t===void 0)throw new Error;return t}catch(t){throw new Tl.CredentialsProviderError(t.message||`Cannot load config from environment variables with getter: ${e}`)}},"fromEnv"),kD=bi(),Oie=Al((e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,kD.getProfileName)(r),{configFile:i,credentialsFile:s}=await(0,kD.loadSharedConfigFiles)(r),o=s[n]||{},a=i[n]||{},c=t==="config"?{...o,...a}:{...a,...o};try{let d=e(c,t==="config"?i:s);if(d===void 0)throw new Error;return d}catch(l){throw new Tl.CredentialsProviderError(l.message||`Cannot load config for profile ${n} in SDK configuration files with getter: ${e}`)}},"fromSharedConfigFiles"),Die=Al(e=>typeof e=="function","isFunction"),Nie=Al(e=>Die(e)?async()=>await e():(0,Tl.fromStatic)(e),"fromStatic"),$ie=Al(({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>(0,Tl.memoize)((0,Tl.chain)(Iie(e),Oie(t,n),Nie(r))),"loadConfig")});var UD=g(Wp=>{"use strict";Object.defineProperty(Wp,"__esModule",{value:!0});Wp.getEndpointUrlConfig=void 0;var qD=bi(),LD="AWS_ENDPOINT_URL",FD="endpoint_url",kie=e=>({environmentVariableSelector:t=>{let r=e.split(" ").map(s=>s.toUpperCase()),n=t[[LD,...r].join("_")];if(n)return n;let i=t[LD];if(i)return i},configFileSelector:(t,r)=>{if(r&&t.services){let i=r[["services",t.services].join(qD.CONFIG_PREFIX_SEPARATOR)];if(i){let s=e.split(" ").map(a=>a.toLowerCase()),o=i[[s.join("_"),FD].join(qD.CONFIG_PREFIX_SEPARATOR)];if(o)return o}}let n=t[FD];if(n)return n},default:void 0});Wp.getEndpointUrlConfig=kie});var zD=g(Kp=>{"use strict";Object.defineProperty(Kp,"__esModule",{value:!0});Kp.getEndpointFromConfig=void 0;var Mie=Ln(),jie=UD(),qie=async e=>(0,Mie.loadConfig)((0,jie.getEndpointUrlConfig)(e))();Kp.getEndpointFromConfig=qie});var GD=g((g$e,BD)=>{var Xp=Object.defineProperty,Lie=Object.getOwnPropertyDescriptor,Fie=Object.getOwnPropertyNames,Uie=Object.prototype.hasOwnProperty,zie=(e,t)=>Xp(e,"name",{value:t,configurable:!0}),Vie=(e,t)=>{for(var r in t)Xp(e,r,{get:t[r],enumerable:!0})},Hie=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Fie(t))!Uie.call(e,i)&&i!==r&&Xp(e,i,{get:()=>t[i],enumerable:!(n=Lie(t,i))||n.enumerable});return e},Bie=e=>Hie(Xp({},"__esModule",{value:!0}),e),VD={};Vie(VD,{parseQueryString:()=>HD});BD.exports=Bie(VD);function HD(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,i=null]=r.split("=");n=decodeURIComponent(n),i&&(i=decodeURIComponent(i)),n in t?Array.isArray(t[n])?t[n].push(i):t[n]=[t[n],i]:t[n]=i}return t}zie(HD,"parseQueryString")});var Ss=g((v$e,XD)=>{var Jp=Object.defineProperty,Gie=Object.getOwnPropertyDescriptor,Wie=Object.getOwnPropertyNames,Kie=Object.prototype.hasOwnProperty,Xie=(e,t)=>Jp(e,"name",{value:t,configurable:!0}),Jie=(e,t)=>{for(var r in t)Jp(e,r,{get:t[r],enumerable:!0})},Yie=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Wie(t))!Kie.call(e,i)&&i!==r&&Jp(e,i,{get:()=>t[i],enumerable:!(n=Gie(t,i))||n.enumerable});return e},Qie=e=>Yie(Jp({},"__esModule",{value:!0}),e),WD={};Jie(WD,{parseUrl:()=>KD});XD.exports=Qie(WD);var Zie=GD(),KD=Xie(e=>{if(typeof e=="string")return KD(new URL(e));let{hostname:t,pathname:r,port:n,protocol:i,search:s}=e,o;return s&&(o=(0,Zie.parseQueryString)(s)),{hostname:t,port:n?parseInt(n):void 0,protocol:i,path:r,query:o}},"parseUrl")});var xs=g((_$e,rN)=>{var Yp=Object.defineProperty,ese=Object.getOwnPropertyDescriptor,tse=Object.getOwnPropertyNames,rse=Object.prototype.hasOwnProperty,ly=(e,t)=>Yp(e,"name",{value:t,configurable:!0}),nse=(e,t)=>{for(var r in t)Yp(e,r,{get:t[r],enumerable:!0})},ise=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of tse(t))!rse.call(e,i)&&i!==r&&Yp(e,i,{get:()=>t[i],enumerable:!(n=ese(t,i))||n.enumerable});return e},sse=e=>ise(Yp({},"__esModule",{value:!0}),e),JD={};nse(JD,{deserializerMiddleware:()=>YD,deserializerMiddlewareOption:()=>ZD,getSerdePlugin:()=>tN,serializerMiddleware:()=>QD,serializerMiddlewareOption:()=>eN});rN.exports=sse(JD);var YD=ly((e,t)=>(r,n)=>async i=>{let{response:s}=await r(i);try{let o=await t(s,e);return{response:s,output:o}}catch(o){if(Object.defineProperty(o,"$response",{value:s}),!("$metadata"in o)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";o.message+=`
  `+a,typeof o.$responseBodyText<"u"&&o.$response&&(o.$response.body=o.$responseBodyText)}throw o}},"deserializerMiddleware"),QD=ly((e,t)=>(r,n)=>async i=>{var s;let o=(s=n.endpointV2)!=null&&s.url&&e.urlParser?async()=>e.urlParser(n.endpointV2.url):e.endpoint;if(!o)throw new Error("No valid endpoint provider available.");let a=await t(i.input,{...e,endpoint:o});return r({...i,request:a})},"serializerMiddleware"),ZD={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},eN={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function tN(e,t,r){return{applyToStack:n=>{n.add(YD(e,r),ZD),n.add(QD(e,t),eN)}}}ly(tN,"getSerdePlugin")});var bs=g((y$e,lN)=>{var Zp=Object.defineProperty,ose=Object.getOwnPropertyDescriptor,ase=Object.getOwnPropertyNames,cse=Object.prototype.hasOwnProperty,$r=(e,t)=>Zp(e,"name",{value:t,configurable:!0}),lse=(e,t)=>{for(var r in t)Zp(e,r,{get:t[r],enumerable:!0})},dse=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of ase(t))!cse.call(e,i)&&i!==r&&Zp(e,i,{get:()=>t[i],enumerable:!(n=ose(t,i))||n.enumerable});return e},use=e=>dse(Zp({},"__esModule",{value:!0}),e),iN={};lse(iN,{endpointMiddleware:()=>aN,endpointMiddlewareOptions:()=>cN,getEndpointFromInstructions:()=>sN,getEndpointPlugin:()=>Sse,resolveEndpointConfig:()=>xse,resolveParams:()=>oN,toEndpointV1:()=>dy});lN.exports=use(iN);var pse=$r(async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),vse(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!gse(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},"resolveParamsForS3"),mse=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,fse=/(\d+\.){3}\d+/,hse=/\.\./,gse=$r(e=>mse.test(e)&&!fse.test(e)&&!hse.test(e),"isDnsCompatibleBucketName"),vse=$r(e=>{let[t,r,n,,,i]=e.split(":"),s=t==="arn"&&e.split(":").length>=6,o=!!(s&&r&&n&&i);if(s&&!o)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return o},"isArnBucketName"),_se=$r((e,t,r)=>{let n=$r(async()=>{let i=r[e]??r[t];return typeof i=="function"?i():i},"configProvider");return e==="credentialScope"||t==="CredentialScope"?async()=>{let i=typeof r.credentials=="function"?await r.credentials():r.credentials;return i?.credentialScope??i?.CredentialScope}:e==="endpoint"||t==="endpoint"?async()=>{let i=await n();if(i&&typeof i=="object"){if("url"in i)return i.url.href;if("hostname"in i){let{protocol:s,hostname:o,port:a,path:c}=i;return`${s}//${o}${a?":"+a:""}${c}`}}return i}:n},"createConfigValueProvider"),yse=zD(),nN=Ss(),dy=$r(e=>typeof e=="object"?"url"in e?(0,nN.parseUrl)(e.url):e:(0,nN.parseUrl)(e),"toEndpointV1"),sN=$r(async(e,t,r,n)=>{if(!r.endpoint){let o=await(0,yse.getEndpointFromConfig)(r.serviceId||"");o&&(r.endpoint=()=>Promise.resolve(dy(o)))}let i=await oN(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(i,n)},"getEndpointFromInstructions"),oN=$r(async(e,t,r)=>{var n;let i={},s=((n=t?.getEndpointParameterInstructions)==null?void 0:n.call(t))||{};for(let[o,a]of Object.entries(s))switch(a.type){case"staticContextParams":i[o]=a.value;break;case"contextParams":i[o]=e[a.name];break;case"clientContextParams":case"builtInParams":i[o]=await _se(a.name,o,r)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(s).length===0&&Object.assign(i,r),String(r.serviceId).toLowerCase()==="s3"&&await pse(i),i},"resolveParams"),Qp=nn(),aN=$r(({config:e,instructions:t})=>(r,n)=>async i=>{var s,o,a;let c=await sN(i.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=c,n.authSchemes=(s=c.properties)==null?void 0:s.authSchemes;let l=(o=n.authSchemes)==null?void 0:o[0];if(l){n.signing_region=l.signingRegion,n.signing_service=l.signingName;let d=(0,Qp.getSmithyContext)(n),p=(a=d?.selectedHttpAuthScheme)==null?void 0:a.httpAuthOption;p&&(p.signingProperties=Object.assign(p.signingProperties||{},{signing_region:l.signingRegion,signingRegion:l.signingRegion,signing_service:l.signingName,signingName:l.signingName,signingRegionSet:l.signingRegionSet},l.properties))}return r({...i})},"endpointMiddleware"),Ese=xs(),cN={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:Ese.serializerMiddlewareOption.name},Sse=$r((e,t)=>({applyToStack:r=>{r.addRelativeTo(aN({config:e,instructions:t}),cN)}}),"getEndpointPlugin"),xse=$r(e=>{let t=e.tls??!0,{endpoint:r}=e,n=r!=null?async()=>dy(await(0,Qp.normalizeProvider)(r)()):void 0;return{...e,endpoint:n,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:(0,Qp.normalizeProvider)(e.useDualstackEndpoint??!1),useFipsEndpoint:(0,Qp.normalizeProvider)(e.useFipsEndpoint??!1)}},"resolveEndpointConfig")});function Il(){return em>tm.length-16&&(dN.default.randomFillSync(tm),em=0),tm.slice(em,em+=16)}var dN,tm,em,uy=ot(()=>{dN=Rn(require("crypto")),tm=new Uint8Array(256),em=tm.length});var uN,pN=ot(()=>{uN=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function bse(e){return typeof e=="string"&&uN.test(e)}var Ci,Ol=ot(()=>{pN();Ci=bse});function Cs(e,t=0){return mt[e[t+0]]+mt[e[t+1]]+mt[e[t+2]]+mt[e[t+3]]+"-"+mt[e[t+4]]+mt[e[t+5]]+"-"+mt[e[t+6]]+mt[e[t+7]]+"-"+mt[e[t+8]]+mt[e[t+9]]+"-"+mt[e[t+10]]+mt[e[t+11]]+mt[e[t+12]]+mt[e[t+13]]+mt[e[t+14]]+mt[e[t+15]]}function Cse(e,t=0){let r=Cs(e,t);if(!Ci(r))throw TypeError("Stringified UUID is invalid");return r}var mt,mN,Dl=ot(()=>{Ol();mt=[];for(let e=0;e<256;++e)mt.push((e+256).toString(16).slice(1));mN=Cse});function wse(e,t,r){let n=t&&r||0,i=t||new Array(16);e=e||{};let s=e.node||fN,o=e.clockseq!==void 0?e.clockseq:py;if(s==null||o==null){let m=e.random||(e.rng||Il)();s==null&&(s=fN=[m[0]|1,m[1],m[2],m[3],m[4],m[5]]),o==null&&(o=py=(m[6]<<8|m[7])&16383)}let a=e.msecs!==void 0?e.msecs:Date.now(),c=e.nsecs!==void 0?e.nsecs:fy+1,l=a-my+(c-fy)/1e4;if(l<0&&e.clockseq===void 0&&(o=o+1&16383),(l<0||a>my)&&e.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");my=a,fy=c,py=o,a+=122192928e5;let d=((a&268435455)*1e4+c)%4294967296;i[n++]=d>>>24&255,i[n++]=d>>>16&255,i[n++]=d>>>8&255,i[n++]=d&255;let p=a/4294967296*1e4&268435455;i[n++]=p>>>8&255,i[n++]=p&255,i[n++]=p>>>24&15|16,i[n++]=p>>>16&255,i[n++]=o>>>8|128,i[n++]=o&255;for(let m=0;m<6;++m)i[n+m]=s[m];return t||Cs(i)}var fN,py,my,fy,hN,gN=ot(()=>{uy();Dl();my=0,fy=0;hN=wse});function Rse(e){if(!Ci(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var rm,hy=ot(()=>{Ol();rm=Rse});function Pse(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function Nl(e,t,r){function n(i,s,o,a){var c;if(typeof i=="string"&&(i=Pse(i)),typeof s=="string"&&(s=rm(s)),((c=s)===null||c===void 0?void 0:c.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+i.length);if(l.set(s),l.set(i,s.length),l=r(l),l[6]=l[6]&15|t,l[8]=l[8]&63|128,o){a=a||0;for(let d=0;d<16;++d)o[a+d]=l[d];return o}return Cs(l)}try{n.name=e}catch{}return n.DNS=Tse,n.URL=Ase,n}var Tse,Ase,gy=ot(()=>{Dl();hy();Tse="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Ase="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function Ise(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),vN.default.createHash("md5").update(e).digest()}var vN,_N,yN=ot(()=>{vN=Rn(require("crypto"));_N=Ise});var Ose,EN,SN=ot(()=>{gy();yN();Ose=Nl("v3",48,_N),EN=Ose});var xN,vy,bN=ot(()=>{xN=Rn(require("crypto")),vy={randomUUID:xN.default.randomUUID}});function Dse(e,t,r){if(vy.randomUUID&&!t&&!e)return vy.randomUUID();e=e||{};let n=e.random||(e.rng||Il)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let i=0;i<16;++i)t[r+i]=n[i];return t}return Cs(n)}var CN,wN=ot(()=>{bN();uy();Dl();CN=Dse});function Nse(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),RN.default.createHash("sha1").update(e).digest()}var RN,PN,TN=ot(()=>{RN=Rn(require("crypto"));PN=Nse});var $se,AN,IN=ot(()=>{gy();TN();$se=Nl("v5",80,PN),AN=$se});var ON,DN=ot(()=>{ON="00000000-0000-0000-0000-000000000000"});function kse(e){if(!Ci(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}var NN,$N=ot(()=>{Ol();NN=kse});var kN={};Xd(kN,{NIL:()=>ON,parse:()=>rm,stringify:()=>mN,v1:()=>hN,v3:()=>EN,v4:()=>CN,v5:()=>AN,validate:()=>Ci,version:()=>NN});var MN=ot(()=>{gN();SN();wN();IN();DN();$N();Ol();Dl();hy()});var _y=g((ske,FN)=>{var nm=Object.defineProperty,Mse=Object.getOwnPropertyDescriptor,jse=Object.getOwnPropertyNames,qse=Object.prototype.hasOwnProperty,Co=(e,t)=>nm(e,"name",{value:t,configurable:!0}),Lse=(e,t)=>{for(var r in t)nm(e,r,{get:t[r],enumerable:!0})},Fse=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of jse(t))!qse.call(e,i)&&i!==r&&nm(e,i,{get:()=>t[i],enumerable:!(n=Mse(t,i))||n.enumerable});return e},Use=e=>Fse(nm({},"__esModule",{value:!0}),e),jN={};Lse(jN,{isClockSkewCorrectedError:()=>qN,isClockSkewError:()=>Kse,isRetryableByTrait:()=>Wse,isServerError:()=>Jse,isThrottlingError:()=>Xse,isTransientError:()=>LN});FN.exports=Use(jN);var zse=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],Vse=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],Hse=["TimeoutError","RequestTimeout","RequestTimeoutException"],Bse=[500,502,503,504],Gse=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],Wse=Co(e=>e.$retryable!==void 0,"isRetryableByTrait"),Kse=Co(e=>zse.includes(e.name),"isClockSkewError"),qN=Co(e=>{var t;return(t=e.$metadata)==null?void 0:t.clockSkewCorrected},"isClockSkewCorrectedError"),Xse=Co(e=>{var t,r;return((t=e.$metadata)==null?void 0:t.httpStatusCode)===429||Vse.includes(e.name)||((r=e.$retryable)==null?void 0:r.throttling)==!0},"isThrottlingError"),LN=Co(e=>{var t;return qN(e)||Hse.includes(e.name)||Gse.includes(e?.code||"")||Bse.includes(((t=e.$metadata)==null?void 0:t.httpStatusCode)||0)},"isTransientError"),Jse=Co(e=>{var t;if(((t=e.$metadata)==null?void 0:t.httpStatusCode)!==void 0){let r=e.$metadata.httpStatusCode;return 500<=r&&r<=599&&!LN(e)}return!1},"isServerError")});var wo=g((dke,ZN)=>{var im=Object.defineProperty,Yse=Object.getOwnPropertyDescriptor,Qse=Object.getOwnPropertyNames,Zse=Object.prototype.hasOwnProperty,kr=(e,t)=>im(e,"name",{value:t,configurable:!0}),eoe=(e,t)=>{for(var r in t)im(e,r,{get:t[r],enumerable:!0})},toe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Qse(t))!Zse.call(e,i)&&i!==r&&im(e,i,{get:()=>t[i],enumerable:!(n=Yse(t,i))||n.enumerable});return e},roe=e=>toe(im({},"__esModule",{value:!0}),e),zN={};eoe(zN,{AdaptiveRetryStrategy:()=>coe,ConfiguredRetryStrategy:()=>loe,DEFAULT_MAX_ATTEMPTS:()=>yy,DEFAULT_RETRY_DELAY_BASE:()=>$l,DEFAULT_RETRY_MODE:()=>noe,DefaultRateLimiter:()=>BN,INITIAL_RETRY_TOKENS:()=>Ey,INVOCATION_ID_HEADER:()=>soe,MAXIMUM_RETRY_DELAY:()=>Sy,NO_RETRY_INCREMENT:()=>XN,REQUEST_HEADER:()=>ooe,RETRY_COST:()=>WN,RETRY_MODES:()=>VN,StandardRetryStrategy:()=>xy,THROTTLING_RETRY_DELAY_BASE:()=>GN,TIMEOUT_RETRY_COST:()=>KN});ZN.exports=roe(zN);var VN=(e=>(e.STANDARD="standard",e.ADAPTIVE="adaptive",e))(VN||{}),yy=3,noe="standard",ioe=_y(),HN=class{constructor(t){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>setTimeout(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),(0,ioe.isThrottlingError)(t)){let i=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=i,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(i),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}};kr(HN,"DefaultRateLimiter");var BN=HN,$l=100,Sy=20*1e3,GN=500,Ey=500,WN=5,KN=10,XN=1,soe="amz-sdk-invocation-id",ooe="amz-sdk-request",aoe=kr(()=>{let e=$l;return{computeNextBackoffDelay:kr(n=>Math.floor(Math.min(Sy,Math.random()*2**n*e)),"computeNextBackoffDelay"),setDelayBase:kr(n=>{e=n},"setDelayBase")}},"getDefaultRetryBackoffStrategy"),UN=kr(({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:kr(()=>t,"getRetryCount"),getRetryDelay:kr(()=>Math.min(Sy,e),"getRetryDelay"),getRetryCost:kr(()=>r,"getRetryCost")}),"createDefaultRetryToken"),JN=class{constructor(t){this.maxAttempts=t,this.mode="standard",this.capacity=Ey,this.retryBackoffStrategy=aoe(),this.maxAttemptsProvider=typeof t=="function"?t:async()=>t}async acquireInitialRetryToken(t){return UN({retryDelay:$l,retryCount:0})}async refreshRetryTokenForRetry(t,r){let n=await this.getMaxAttempts();if(this.shouldRetry(t,r,n)){let i=r.errorType;this.retryBackoffStrategy.setDelayBase(i==="THROTTLING"?GN:$l);let s=this.retryBackoffStrategy.computeNextBackoffDelay(t.getRetryCount()),o=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,s):s,a=this.getCapacityCost(i);return this.capacity-=a,UN({retryDelay:o,retryCount:t.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(t){this.capacity=Math.max(Ey,this.capacity+(t.getRetryCost()??XN))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${yy}`),yy}}shouldRetry(t,r,n){return t.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(t){return t==="TRANSIENT"?KN:WN}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}};kr(JN,"StandardRetryStrategy");var xy=JN,YN=class{constructor(t,r){this.maxAttemptsProvider=t,this.mode="adaptive";let{rateLimiter:n}=r??{};this.rateLimiter=n??new BN,this.standardRetryStrategy=new xy(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(t,r)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}};kr(YN,"AdaptiveRetryStrategy");var coe=YN,QN=class extends xy{constructor(t,r=$l){super(typeof t=="function"?t:async()=>t),typeof r=="number"?this.computeNextBackoffDelay=()=>r:this.computeNextBackoffDelay=r}async refreshRetryTokenForRetry(t,r){let n=await super.refreshRetryTokenForRetry(t,r);return n.getRetryDelay=()=>this.computeNextBackoffDelay(n.getRetryCount()),n}};kr(QN,"ConfiguredRetryStrategy");var loe=QN});var i$=g((uke,n$)=>{var sm=Object.defineProperty,doe=Object.getOwnPropertyDescriptor,uoe=Object.getOwnPropertyNames,poe=Object.prototype.hasOwnProperty,ir=(e,t)=>sm(e,"name",{value:t,configurable:!0}),moe=(e,t)=>{for(var r in t)sm(e,r,{get:t[r],enumerable:!0})},foe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of uoe(t))!poe.call(e,i)&&i!==r&&sm(e,i,{get:()=>t[i],enumerable:!(n=doe(t,i))||n.enumerable});return e},hoe=e=>foe(sm({},"__esModule",{value:!0}),e),r$={};moe(r$,{constructStack:()=>by});n$.exports=hoe(r$);var ws=ir((e,t)=>{let r=[];if(e&&r.push(e),t)for(let n of t)r.push(n);return r},"getAllAliases"),wi=ir((e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,"getMiddlewareNameWithAliases"),by=ir(()=>{let e=[],t=[],r=!1,n=new Set,i=ir(p=>p.sort((m,f)=>e$[f.step]-e$[m.step]||t$[f.priority||"normal"]-t$[m.priority||"normal"]),"sort"),s=ir(p=>{let m=!1,f=ir(v=>{let y=ws(v.name,v.aliases);if(y.includes(p)){m=!0;for(let x of y)n.delete(x);return!1}return!0},"filterCb");return e=e.filter(f),t=t.filter(f),m},"removeByName"),o=ir(p=>{let m=!1,f=ir(v=>{if(v.middleware===p){m=!0;for(let y of ws(v.name,v.aliases))n.delete(y);return!1}return!0},"filterCb");return e=e.filter(f),t=t.filter(f),m},"removeByReference"),a=ir(p=>{var m;return e.forEach(f=>{p.add(f.middleware,{...f})}),t.forEach(f=>{p.addRelativeTo(f.middleware,{...f})}),(m=p.identifyOnResolve)==null||m.call(p,d.identifyOnResolve()),p},"cloneTo"),c=ir(p=>{let m=[];return p.before.forEach(f=>{f.before.length===0&&f.after.length===0?m.push(f):m.push(...c(f))}),m.push(p),p.after.reverse().forEach(f=>{f.before.length===0&&f.after.length===0?m.push(f):m.push(...c(f))}),m},"expandRelativeMiddlewareList"),l=ir((p=!1)=>{let m=[],f=[],v={};return e.forEach(x=>{let C={...x,before:[],after:[]};for(let I of ws(C.name,C.aliases))v[I]=C;m.push(C)}),t.forEach(x=>{let C={...x,before:[],after:[]};for(let I of ws(C.name,C.aliases))v[I]=C;f.push(C)}),f.forEach(x=>{if(x.toMiddleware){let C=v[x.toMiddleware];if(C===void 0){if(p)return;throw new Error(`${x.toMiddleware} is not found when adding ${wi(x.name,x.aliases)} middleware ${x.relation} ${x.toMiddleware}`)}x.relation==="after"&&C.after.push(x),x.relation==="before"&&C.before.push(x)}}),i(m).map(c).reduce((x,C)=>(x.push(...C),x),[])},"getMiddlewareList"),d={add:(p,m={})=>{let{name:f,override:v,aliases:y}=m,x={step:"initialize",priority:"normal",middleware:p,...m},C=ws(f,y);if(C.length>0){if(C.some(I=>n.has(I))){if(!v)throw new Error(`Duplicate middleware name '${wi(f,y)}'`);for(let I of C){let W=e.findIndex(J=>{var $;return J.name===I||(($=J.aliases)==null?void 0:$.some(Q=>Q===I))});if(W===-1)continue;let K=e[W];if(K.step!==x.step||x.priority!==K.priority)throw new Error(`"${wi(K.name,K.aliases)}" middleware with ${K.priority} priority in ${K.step} step cannot be overridden by "${wi(f,y)}" middleware with ${x.priority} priority in ${x.step} step.`);e.splice(W,1)}}for(let I of C)n.add(I)}e.push(x)},addRelativeTo:(p,m)=>{let{name:f,override:v,aliases:y}=m,x={middleware:p,...m},C=ws(f,y);if(C.length>0){if(C.some(I=>n.has(I))){if(!v)throw new Error(`Duplicate middleware name '${wi(f,y)}'`);for(let I of C){let W=t.findIndex(J=>{var $;return J.name===I||(($=J.aliases)==null?void 0:$.some(Q=>Q===I))});if(W===-1)continue;let K=t[W];if(K.toMiddleware!==x.toMiddleware||K.relation!==x.relation)throw new Error(`"${wi(K.name,K.aliases)}" middleware ${K.relation} "${K.toMiddleware}" middleware cannot be overridden by "${wi(f,y)}" middleware ${x.relation} "${x.toMiddleware}" middleware.`);t.splice(W,1)}}for(let I of C)n.add(I)}t.push(x)},clone:()=>a(by()),use:p=>{p.applyToStack(d)},remove:p=>typeof p=="string"?s(p):o(p),removeByTag:p=>{let m=!1,f=ir(v=>{let{tags:y,name:x,aliases:C}=v;if(y&&y.includes(p)){let I=ws(x,C);for(let W of I)n.delete(W);return m=!0,!1}return!0},"filterCb");return e=e.filter(f),t=t.filter(f),m},concat:p=>{var m;let f=a(by());return f.use(p),f.identifyOnResolve(r||f.identifyOnResolve()||(((m=p.identifyOnResolve)==null?void 0:m.call(p))??!1)),f},applyToStack:a,identify:()=>l(!0).map(p=>{let m=p.step??p.relation+" "+p.toMiddleware;return wi(p.name,p.aliases)+" - "+m}),identifyOnResolve(p){return typeof p=="boolean"&&(r=p),r},resolve:(p,m)=>{for(let f of l().map(v=>v.middleware).reverse())p=f(p,m);return r&&console.log(d.identify()),p}};return d},"constructStack"),e$={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},t$={high:3,normal:2,low:1}});var Cy=g((pke,o$)=>{var om=Object.defineProperty,goe=Object.getOwnPropertyDescriptor,voe=Object.getOwnPropertyNames,_oe=Object.prototype.hasOwnProperty,yoe=(e,t)=>om(e,"name",{value:t,configurable:!0}),Eoe=(e,t)=>{for(var r in t)om(e,r,{get:t[r],enumerable:!0})},Soe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of voe(t))!_oe.call(e,i)&&i!==r&&om(e,i,{get:()=>t[i],enumerable:!(n=goe(t,i))||n.enumerable});return e},xoe=e=>Soe(om({},"__esModule",{value:!0}),e),s$={};Eoe(s$,{isArrayBuffer:()=>boe});o$.exports=xoe(s$);var boe=yoe(e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]","isArrayBuffer")});var Ro=g((mke,l$)=>{var am=Object.defineProperty,Coe=Object.getOwnPropertyDescriptor,woe=Object.getOwnPropertyNames,Roe=Object.prototype.hasOwnProperty,a$=(e,t)=>am(e,"name",{value:t,configurable:!0}),Poe=(e,t)=>{for(var r in t)am(e,r,{get:t[r],enumerable:!0})},Toe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of woe(t))!Roe.call(e,i)&&i!==r&&am(e,i,{get:()=>t[i],enumerable:!(n=Coe(t,i))||n.enumerable});return e},Aoe=e=>Toe(am({},"__esModule",{value:!0}),e),c$={};Poe(c$,{fromArrayBuffer:()=>Ooe,fromString:()=>Doe});l$.exports=Aoe(c$);var Ioe=Cy(),wy=require("buffer"),Ooe=a$((e,t=0,r=e.byteLength-t)=>{if(!(0,Ioe.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return wy.Buffer.from(e,t,r)},"fromArrayBuffer"),Doe=a$((e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?wy.Buffer.from(e,t):wy.Buffer.from(e)},"fromString")});var d$=g(cm=>{"use strict";Object.defineProperty(cm,"__esModule",{value:!0});cm.fromBase64=void 0;var Noe=Ro(),$oe=/^[A-Za-z0-9+/]*={0,2}$/,koe=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!$oe.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,Noe.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};cm.fromBase64=koe});var sr=g((hke,f$)=>{var lm=Object.defineProperty,Moe=Object.getOwnPropertyDescriptor,joe=Object.getOwnPropertyNames,qoe=Object.prototype.hasOwnProperty,Ry=(e,t)=>lm(e,"name",{value:t,configurable:!0}),Loe=(e,t)=>{for(var r in t)lm(e,r,{get:t[r],enumerable:!0})},Foe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of joe(t))!qoe.call(e,i)&&i!==r&&lm(e,i,{get:()=>t[i],enumerable:!(n=Moe(t,i))||n.enumerable});return e},Uoe=e=>Foe(lm({},"__esModule",{value:!0}),e),u$={};Loe(u$,{fromUtf8:()=>m$,toUint8Array:()=>zoe,toUtf8:()=>Voe});f$.exports=Uoe(u$);var p$=Ro(),m$=Ry(e=>{let t=(0,p$.fromString)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),zoe=Ry(e=>typeof e=="string"?m$(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),"toUint8Array"),Voe=Ry(e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,p$.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},"toUtf8")});var h$=g(dm=>{"use strict";Object.defineProperty(dm,"__esModule",{value:!0});dm.toBase64=void 0;var Hoe=Ro(),Boe=sr(),Goe=e=>{let t;if(typeof e=="string"?t=(0,Boe.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,Hoe.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};dm.toBase64=Goe});var Po=g((vke,um)=>{var g$=Object.defineProperty,Woe=Object.getOwnPropertyDescriptor,Koe=Object.getOwnPropertyNames,Xoe=Object.prototype.hasOwnProperty,Py=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Koe(t))!Xoe.call(e,i)&&i!==r&&g$(e,i,{get:()=>t[i],enumerable:!(n=Woe(t,i))||n.enumerable});return e},v$=(e,t,r)=>(Py(e,t,"default"),r&&Py(r,t,"default")),Joe=e=>Py(g$({},"__esModule",{value:!0}),e),Ty={};um.exports=Joe(Ty);v$(Ty,d$(),um.exports);v$(Ty,h$(),um.exports)});var _$=g(pm=>{"use strict";Object.defineProperty(pm,"__esModule",{value:!0});pm.getAwsChunkedEncodingStream=void 0;var Yoe=require("stream"),Qoe=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:i,checksumLocationName:s,streamHasher:o}=t,a=r!==void 0&&i!==void 0&&s!==void 0&&o!==void 0,c=a?o(i,e):void 0,l=new Yoe.Readable({read:()=>{}});return e.on("data",d=>{let p=n(d)||0;l.push(`${p.toString(16)}\r
`),l.push(d),l.push(`\r
`)}),e.on("end",async()=>{if(l.push(`0\r
`),a){let d=r(await c);l.push(`${s}:${d}\r
`),l.push(`\r
`)}l.push(null)}),l};pm.getAwsChunkedEncodingStream=Qoe});var Iy=g((yke,S$)=>{var mm=Object.defineProperty,Zoe=Object.getOwnPropertyDescriptor,eae=Object.getOwnPropertyNames,tae=Object.prototype.hasOwnProperty,Ay=(e,t)=>mm(e,"name",{value:t,configurable:!0}),rae=(e,t)=>{for(var r in t)mm(e,r,{get:t[r],enumerable:!0})},nae=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of eae(t))!tae.call(e,i)&&i!==r&&mm(e,i,{get:()=>t[i],enumerable:!(n=Zoe(t,i))||n.enumerable});return e},iae=e=>nae(mm({},"__esModule",{value:!0}),e),y$={};rae(y$,{escapeUri:()=>E$,escapeUriPath:()=>oae});S$.exports=iae(y$);var E$=Ay(e=>encodeURIComponent(e).replace(/[!'()*]/g,sae),"escapeUri"),sae=Ay(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,"hexEncode"),oae=Ay(e=>e.split("/").map(E$).join("/"),"escapeUriPath")});var w$=g((Eke,C$)=>{var fm=Object.defineProperty,aae=Object.getOwnPropertyDescriptor,cae=Object.getOwnPropertyNames,lae=Object.prototype.hasOwnProperty,dae=(e,t)=>fm(e,"name",{value:t,configurable:!0}),uae=(e,t)=>{for(var r in t)fm(e,r,{get:t[r],enumerable:!0})},pae=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of cae(t))!lae.call(e,i)&&i!==r&&fm(e,i,{get:()=>t[i],enumerable:!(n=aae(t,i))||n.enumerable});return e},mae=e=>pae(fm({},"__esModule",{value:!0}),e),x$={};uae(x$,{buildQueryString:()=>b$});C$.exports=mae(x$);var Oy=Iy();function b$(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=(0,Oy.escapeUri)(r),Array.isArray(n))for(let i=0,s=n.length;i<s;i++)t.push(`${r}=${(0,Oy.escapeUri)(n[i])}`);else{let i=r;(n||typeof n=="string")&&(i+=`=${(0,Oy.escapeUri)(n)}`),t.push(i)}}return t.join("&")}dae(b$,"buildQueryString")});var Rs=g((Cke,U$)=>{var fae=Object.create,kl=Object.defineProperty,hae=Object.getOwnPropertyDescriptor,gae=Object.getOwnPropertyNames,vae=Object.getPrototypeOf,_ae=Object.prototype.hasOwnProperty,at=(e,t)=>kl(e,"name",{value:t,configurable:!0}),yae=(e,t)=>{for(var r in t)kl(e,r,{get:t[r],enumerable:!0})},T$=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of gae(t))!_ae.call(e,i)&&i!==r&&kl(e,i,{get:()=>t[i],enumerable:!(n=hae(t,i))||n.enumerable});return e},Eae=(e,t,r)=>(r=e!=null?fae(vae(e)):{},T$(t||!e||!e.__esModule?kl(r,"default",{value:e,enumerable:!0}):r,e)),Sae=e=>T$(kl({},"__esModule",{value:!0}),e),A$={};yae(A$,{DEFAULT_REQUEST_TIMEOUT:()=>Rae,NodeHttp2Handler:()=>Oae,NodeHttpHandler:()=>Pae,streamCollector:()=>Nae});U$.exports=Sae(A$);var I$=Ot(),O$=w$(),Dy=require("http"),Ny=require("https"),xae=["ECONNRESET","EPIPE","ETIMEDOUT"],D$=at(e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t},"getTransformedHeaders"),bae=at((e,t,r=0)=>{if(!r)return;let n=setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`Socket timed out without establishing a connection within ${r} ms`),{name:"TimeoutError"}))},r);e.on("socket",i=>{i.connecting?i.on("connect",()=>{clearTimeout(n)}):clearTimeout(n)})},"setConnectionTimeout"),Cae=at((e,{keepAlive:t,keepAliveMsecs:r})=>{t===!0&&e.on("socket",n=>{n.setKeepAlive(t,r||0)})},"setSocketKeepAlive"),wae=at((e,t,r=0)=>{e.setTimeout(r,()=>{e.destroy(),t(Object.assign(new Error(`Connection timed out after ${r} ms`),{name:"TimeoutError"}))})},"setSocketTimeout"),N$=require("stream"),R$=1e3;async function ky(e,t,r=R$){let n=t.headers??{},i=n.Expect||n.expect,s=-1,o=!1;i==="100-continue"&&await Promise.race([new Promise(a=>{s=Number(setTimeout(a,Math.max(R$,r)))}),new Promise(a=>{e.on("continue",()=>{clearTimeout(s),a()}),e.on("error",()=>{o=!0,clearTimeout(s),a()})})]),o||$$(e,t.body)}at(ky,"writeRequestBody");function $$(e,t){if(t instanceof N$.Readable){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){e.end(t);return}let r=t;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}e.end(Buffer.from(t));return}e.end()}at($$,"writeBody");var Rae=0,k$=class $y{constructor(t){this.socketWarningTimestamp=0,this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(i=>{r(this.resolveDefaultConfig(i))}).catch(n):r(this.resolveDefaultConfig(t))})}static create(t){return typeof t?.handle=="function"?t:new $y(t)}static checkSocketUsage(t,r){var n,i;let{sockets:s,requests:o,maxSockets:a}=t;if(typeof a!="number"||a===1/0||Date.now()-15e3<r)return r;if(s&&o)for(let l in s){let d=((n=s[l])==null?void 0:n.length)??0,p=((i=o[l])==null?void 0:i.length)??0;if(d>=a&&p>=2*a)return console.warn("@smithy/node-http-handler:WARN",`socket usage at capacity=${d} and ${p} additional requests are enqueued.`,"See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html","or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config."),Date.now()}return r}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:i,httpAgent:s,httpsAgent:o}=t||{},a=!0,c=50;return{connectionTimeout:n,requestTimeout:r??i,httpAgent:s instanceof Dy.Agent||typeof s?.destroy=="function"?s:new Dy.Agent({keepAlive:a,maxSockets:c,...s}),httpsAgent:o instanceof Ny.Agent||typeof o?.destroy=="function"?o:new Ny.Agent({keepAlive:a,maxSockets:c,...o})}}destroy(){var t,r,n,i;(r=(t=this.config)==null?void 0:t.httpAgent)==null||r.destroy(),(i=(n=this.config)==null?void 0:n.httpsAgent)==null||i.destroy()}async handle(t,{abortSignal:r}={}){this.config||(this.config=await this.configProvider);let n;return new Promise((i,s)=>{let o,a=at(async I=>{await o,clearTimeout(n),i(I)},"resolve"),c=at(async I=>{await o,s(I)},"reject");if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(r?.aborted){let I=new Error("Request aborted");I.name="AbortError",c(I);return}let l=t.protocol==="https:",d=l?this.config.httpsAgent:this.config.httpAgent;n=setTimeout(()=>{this.socketWarningTimestamp=$y.checkSocketUsage(d,this.socketWarningTimestamp)},this.config.socketAcquisitionWarningTimeout??(this.config.requestTimeout??2e3)+(this.config.connectionTimeout??1e3));let p=(0,O$.buildQueryString)(t.query||{}),m;if(t.username!=null||t.password!=null){let I=t.username??"",W=t.password??"";m=`${I}:${W}`}let f=t.path;p&&(f+=`?${p}`),t.fragment&&(f+=`#${t.fragment}`);let v={headers:t.headers,host:t.hostname,method:t.method,path:f,port:t.port,agent:d,auth:m},x=(l?Ny.request:Dy.request)(v,I=>{let W=new I$.HttpResponse({statusCode:I.statusCode||-1,reason:I.statusMessage,headers:D$(I.headers),body:I});a({response:W})});x.on("error",I=>{xae.includes(I.code)?c(Object.assign(I,{name:"TimeoutError"})):c(I)}),bae(x,c,this.config.connectionTimeout),wae(x,c,this.config.requestTimeout),r&&(r.onabort=()=>{x.abort();let I=new Error("Request aborted");I.name="AbortError",c(I)});let C=v.agent;typeof C=="object"&&"keepAlive"in C&&Cae(x,{keepAlive:C.keepAlive,keepAliveMsecs:C.keepAliveMsecs}),o=ky(x,t,this.config.requestTimeout).catch(s)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}};at(k$,"NodeHttpHandler");var Pae=k$,P$=require("http2"),Tae=Eae(require("http2")),M$=class{constructor(t){this.sessions=[],this.sessions=t??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(t){this.sessions.push(t)}contains(t){return this.sessions.includes(t)}remove(t){this.sessions=this.sessions.filter(r=>r!==t)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(t){for(let r of this.sessions)r===t&&(r.destroyed||r.destroy())}};at(M$,"NodeHttp2ConnectionPool");var Aae=M$,j$=class{constructor(t){if(this.sessionCache=new Map,this.config=t,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}lease(t,r){let n=this.getUrlString(t),i=this.sessionCache.get(n);if(i){let c=i.poll();if(c&&!this.config.disableConcurrency)return c}let s=Tae.default.connect(n);this.config.maxConcurrency&&s.settings({maxConcurrentStreams:this.config.maxConcurrency},c=>{if(c)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+t.destination.toString())}),s.unref();let o=at(()=>{s.destroy(),this.deleteSession(n,s)},"destroySessionCb");s.on("goaway",o),s.on("error",o),s.on("frameError",o),s.on("close",()=>this.deleteSession(n,s)),r.requestTimeout&&s.setTimeout(r.requestTimeout,o);let a=this.sessionCache.get(n)||new Aae;return a.offerLast(s),this.sessionCache.set(n,a),s}deleteSession(t,r){let n=this.sessionCache.get(t);n&&n.contains(r)&&(n.remove(r),this.sessionCache.set(t,n))}release(t,r){var n;let i=this.getUrlString(t);(n=this.sessionCache.get(i))==null||n.offerLast(r)}destroy(){for(let[t,r]of this.sessionCache){for(let n of r)n.destroyed||n.destroy(),r.remove(n);this.sessionCache.delete(t)}}setMaxConcurrentStreams(t){if(this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=t}setDisableConcurrentStreams(t){this.config.disableConcurrency=t}getUrlString(t){return t.destination.toString()}};at(j$,"NodeHttp2ConnectionManager");var Iae=j$,q$=class L${constructor(t){this.metadata={handlerProtocol:"h2"},this.connectionManager=new Iae({}),this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(i=>{r(i||{})}).catch(n):r(t||{})})}static create(t){return typeof t?.handle=="function"?t:new L$(t)}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:r}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:n,disableConcurrentStreams:i}=this.config;return new Promise((s,o)=>{var a;let c=!1,l,d=at(async ee=>{await l,s(ee)},"resolve"),p=at(async ee=>{await l,o(ee)},"reject");if(r?.aborted){c=!0;let ee=new Error("Request aborted");ee.name="AbortError",p(ee);return}let{hostname:m,method:f,port:v,protocol:y,query:x}=t,C="";if(t.username!=null||t.password!=null){let ee=t.username??"",ue=t.password??"";C=`${ee}:${ue}@`}let I=`${y}//${C}${m}${v?`:${v}`:""}`,W={destination:new URL(I)},K=this.connectionManager.lease(W,{requestTimeout:(a=this.config)==null?void 0:a.sessionTimeout,disableConcurrentStreams:i||!1}),J=at(ee=>{i&&this.destroySession(K),c=!0,p(ee)},"rejectWithDestroy"),$=(0,O$.buildQueryString)(x||{}),Q=t.path;$&&(Q+=`?${$}`),t.fragment&&(Q+=`#${t.fragment}`);let te=K.request({...t.headers,[P$.constants.HTTP2_HEADER_PATH]:Q,[P$.constants.HTTP2_HEADER_METHOD]:f});K.ref(),te.on("response",ee=>{let ue=new I$.HttpResponse({statusCode:ee[":status"]||-1,headers:D$(ee),body:te});c=!0,d({response:ue}),i&&(K.close(),this.connectionManager.deleteSession(I,K))}),n&&te.setTimeout(n,()=>{te.close();let ee=new Error(`Stream timed out because of no activity for ${n} ms`);ee.name="TimeoutError",J(ee)}),r&&(r.onabort=()=>{te.close();let ee=new Error("Request aborted");ee.name="AbortError",J(ee)}),te.on("frameError",(ee,ue,De)=>{J(new Error(`Frame type id ${ee} in stream id ${De} has failed with code ${ue}.`))}),te.on("error",J),te.on("aborted",()=>{J(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${te.rstCode}.`))}),te.on("close",()=>{K.unref(),i&&K.destroy(),c||J(new Error("Unexpected error: http2 request did not get a response"))}),l=ky(te,t,n)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}};at(q$,"NodeHttp2Handler");var Oae=q$,F$=class extends N$.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}_write(t,r,n){this.bufferedBytes.push(t),n()}};at(F$,"Collector");var Dae=F$,Nae=at(e=>new Promise((t,r)=>{let n=new Dae;e.pipe(n),e.on("error",i=>{n.end(),r(i)}),n.on("error",r),n.on("finish",function(){let i=new Uint8Array(Buffer.concat(this.bufferedBytes));t(i)})}),"streamCollector")});var V$=g(hm=>{"use strict";Object.defineProperty(hm,"__esModule",{value:!0});hm.sdkStreamMixin=void 0;var $ae=Rs(),kae=Ro(),My=require("stream"),Mae=require("util"),z$="The stream has already been transformed.",jae=e=>{var t,r;if(!(e instanceof My.Readable)){let s=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${s}`)}let n=!1,i=async()=>{if(n)throw new Error(z$);return n=!0,await(0,$ae.streamCollector)(e)};return Object.assign(e,{transformToByteArray:i,transformToString:async s=>{let o=await i();return s===void 0||Buffer.isEncoding(s)?(0,kae.fromArrayBuffer)(o.buffer,o.byteOffset,o.byteLength).toString(s):new Mae.TextDecoder(s).decode(o)},transformToWebStream:()=>{if(n)throw new Error(z$);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof My.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please make sure you are using Node.js >= 17.0.0, or polyfill is available.");return n=!0,My.Readable.toWeb(e)}})};hm.sdkStreamMixin=jae});var Fy=g((Rke,_m)=>{var gm=Object.defineProperty,qae=Object.getOwnPropertyDescriptor,Lae=Object.getOwnPropertyNames,Fae=Object.prototype.hasOwnProperty,Ly=(e,t)=>gm(e,"name",{value:t,configurable:!0}),Uae=(e,t)=>{for(var r in t)gm(e,r,{get:t[r],enumerable:!0})},jy=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Lae(t))!Fae.call(e,i)&&i!==r&&gm(e,i,{get:()=>t[i],enumerable:!(n=qae(t,i))||n.enumerable});return e},H$=(e,t,r)=>(jy(e,t,"default"),r&&jy(r,t,"default")),zae=e=>jy(gm({},"__esModule",{value:!0}),e),vm={};Uae(vm,{Uint8ArrayBlobAdapter:()=>qy});_m.exports=zae(vm);var B$=Po(),G$=sr();function W$(e,t="utf-8"){return t==="base64"?(0,B$.toBase64)(e):(0,G$.toUtf8)(e)}Ly(W$,"transformToString");function K$(e,t){return t==="base64"?qy.mutate((0,B$.fromBase64)(e)):qy.mutate((0,G$.fromUtf8)(e))}Ly(K$,"transformFromString");var X$=class J$ extends Uint8Array{static fromString(t,r="utf-8"){switch(typeof t){case"string":return K$(t,r);default:throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}}static mutate(t){return Object.setPrototypeOf(t,J$.prototype),t}transformToString(t="utf-8"){return W$(this,t)}};Ly(X$,"Uint8ArrayBlobAdapter");var qy=X$;H$(vm,_$(),_m.exports);H$(vm,V$(),_m.exports)});var Je=g((Oke,Ek)=>{var bm=Object.defineProperty,Vae=Object.getOwnPropertyDescriptor,Hae=Object.getOwnPropertyNames,Bae=Object.prototype.hasOwnProperty,D=(e,t)=>bm(e,"name",{value:t,configurable:!0}),Gae=(e,t)=>{for(var r in t)bm(e,r,{get:t[r],enumerable:!0})},Wae=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Hae(t))!Bae.call(e,i)&&i!==r&&bm(e,i,{get:()=>t[i],enumerable:!(n=Vae(t,i))||n.enumerable});return e},Kae=e=>Wae(bm({},"__esModule",{value:!0}),e),Q$={};Gae(Q$,{Client:()=>Jae,Command:()=>nk,LazyJsonString:()=>Gce,NoOpLogger:()=>Xae,SENSITIVE_STRING:()=>Zae,ServiceException:()=>$ce,StringWrapper:()=>Fl,_json:()=>Wy,collectBody:()=>Yae,convertMap:()=>Wce,createAggregatedClient:()=>ece,dateToUtcString:()=>dk,decorateServiceException:()=>mk,emitWarningIfUnsupportedVersion:()=>qce,expectBoolean:()=>rce,expectByte:()=>Gy,expectFloat32:()=>Em,expectInt:()=>ice,expectInt32:()=>Hy,expectLong:()=>ql,expectNonNull:()=>oce,expectNumber:()=>jl,expectObject:()=>sk,expectShort:()=>By,expectString:()=>ace,expectUnion:()=>cce,extendedEncodeURIComponent:()=>xm,getArrayIfSingleItem:()=>Bce,getDefaultClientConfiguration:()=>Vce,getDefaultExtensionConfiguration:()=>hk,getValueFromTextNode:()=>gk,handleFloat:()=>uce,limitedParseDouble:()=>Jy,limitedParseFloat:()=>pce,limitedParseFloat32:()=>mce,loadConfigsForDefaultMode:()=>jce,logger:()=>Ll,map:()=>Qy,parseBoolean:()=>tce,parseEpochTimestamp:()=>wce,parseRfc3339DateTime:()=>_ce,parseRfc3339DateTimeWithOffset:()=>Ece,parseRfc7231DateTime:()=>Cce,resolveDefaultRuntimeConfig:()=>Hce,resolvedPath:()=>Qce,serializeFloat:()=>Zce,splitEvery:()=>yk,strictParseByte:()=>lk,strictParseDouble:()=>Xy,strictParseFloat:()=>lce,strictParseFloat32:()=>ok,strictParseInt:()=>fce,strictParseInt32:()=>hce,strictParseLong:()=>ck,strictParseShort:()=>To,take:()=>Kce,throwDefaultError:()=>fk,withBaseException:()=>kce});Ek.exports=Kae(Q$);var Z$=class{trace(){}debug(){}info(){}warn(){}error(){}};D(Z$,"NoOpLogger");var Xae=Z$,ek=i$(),tk=class{constructor(t){this.middlewareStack=(0,ek.constructStack)(),this.config=t}send(t,r,n){let i=typeof r!="function"?r:void 0,s=typeof r=="function"?r:n,o=t.resolveMiddleware(this.middlewareStack,this.config,i);if(s)o(t).then(a=>s(null,a.output),a=>s(a)).catch(()=>{});else return o(t).then(a=>a.output)}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}};D(tk,"Client");var Jae=tk,Uy=Fy(),Yae=D(async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return Uy.Uint8ArrayBlobAdapter.mutate(e);if(!e)return Uy.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return Uy.Uint8ArrayBlobAdapter.mutate(await r)},"collectBody"),Vy=Dr(),rk=class{constructor(){this.middlewareStack=(0,ek.constructStack)()}static classBuilder(){return new Qae}resolveMiddlewareWithContext(t,r,n,{middlewareFn:i,clientName:s,commandName:o,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,smithyContext:l,additionalContext:d,CommandCtor:p}){for(let x of i.bind(this)(p,t,r,n))this.middlewareStack.use(x);let m=t.concat(this.middlewareStack),{logger:f}=r,v={logger:f,clientName:s,commandName:o,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,[Vy.SMITHY_CONTEXT_KEY]:{...l},...d},{requestHandler:y}=r;return m.resolve(x=>y.handle(x.request,n||{}),v)}};D(rk,"Command");var nk=rk,ik=class{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=t=>t,this._outputFilterSensitiveLog=t=>t,this._serializer=null,this._deserializer=null}init(t){this._init=t}ep(t){return this._ep=t,this}m(t){return this._middlewareFn=t,this}s(t,r,n={}){return this._smithyContext={service:t,operation:r,...n},this}c(t={}){return this._additionalContext=t,this}n(t,r){return this._clientName=t,this._commandName=r,this}f(t=n=>n,r=n=>n){return this._inputFilterSensitiveLog=t,this._outputFilterSensitiveLog=r,this}ser(t){return this._serializer=t,this}de(t){return this._deserializer=t,this}build(){var t;let r=this,n;return n=(t=class extends nk{constructor(...[i]){super(),this.serialize=r._serializer,this.deserialize=r._deserializer,this.input=i??{},r._init(this)}static getEndpointParameterInstructions(){return r._ep}resolveMiddleware(i,s,o){return this.resolveMiddlewareWithContext(i,s,o,{CommandCtor:n,middlewareFn:r._middlewareFn,clientName:r._clientName,commandName:r._commandName,inputFilterSensitiveLog:r._inputFilterSensitiveLog,outputFilterSensitiveLog:r._outputFilterSensitiveLog,smithyContext:r._smithyContext,additionalContext:r._additionalContext})}},D(t,"CommandRef"),t)}};D(ik,"ClassBuilder");var Qae=ik,Zae="***SensitiveInformation***",ece=D((e,t)=>{for(let r of Object.keys(e)){let n=e[r],i=D(async function(o,a,c){let l=new n(o);if(typeof a=="function")this.send(l,a);else if(typeof c=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(l,a||{},c)}else return this.send(l,a)},"methodImpl"),s=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[s]=i}},"createAggregatedClient"),tce=D(e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},"parseBoolean"),rce=D(e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&Ll.warn(Sm(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&Ll.warn(Sm(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},"expectBoolean"),jl=D(e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&Ll.warn(Sm(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},"expectNumber"),nce=Math.ceil(2**127*(2-2**-23)),Em=D(e=>{let t=jl(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>nce)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},"expectFloat32"),ql=D(e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},"expectLong"),ice=ql,Hy=D(e=>Ky(e,32),"expectInt32"),By=D(e=>Ky(e,16),"expectShort"),Gy=D(e=>Ky(e,8),"expectByte"),Ky=D((e,t)=>{let r=ql(e);if(r!==void 0&&sce(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},"expectSizedInt"),sce=D((e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},"castInt"),oce=D((e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},"expectNonNull"),sk=D(e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},"expectObject"),ace=D(e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return Ll.warn(Sm(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},"expectString"),cce=D(e=>{if(e==null)return;let t=sk(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},"expectUnion"),Xy=D(e=>jl(typeof e=="string"?Io(e):e),"strictParseDouble"),lce=Xy,ok=D(e=>Em(typeof e=="string"?Io(e):e),"strictParseFloat32"),dce=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Io=D(e=>{let t=e.match(dce);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},"parseNumber"),Jy=D(e=>typeof e=="string"?ak(e):jl(e),"limitedParseDouble"),uce=Jy,pce=Jy,mce=D(e=>typeof e=="string"?ak(e):Em(e),"limitedParseFloat32"),ak=D(e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},"parseFloatString"),ck=D(e=>ql(typeof e=="string"?Io(e):e),"strictParseLong"),fce=ck,hce=D(e=>Hy(typeof e=="string"?Io(e):e),"strictParseInt32"),To=D(e=>By(typeof e=="string"?Io(e):e),"strictParseShort"),lk=D(e=>Gy(typeof e=="string"?Io(e):e),"strictParseByte"),Sm=D(e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),"stackTraceWarning"),Ll={warn:console.warn},gce=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Yy=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function dk(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),i=e.getUTCDate(),s=e.getUTCHours(),o=e.getUTCMinutes(),a=e.getUTCSeconds(),c=i<10?`0${i}`:`${i}`,l=s<10?`0${s}`:`${s}`,d=o<10?`0${o}`:`${o}`,p=a<10?`0${a}`:`${a}`;return`${gce[n]}, ${c} ${Yy[r]} ${t} ${l}:${d}:${p} GMT`}D(dk,"dateToUtcString");var vce=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),_ce=D(e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=vce.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,i,s,o,a,c,l]=t,d=To(Ao(n)),p=on(i,"month",1,12),m=on(s,"day",1,31);return Ml(d,p,m,{hours:o,minutes:a,seconds:c,fractionalMilliseconds:l})},"parseRfc3339DateTime"),yce=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),Ece=D(e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=yce.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,i,s,o,a,c,l,d]=t,p=To(Ao(n)),m=on(i,"month",1,12),f=on(s,"day",1,31),v=Ml(p,m,f,{hours:o,minutes:a,seconds:c,fractionalMilliseconds:l});return d.toUpperCase()!="Z"&&v.setTime(v.getTime()-Nce(d)),v},"parseRfc3339DateTimeWithOffset"),Sce=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),xce=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),bce=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),Cce=D(e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=Sce.exec(e);if(t){let[r,n,i,s,o,a,c,l]=t;return Ml(To(Ao(s)),zy(i),on(n,"day",1,31),{hours:o,minutes:a,seconds:c,fractionalMilliseconds:l})}if(t=xce.exec(e),t){let[r,n,i,s,o,a,c,l]=t;return Tce(Ml(Rce(s),zy(i),on(n,"day",1,31),{hours:o,minutes:a,seconds:c,fractionalMilliseconds:l}))}if(t=bce.exec(e),t){let[r,n,i,s,o,a,c,l]=t;return Ml(To(Ao(l)),zy(n),on(i.trimLeft(),"day",1,31),{hours:s,minutes:o,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")},"parseRfc7231DateTime"),wce=D(e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=Xy(e);else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},"parseEpochTimestamp"),Ml=D((e,t,r,n)=>{let i=t-1;return Ice(e,i,r),new Date(Date.UTC(e,i,r,on(n.hours,"hour",0,23),on(n.minutes,"minute",0,59),on(n.seconds,"seconds",0,60),Dce(n.fractionalMilliseconds)))},"buildDate"),Rce=D(e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+To(Ao(e));return r<t?r+100:r},"parseTwoDigitYear"),Pce=50*365*24*60*60*1e3,Tce=D(e=>e.getTime()-new Date().getTime()>Pce?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,"adjustRfc850Year"),zy=D(e=>{let t=Yy.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},"parseMonthByShortName"),Ace=[31,28,31,30,31,30,31,31,30,31,30,31],Ice=D((e,t,r)=>{let n=Ace[t];if(t===1&&Oce(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${Yy[t]} in ${e}: ${r}`)},"validateDayOfMonth"),Oce=D(e=>e%4===0&&(e%100!==0||e%400===0),"isLeapYear"),on=D((e,t,r,n)=>{let i=lk(Ao(e));if(i<r||i>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return i},"parseDateValue"),Dce=D(e=>e==null?0:ok("0."+e)*1e3,"parseMilliseconds"),Nce=D(e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),i=Number(e.substring(4,6));return r*(n*60+i)*60*1e3},"parseOffsetToMilliseconds"),Ao=D(e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)},"stripLeadingZeroes"),uk=class pk extends Error{constructor(t){super(t.message),Object.setPrototypeOf(this,pk.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}};D(uk,"ServiceException");var $ce=uk,mk=D((e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,i])=>{(e[n]==null||e[n]==="")&&(e[n]=i)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},"decorateServiceException"),fk=D(({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let i=Mce(e),s=i.httpStatusCode?i.httpStatusCode+"":void 0,o=new r({name:t?.code||t?.Code||n||s||"UnknownError",$fault:"client",$metadata:i});throw mk(o,t)},"throwDefaultError"),kce=D(e=>({output:t,parsedBody:r,errorCode:n})=>{fk({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},"withBaseException"),Mce=D(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),jce=D(e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},"loadConfigsForDefaultMode"),Y$=!1,qce=D(e=>{e&&!Y$&&parseInt(e.substring(1,e.indexOf(".")))<14&&(Y$=!0)},"emitWarningIfUnsupportedVersion"),Lce=D(e=>{let t=[];for(let r in Vy.AlgorithmId){let n=Vy.AlgorithmId[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{_checksumAlgorithms:t,addChecksumAlgorithm(r){this._checksumAlgorithms.push(r)},checksumAlgorithms(){return this._checksumAlgorithms}}},"getChecksumConfiguration"),Fce=D(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),Uce=D(e=>{let t=e.retryStrategy;return{setRetryStrategy(r){t=r},retryStrategy(){return t}}},"getRetryConfiguration"),zce=D(e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},"resolveRetryRuntimeConfig"),hk=D(e=>({...Lce(e),...Uce(e)}),"getDefaultExtensionConfiguration"),Vce=hk,Hce=D(e=>({...Fce(e),...zce(e)}),"resolveDefaultRuntimeConfig");function xm(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}D(xm,"extendedEncodeURIComponent");var Bce=D(e=>Array.isArray(e)?e:[e],"getArrayIfSingleItem"),gk=D(e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=gk(e[r]));return e},"getValueFromTextNode"),Fl=D(function(){let e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,[null,...arguments]),r=new t;return Object.setPrototypeOf(r,e.prototype),r},"StringWrapper");Fl.prototype=Object.create(String.prototype,{constructor:{value:Fl,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(Fl,String);var vk=class ym extends Fl{deserializeJSON(){return JSON.parse(super.toString())}toJSON(){return super.toString()}static fromObject(t){return t instanceof ym?t:t instanceof String||typeof t=="string"?new ym(t):new ym(JSON.stringify(t))}};D(vk,"LazyJsonString");var Gce=vk;function Qy(e,t,r){let n,i,s;if(typeof t>"u"&&typeof r>"u")n={},s=e;else{if(n=e,typeof t=="function")return i=t,s=r,Xce(n,i,s);s=t}for(let o of Object.keys(s)){if(!Array.isArray(s[o])){n[o]=s[o];continue}_k(n,null,s,o)}return n}D(Qy,"map");var Wce=D(e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t},"convertMap"),Kce=D((e,t)=>{let r={};for(let n in t)_k(r,e,t,n);return r},"take"),Xce=D((e,t,r)=>Qy(e,Object.entries(r).reduce((n,[i,s])=>(Array.isArray(s)?n[i]=s:typeof s=="function"?n[i]=[t,s()]:n[i]=[t,s],n),{})),"mapWithFilter"),_k=D((e,t,r,n)=>{if(t!==null){let o=r[n];typeof o=="function"&&(o=[,o]);let[a=Jce,c=Yce,l=n]=o;(typeof a=="function"&&a(t[l])||typeof a!="function"&&a)&&(e[n]=c(t[l]));return}let[i,s]=r[n];if(typeof s=="function"){let o,a=i===void 0&&(o=s())!=null,c=typeof i=="function"&&!!i(void 0)||typeof i!="function"&&!!i;a?e[n]=o:c&&(e[n]=s())}else{let o=i===void 0&&s!=null,a=typeof i=="function"&&!!i(s)||typeof i!="function"&&!!i;(o||a)&&(e[n]=s)}},"applyInstruction"),Jce=D(e=>e!=null,"nonNullish"),Yce=D(e=>e,"pass"),Qce=D((e,t,r,n,i,s)=>{if(t!=null&&t[r]!==void 0){let o=n();if(o.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(i,s?o.split("/").map(a=>xm(a)).join("/"):xm(o))}else throw new Error("No value provided for input HTTP label: "+r+".");return e},"resolvedPath"),Zce=D(e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},"serializeFloat"),Wy=D(e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(Wy);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=Wy(e[r]));return t}return e},"_json");function yk(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let i=[],s="";for(let o=0;o<n.length;o++)s===""?s=n[o]:s+=t+n[o],(o+1)%r===0&&(i.push(s),s="");return s!==""&&i.push(s),i}D(yk,"splitEvery")});var Sk=g(Cm=>{"use strict";Object.defineProperty(Cm,"__esModule",{value:!0});Cm.isStreamingPayload=void 0;var ele=require("stream"),tle=e=>e?.body instanceof ele.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream;Cm.isStreamingPayload=tle});var an=g((Mke,qk)=>{var wm=Object.defineProperty,rle=Object.getOwnPropertyDescriptor,nle=Object.getOwnPropertyNames,ile=Object.prototype.hasOwnProperty,rt=(e,t)=>wm(e,"name",{value:t,configurable:!0}),sle=(e,t)=>{for(var r in t)wm(e,r,{get:t[r],enumerable:!0})},ole=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of nle(t))!ile.call(e,i)&&i!==r&&wm(e,i,{get:()=>t[i],enumerable:!(n=rle(t,i))||n.enumerable});return e},ale=e=>ole(wm({},"__esModule",{value:!0}),e),bk={};sle(bk,{AdaptiveRetryStrategy:()=>dle,CONFIG_MAX_ATTEMPTS:()=>eE,CONFIG_RETRY_MODE:()=>Dk,ENV_MAX_ATTEMPTS:()=>Zy,ENV_RETRY_MODE:()=>Ok,NODE_MAX_ATTEMPT_CONFIG_OPTIONS:()=>ule,NODE_RETRY_MODE_CONFIG_OPTIONS:()=>mle,StandardRetryStrategy:()=>Ak,defaultDelayDecider:()=>wk,defaultRetryDecider:()=>Rk,getOmitRetryHeadersPlugin:()=>fle,getRetryAfterHint:()=>jk,getRetryPlugin:()=>Ele,omitRetryHeadersMiddleware:()=>Nk,omitRetryHeadersMiddlewareOptions:()=>$k,resolveRetryConfig:()=>ple,retryMiddleware:()=>kk,retryMiddlewareOptions:()=>Mk});qk.exports=ale(bk);var Oo=Ot(),Ck=(MN(),ni(kN)),Ye=wo(),cle=rt((e,t)=>{let r=e,n=t?.noRetryIncrement??Ye.NO_RETRY_INCREMENT,i=t?.retryCost??Ye.RETRY_COST,s=t?.timeoutRetryCost??Ye.TIMEOUT_RETRY_COST,o=e,a=rt(p=>p.name==="TimeoutError"?s:i,"getCapacityAmount"),c=rt(p=>a(p)<=o,"hasRetryTokens");return Object.freeze({hasRetryTokens:c,retrieveRetryTokens:rt(p=>{if(!c(p))throw new Error("No retry token available");let m=a(p);return o-=m,m},"retrieveRetryTokens"),releaseRetryTokens:rt(p=>{o+=p??n,o=Math.min(o,r)},"releaseRetryTokens")})},"getDefaultRetryQuota"),wk=rt((e,t)=>Math.floor(Math.min(Ye.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e)),"defaultDelayDecider"),Ri=_y(),Rk=rt(e=>e?(0,Ri.isRetryableByTrait)(e)||(0,Ri.isClockSkewError)(e)||(0,Ri.isThrottlingError)(e)||(0,Ri.isTransientError)(e):!1,"defaultRetryDecider"),Pk=rt(e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),"asSdkError"),Tk=class{constructor(t,r){this.maxAttemptsProvider=t,this.mode=Ye.RETRY_MODES.STANDARD,this.retryDecider=r?.retryDecider??Rk,this.delayDecider=r?.delayDecider??wk,this.retryQuota=r?.retryQuota??cle(Ye.INITIAL_RETRY_TOKENS)}shouldRetry(t,r,n){return r<n&&this.retryDecider(t)&&this.retryQuota.hasRetryTokens(t)}async getMaxAttempts(){let t;try{t=await this.maxAttemptsProvider()}catch{t=Ye.DEFAULT_MAX_ATTEMPTS}return t}async retry(t,r,n){let i,s=0,o=0,a=await this.getMaxAttempts(),{request:c}=r;for(Oo.HttpRequest.isInstance(c)&&(c.headers[Ye.INVOCATION_ID_HEADER]=(0,Ck.v4)());;)try{Oo.HttpRequest.isInstance(c)&&(c.headers[Ye.REQUEST_HEADER]=`attempt=${s+1}; max=${a}`),n?.beforeRequest&&await n.beforeRequest();let{response:l,output:d}=await t(r);return n?.afterRequest&&n.afterRequest(l),this.retryQuota.releaseRetryTokens(i),d.$metadata.attempts=s+1,d.$metadata.totalRetryDelay=o,{response:l,output:d}}catch(l){let d=Pk(l);if(s++,this.shouldRetry(d,s,a)){i=this.retryQuota.retrieveRetryTokens(d);let p=this.delayDecider((0,Ri.isThrottlingError)(d)?Ye.THROTTLING_RETRY_DELAY_BASE:Ye.DEFAULT_RETRY_DELAY_BASE,s),m=lle(d.$response),f=Math.max(m||0,p);o+=f,await new Promise(v=>setTimeout(v,f));continue}throw d.$metadata||(d.$metadata={}),d.$metadata.attempts=s,d.$metadata.totalRetryDelay=o,d}}};rt(Tk,"StandardRetryStrategy");var Ak=Tk,lle=rt(e=>{if(!Oo.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},"getDelayFromRetryAfterHeader"),Ik=class extends Ak{constructor(t,r){let{rateLimiter:n,...i}=r??{};super(t,i),this.rateLimiter=n??new Ye.DefaultRateLimiter,this.mode=Ye.RETRY_MODES.ADAPTIVE}async retry(t,r){return super.retry(t,r,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:n=>{this.rateLimiter.updateClientSendingRate(n)}})}};rt(Ik,"AdaptiveRetryStrategy");var dle=Ik,xk=nn(),Zy="AWS_MAX_ATTEMPTS",eE="max_attempts",ule={environmentVariableSelector:e=>{let t=e[Zy];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${Zy} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[eE];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${eE} mast be a number, got "${t}"`);return r},default:Ye.DEFAULT_MAX_ATTEMPTS},ple=rt(e=>{let{retryStrategy:t}=e,r=(0,xk.normalizeProvider)(e.maxAttempts??Ye.DEFAULT_MAX_ATTEMPTS);return{...e,maxAttempts:r,retryStrategy:async()=>t||(await(0,xk.normalizeProvider)(e.retryMode)()===Ye.RETRY_MODES.ADAPTIVE?new Ye.AdaptiveRetryStrategy(r):new Ye.StandardRetryStrategy(r))}},"resolveRetryConfig"),Ok="AWS_RETRY_MODE",Dk="retry_mode",mle={environmentVariableSelector:e=>e[Ok],configFileSelector:e=>e[Dk],default:Ye.DEFAULT_RETRY_MODE},Nk=rt(()=>e=>async t=>{let{request:r}=t;return Oo.HttpRequest.isInstance(r)&&(delete r.headers[Ye.INVOCATION_ID_HEADER],delete r.headers[Ye.REQUEST_HEADER]),e(t)},"omitRetryHeadersMiddleware"),$k={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},fle=rt(e=>({applyToStack:t=>{t.addRelativeTo(Nk(),$k)}}),"getOmitRetryHeadersPlugin"),hle=Je(),gle=Sk(),kk=rt(e=>(t,r)=>async n=>{var i;let s=await e.retryStrategy(),o=await e.maxAttempts();if(vle(s)){s=s;let a=await s.acquireInitialRetryToken(r.partition_id),c=new Error,l=0,d=0,{request:p}=n,m=Oo.HttpRequest.isInstance(p);for(m&&(p.headers[Ye.INVOCATION_ID_HEADER]=(0,Ck.v4)());;)try{m&&(p.headers[Ye.REQUEST_HEADER]=`attempt=${l+1}; max=${o}`);let{response:f,output:v}=await t(n);return s.recordSuccess(a),v.$metadata.attempts=l+1,v.$metadata.totalRetryDelay=d,{response:f,output:v}}catch(f){let v=_le(f);if(c=Pk(f),m&&(0,gle.isStreamingPayload)(p))throw(i=r.logger instanceof hle.NoOpLogger?console:r.logger)==null||i.warn("An error was encountered in a non-retryable streaming request."),c;try{a=await s.refreshRetryTokenForRetry(a,v)}catch{throw c.$metadata||(c.$metadata={}),c.$metadata.attempts=l+1,c.$metadata.totalRetryDelay=d,c}l=a.getRetryCount();let y=a.getRetryDelay();d+=y,await new Promise(x=>setTimeout(x,y))}}else return s=s,s?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(t,n)},"retryMiddleware"),vle=rt(e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u","isRetryStrategyV2"),_le=rt(e=>{let t={error:e,errorType:yle(e)},r=jk(e.$response);return r&&(t.retryAfterHint=r),t},"getRetryErrorInfo"),yle=rt(e=>(0,Ri.isThrottlingError)(e)?"THROTTLING":(0,Ri.isTransientError)(e)?"TRANSIENT":(0,Ri.isServerError)(e)?"SERVER_ERROR":"CLIENT_ERROR","getRetryErrorType"),Mk={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},Ele=rt(e=>({applyToStack:t=>{t.add(kk(e),Mk)}}),"getRetryPlugin"),jk=rt(e=>{if(!Oo.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)},"getRetryAfterHint")});var cn=g((zke,iM)=>{var Pm=Object.defineProperty,Sle=Object.getOwnPropertyDescriptor,xle=Object.getOwnPropertyNames,ble=Object.prototype.hasOwnProperty,He=(e,t)=>Pm(e,"name",{value:t,configurable:!0}),Cle=(e,t)=>{for(var r in t)Pm(e,r,{get:t[r],enumerable:!0})},wle=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of xle(t))!ble.call(e,i)&&i!==r&&Pm(e,i,{get:()=>t[i],enumerable:!(n=Sle(t,i))||n.enumerable});return e},Rle=e=>wle(Pm({},"__esModule",{value:!0}),e),Lk={};Cle(Lk,{DefaultIdentityProviderConfig:()=>kle,EXPIRATION_MS:()=>Qk,HttpApiKeyAuthSigner:()=>Mle,HttpBearerAuthSigner:()=>jle,NoAuthSigner:()=>qle,RequestBuilder:()=>rM,createIsIdentityExpiredFunction:()=>Yk,createPaginator:()=>nM,doesIdentityRequireRefresh:()=>Zk,getHttpAuthSchemeEndpointRuleSetPlugin:()=>Tle,getHttpAuthSchemePlugin:()=>Ile,getHttpSigningPlugin:()=>$le,getSmithyContext:()=>Ule,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>zk,httpAuthSchemeMiddleware:()=>tE,httpAuthSchemeMiddlewareOptions:()=>Vk,httpSigningMiddleware:()=>Bk,httpSigningMiddlewareOptions:()=>Gk,isIdentityExpired:()=>Lle,memoizeIdentityProvider:()=>Fle,normalizeProvider:()=>zle,requestBuilder:()=>eM});iM.exports=Rle(Lk);var Fk=nn();function Uk(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}He(Uk,"convertHttpAuthSchemesToMap");var tE=He((e,t)=>(r,n)=>async i=>{var s;let o=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,i.input)),a=Uk(e.httpAuthSchemes),c=(0,Fk.getSmithyContext)(n),l=[];for(let d of o){let p=a.get(d.schemeId);if(!p){l.push(`HttpAuthScheme \`${d.schemeId}\` was not enabled for this service.`);continue}let m=p.identityProvider(await t.identityProviderConfigProvider(e));if(!m){l.push(`HttpAuthScheme \`${d.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:f={},signingProperties:v={}}=((s=d.propertiesExtractor)==null?void 0:s.call(d,e,n))||{};d.identityProperties=Object.assign(d.identityProperties||{},f),d.signingProperties=Object.assign(d.signingProperties||{},v),c.selectedHttpAuthScheme={httpAuthOption:d,identity:await m(d.identityProperties),signer:p.signer};break}if(!c.selectedHttpAuthScheme)throw new Error(l.join(`
`));return r(i)},"httpAuthSchemeMiddleware"),Ple=bs(),zk={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:Ple.endpointMiddlewareOptions.name},Tle=He((e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(tE(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),zk)}}),"getHttpAuthSchemeEndpointRuleSetPlugin"),Ale=xs(),Vk={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:Ale.serializerMiddlewareOption.name},Ile=He((e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(tE(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),Vk)}}),"getHttpAuthSchemePlugin"),Hk=Ot(),Ole=He(e=>t=>{throw t},"defaultErrorHandler"),Dle=He((e,t)=>{},"defaultSuccessHandler"),Bk=He(e=>(t,r)=>async n=>{if(!Hk.HttpRequest.isInstance(n.request))return t(n);let s=(0,Fk.getSmithyContext)(r).selectedHttpAuthScheme;if(!s)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:o={}},identity:a,signer:c}=s,l=await t({...n,request:await c.sign(n.request,a,o)}).catch((c.errorHandler||Ole)(o));return(c.successHandler||Dle)(l.response,o),l},"httpSigningMiddleware"),Nle=an(),Gk={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:Nle.retryMiddlewareOptions.name},$le=He(e=>({applyToStack:t=>{t.addRelativeTo(Bk(e),Gk)}}),"getHttpSigningPlugin"),Wk=class{constructor(t){this.authSchemes=new Map;for(let[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}};He(Wk,"DefaultIdentityProviderConfig");var kle=Wk,Rm=Dr(),Kk=class{async sign(t,r,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let i=t.clone();if(n.in===Rm.HttpApiKeyAuthLocation.QUERY)i.query[n.name]=r.apiKey;else if(n.in===Rm.HttpApiKeyAuthLocation.HEADER)i.headers[n.name]=n.scheme?`${n.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return i}};He(Kk,"HttpApiKeyAuthSigner");var Mle=Kk,Xk=class{async sign(t,r,n){let i=t.clone();if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return i.headers.Authorization=`Bearer ${r.token}`,i}};He(Xk,"HttpBearerAuthSigner");var jle=Xk,Jk=class{async sign(t,r,n){return t}};He(Jk,"NoAuthSigner");var qle=Jk,Yk=He(e=>t=>Zk(t)&&t.expiration.getTime()-Date.now()<e,"createIsIdentityExpiredFunction"),Qk=3e5,Lle=Yk(Qk),Zk=He(e=>e.expiration!==void 0,"doesIdentityRequireRefresh"),Fle=He((e,t,r)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,i,s,o,a=!1,c=He(async l=>{s||(s=n(l));try{i=await s,o=!0,a=!1}finally{s=void 0}return i},"coalesceProvider");return t===void 0?async l=>((!o||l?.forceRefresh)&&(i=await c(l)),i):async l=>((!o||l?.forceRefresh)&&(i=await c(l)),a?i:r(i)?(t(i)&&await c(l),i):(a=!0,i))},"memoizeIdentityProvider"),Ule=He(e=>e[Rm.SMITHY_CONTEXT_KEY]||(e[Rm.SMITHY_CONTEXT_KEY]={}),"getSmithyContext"),zle=He(e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t},"normalizeProvider"),Vle=Je();function eM(e,t){return new rM(e,t)}He(eM,"requestBuilder");var tM=class{constructor(t,r){this.input=t,this.context=r,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){let{hostname:t,protocol:r="https",port:n,path:i}=await this.context.endpoint();this.path=i;for(let s of this.resolvePathStack)s(this.path);return new Hk.HttpRequest({protocol:r,hostname:this.hostname||t,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,n,i){return this.resolvePathStack.push(s=>{this.path=(0,Vle.resolvedPath)(s,this.input,t,r,n,i)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}};He(tM,"RequestBuilder");var rM=tM,Hle=He(async(e,t,r,...n)=>await t.send(new e(r),...n),"makePagedClientRequest");function nM(e,t,r,n,i){return He(async function*(o,a,...c){let l=o.startingToken||void 0,d=!0,p;for(;d;){if(a[r]=l,i&&(a[i]=a[i]??o.pageSize),o.client instanceof e)p=await Hle(t,o.client,a,...c);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield p;let m=l;l=Ble(p,n),d=!!(l&&(!o.stopOnSameToken||l!==m))}return void 0},"paginateOperation")}He(nM,"createPaginator");var Ble=He((e,t)=>{let r=e,n=t.split(".");for(let i of n){if(!r||typeof r!="object")return;r=r[i]}return r},"get")});var Ul=g((Vke,lM)=>{var Tm=Object.defineProperty,Gle=Object.getOwnPropertyDescriptor,Wle=Object.getOwnPropertyNames,Kle=Object.prototype.hasOwnProperty,oM=(e,t)=>Tm(e,"name",{value:t,configurable:!0}),Xle=(e,t)=>{for(var r in t)Tm(e,r,{get:t[r],enumerable:!0})},Jle=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Wle(t))!Kle.call(e,i)&&i!==r&&Tm(e,i,{get:()=>t[i],enumerable:!(n=Gle(t,i))||n.enumerable});return e},Yle=e=>Jle(Tm({},"__esModule",{value:!0}),e),aM={};Xle(aM,{contentLengthMiddleware:()=>rE,contentLengthMiddlewareOptions:()=>cM,getContentLengthPlugin:()=>Zle});lM.exports=Yle(aM);var Qle=Ot(),sM="content-length";function rE(e){return t=>async r=>{let n=r.request;if(Qle.HttpRequest.isInstance(n)){let{body:i,headers:s}=n;if(i&&Object.keys(s).map(o=>o.toLowerCase()).indexOf(sM)===-1)try{let o=e(i);n.headers={...n.headers,[sM]:String(o)}}catch{}}return t({...r,request:n})}}oM(rE,"contentLengthMiddleware");var cM={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},Zle=oM(e=>({applyToStack:t=>{t.add(rE(e.bodyLengthChecker),cM)}}),"getContentLengthPlugin")});var gM=g((Hke,hM)=>{var Am=Object.defineProperty,ede=Object.getOwnPropertyDescriptor,tde=Object.getOwnPropertyNames,rde=Object.prototype.hasOwnProperty,dM=(e,t)=>Am(e,"name",{value:t,configurable:!0}),nde=(e,t)=>{for(var r in t)Am(e,r,{get:t[r],enumerable:!0})},ide=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of tde(t))!rde.call(e,i)&&i!==r&&Am(e,i,{get:()=>t[i],enumerable:!(n=ede(t,i))||n.enumerable});return e},sde=e=>ide(Am({},"__esModule",{value:!0}),e),uM={};nde(uM,{fromHex:()=>mM,toHex:()=>fM});hM.exports=sde(uM);var pM={},nE={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),pM[e]=t,nE[t]=e}function mM(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in nE)t[r/2]=nE[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}dM(mM,"fromHex");function fM(e){let t="";for(let r=0;r<e.byteLength;r++)t+=pM[e[r]];return t}dM(fM,"toHex")});var jM=g((Wke,MM)=>{var $m=Object.defineProperty,ode=Object.getOwnPropertyDescriptor,ade=Object.getOwnPropertyNames,cde=Object.prototype.hasOwnProperty,nt=(e,t)=>$m(e,"name",{value:t,configurable:!0}),lde=(e,t)=>{for(var r in t)$m(e,r,{get:t[r],enumerable:!0})},dde=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of ade(t))!cde.call(e,i)&&i!==r&&$m(e,i,{get:()=>t[i],enumerable:!(n=ode(t,i))||n.enumerable});return e},ude=e=>dde($m({},"__esModule",{value:!0}),e),SM={};lde(SM,{SignatureV4:()=>qde,clearCredentialCache:()=>Tde,createScope:()=>Dm,getCanonicalHeaders:()=>aE,getCanonicalQuery:()=>AM,getPayloadHash:()=>Nm,getSigningKey:()=>TM,moveHeadersToQuery:()=>$M,prepareRequest:()=>lE});MM.exports=ude(SM);var vM=nn(),iE=sr(),pde="X-Amz-Algorithm",mde="X-Amz-Credential",xM="X-Amz-Date",fde="X-Amz-SignedHeaders",hde="X-Amz-Expires",bM="X-Amz-Signature",CM="X-Amz-Security-Token",wM="authorization",RM=xM.toLowerCase(),gde="date",vde=[wM,RM,gde],_de=bM.toLowerCase(),oE="x-amz-content-sha256",yde=CM.toLowerCase(),Ede={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},Sde=/^proxy-/,xde=/^sec-/,sE="AWS4-HMAC-SHA256",bde="AWS4-HMAC-SHA256-PAYLOAD",Cde="UNSIGNED-PAYLOAD",wde=50,PM="aws4_request",Rde=60*60*24*7,Pi=gM(),Pde=sr(),Do={},Om=[],Dm=nt((e,t,r)=>`${e}/${t}/${r}/${PM}`,"createScope"),TM=nt(async(e,t,r,n,i)=>{let s=await _M(e,t.secretAccessKey,t.accessKeyId),o=`${r}:${n}:${i}:${(0,Pi.toHex)(s)}:${t.sessionToken}`;if(o in Do)return Do[o];for(Om.push(o);Om.length>wde;)delete Do[Om.shift()];let a=`AWS4${t.secretAccessKey}`;for(let c of[r,n,i,PM])a=await _M(e,a,c);return Do[o]=a},"getSigningKey"),Tde=nt(()=>{Om.length=0,Object.keys(Do).forEach(e=>{delete Do[e]})},"clearCredentialCache"),_M=nt((e,t,r)=>{let n=new e(t);return n.update((0,Pde.toUint8Array)(r)),n.digest()},"hmac"),aE=nt(({headers:e},t,r)=>{let n={};for(let i of Object.keys(e).sort()){if(e[i]==null)continue;let s=i.toLowerCase();(s in Ede||t?.has(s)||Sde.test(s)||xde.test(s))&&(!r||r&&!r.has(s))||(n[s]=e[i].trim().replace(/\s+/g," "))}return n},"getCanonicalHeaders"),zl=Iy(),AM=nt(({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e).sort()){if(n.toLowerCase()===_de)continue;t.push(n);let i=e[n];typeof i=="string"?r[n]=`${(0,zl.escapeUri)(n)}=${(0,zl.escapeUri)(i)}`:Array.isArray(i)&&(r[n]=i.slice(0).reduce((s,o)=>s.concat([`${(0,zl.escapeUri)(n)}=${(0,zl.escapeUri)(o)}`]),[]).sort().join("&"))}return t.map(n=>r[n]).filter(n=>n).join("&")},"getCanonicalQuery"),Ade=Cy(),Ide=sr(),Nm=nt(async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===oE)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||(0,Ade.isArrayBuffer)(t)){let n=new r;return n.update((0,Ide.toUint8Array)(t)),(0,Pi.toHex)(await n.digest())}return Cde},"getPayloadHash"),yM=sr(),IM=class{format(t){let r=[];for(let s of Object.keys(t)){let o=(0,yM.fromUtf8)(s);r.push(Uint8Array.from([o.byteLength]),o,this.formatHeaderValue(t[s]))}let n=new Uint8Array(r.reduce((s,o)=>s+o.byteLength,0)),i=0;for(let s of r)n.set(s,i),i+=s.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":let i=new Uint8Array(9);return i[0]=5,i.set(t.value.bytes,1),i;case"binary":let s=new DataView(new ArrayBuffer(3+t.value.byteLength));s.setUint8(0,6),s.setUint16(1,t.value.byteLength,!1);let o=new Uint8Array(s.buffer);return o.set(t.value,3),o;case"string":let a=(0,yM.fromUtf8)(t.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);let l=new Uint8Array(c.buffer);return l.set(a,3),l;case"timestamp":let d=new Uint8Array(9);return d[0]=8,d.set(Nde.fromNumber(t.value.valueOf()).bytes,1),d;case"uuid":if(!Dde.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);let p=new Uint8Array(17);return p[0]=9,p.set((0,Pi.fromHex)(t.value.replace(/\-/g,"")),1),p}}};nt(IM,"HeaderFormatter");var Ode=IM,Dde=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,OM=class DM{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,i=Math.abs(Math.round(t));n>-1&&i>0;n--,i/=256)r[n]=i;return t<0&&cE(r),new DM(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&cE(t),parseInt((0,Pi.toHex)(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};nt(OM,"Int64");var Nde=OM;function cE(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}nt(cE,"negate");var $de=nt((e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},"hasHeader"),NM=nt(({headers:e,query:t,...r})=>({...r,headers:{...e},query:t?kde(t):void 0}),"cloneRequest"),kde=nt(e=>Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{}),"cloneQuery"),$M=nt((e,t={})=>{var r;let{headers:n,query:i={}}=typeof e.clone=="function"?e.clone():NM(e);for(let s of Object.keys(n)){let o=s.toLowerCase();o.slice(0,6)==="x-amz-"&&!((r=t.unhoistableHeaders)!=null&&r.has(o))&&(i[s]=n[s],delete n[s])}return{...e,headers:n,query:i}},"moveHeadersToQuery"),lE=nt(e=>{e=typeof e.clone=="function"?e.clone():NM(e);for(let t of Object.keys(e.headers))vde.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},"prepareRequest"),Mde=nt(e=>jde(e).toISOString().replace(/\.\d{3}Z$/,"Z"),"iso8601"),jde=nt(e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,"toDate"),kM=class{constructor({applyChecksum:t,credentials:r,region:n,service:i,sha256:s,uriEscapePath:o=!0}){this.headerFormatter=new Ode,this.service=i,this.sha256=s,this.uriEscapePath=o,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=(0,vM.normalizeProvider)(n),this.credentialProvider=(0,vM.normalizeProvider)(r)}async presign(t,r={}){let{signingDate:n=new Date,expiresIn:i=3600,unsignableHeaders:s,unhoistableHeaders:o,signableHeaders:a,signingRegion:c,signingService:l}=r,d=await this.credentialProvider();this.validateResolvedCredentials(d);let p=c??await this.regionProvider(),{longDate:m,shortDate:f}=Im(n);if(i>Rde)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let v=Dm(f,p,l??this.service),y=$M(lE(t),{unhoistableHeaders:o});d.sessionToken&&(y.query[CM]=d.sessionToken),y.query[pde]=sE,y.query[mde]=`${d.accessKeyId}/${v}`,y.query[xM]=m,y.query[hde]=i.toString(10);let x=aE(y,s,a);return y.query[fde]=EM(x),y.query[bM]=await this.getSignature(m,v,this.getSigningKey(d,p,f,l),this.createCanonicalRequest(y,x,await Nm(t,this.sha256))),y}async sign(t,r){return typeof t=="string"?this.signString(t,r):t.headers&&t.payload?this.signEvent(t,r):t.message?this.signMessage(t,r):this.signRequest(t,r)}async signEvent({headers:t,payload:r},{signingDate:n=new Date,priorSignature:i,signingRegion:s,signingService:o}){let a=s??await this.regionProvider(),{shortDate:c,longDate:l}=Im(n),d=Dm(c,a,o??this.service),p=await Nm({headers:{},body:r},this.sha256),m=new this.sha256;m.update(t);let f=(0,Pi.toHex)(await m.digest()),v=[bde,l,d,i,f,p].join(`
`);return this.signString(v,{signingDate:n,signingRegion:a,signingService:o})}async signMessage(t,{signingDate:r=new Date,signingRegion:n,signingService:i}){return this.signEvent({headers:this.headerFormatter.format(t.message.headers),payload:t.message.body},{signingDate:r,signingRegion:n,signingService:i,priorSignature:t.priorSignature}).then(o=>({message:t.message,signature:o}))}async signString(t,{signingDate:r=new Date,signingRegion:n,signingService:i}={}){let s=await this.credentialProvider();this.validateResolvedCredentials(s);let o=n??await this.regionProvider(),{shortDate:a}=Im(r),c=new this.sha256(await this.getSigningKey(s,o,a,i));return c.update((0,iE.toUint8Array)(t)),(0,Pi.toHex)(await c.digest())}async signRequest(t,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:i,signingRegion:s,signingService:o}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let c=s??await this.regionProvider(),l=lE(t),{longDate:d,shortDate:p}=Im(r),m=Dm(p,c,o??this.service);l.headers[RM]=d,a.sessionToken&&(l.headers[yde]=a.sessionToken);let f=await Nm(l,this.sha256);!$de(oE,l.headers)&&this.applyChecksum&&(l.headers[oE]=f);let v=aE(l,i,n),y=await this.getSignature(d,m,this.getSigningKey(a,c,p,o),this.createCanonicalRequest(l,v,f));return l.headers[wM]=`${sE} Credential=${a.accessKeyId}/${m}, SignedHeaders=${EM(v)}, Signature=${y}`,l}createCanonicalRequest(t,r,n){let i=Object.keys(r).sort();return`${t.method}
${this.getCanonicalPath(t)}
${AM(t)}
${i.map(s=>`${s}:${r[s]}`).join(`
`)}

${i.join(";")}
${n}`}async createStringToSign(t,r,n){let i=new this.sha256;i.update((0,iE.toUint8Array)(n));let s=await i.digest();return`${sE}
${t}
${r}
${(0,Pi.toHex)(s)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){let r=[];for(let s of t.split("/"))s?.length!==0&&s!=="."&&(s===".."?r.pop():r.push(s));let n=`${t?.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&t?.endsWith("/")?"/":""}`;return(0,zl.escapeUri)(n).replace(/%2F/g,"/")}return t}async getSignature(t,r,n,i){let s=await this.createStringToSign(t,r,i),o=new this.sha256(await n);return o.update((0,iE.toUint8Array)(s)),(0,Pi.toHex)(await o.digest())}getSigningKey(t,r,n,i){return TM(this.sha256,t,n,r,i||this.service)}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}};nt(kM,"SignatureV4");var qde=kM,Im=nt(e=>{let t=Mde(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}},"formatDate"),EM=nt(e=>Object.keys(e).sort().join(";"),"getCanonicalHeaderList")});var km=g(Fn=>{"use strict";var qM=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",Lde=qM+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",LM="["+qM+"]["+Lde+"]*",Fde=new RegExp("^"+LM+"$"),Ude=function(e,t){let r=[],n=t.exec(e);for(;n;){let i=[];i.startIndex=t.lastIndex-n[0].length;let s=n.length;for(let o=0;o<s;o++)i.push(n[o]);r.push(i),n=t.exec(e)}return r},zde=function(e){let t=Fde.exec(e);return!(t===null||typeof t>"u")};Fn.isExist=function(e){return typeof e<"u"};Fn.isEmptyObject=function(e){return Object.keys(e).length===0};Fn.merge=function(e,t,r){if(t){let n=Object.keys(t),i=n.length;for(let s=0;s<i;s++)r==="strict"?e[n[s]]=[t[n[s]]]:e[n[s]]=t[n[s]]}};Fn.getValue=function(e){return Fn.isExist(e)?e:""};Fn.isName=zde;Fn.getAllMatches=Ude;Fn.nameRegexp=LM});var uE=g(HM=>{"use strict";var dE=km(),Vde={allowBooleanAttributes:!1,unpairedTags:[]};HM.validate=function(e,t){t=Object.assign({},Vde,t);let r=[],n=!1,i=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let s=0;s<e.length;s++)if(e[s]==="<"&&e[s+1]==="?"){if(s+=2,s=UM(e,s),s.err)return s}else if(e[s]==="<"){let o=s;if(s++,e[s]==="!"){s=zM(e,s);continue}else{let a=!1;e[s]==="/"&&(a=!0,s++);let c="";for(;s<e.length&&e[s]!==">"&&e[s]!==" "&&e[s]!=="	"&&e[s]!==`
`&&e[s]!=="\r";s++)c+=e[s];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),s--),!Yde(c)){let p;return c.trim().length===0?p="Invalid space after '<'.":p="Tag '"+c+"' is an invalid name.",it("InvalidTag",p,zt(e,s))}let l=Gde(e,s);if(l===!1)return it("InvalidAttr","Attributes for '"+c+"' have open quote.",zt(e,s));let d=l.value;if(s=l.index,d[d.length-1]==="/"){let p=s-d.length;d=d.substring(0,d.length-1);let m=VM(d,t);if(m===!0)n=!0;else return it(m.err.code,m.err.msg,zt(e,p+m.err.line))}else if(a)if(l.tagClosed){if(d.trim().length>0)return it("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",zt(e,o));{let p=r.pop();if(c!==p.tagName){let m=zt(e,p.tagStartPos);return it("InvalidTag","Expected closing tag '"+p.tagName+"' (opened in line "+m.line+", col "+m.col+") instead of closing tag '"+c+"'.",zt(e,o))}r.length==0&&(i=!0)}}else return it("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",zt(e,s));else{let p=VM(d,t);if(p!==!0)return it(p.err.code,p.err.msg,zt(e,s-d.length+p.err.line));if(i===!0)return it("InvalidXml","Multiple possible root nodes found.",zt(e,s));t.unpairedTags.indexOf(c)!==-1||r.push({tagName:c,tagStartPos:o}),n=!0}for(s++;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="!"){s++,s=zM(e,s);continue}else if(e[s+1]==="?"){if(s=UM(e,++s),s.err)return s}else break;else if(e[s]==="&"){let p=Xde(e,s);if(p==-1)return it("InvalidChar","char '&' is not expected.",zt(e,s));s=p}else if(i===!0&&!FM(e[s]))return it("InvalidXml","Extra text at the end",zt(e,s));e[s]==="<"&&s--}}else{if(FM(e[s]))continue;return it("InvalidChar","char '"+e[s]+"' is not expected.",zt(e,s))}if(n){if(r.length==1)return it("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",zt(e,r[0].tagStartPos));if(r.length>0)return it("InvalidXml","Invalid '"+JSON.stringify(r.map(s=>s.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return it("InvalidXml","Start tag expected.",1);return!0};function FM(e){return e===" "||e==="	"||e===`
`||e==="\r"}function UM(e,t){let r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){let n=e.substr(r,t-r);if(t>5&&n==="xml")return it("InvalidXml","XML declaration allowed only at the start of the document.",zt(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function zM(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}var Hde='"',Bde="'";function Gde(e,t){let r="",n="",i=!1;for(;t<e.length;t++){if(e[t]===Hde||e[t]===Bde)n===""?n=e[t]:n!==e[t]||(n="");else if(e[t]===">"&&n===""){i=!0;break}r+=e[t]}return n!==""?!1:{value:r,index:t,tagClosed:i}}var Wde=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function VM(e,t){let r=dE.getAllMatches(e,Wde),n={};for(let i=0;i<r.length;i++){if(r[i][1].length===0)return it("InvalidAttr","Attribute '"+r[i][2]+"' has no space in starting.",Vl(r[i]));if(r[i][3]!==void 0&&r[i][4]===void 0)return it("InvalidAttr","Attribute '"+r[i][2]+"' is without value.",Vl(r[i]));if(r[i][3]===void 0&&!t.allowBooleanAttributes)return it("InvalidAttr","boolean attribute '"+r[i][2]+"' is not allowed.",Vl(r[i]));let s=r[i][2];if(!Jde(s))return it("InvalidAttr","Attribute '"+s+"' is an invalid name.",Vl(r[i]));if(!n.hasOwnProperty(s))n[s]=1;else return it("InvalidAttr","Attribute '"+s+"' is repeated.",Vl(r[i]))}return!0}function Kde(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}function Xde(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,Kde(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}function it(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function Jde(e){return dE.isName(e)}function Yde(e){return dE.isName(e)}function zt(e,t){let r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function Vl(e){return e.startIndex+e[1].length}});var GM=g(pE=>{var BM={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,r){return e}},Qde=function(e){return Object.assign({},BM,e)};pE.buildOptions=Qde;pE.defaultOptions=BM});var KM=g((Yke,WM)=>{"use strict";var mE=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,r){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:r})}addChild(t){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child})}};WM.exports=mE});var JM=g((Qke,XM)=>{var Zde=km();function eue(e,t){let r={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let n=1,i=!1,s=!1,o="";for(;t<e.length;t++)if(e[t]==="<"&&!s){if(i&&nue(e,t))t+=7,[entityName,val,t]=tue(e,t+1),val.indexOf("&")===-1&&(r[aue(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(i&&iue(e,t))t+=8;else if(i&&sue(e,t))t+=8;else if(i&&oue(e,t))t+=9;else if(rue)s=!0;else throw new Error("Invalid DOCTYPE");n++,o=""}else if(e[t]===">"){if(s?e[t-1]==="-"&&e[t-2]==="-"&&(s=!1,n--):n--,n===0)break}else e[t]==="["?i=!0:o+=e[t];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}function tue(e,t){let r="";for(;t<e.length&&e[t]!=="'"&&e[t]!=='"';t++)r+=e[t];if(r=r.trim(),r.indexOf(" ")!==-1)throw new Error("External entites are not supported");let n=e[t++],i="";for(;t<e.length&&e[t]!==n;t++)i+=e[t];return[r,i,t]}function rue(e,t){return e[t+1]==="!"&&e[t+2]==="-"&&e[t+3]==="-"}function nue(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="N"&&e[t+4]==="T"&&e[t+5]==="I"&&e[t+6]==="T"&&e[t+7]==="Y"}function iue(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="L"&&e[t+4]==="E"&&e[t+5]==="M"&&e[t+6]==="E"&&e[t+7]==="N"&&e[t+8]==="T"}function sue(e,t){return e[t+1]==="!"&&e[t+2]==="A"&&e[t+3]==="T"&&e[t+4]==="T"&&e[t+5]==="L"&&e[t+6]==="I"&&e[t+7]==="S"&&e[t+8]==="T"}function oue(e,t){return e[t+1]==="!"&&e[t+2]==="N"&&e[t+3]==="O"&&e[t+4]==="T"&&e[t+5]==="A"&&e[t+6]==="T"&&e[t+7]==="I"&&e[t+8]==="O"&&e[t+9]==="N"}function aue(e){if(Zde.isName(e))return e;throw new Error(`Invalid entity name ${e}`)}XM.exports=eue});var QM=g((Zke,YM)=>{var cue=/^[-+]?0x[a-fA-F0-9]+$/,lue=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var due={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function uue(e,t={}){if(t=Object.assign({},due,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(t.hex&&cue.test(r))return Number.parseInt(r,16);{let n=lue.exec(r);if(n){let i=n[1],s=n[2],o=pue(n[3]),a=n[4]||n[6];if(!t.leadingZeros&&s.length>0&&i&&r[2]!==".")return e;if(!t.leadingZeros&&s.length>0&&!i&&r[1]!==".")return e;{let c=Number(r),l=""+c;return l.search(/[eE]/)!==-1||a?t.eNotation?c:e:r.indexOf(".")!==-1?l==="0"&&o===""||l===o||i&&l==="-"+o?c:e:s?o===l||i+o===l?c:e:r===l||r===i+l?c:e}}else return e}}function pue(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substr(0,e.length-1))),e}YM.exports=uue});var e1=g((tMe,ZM)=>{"use strict";var vE=km(),Hl=KM(),mue=JM(),fue=QM(),eMe="<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,vE.nameRegexp),fE=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"}},this.addExternalEntities=hue,this.parseXml=Eue,this.parseTextData=gue,this.resolveNameSpace=vue,this.buildAttributesMap=yue,this.isItStopNode=Cue,this.replaceEntitiesValue=xue,this.readStopNodeData=Rue,this.saveTextToParentTag=bue,this.addChild=Sue}};function hue(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function gue(e,t,r,n,i,s,o){if(e!==void 0&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){o||(e=this.replaceEntitiesValue(e));let a=this.options.tagValueProcessor(t,e,r,i,s);return a==null?e:typeof a!=typeof e||a!==e?a:this.options.trimValues?gE(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?gE(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function vue(e){if(this.options.removeNSPrefix){let t=e.split(":"),r=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=r+t[1])}return e}var _ue=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function yue(e,t,r){if(!this.options.ignoreAttributes&&typeof e=="string"){let n=vE.getAllMatches(e,_ue),i=n.length,s={};for(let o=0;o<i;o++){let a=this.resolveNameSpace(n[o][1]),c=n[o][4],l=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(l=this.options.transformAttributeName(l)),l==="__proto__"&&(l="#__proto__"),c!==void 0){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);let d=this.options.attributeValueProcessor(a,c,t);d==null?s[l]=c:typeof d!=typeof c||d!==c?s[l]=d:s[l]=gE(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[l]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){let o={};return o[this.options.attributesGroupName]=s,o}return s}}var Eue=function(e){e=e.replace(/\r\n?/g,`
`);let t=new Hl("!xml"),r=t,n="",i="";for(let s=0;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="/"){let a=Ps(e,">",s,"Closing Tag is not closed."),c=e.substring(s+2,a).trim();if(this.options.removeNSPrefix){let p=c.indexOf(":");p!==-1&&(c=c.substr(p+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&(n=this.saveTextToParentTag(n,r,i));let l=i.substring(i.lastIndexOf(".")+1);if(c&&this.options.unpairedTags.indexOf(c)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${c}>`);let d=0;l&&this.options.unpairedTags.indexOf(l)!==-1?(d=i.lastIndexOf(".",i.lastIndexOf(".")-1),this.tagsNodeStack.pop()):d=i.lastIndexOf("."),i=i.substring(0,d),r=this.tagsNodeStack.pop(),n="",s=a}else if(e[s+1]==="?"){let a=hE(e,s,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,i),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let c=new Hl(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,i,a.tagName)),this.addChild(r,c,i)}s=a.closeIndex+1}else if(e.substr(s+1,3)==="!--"){let a=Ps(e,"-->",s+4,"Comment is not closed.");if(this.options.commentPropName){let c=e.substring(s+4,a-2);n=this.saveTextToParentTag(n,r,i),r.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}s=a}else if(e.substr(s+1,2)==="!D"){let a=mue(e,s);this.docTypeEntities=a.entities,s=a.i}else if(e.substr(s+1,2)==="!["){let a=Ps(e,"]]>",s,"CDATA is not closed.")-2,c=e.substring(s+9,a);if(n=this.saveTextToParentTag(n,r,i),this.options.cdataPropName)r.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]);else{let l=this.parseTextData(c,r.tagname,i,!0,!1,!0);l==null&&(l=""),r.add(this.options.textNodeName,l)}s=a+2}else{let a=hE(e,s,this.options.removeNSPrefix),c=a.tagName,l=a.tagExp,d=a.attrExpPresent,p=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,i,!1));let m=r;if(m&&this.options.unpairedTags.indexOf(m.tagname)!==-1&&(r=this.tagsNodeStack.pop(),i=i.substring(0,i.lastIndexOf("."))),c!==t.tagname&&(i+=i?"."+c:c),this.isItStopNode(this.options.stopNodes,i,c)){let f="";if(l.length>0&&l.lastIndexOf("/")===l.length-1)s=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)s=a.closeIndex;else{let y=this.readStopNodeData(e,c,p+1);if(!y)throw new Error(`Unexpected end of ${c}`);s=y.i,f=y.tagContent}let v=new Hl(c);c!==l&&d&&(v[":@"]=this.buildAttributesMap(l,i,c)),f&&(f=this.parseTextData(f,c,i,!0,d,!0,!0)),i=i.substr(0,i.lastIndexOf(".")),v.add(this.options.textNodeName,f),this.addChild(r,v,i)}else{if(l.length>0&&l.lastIndexOf("/")===l.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),l=c):l=l.substr(0,l.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));let f=new Hl(c);c!==l&&d&&(f[":@"]=this.buildAttributesMap(l,i,c)),this.addChild(r,f,i),i=i.substr(0,i.lastIndexOf("."))}else{let f=new Hl(c);this.tagsNodeStack.push(r),c!==l&&d&&(f[":@"]=this.buildAttributesMap(l,i,c)),this.addChild(r,f,i),r=f}n="",s=p}}else n+=e[s];return t.child};function Sue(e,t,r){let n=this.options.updateTag(t.tagname,r,t[":@"]);n===!1||(typeof n=="string"&&(t.tagname=n),e.addChild(t))}var xue=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){let r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){let r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){let r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function bue(e,t,r,n){return e&&(n===void 0&&(n=Object.keys(t.child).length===0),e=this.parseTextData(e,t.tagname,r,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,n),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function Cue(e,t,r){let n="*."+r;for(let i in e){let s=e[i];if(n===s||t===s)return!0}return!1}function wue(e,t,r=">"){let n,i="";for(let s=t;s<e.length;s++){let o=e[s];if(n)o===n&&(n="");else if(o==='"'||o==="'")n=o;else if(o===r[0])if(r[1]){if(e[s+1]===r[1])return{data:i,index:s}}else return{data:i,index:s};else o==="	"&&(o=" ");i+=o}}function Ps(e,t,r,n){let i=e.indexOf(t,r);if(i===-1)throw new Error(n);return i+t.length-1}function hE(e,t,r,n=">"){let i=wue(e,t+1,n);if(!i)return;let s=i.data,o=i.index,a=s.search(/\s/),c=s,l=!0;if(a!==-1&&(c=s.substr(0,a).replace(/\s\s*$/,""),s=s.substr(a+1)),r){let d=c.indexOf(":");d!==-1&&(c=c.substr(d+1),l=c!==i.data.substr(d+1))}return{tagName:c,tagExp:s,closeIndex:o,attrExpPresent:l}}function Rue(e,t,r){let n=r,i=1;for(;r<e.length;r++)if(e[r]==="<")if(e[r+1]==="/"){let s=Ps(e,">",r,`${t} is not closed`);if(e.substring(r+2,s).trim()===t&&(i--,i===0))return{tagContent:e.substring(n,r),i:s};r=s}else if(e[r+1]==="?")r=Ps(e,"?>",r+1,"StopNode is not closed.");else if(e.substr(r+1,3)==="!--")r=Ps(e,"-->",r+3,"StopNode is not closed.");else if(e.substr(r+1,2)==="![")r=Ps(e,"]]>",r,"StopNode is not closed.")-2;else{let s=hE(e,r,">");s&&((s&&s.tagName)===t&&s.tagExp[s.tagExp.length-1]!=="/"&&i++,r=s.closeIndex)}}function gE(e,t,r){if(t&&typeof e=="string"){let n=e.trim();return n==="true"?!0:n==="false"?!1:fue(e,r)}else return vE.isExist(e)?e:""}ZM.exports=fE});var n1=g(r1=>{"use strict";function Pue(e,t){return t1(e,t)}function t1(e,t,r){let n,i={};for(let s=0;s<e.length;s++){let o=e[s],a=Tue(o),c="";if(r===void 0?c=a:c=r+"."+a,a===t.textNodeName)n===void 0?n=o[a]:n+=""+o[a];else{if(a===void 0)continue;if(o[a]){let l=t1(o[a],t,c),d=Iue(l,t);o[":@"]?Aue(l,o[":@"],c,t):Object.keys(l).length===1&&l[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?l=l[t.textNodeName]:Object.keys(l).length===0&&(t.alwaysCreateTextNode?l[t.textNodeName]="":l=""),i[a]!==void 0&&i.hasOwnProperty(a)?(Array.isArray(i[a])||(i[a]=[i[a]]),i[a].push(l)):t.isArray(a,c,d)?i[a]=[l]:i[a]=l}}}return typeof n=="string"?n.length>0&&(i[t.textNodeName]=n):n!==void 0&&(i[t.textNodeName]=n),i}function Tue(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function Aue(e,t,r,n){if(t){let i=Object.keys(t),s=i.length;for(let o=0;o<s;o++){let a=i[o];n.isArray(a,r+"."+a,!0,!0)?e[a]=[t[a]]:e[a]=t[a]}}}function Iue(e,t){let{textNodeName:r}=t,n=Object.keys(e).length;return!!(n===0||n===1&&(e[r]||typeof e[r]=="boolean"||e[r]===0))}r1.prettify=Pue});var s1=g((nMe,i1)=>{var{buildOptions:Oue}=GM(),Due=e1(),{prettify:Nue}=n1(),$ue=uE(),_E=class{constructor(t){this.externalEntities={},this.options=Oue(t)}parse(t,r){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let s=$ue.validate(t,r);if(s!==!0)throw Error(`${s.err.msg}:${s.err.line}:${s.err.col}`)}let n=new Due(this.options);n.addExternalEntities(this.externalEntities);let i=n.parseXml(t);return this.options.preserveOrder||i===void 0?i:Nue(i,this.options)}addEntity(t,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=r}};i1.exports=_E});var d1=g((iMe,l1)=>{var kue=`
`;function Mue(e,t){let r="";return t.format&&t.indentBy.length>0&&(r=kue),a1(e,t,"",r)}function a1(e,t,r,n){let i="",s=!1;for(let o=0;o<e.length;o++){let a=e[o],c=jue(a),l="";if(r.length===0?l=c:l=`${r}.${c}`,c===t.textNodeName){let v=a[c];que(l,t)||(v=t.tagValueProcessor(c,v),v=c1(v,t)),s&&(i+=n),i+=v,s=!1;continue}else if(c===t.cdataPropName){s&&(i+=n),i+=`<![CDATA[${a[c][0][t.textNodeName]}]]>`,s=!1;continue}else if(c===t.commentPropName){i+=n+`<!--${a[c][0][t.textNodeName]}-->`,s=!0;continue}else if(c[0]==="?"){let v=o1(a[":@"],t),y=c==="?xml"?"":n,x=a[c][0][t.textNodeName];x=x.length!==0?" "+x:"",i+=y+`<${c}${x}${v}?>`,s=!0;continue}let d=n;d!==""&&(d+=t.indentBy);let p=o1(a[":@"],t),m=n+`<${c}${p}`,f=a1(a[c],t,l,d);t.unpairedTags.indexOf(c)!==-1?t.suppressUnpairedNode?i+=m+">":i+=m+"/>":(!f||f.length===0)&&t.suppressEmptyNode?i+=m+"/>":f&&f.endsWith(">")?i+=m+`>${f}${n}</${c}>`:(i+=m+">",f&&n!==""&&(f.includes("/>")||f.includes("</"))?i+=n+t.indentBy+f+n:i+=f,i+=`</${c}>`),s=!0}return i}function jue(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function o1(e,t){let r="";if(e&&!t.ignoreAttributes)for(let n in e){let i=t.attributeValueProcessor(n,e[n]);i=c1(i,t),i===!0&&t.suppressBooleanAttributes?r+=` ${n.substr(t.attributeNamePrefix.length)}`:r+=` ${n.substr(t.attributeNamePrefix.length)}="${i}"`}return r}function que(e,t){e=e.substr(0,e.length-t.textNodeName.length-1);let r=e.substr(e.lastIndexOf(".")+1);for(let n in t.stopNodes)if(t.stopNodes[n]===e||t.stopNodes[n]==="*."+r)return!0;return!1}function c1(e,t){if(e&&e.length>0&&t.processEntities)for(let r=0;r<t.entities.length;r++){let n=t.entities[r];e=e.replace(n.regex,n.val)}return e}l1.exports=Mue});var p1=g((sMe,u1)=>{"use strict";var Lue=d1(),Fue={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function Ti(e){this.options=Object.assign({},Fue,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=Vue),this.processTextOrObjNode=Uue,this.options.format?(this.indentate=zue,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}Ti.prototype.build=function(e){return this.options.preserveOrder?Lue(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0).val)};Ti.prototype.j2x=function(e,t){let r="",n="";for(let i in e)if(!(typeof e[i]>"u"))if(e[i]===null)i[0]==="?"?n+=this.indentate(t)+"<"+i+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+i+"/"+this.tagEndChar;else if(e[i]instanceof Date)n+=this.buildTextValNode(e[i],i,"",t);else if(typeof e[i]!="object"){let s=this.isAttribute(i);if(s)r+=this.buildAttrPairStr(s,""+e[i]);else if(i===this.options.textNodeName){let o=this.options.tagValueProcessor(i,""+e[i]);n+=this.replaceEntitiesValue(o)}else n+=this.buildTextValNode(e[i],i,"",t)}else if(Array.isArray(e[i])){let s=e[i].length,o="";for(let a=0;a<s;a++){let c=e[i][a];typeof c>"u"||(c===null?i[0]==="?"?n+=this.indentate(t)+"<"+i+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+i+"/"+this.tagEndChar:typeof c=="object"?this.options.oneListGroup?o+=this.j2x(c,t+1).val:o+=this.processTextOrObjNode(c,i,t):o+=this.buildTextValNode(c,i,"",t))}this.options.oneListGroup&&(o=this.buildObjectNode(o,i,"",t)),n+=o}else if(this.options.attributesGroupName&&i===this.options.attributesGroupName){let s=Object.keys(e[i]),o=s.length;for(let a=0;a<o;a++)r+=this.buildAttrPairStr(s[a],""+e[i][s[a]])}else n+=this.processTextOrObjNode(e[i],i,t);return{attrStr:r,val:n}};Ti.prototype.buildAttrPairStr=function(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&t==="true"?" "+e:" "+e+'="'+t+'"'};function Uue(e,t,r){let n=this.j2x(e,r+1);return e[this.options.textNodeName]!==void 0&&Object.keys(e).length===1?this.buildTextValNode(e[this.options.textNodeName],t,n.attrStr,r):this.buildObjectNode(n.val,t,n.attrStr,r)}Ti.prototype.buildObjectNode=function(e,t,r,n){if(e==="")return t[0]==="?"?this.indentate(n)+"<"+t+r+"?"+this.tagEndChar:this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar;{let i="</"+t+this.tagEndChar,s="";return t[0]==="?"&&(s="?",i=""),r&&e.indexOf("<")===-1?this.indentate(n)+"<"+t+r+s+">"+e+i:this.options.commentPropName!==!1&&t===this.options.commentPropName&&s.length===0?this.indentate(n)+`<!--${e}-->`+this.newLine:this.indentate(n)+"<"+t+r+s+this.tagEndChar+e+this.indentate(n)+i}};Ti.prototype.closeTag=function(e){let t="";return this.options.unpairedTags.indexOf(e)!==-1?this.options.suppressUnpairedNode||(t="/"):this.options.suppressEmptyNode?t="/":t=`></${e}`,t};Ti.prototype.buildTextValNode=function(e,t,r,n){if(this.options.cdataPropName!==!1&&t===this.options.cdataPropName)return this.indentate(n)+`<![CDATA[${e}]]>`+this.newLine;if(this.options.commentPropName!==!1&&t===this.options.commentPropName)return this.indentate(n)+`<!--${e}-->`+this.newLine;if(t[0]==="?")return this.indentate(n)+"<"+t+r+"?"+this.tagEndChar;{let i=this.options.tagValueProcessor(t,e);return i=this.replaceEntitiesValue(i),i===""?this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar:this.indentate(n)+"<"+t+r+">"+i+"</"+t+this.tagEndChar}};Ti.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){let r=this.options.entities[t];e=e.replace(r.regex,r.val)}return e};function zue(e){return this.options.indentBy.repeat(e)}function Vue(e){return e.startsWith(this.options.attributeNamePrefix)?e.substr(this.attrPrefixLen):!1}u1.exports=Ti});var f1=g((oMe,m1)=>{"use strict";var Hue=uE(),Bue=s1(),Gue=p1();m1.exports={XMLParser:Bue,XMLValidator:Hue,XMLBuilder:Gue}});var ft=g((cMe,T1)=>{var Mm=Object.defineProperty,Wue=Object.getOwnPropertyDescriptor,Kue=Object.getOwnPropertyNames,Xue=Object.prototype.hasOwnProperty,ze=(e,t)=>Mm(e,"name",{value:t,configurable:!0}),Jue=(e,t)=>{for(var r in t)Mm(e,r,{get:t[r],enumerable:!0})},Yue=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Kue(t))!Xue.call(e,i)&&i!==r&&Mm(e,i,{get:()=>t[i],enumerable:!(n=Wue(t,i))||n.enumerable});return e},Que=e=>Yue(Mm({},"__esModule",{value:!0}),e),y1={};Jue(y1,{AWSSDKSigV4Signer:()=>rpe,AwsSdkSigV4Signer:()=>b1,_toBool:()=>spe,_toNum:()=>ope,_toStr:()=>ipe,awsExpectUnion:()=>ape,emitWarningIfUnsupportedVersion:()=>Zue,loadRestJsonErrorCode:()=>lpe,loadRestXmlErrorCode:()=>ppe,parseJsonBody:()=>R1,parseJsonErrorBody:()=>cpe,parseXmlBody:()=>P1,parseXmlErrorBody:()=>upe,resolveAWSSDKSigV4Config:()=>npe,resolveAwsSdkSigV4Config:()=>C1});T1.exports=Que(y1);var h1=!1,Zue=ze(e=>{e&&!h1&&parseInt(e.substring(1,e.indexOf(".")))<16&&(h1=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 14.x on May 1, 2024.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to an active Node.js LTS version.

More information can be found at: https://a.co/dzr2AJd`))},"emitWarningIfUnsupportedVersion"),E1=Ot(),g1=ze(e=>{var t,r;return E1.HttpResponse.isInstance(e)?((t=e.headers)==null?void 0:t.date)??((r=e.headers)==null?void 0:r.Date):void 0},"getDateHeader"),S1=ze(e=>new Date(Date.now()+e),"getSkewCorrectedDate"),epe=ze((e,t)=>Math.abs(S1(t).getTime()-e)>=3e5,"isClockSkewed"),v1=ze((e,t)=>{let r=Date.parse(e);return epe(r,t)?r-Date.now():t},"getUpdatedSystemClockOffset"),Bl=ze((e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},"throwSigningPropertyError"),tpe=ze(async e=>{var t,r,n;let i=Bl("context",e.context),s=Bl("config",e.config),o=(n=(r=(t=i.endpointV2)==null?void 0:t.properties)==null?void 0:r.authSchemes)==null?void 0:n[0],c=await Bl("signer",s.signer)(o),l=e?.signingRegion,d=e?.signingName;return{config:s,signer:c,signingRegion:l,signingName:d}},"validateSigningProperties"),x1=class{async sign(t,r,n){if(!E1.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:i,signer:s,signingRegion:o,signingName:a}=await tpe(n);return await s.sign(t,{signingDate:S1(i.systemClockOffset),signingRegion:o,signingService:a})}errorHandler(t){return r=>{let n=r.ServerTime??g1(r.$response);if(n){let i=Bl("config",t.config),s=i.systemClockOffset;i.systemClockOffset=v1(n,i.systemClockOffset),i.systemClockOffset!==s&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=g1(t);if(n){let i=Bl("config",r.config);i.systemClockOffset=v1(n,i.systemClockOffset)}}};ze(x1,"AwsSdkSigV4Signer");var b1=x1,rpe=b1,Ts=cn(),_1=jM(),C1=ze(e=>{let t;e.credentials&&(t=(0,Ts.memoizeIdentityProvider)(e.credentials,Ts.isIdentityExpired,Ts.doesIdentityRequireRefresh)),t||(e.credentialDefaultProvider?t=(0,Ts.normalizeProvider)(e.credentialDefaultProvider(Object.assign({},e,{parentClientConfig:e}))):t=ze(async()=>{throw new Error("`credentials` is missing")},"normalizedCreds"));let{signingEscapePath:r=!0,systemClockOffset:n=e.systemClockOffset||0,sha256:i}=e,s;return e.signer?s=(0,Ts.normalizeProvider)(e.signer):e.regionInfoProvider?s=ze(()=>(0,Ts.normalizeProvider)(e.region)().then(async o=>[await e.regionInfoProvider(o,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},o]).then(([o,a])=>{let{signingRegion:c,signingService:l}=o;e.signingRegion=e.signingRegion||c||a,e.signingName=e.signingName||l||e.serviceId;let d={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:r},p=e.signerConstructor||_1.SignatureV4;return new p(d)}),"signer"):s=ze(async o=>{o=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await(0,Ts.normalizeProvider)(e.region)(),properties:{}},o);let a=o.signingRegion,c=o.signingName;e.signingRegion=e.signingRegion||a,e.signingName=e.signingName||c||e.serviceId;let l={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:r},d=e.signerConstructor||_1.SignatureV4;return new d(l)},"signer"),{...e,systemClockOffset:n,signingEscapePath:r,credentials:t,signer:s}},"resolveAwsSdkSigV4Config"),npe=C1,ipe=ze(e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},"_toStr"),spe=ze(e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},"_toBool"),ope=ze(e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e},"_toNum"),yE=Je(),ape=ze(e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,yE.expectUnion)(e)},"awsExpectUnion"),w1=ze((e,t)=>(0,yE.collectBody)(e,t).then(r=>t.utf8Encoder(r)),"collectBodyString"),R1=ze((e,t)=>w1(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),"parseJsonBody"),cpe=ze(async(e,t)=>{let r=await R1(e,t);return r.message=r.message??r.Message,r},"parseJsonErrorBody"),lpe=ze((e,t)=>{let r=ze((s,o)=>Object.keys(s).find(a=>a.toLowerCase()===o.toLowerCase()),"findKey"),n=ze(s=>{let o=s;return typeof o=="number"&&(o=o.toString()),o.indexOf(",")>=0&&(o=o.split(",")[0]),o.indexOf(":")>=0&&(o=o.split(":")[0]),o.indexOf("#")>=0&&(o=o.split("#")[1]),o},"sanitizeErrorCode"),i=r(e.headers,"x-amzn-errortype");if(i!==void 0)return n(e.headers[i]);if(t.code!==void 0)return n(t.code);if(t.__type!==void 0)return n(t.__type)},"loadRestJsonErrorCode"),dpe=f1(),P1=ze((e,t)=>w1(e,t).then(r=>{if(r.length){let n=new dpe.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,l)=>l.trim()===""&&l.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let i;try{i=n.parse(r,!0)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:r}),c}let s="#text",o=Object.keys(i)[0],a=i[o];return a[s]&&(a[o]=a[s],delete a[s]),(0,yE.getValueFromTextNode)(a)}return{}}),"parseXmlBody"),upe=ze(async(e,t)=>{let r=await P1(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},"parseXmlErrorBody"),ppe=ze((e,t)=>{var r;if(((r=t?.Error)==null?void 0:r.Code)!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"},"loadRestXmlErrorCode")});var EE=g(Ai=>{"use strict";Object.defineProperty(Ai,"__esModule",{value:!0});Ai.resolveHttpAuthSchemeConfig=Ai.defaultSESHttpAuthSchemeProvider=Ai.defaultSESHttpAuthSchemeParametersProvider=void 0;var mpe=ft(),A1=nn(),fpe=async(e,t,r)=>({operation:(0,A1.getSmithyContext)(t).operation,region:await(0,A1.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Ai.defaultSESHttpAuthSchemeParametersProvider=fpe;function hpe(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"ses",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}var gpe=e=>{let t=[];switch(e.operation){default:t.push(hpe(e))}return t};Ai.defaultSESHttpAuthSchemeProvider=gpe;var vpe=e=>({...(0,mpe.resolveAwsSdkSigV4Config)(e)});Ai.resolveHttpAuthSchemeConfig=vpe});var $o={};Xd($o,{__addDisposableResource:()=>J1,__assign:()=>jm,__asyncDelegator:()=>z1,__asyncGenerator:()=>U1,__asyncValues:()=>V1,__await:()=>No,__awaiter:()=>k1,__classPrivateFieldGet:()=>W1,__classPrivateFieldIn:()=>X1,__classPrivateFieldSet:()=>K1,__createBinding:()=>Lm,__decorate:()=>D1,__disposeResources:()=>Y1,__esDecorate:()=>_pe,__exportStar:()=>j1,__extends:()=>I1,__generator:()=>M1,__importDefault:()=>G1,__importStar:()=>B1,__makeTemplateObject:()=>H1,__metadata:()=>$1,__param:()=>N1,__propKey:()=>Epe,__read:()=>xE,__rest:()=>O1,__runInitializers:()=>ype,__setFunctionName:()=>Spe,__spread:()=>q1,__spreadArray:()=>F1,__spreadArrays:()=>L1,__values:()=>qm,default:()=>Cpe});function I1(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");SE(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function O1(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function D1(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function N1(e,t){return function(r,n){t(r,n,e)}}function _pe(e,t,r,n,i,s){function o(C){if(C!==void 0&&typeof C!="function")throw new TypeError("Function expected");return C}for(var a=n.kind,c=a==="getter"?"get":a==="setter"?"set":"value",l=!t&&e?n.static?e:e.prototype:null,d=t||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),p,m=!1,f=r.length-1;f>=0;f--){var v={};for(var y in n)v[y]=y==="access"?{}:n[y];for(var y in n.access)v.access[y]=n.access[y];v.addInitializer=function(C){if(m)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(C||null))};var x=(0,r[f])(a==="accessor"?{get:d.get,set:d.set}:d[c],v);if(a==="accessor"){if(x===void 0)continue;if(x===null||typeof x!="object")throw new TypeError("Object expected");(p=o(x.get))&&(d.get=p),(p=o(x.set))&&(d.set=p),(p=o(x.init))&&i.unshift(p)}else(p=o(x))&&(a==="field"?i.unshift(p):d[c]=p)}l&&Object.defineProperty(l,n.name,d),m=!0}function ype(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0}function Epe(e){return typeof e=="symbol"?e:"".concat(e)}function Spe(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function $1(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function k1(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{l(n.next(d))}catch(p){o(p)}}function c(d){try{l(n.throw(d))}catch(p){o(p)}}function l(d){d.done?s(d.value):i(d.value).then(a,c)}l((n=n.apply(e,t||[])).next())})}function M1(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(d){return c([l,d])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(d){l=[6,d],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function j1(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Lm(t,e,r)}function qm(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function xE(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function q1(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(xE(arguments[t]));return e}function L1(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function F1(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function No(e){return this instanceof No?(this.v=e,this):new No(e)}function U1(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(m){n[m]&&(i[m]=function(f){return new Promise(function(v,y){s.push([m,f,v,y])>1||a(m,f)})})}function a(m,f){try{c(n[m](f))}catch(v){p(s[0][3],v)}}function c(m){m.value instanceof No?Promise.resolve(m.value.v).then(l,d):p(s[0][2],m)}function l(m){a("next",m)}function d(m){a("throw",m)}function p(m,f){m(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function z1(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(o){return(r=!r)?{value:No(e[i](o)),done:!1}:s?s(o):o}:s}}function V1(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof qm=="function"?qm(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(a,c){o=e[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}function H1(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function B1(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Lm(t,e,r);return xpe(t,e),t}function G1(e){return e&&e.__esModule?e:{default:e}}function W1(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function K1(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r}function X1(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function J1(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose]}if(typeof n!="function")throw new TypeError("Object not disposable.");e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}function Y1(e){function t(n){e.error=e.hasError?new bpe(n,e.error,"An error was suppressed during disposal."):n,e.hasError=!0}function r(){for(;e.stack.length;){var n=e.stack.pop();try{var i=n.dispose&&n.dispose.call(n.value);if(n.async)return Promise.resolve(i).then(r,function(s){return t(s),r()})}catch(s){t(s)}}if(e.hasError)throw e.error}return r()}var SE,jm,Lm,xpe,bpe,Cpe,ko=ot(()=>{SE=function(e,t){return SE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},SE(e,t)};jm=function(){return jm=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},jm.apply(this,arguments)};Lm=Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};xpe=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};bpe=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};Cpe={__extends:I1,__assign:jm,__rest:O1,__decorate:D1,__param:N1,__metadata:$1,__awaiter:k1,__generator:M1,__createBinding:Lm,__exportStar:j1,__values:qm,__read:xE,__spread:q1,__spreadArrays:L1,__spreadArray:F1,__await:No,__asyncGenerator:U1,__asyncDelegator:z1,__asyncValues:V1,__makeTemplateObject:H1,__importStar:B1,__importDefault:G1,__classPrivateFieldGet:W1,__classPrivateFieldSet:K1,__classPrivateFieldIn:X1,__addDisposableResource:J1,__disposeResources:Y1}});var Q1=g((dMe,wpe)=>{wpe.exports={name:"@aws-sdk/client-ses",description:"AWS SDK for JavaScript Ses Client for Node.js, Browser and React Native",version:"3.556.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-ses","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo ses"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.556.0","@aws-sdk/core":"3.556.0","@aws-sdk/credential-provider-node":"3.556.0","@aws-sdk/middleware-host-header":"3.535.0","@aws-sdk/middleware-logger":"3.535.0","@aws-sdk/middleware-recursion-detection":"3.535.0","@aws-sdk/middleware-user-agent":"3.540.0","@aws-sdk/region-config-resolver":"3.535.0","@aws-sdk/types":"3.535.0","@aws-sdk/util-endpoints":"3.540.0","@aws-sdk/util-user-agent-browser":"3.535.0","@aws-sdk/util-user-agent-node":"3.535.0","@smithy/config-resolver":"^2.2.0","@smithy/core":"^1.4.2","@smithy/fetch-http-handler":"^2.5.0","@smithy/hash-node":"^2.2.0","@smithy/invalid-dependency":"^2.2.0","@smithy/middleware-content-length":"^2.2.0","@smithy/middleware-endpoint":"^2.5.1","@smithy/middleware-retry":"^2.3.1","@smithy/middleware-serde":"^2.3.0","@smithy/middleware-stack":"^2.2.0","@smithy/node-config-provider":"^2.3.0","@smithy/node-http-handler":"^2.5.0","@smithy/protocol-http":"^3.3.0","@smithy/smithy-client":"^2.5.1","@smithy/types":"^2.12.0","@smithy/url-parser":"^2.2.0","@smithy/util-base64":"^2.3.0","@smithy/util-body-length-browser":"^2.2.0","@smithy/util-body-length-node":"^2.3.0","@smithy/util-defaults-mode-browser":"^2.2.1","@smithy/util-defaults-mode-node":"^2.3.1","@smithy/util-endpoints":"^1.2.0","@smithy/util-middleware":"^2.2.0","@smithy/util-retry":"^2.2.0","@smithy/util-utf8":"^2.3.0","@smithy/util-waiter":"^2.2.0",tslib:"^2.6.2"},devDependencies:{"@smithy/service-client-documentation-generator":"^2.2.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-ses",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-ses"}}});var Gl=g((uMe,mj)=>{var zm=Object.defineProperty,Rpe=Object.getOwnPropertyDescriptor,Ppe=Object.getOwnPropertyNames,Tpe=Object.prototype.hasOwnProperty,st=(e,t)=>zm(e,"name",{value:t,configurable:!0}),Ape=(e,t)=>{for(var r in t)zm(e,r,{get:t[r],enumerable:!0})},Ipe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Ppe(t))!Tpe.call(e,i)&&i!==r&&zm(e,i,{get:()=>t[i],enumerable:!(n=Rpe(t,i))||n.enumerable});return e},Ope=e=>Ipe(zm({},"__esModule",{value:!0}),e),rj={};Ape(rj,{DEFAULT_MAX_RETRIES:()=>oj,DEFAULT_TIMEOUT:()=>sj,ENV_CMDS_AUTH_TOKEN:()=>wE,ENV_CMDS_FULL_URI:()=>Fm,ENV_CMDS_RELATIVE_URI:()=>Um,Endpoint:()=>lj,fromContainerMetadata:()=>kpe,fromInstanceMetadata:()=>rme,getInstanceMetadataEndpoint:()=>uj,httpRequest:()=>Mo,providerConfigFromInit:()=>RE});mj.exports=Ope(rj);var Dpe=require("url"),ln=Ut(),Npe=require("buffer"),$pe=require("http");function Mo(e){return new Promise((t,r)=>{var n;let i=(0,$pe.request)({method:"GET",...e,hostname:(n=e.hostname)==null?void 0:n.replace(/^\[(.+)\]$/,"$1")});i.on("error",s=>{r(Object.assign(new ln.ProviderError("Unable to connect to instance metadata service"),s)),i.destroy()}),i.on("timeout",()=>{r(new ln.ProviderError("TimeoutError from instance metadata service")),i.destroy()}),i.on("response",s=>{let{statusCode:o=400}=s;(o<200||300<=o)&&(r(Object.assign(new ln.ProviderError("Error response received from instance metadata service"),{statusCode:o})),i.destroy());let a=[];s.on("data",c=>{a.push(c)}),s.on("end",()=>{t(Npe.Buffer.concat(a)),i.destroy()})}),i.end()})}st(Mo,"httpRequest");var nj=st(e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string","isImdsCredentials"),ij=st(e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration)}),"fromImdsCredentials"),sj=1e3,oj=0,RE=st(({maxRetries:e=oj,timeout:t=sj})=>({maxRetries:e,timeout:t}),"providerConfigFromInit"),CE=st((e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r},"retry"),Fm="AWS_CONTAINER_CREDENTIALS_FULL_URI",Um="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",wE="AWS_CONTAINER_AUTHORIZATION_TOKEN",kpe=st((e={})=>{let{timeout:t,maxRetries:r}=RE(e);return()=>CE(async()=>{let n=await Fpe(),i=JSON.parse(await Mpe(t,n));if(!nj(i))throw new ln.CredentialsProviderError("Invalid response received from instance metadata service.");return ij(i)},r)},"fromContainerMetadata"),Mpe=st(async(e,t)=>(process.env[wE]&&(t.headers={...t.headers,Authorization:process.env[wE]}),(await Mo({...t,timeout:e})).toString()),"requestFromEcsImds"),jpe="169.254.170.2",qpe={localhost:!0,"127.0.0.1":!0},Lpe={"http:":!0,"https:":!0},Fpe=st(async()=>{if(process.env[Um])return{hostname:jpe,path:process.env[Um]};if(process.env[Fm]){let e=(0,Dpe.parse)(process.env[Fm]);if(!e.hostname||!(e.hostname in qpe))throw new ln.CredentialsProviderError(`${e.hostname} is not a valid container metadata service hostname`,!1);if(!e.protocol||!(e.protocol in Lpe))throw new ln.CredentialsProviderError(`${e.protocol} is not a valid container metadata service protocol`,!1);return{...e,port:e.port?parseInt(e.port,10):void 0}}throw new ln.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${Um} or ${Fm} environment variable is set`,!1)},"getCmdsUri"),aj=class cj extends ln.CredentialsProviderError{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="InstanceMetadataV1FallbackError",Object.setPrototypeOf(this,cj.prototype)}};st(aj,"InstanceMetadataV1FallbackError");var Upe=aj,PE=Ln(),zpe=Ss(),lj=(e=>(e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]",e))(lj||{}),Vpe="AWS_EC2_METADATA_SERVICE_ENDPOINT",Hpe="ec2_metadata_service_endpoint",Bpe={environmentVariableSelector:e=>e[Vpe],configFileSelector:e=>e[Hpe],default:void 0},dj=(e=>(e.IPv4="IPv4",e.IPv6="IPv6",e))(dj||{}),Gpe="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",Wpe="ec2_metadata_service_endpoint_mode",Kpe={environmentVariableSelector:e=>e[Gpe],configFileSelector:e=>e[Wpe],default:"IPv4"},uj=st(async()=>(0,zpe.parseUrl)(await Xpe()||await Jpe()),"getInstanceMetadataEndpoint"),Xpe=st(async()=>(0,PE.loadConfig)(Bpe)(),"getFromEndpointConfig"),Jpe=st(async()=>{let e=await(0,PE.loadConfig)(Kpe)();switch(e){case"IPv4":return"http://169.254.169.254";case"IPv6":return"http://[fd00:ec2::254]";default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(dj)}`)}},"getFromEndpointModeConfig"),Ype=5*60,Qpe=5*60,Zpe="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",Z1=st((e,t)=>{let r=Ype+Math.floor(Math.random()*Qpe),n=new Date(Date.now()+r*1e3);t.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+Zpe);let i=e.originalExpiration??e.expiration;return{...e,...i?{originalExpiration:i}:{},expiration:n}},"getExtendedInstanceMetadataCredentials"),eme=st((e,t={})=>{let r=t?.logger||console,n;return async()=>{let i;try{i=await e(),i.expiration&&i.expiration.getTime()<Date.now()&&(i=Z1(i,r))}catch(s){if(n)r.warn("Credential renew failed: ",s),i=Z1(n,r);else throw s}return n=i,i}},"staticStabilityProvider"),pj="/latest/meta-data/iam/security-credentials/",tme="/latest/api/token",bE="AWS_EC2_METADATA_V1_DISABLED",ej="ec2_metadata_v1_disabled",tj="x-aws-ec2-metadata-token",rme=st((e={})=>eme(nme(e),{logger:e.logger}),"fromInstanceMetadata"),nme=st(e=>{let t=!1,{logger:r,profile:n}=e,{timeout:i,maxRetries:s}=RE(e),o=st(async(a,c)=>{var l;if(t||((l=c.headers)==null?void 0:l[tj])==null){let m=!1,f=!1,v=await(0,PE.loadConfig)({environmentVariableSelector:y=>{let x=y[bE];if(f=!!x&&x!=="false",x===void 0)throw new ln.CredentialsProviderError(`${bE} not set in env, checking config file next.`);return f},configFileSelector:y=>{let x=y[ej];return m=!!x&&x!=="false",m},default:!1},{profile:n})();if(e.ec2MetadataV1Disabled||v){let y=[];throw e.ec2MetadataV1Disabled&&y.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),m&&y.push(`config file profile (${ej})`),f&&y.push(`process environment variable (${bE})`),new Upe(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${y.join(", ")}].`)}}let p=(await CE(async()=>{let m;try{m=await sme(c)}catch(f){throw f.statusCode===401&&(t=!1),f}return m},a)).trim();return CE(async()=>{let m;try{m=await ome(p,c)}catch(f){throw f.statusCode===401&&(t=!1),f}return m},a)},"getCredentials");return async()=>{let a=await uj();if(t)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),o(s,{...a,timeout:i});{let c;try{c=(await ime({...a,timeout:i})).toString()}catch(l){if(l?.statusCode===400)throw Object.assign(l,{message:"EC2 Metadata token request returned error"});return(l.message==="TimeoutError"||[403,404,405].includes(l.statusCode))&&(t=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),o(s,{...a,timeout:i})}return o(s,{...a,headers:{[tj]:c},timeout:i})}}},"getInstanceImdsProvider"),ime=st(async e=>Mo({...e,path:tme,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),"getMetadataToken"),sme=st(async e=>(await Mo({...e,path:pj})).toString(),"getProfile"),ome=st(async(e,t)=>{let r=JSON.parse((await Mo({...t,path:pj+e})).toString());if(!nj(r))throw new ln.CredentialsProviderError("Invalid response received from instance metadata service.");return ij(r)},"getCredentialsFromProfile")});var fj=g(Vm=>{"use strict";Object.defineProperty(Vm,"__esModule",{value:!0});Vm.checkUrl=void 0;var ame=Ut(),cme="169.254.170.2",lme="169.254.170.23",dme="[fd00:ec2::23]",ume=e=>{if(e.protocol!=="https:"&&!(e.hostname===cme||e.hostname===lme||e.hostname===dme)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let t=e.hostname.split("."),r=n=>{let i=parseInt(n,10);return 0<=i&&i<=255};if(t[0]==="127"&&r(t[1])&&r(t[2])&&r(t[3])&&t.length===4)return}throw new ame.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`)}};Vm.checkUrl=ume});var hj=g(jo=>{"use strict";Object.defineProperty(jo,"__esModule",{value:!0});jo.getCredentials=jo.createGetRequest=void 0;var TE=Ut(),pme=Ot(),mme=Je(),fme=Fy();function hme(e){return new pme.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((t,[r,n])=>(t[r]=n,t),{}),fragment:e.hash})}jo.createGetRequest=hme;async function gme(e){var t,r;let n=(r=(t=e?.headers["content-type"])!==null&&t!==void 0?t:e?.headers["Content-Type"])!==null&&r!==void 0?r:"";n.includes("json")||console.warn("HTTP credential provider response header content-type was not application/json. Observed: "+n+".");let s=await(0,fme.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let o=JSON.parse(s);if(typeof o.AccessKeyId!="string"||typeof o.SecretAccessKey!="string"||typeof o.Token!="string"||typeof o.Expiration!="string")throw new TE.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }");return{accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.Token,expiration:(0,mme.parseRfc3339DateTime)(o.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let o={};try{o=JSON.parse(s)}catch{}throw Object.assign(new TE.CredentialsProviderError(`Server responded with status: ${e.statusCode}`),{Code:o.Code,Message:o.Message})}throw new TE.CredentialsProviderError(`Server responded with status: ${e.statusCode}`)}jo.getCredentials=gme});var gj=g(Hm=>{"use strict";Object.defineProperty(Hm,"__esModule",{value:!0});Hm.retryWrapper=void 0;var vme=(e,t,r)=>async()=>{for(let n=0;n<t;++n)try{return await e()}catch{await new Promise(s=>setTimeout(s,r))}return await e()};Hm.retryWrapper=vme});var yj=g(Bm=>{"use strict";Object.defineProperty(Bm,"__esModule",{value:!0});Bm.fromHttp=void 0;var _me=(ko(),ni($o)),yme=Rs(),vj=Ut(),Eme=_me.__importDefault(require("fs/promises")),Sme=fj(),_j=hj(),xme=gj(),bme="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",Cme="http://169.254.170.2",wme="AWS_CONTAINER_CREDENTIALS_FULL_URI",Rme="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",Pme="AWS_CONTAINER_AUTHORIZATION_TOKEN",Tme=e=>{var t,r,n,i,s,o,a,c,l;(t=e.logger)===null||t===void 0||t.debug("@aws-sdk/credential-provider-http","fromHttp");let d,p=(r=e.awsContainerCredentialsRelativeUri)!==null&&r!==void 0?r:process.env[bme],m=(n=e.awsContainerCredentialsFullUri)!==null&&n!==void 0?n:process.env[wme],f=(i=e.awsContainerAuthorizationToken)!==null&&i!==void 0?i:process.env[Pme],v=(s=e.awsContainerAuthorizationTokenFile)!==null&&s!==void 0?s:process.env[Rme];if(p&&m&&(console.warn("AWS SDK HTTP credentials provider:","you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),console.warn("awsContainerCredentialsFullUri will take precedence.")),f&&v&&(console.warn("AWS SDK HTTP credentials provider:","you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),console.warn("awsContainerAuthorizationToken will take precedence.")),m)d=m;else if(p)d=`${Cme}${p}`;else throw new vj.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`);let y=new URL(d);(0,Sme.checkUrl)(y);let x=new yme.NodeHttpHandler({requestTimeout:(o=e.timeout)!==null&&o!==void 0?o:1e3,connectionTimeout:(a=e.timeout)!==null&&a!==void 0?a:1e3});return(0,xme.retryWrapper)(async()=>{let C=(0,_j.createGetRequest)(y);f?C.headers.Authorization=f:v&&(C.headers.Authorization=(await Eme.default.readFile(v)).toString());try{let I=await x.handle(C);return(0,_j.getCredentials)(I.response)}catch(I){throw new vj.CredentialsProviderError(String(I))}},(c=e.maxRetries)!==null&&c!==void 0?c:3,(l=e.timeout)!==null&&l!==void 0?l:1e3)};Bm.fromHttp=Tme});var Ej=g(Gm=>{"use strict";Object.defineProperty(Gm,"__esModule",{value:!0});Gm.fromHttp=void 0;var Ame=yj();Object.defineProperty(Gm,"fromHttp",{enumerable:!0,get:function(){return Ame.fromHttp}})});var AE=g((vMe,Pj)=>{var Wm=Object.defineProperty,Ime=Object.getOwnPropertyDescriptor,Ome=Object.getOwnPropertyNames,Dme=Object.prototype.hasOwnProperty,Nme=(e,t)=>Wm(e,"name",{value:t,configurable:!0}),$me=(e,t)=>{for(var r in t)Wm(e,r,{get:t[r],enumerable:!0})},kme=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Ome(t))!Dme.call(e,i)&&i!==r&&Wm(e,i,{get:()=>t[i],enumerable:!(n=Ime(t,i))||n.enumerable});return e},Mme=e=>kme(Wm({},"__esModule",{value:!0}),e),Sj={};$me(Sj,{ENV_CREDENTIAL_SCOPE:()=>Rj,ENV_EXPIRATION:()=>wj,ENV_KEY:()=>xj,ENV_SECRET:()=>bj,ENV_SESSION:()=>Cj,fromEnv:()=>qme});Pj.exports=Mme(Sj);var jme=Ut(),xj="AWS_ACCESS_KEY_ID",bj="AWS_SECRET_ACCESS_KEY",Cj="AWS_SESSION_TOKEN",wj="AWS_CREDENTIAL_EXPIRATION",Rj="AWS_CREDENTIAL_SCOPE",qme=Nme(e=>async()=>{var t;(t=e?.logger)==null||t.debug("@aws-sdk/credential-provider-env","fromEnv");let r=process.env[xj],n=process.env[bj],i=process.env[Cj],s=process.env[wj],o=process.env[Rj];if(r&&n)return{accessKeyId:r,secretAccessKey:n,...i&&{sessionToken:i},...s&&{expiration:new Date(s)},...o&&{credentialScope:o}};throw new jme.CredentialsProviderError("Unable to find environment variable credentials.")},"fromEnv")});var IE=g(Ii=>{"use strict";Object.defineProperty(Ii,"__esModule",{value:!0});Ii.resolveHttpAuthSchemeConfig=Ii.defaultSSOHttpAuthSchemeProvider=Ii.defaultSSOHttpAuthSchemeParametersProvider=void 0;var Lme=ft(),Tj=nn(),Fme=async(e,t,r)=>({operation:(0,Tj.getSmithyContext)(t).operation,region:await(0,Tj.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Ii.defaultSSOHttpAuthSchemeParametersProvider=Fme;function Ume(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function Km(e){return{schemeId:"smithy.api#noAuth"}}var zme=e=>{let t=[];switch(e.operation){case"GetRoleCredentials":{t.push(Km(e));break}case"ListAccountRoles":{t.push(Km(e));break}case"ListAccounts":{t.push(Km(e));break}case"Logout":{t.push(Km(e));break}default:t.push(Ume(e))}return t};Ii.defaultSSOHttpAuthSchemeProvider=zme;var Vme=e=>({...(0,Lme.resolveAwsSdkSigV4Config)(e)});Ii.resolveHttpAuthSchemeConfig=Vme});var Aj=g((yMe,Hme)=>{Hme.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.556.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/core":"3.556.0","@aws-sdk/middleware-host-header":"3.535.0","@aws-sdk/middleware-logger":"3.535.0","@aws-sdk/middleware-recursion-detection":"3.535.0","@aws-sdk/middleware-user-agent":"3.540.0","@aws-sdk/region-config-resolver":"3.535.0","@aws-sdk/types":"3.535.0","@aws-sdk/util-endpoints":"3.540.0","@aws-sdk/util-user-agent-browser":"3.535.0","@aws-sdk/util-user-agent-node":"3.535.0","@smithy/config-resolver":"^2.2.0","@smithy/core":"^1.4.2","@smithy/fetch-http-handler":"^2.5.0","@smithy/hash-node":"^2.2.0","@smithy/invalid-dependency":"^2.2.0","@smithy/middleware-content-length":"^2.2.0","@smithy/middleware-endpoint":"^2.5.1","@smithy/middleware-retry":"^2.3.1","@smithy/middleware-serde":"^2.3.0","@smithy/middleware-stack":"^2.2.0","@smithy/node-config-provider":"^2.3.0","@smithy/node-http-handler":"^2.5.0","@smithy/protocol-http":"^3.3.0","@smithy/smithy-client":"^2.5.1","@smithy/types":"^2.12.0","@smithy/url-parser":"^2.2.0","@smithy/util-base64":"^2.3.0","@smithy/util-body-length-browser":"^2.2.0","@smithy/util-body-length-node":"^2.3.0","@smithy/util-defaults-mode-browser":"^2.2.1","@smithy/util-defaults-mode-node":"^2.3.1","@smithy/util-endpoints":"^1.2.0","@smithy/util-middleware":"^2.2.0","@smithy/util-retry":"^2.2.0","@smithy/util-utf8":"^2.3.0",tslib:"^2.6.2"},devDependencies:{"@smithy/service-client-documentation-generator":"^2.2.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var Wl=g((EMe,Mj)=>{var Xm=Object.defineProperty,Bme=Object.getOwnPropertyDescriptor,Gme=Object.getOwnPropertyNames,Wme=Object.prototype.hasOwnProperty,Oj=(e,t)=>Xm(e,"name",{value:t,configurable:!0}),Kme=(e,t)=>{for(var r in t)Xm(e,r,{get:t[r],enumerable:!0})},Xme=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Gme(t))!Wme.call(e,i)&&i!==r&&Xm(e,i,{get:()=>t[i],enumerable:!(n=Bme(t,i))||n.enumerable});return e},Jme=e=>Xme(Xm({},"__esModule",{value:!0}),e),Dj={};Kme(Dj,{UA_APP_ID_ENV_NAME:()=>$j,UA_APP_ID_INI_NAME:()=>kj,crtAvailability:()=>Nj,defaultUserAgent:()=>Zme});Mj.exports=Jme(Dj);var Yme=Ln(),Ij=require("os"),OE=require("process"),Nj={isCrtAvailable:!1},Qme=Oj(()=>Nj.isCrtAvailable?["md/crt-avail"]:null,"isCrtAvailable"),$j="AWS_SDK_UA_APP_ID",kj="sdk-ua-app-id",Zme=Oj(({serviceId:e,clientVersion:t})=>{let r=[["aws-sdk-js",t],["ua","2.0"],[`os/${(0,Ij.platform)()}`,(0,Ij.release)()],["lang/js"],["md/nodejs",`${OE.versions.node}`]],n=Qme();n&&r.push(n),e&&r.push([`api/${e}`,t]),OE.env.AWS_EXECUTION_ENV&&r.push([`exec-env/${OE.env.AWS_EXECUTION_ENV}`]);let i=(0,Yme.loadConfig)({environmentVariableSelector:o=>o[$j],configFileSelector:o=>o[kj],default:void 0})(),s;return async()=>{if(!s){let o=await i;s=o?[...r,[`app/${o}`]]:[...r]}return s}},"defaultUserAgent")});var Kl=g((xMe,Uj)=>{var Jm=Object.defineProperty,efe=Object.getOwnPropertyDescriptor,tfe=Object.getOwnPropertyNames,rfe=Object.prototype.hasOwnProperty,qj=(e,t)=>Jm(e,"name",{value:t,configurable:!0}),nfe=(e,t)=>{for(var r in t)Jm(e,r,{get:t[r],enumerable:!0})},ife=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of tfe(t))!rfe.call(e,i)&&i!==r&&Jm(e,i,{get:()=>t[i],enumerable:!(n=efe(t,i))||n.enumerable});return e},sfe=e=>ife(Jm({},"__esModule",{value:!0}),e),Lj={};nfe(Lj,{Hash:()=>cfe});Uj.exports=sfe(Lj);var DE=Ro(),ofe=sr(),afe=require("buffer"),jj=require("crypto"),Fj=class{constructor(t,r){this.algorithmIdentifier=t,this.secret=r,this.reset()}update(t,r){this.hash.update((0,ofe.toUint8Array)(NE(t,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,jj.createHmac)(this.algorithmIdentifier,NE(this.secret)):(0,jj.createHash)(this.algorithmIdentifier)}};qj(Fj,"Hash");var cfe=Fj;function NE(e,t){return afe.Buffer.isBuffer(e)?e:typeof e=="string"?(0,DE.fromString)(e,t):ArrayBuffer.isView(e)?(0,DE.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength):(0,DE.fromArrayBuffer)(e)}qj(NE,"castSourceData")});var Xl=g((bMe,Hj)=>{var Ym=Object.defineProperty,lfe=Object.getOwnPropertyDescriptor,dfe=Object.getOwnPropertyNames,ufe=Object.prototype.hasOwnProperty,pfe=(e,t)=>Ym(e,"name",{value:t,configurable:!0}),mfe=(e,t)=>{for(var r in t)Ym(e,r,{get:t[r],enumerable:!0})},ffe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of dfe(t))!ufe.call(e,i)&&i!==r&&Ym(e,i,{get:()=>t[i],enumerable:!(n=lfe(t,i))||n.enumerable});return e},hfe=e=>ffe(Ym({},"__esModule",{value:!0}),e),Vj={};mfe(Vj,{calculateBodyLength:()=>gfe});Hj.exports=hfe(Vj);var zj=require("fs"),gfe=pfe(e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(typeof e.path=="string"||Buffer.isBuffer(e.path))return(0,zj.lstatSync)(e.path).size;if(typeof e.fd=="number")return(0,zj.fstatSync)(e.fd).size;throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")});var sq=g(Qm=>{"use strict";Object.defineProperty(Qm,"__esModule",{value:!0});Qm.ruleSet=void 0;var tq="required",ar="fn",cr="argv",Fo="ref",Bj=!0,Gj="isSet",Jl="booleanEquals",qo="error",Lo="endpoint",Un="tree",$E="PartitionResult",kE="getAttr",Wj={[tq]:!1,type:"String"},Kj={[tq]:!0,default:!1,type:"Boolean"},Xj={[Fo]:"Endpoint"},rq={[ar]:Jl,[cr]:[{[Fo]:"UseFIPS"},!0]},nq={[ar]:Jl,[cr]:[{[Fo]:"UseDualStack"},!0]},or={},Jj={[ar]:kE,[cr]:[{[Fo]:$E},"supportsFIPS"]},iq={[Fo]:$E},Yj={[ar]:Jl,[cr]:[!0,{[ar]:kE,[cr]:[iq,"supportsDualStack"]}]},Qj=[rq],Zj=[nq],eq=[{[Fo]:"Region"}],vfe={version:"1.0",parameters:{Region:Wj,UseDualStack:Kj,UseFIPS:Kj,Endpoint:Wj},rules:[{conditions:[{[ar]:Gj,[cr]:[Xj]}],rules:[{conditions:Qj,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:qo},{conditions:Zj,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:qo},{endpoint:{url:Xj,properties:or,headers:or},type:Lo}],type:Un},{conditions:[{[ar]:Gj,[cr]:eq}],rules:[{conditions:[{[ar]:"aws.partition",[cr]:eq,assign:$E}],rules:[{conditions:[rq,nq],rules:[{conditions:[{[ar]:Jl,[cr]:[Bj,Jj]},Yj],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:or,headers:or},type:Lo}],type:Un},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:qo}],type:Un},{conditions:Qj,rules:[{conditions:[{[ar]:Jl,[cr]:[Jj,Bj]}],rules:[{conditions:[{[ar]:"stringEquals",[cr]:[{[ar]:kE,[cr]:[iq,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:or,headers:or},type:Lo},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:or,headers:or},type:Lo}],type:Un},{error:"FIPS is enabled but this partition does not support FIPS",type:qo}],type:Un},{conditions:Zj,rules:[{conditions:[Yj],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:or,headers:or},type:Lo}],type:Un},{error:"DualStack is enabled but this partition does not support DualStack",type:qo}],type:Un},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:or,headers:or},type:Lo}],type:Un}],type:Un},{error:"Invalid Configuration: Missing Region",type:qo}]};Qm.ruleSet=vfe});var aq=g(Zm=>{"use strict";Object.defineProperty(Zm,"__esModule",{value:!0});Zm.defaultEndpointResolver=void 0;var _fe=bo(),oq=So(),yfe=sq(),Efe=(e,t={})=>(0,oq.resolveEndpoint)(yfe.ruleSet,{endpointParams:e,logger:t.logger});Zm.defaultEndpointResolver=Efe;oq.customEndpointFunctions.aws=_fe.awsEndpointFunctions});var dq=g(ef=>{"use strict";Object.defineProperty(ef,"__esModule",{value:!0});ef.getRuntimeConfig=void 0;var Sfe=ft(),xfe=cn(),bfe=Je(),Cfe=Ss(),cq=Po(),lq=sr(),wfe=IE(),Rfe=aq(),Pfe=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??cq.fromBase64,base64Encoder:e?.base64Encoder??cq.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Rfe.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??wfe.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Sfe.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new xfe.NoAuthSigner}],logger:e?.logger??new bfe.NoOpLogger,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??Cfe.parseUrl,utf8Decoder:e?.utf8Decoder??lq.fromUtf8,utf8Encoder:e?.utf8Encoder??lq.toUtf8});ef.getRuntimeConfig=Pfe});var Ql=g((PMe,gq)=>{var Tfe=Object.create,Yl=Object.defineProperty,Afe=Object.getOwnPropertyDescriptor,Ife=Object.getOwnPropertyNames,Ofe=Object.getPrototypeOf,Dfe=Object.prototype.hasOwnProperty,ME=(e,t)=>Yl(e,"name",{value:t,configurable:!0}),Nfe=(e,t)=>{for(var r in t)Yl(e,r,{get:t[r],enumerable:!0})},fq=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Ife(t))!Dfe.call(e,i)&&i!==r&&Yl(e,i,{get:()=>t[i],enumerable:!(n=Afe(t,i))||n.enumerable});return e},$fe=(e,t,r)=>(r=e!=null?Tfe(Ofe(e)):{},fq(t||!e||!e.__esModule?Yl(r,"default",{value:e,enumerable:!0}):r,e)),kfe=e=>fq(Yl({},"__esModule",{value:!0}),e),hq={};Nfe(hq,{resolveDefaultsModeConfig:()=>Bfe});gq.exports=kfe(hq);var Mfe=sn(),uq=Ln(),jfe=Ut(),qfe="AWS_EXECUTION_ENV",pq="AWS_REGION",mq="AWS_DEFAULT_REGION",Lfe="AWS_EC2_METADATA_DISABLED",Ffe=["in-region","cross-region","mobile","standard","legacy"],Ufe="/latest/meta-data/placement/region",zfe="AWS_DEFAULTS_MODE",Vfe="defaults_mode",Hfe={environmentVariableSelector:e=>e[zfe],configFileSelector:e=>e[Vfe],default:"legacy"},Bfe=ME(({region:e=(0,uq.loadConfig)(Mfe.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=(0,uq.loadConfig)(Hfe)}={})=>(0,jfe.memoize)(async()=>{let r=typeof t=="function"?await t():t;switch(r?.toLowerCase()){case"auto":return Gfe(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${Ffe.join(", ")}, got ${r}`)}}),"resolveDefaultsModeConfig"),Gfe=ME(async e=>{if(e){let t=typeof e=="function"?await e():e,r=await Wfe();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},"resolveNodeDefaultsModeAuto"),Wfe=ME(async()=>{if(process.env[qfe]&&(process.env[pq]||process.env[mq]))return process.env[pq]??process.env[mq];if(!process.env[Lfe])try{let{getInstanceMetadataEndpoint:e,httpRequest:t}=await Promise.resolve().then(()=>$fe(Gl())),r=await e();return(await t({...r,path:Ufe})).toString()}catch{}},"inferPhysicalRegion")});var yq=g(rf=>{"use strict";Object.defineProperty(rf,"__esModule",{value:!0});rf.getRuntimeConfig=void 0;var Kfe=(ko(),ni($o)),Xfe=Kfe.__importDefault(Aj()),Jfe=ft(),Yfe=Wl(),tf=sn(),Qfe=Kl(),vq=an(),Zl=Ln(),_q=Rs(),Zfe=Xl(),ehe=wo(),the=dq(),rhe=Je(),nhe=Ql(),ihe=Je(),she=e=>{(0,ihe.emitWarningIfUnsupportedVersion)(process.version);let t=(0,nhe.resolveDefaultsModeConfig)(e),r=()=>t().then(rhe.loadConfigsForDefaultMode),n=(0,the.getRuntimeConfig)(e);return(0,Jfe.emitWarningIfUnsupportedVersion)(process.version),{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??Zfe.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Yfe.defaultUserAgent)({serviceId:n.serviceId,clientVersion:Xfe.default.version}),maxAttempts:e?.maxAttempts??(0,Zl.loadConfig)(vq.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:e?.region??(0,Zl.loadConfig)(tf.NODE_REGION_CONFIG_OPTIONS,tf.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:_q.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Zl.loadConfig)({...vq.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||ehe.DEFAULT_RETRY_MODE}),sha256:e?.sha256??Qfe.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??_q.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Zl.loadConfig)(tf.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,Zl.loadConfig)(tf.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};rf.getRuntimeConfig=she});var ed=g((AMe,wq)=>{var nf=Object.defineProperty,ohe=Object.getOwnPropertyDescriptor,ahe=Object.getOwnPropertyNames,che=Object.prototype.hasOwnProperty,Uo=(e,t)=>nf(e,"name",{value:t,configurable:!0}),lhe=(e,t)=>{for(var r in t)nf(e,r,{get:t[r],enumerable:!0})},dhe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of ahe(t))!che.call(e,i)&&i!==r&&nf(e,i,{get:()=>t[i],enumerable:!(n=ohe(t,i))||n.enumerable});return e},uhe=e=>dhe(nf({},"__esModule",{value:!0}),e),Sq={};lhe(Sq,{NODE_REGION_CONFIG_FILE_OPTIONS:()=>hhe,NODE_REGION_CONFIG_OPTIONS:()=>fhe,REGION_ENV_NAME:()=>xq,REGION_INI_NAME:()=>bq,getAwsRegionExtensionConfiguration:()=>phe,resolveAwsRegionExtensionConfiguration:()=>mhe,resolveRegionConfig:()=>ghe});wq.exports=uhe(Sq);var phe=Uo(e=>{let t=Uo(async()=>{if(e.region===void 0)throw new Error("Region is missing from runtimeConfig");let r=e.region;return typeof r=="string"?r:r()},"runtimeConfigRegion");return{setRegion(r){t=r},region(){return t}}},"getAwsRegionExtensionConfiguration"),mhe=Uo(e=>({region:e.region()}),"resolveAwsRegionExtensionConfiguration"),xq="AWS_REGION",bq="region",fhe={environmentVariableSelector:e=>e[xq],configFileSelector:e=>e[bq],default:()=>{throw new Error("Region is missing")}},hhe={preferredFile:"credentials"},Cq=Uo(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),Eq=Uo(e=>Cq(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),ghe=Uo(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if(typeof t=="string")return Eq(t);let n=await t();return Eq(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return Cq(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}},"resolveRegionConfig")});var hL=g((jMe,fL)=>{"use strict";var of=Object.defineProperty,vhe=Object.getOwnPropertyDescriptor,_he=Object.getOwnPropertyNames,yhe=Object.prototype.hasOwnProperty,he=(e,t)=>of(e,"name",{value:t,configurable:!0}),Ehe=(e,t)=>{for(var r in t)of(e,r,{get:t[r],enumerable:!0})},She=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of _he(t))!yhe.call(e,i)&&i!==r&&of(e,i,{get:()=>t[i],enumerable:!(n=vhe(t,i))||n.enumerable});return e},xhe=e=>She(of({},"__esModule",{value:!0}),e),Dq={};Ehe(Dq,{GetRoleCredentialsCommand:()=>aL,GetRoleCredentialsRequestFilterSensitiveLog:()=>Kq,GetRoleCredentialsResponseFilterSensitiveLog:()=>Jq,InvalidRequestException:()=>qq,ListAccountRolesCommand:()=>jE,ListAccountRolesRequestFilterSensitiveLog:()=>Yq,ListAccountsCommand:()=>qE,ListAccountsRequestFilterSensitiveLog:()=>Qq,LogoutCommand:()=>uL,LogoutRequestFilterSensitiveLog:()=>Zq,ResourceNotFoundException:()=>Uq,RoleCredentialsFilterSensitiveLog:()=>Xq,SSO:()=>mL,SSOClient:()=>cf,SSOServiceException:()=>zo,TooManyRequestsException:()=>Hq,UnauthorizedException:()=>Wq,__Client:()=>X.Client,paginateListAccountRoles:()=>Khe,paginateListAccounts:()=>Xhe});fL.exports=xhe(Dq);var Rq=El(),bhe=Sl(),Che=xl(),Pq=Cl(),whe=sn(),zn=cn(),Rhe=Ul(),rd=bs(),Tq=an(),Aq=IE(),Phe=he(e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),"resolveClientEndpointParameters"),af={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},The=yq(),Iq=ed(),Oq=Ot(),X=Je(),Ahe=he(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(i){let s=t.findIndex(o=>o.schemeId===i.schemeId);s===-1?t.push(i):t.splice(s,1,i)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(i){r=i},httpAuthSchemeProvider(){return r},setCredentials(i){n=i},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),Ihe=he(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),sf=he(e=>e,"asPartial"),Ohe=he((e,t)=>{let r={...sf((0,Iq.getAwsRegionExtensionConfiguration)(e)),...sf((0,X.getDefaultExtensionConfiguration)(e)),...sf((0,Oq.getHttpHandlerExtensionConfiguration)(e)),...sf(Ahe(e))};return t.forEach(n=>n.configure(r)),{...e,...(0,Iq.resolveAwsRegionExtensionConfiguration)(r),...(0,X.resolveDefaultRuntimeConfig)(r),...(0,Oq.resolveHttpHandlerRuntimeConfig)(r),...Ihe(r)}},"resolveRuntimeExtensions"),Nq=class extends X.Client{constructor(...[t]){let r=(0,The.getRuntimeConfig)(t||{}),n=Phe(r),i=(0,whe.resolveRegionConfig)(n),s=(0,rd.resolveEndpointConfig)(i),o=(0,Tq.resolveRetryConfig)(s),a=(0,Rq.resolveHostHeaderConfig)(o),c=(0,Pq.resolveUserAgentConfig)(a),l=(0,Aq.resolveHttpAuthSchemeConfig)(c),d=Ohe(l,t?.extensions||[]);super(d),this.config=d,this.middlewareStack.use((0,Tq.getRetryPlugin)(this.config)),this.middlewareStack.use((0,Rhe.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Rq.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,bhe.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,Che.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,Pq.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,zn.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:this.getDefaultHttpAuthSchemeParametersProvider(),identityProviderConfigProvider:this.getIdentityProviderConfigProvider()})),this.middlewareStack.use((0,zn.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}getDefaultHttpAuthSchemeParametersProvider(){return Aq.defaultSSOHttpAuthSchemeParametersProvider}getIdentityProviderConfigProvider(){return async t=>new zn.DefaultIdentityProviderConfig({"aws.auth#sigv4":t.credentials})}};he(Nq,"SSOClient");var cf=Nq,lf=xs(),OMe=Dr(),$q=class kq extends X.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,kq.prototype)}};he($q,"SSOServiceException");var zo=$q,Mq=class jq extends zo{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,jq.prototype)}};he(Mq,"InvalidRequestException");var qq=Mq,Lq=class Fq extends zo{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,Fq.prototype)}};he(Lq,"ResourceNotFoundException");var Uq=Lq,zq=class Vq extends zo{constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,Vq.prototype)}};he(zq,"TooManyRequestsException");var Hq=zq,Bq=class Gq extends zo{constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),this.name="UnauthorizedException",this.$fault="client",Object.setPrototypeOf(this,Gq.prototype)}};he(Bq,"UnauthorizedException");var Wq=Bq,Kq=he(e=>({...e,...e.accessToken&&{accessToken:X.SENSITIVE_STRING}}),"GetRoleCredentialsRequestFilterSensitiveLog"),Xq=he(e=>({...e,...e.secretAccessKey&&{secretAccessKey:X.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:X.SENSITIVE_STRING}}),"RoleCredentialsFilterSensitiveLog"),Jq=he(e=>({...e,...e.roleCredentials&&{roleCredentials:Xq(e.roleCredentials)}}),"GetRoleCredentialsResponseFilterSensitiveLog"),Yq=he(e=>({...e,...e.accessToken&&{accessToken:X.SENSITIVE_STRING}}),"ListAccountRolesRequestFilterSensitiveLog"),Qq=he(e=>({...e,...e.accessToken&&{accessToken:X.SENSITIVE_STRING}}),"ListAccountsRequestFilterSensitiveLog"),Zq=he(e=>({...e,...e.accessToken&&{accessToken:X.SENSITIVE_STRING}}),"LogoutRequestFilterSensitiveLog"),td=ft(),Dhe=he(async(e,t)=>{let r=(0,zn.requestBuilder)(e,t),n=(0,X.map)({},uf,{[mf]:e[pf]});r.bp("/federation/credentials");let i=(0,X.map)({[Ghe]:[,(0,X.expectNonNull)(e[Bhe],"roleName")],[tL]:[,(0,X.expectNonNull)(e[eL],"accountId")]});return r.m("GET").h(n).q(i).b(void 0),r.build()},"se_GetRoleCredentialsCommand"),Nhe=he(async(e,t)=>{let r=(0,zn.requestBuilder)(e,t),n=(0,X.map)({},uf,{[mf]:e[pf]});r.bp("/assignment/roles");let i=(0,X.map)({[sL]:[,e[iL]],[nL]:[()=>e.maxResults!==void 0,()=>e[rL].toString()],[tL]:[,(0,X.expectNonNull)(e[eL],"accountId")]});return r.m("GET").h(n).q(i).b(void 0),r.build()},"se_ListAccountRolesCommand"),$he=he(async(e,t)=>{let r=(0,zn.requestBuilder)(e,t),n=(0,X.map)({},uf,{[mf]:e[pf]});r.bp("/assignment/accounts");let i=(0,X.map)({[sL]:[,e[iL]],[nL]:[()=>e.maxResults!==void 0,()=>e[rL].toString()]});return r.m("GET").h(n).q(i).b(void 0),r.build()},"se_ListAccountsCommand"),khe=he(async(e,t)=>{let r=(0,zn.requestBuilder)(e,t),n=(0,X.map)({},uf,{[mf]:e[pf]});return r.bp("/logout"),r.m("POST").h(n).b(void 0),r.build()},"se_LogoutCommand"),Mhe=he(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return df(e,t);let r=(0,X.map)({$metadata:Oi(e)}),n=(0,X.expectNonNull)((0,X.expectObject)(await(0,td.parseJsonBody)(e.body,t)),"body"),i=(0,X.take)(n,{roleCredentials:X._json});return Object.assign(r,i),r},"de_GetRoleCredentialsCommand"),jhe=he(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return df(e,t);let r=(0,X.map)({$metadata:Oi(e)}),n=(0,X.expectNonNull)((0,X.expectObject)(await(0,td.parseJsonBody)(e.body,t)),"body"),i=(0,X.take)(n,{nextToken:X.expectString,roleList:X._json});return Object.assign(r,i),r},"de_ListAccountRolesCommand"),qhe=he(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return df(e,t);let r=(0,X.map)({$metadata:Oi(e)}),n=(0,X.expectNonNull)((0,X.expectObject)(await(0,td.parseJsonBody)(e.body,t)),"body"),i=(0,X.take)(n,{accountList:X._json,nextToken:X.expectString});return Object.assign(r,i),r},"de_ListAccountsCommand"),Lhe=he(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return df(e,t);let r=(0,X.map)({$metadata:Oi(e)});return await(0,X.collectBody)(e.body,t),r},"de_LogoutCommand"),df=he(async(e,t)=>{let r={...e,body:await(0,td.parseJsonErrorBody)(e.body,t)},n=(0,td.loadRestJsonErrorCode)(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await Uhe(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await zhe(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await Vhe(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await Hhe(r,t);default:let i=r.body;return Fhe({output:e,parsedBody:i,errorCode:n})}},"de_CommandError"),Fhe=(0,X.withBaseException)(zo),Uhe=he(async(e,t)=>{let r=(0,X.map)({}),n=e.body,i=(0,X.take)(n,{message:X.expectString});Object.assign(r,i);let s=new qq({$metadata:Oi(e),...r});return(0,X.decorateServiceException)(s,e.body)},"de_InvalidRequestExceptionRes"),zhe=he(async(e,t)=>{let r=(0,X.map)({}),n=e.body,i=(0,X.take)(n,{message:X.expectString});Object.assign(r,i);let s=new Uq({$metadata:Oi(e),...r});return(0,X.decorateServiceException)(s,e.body)},"de_ResourceNotFoundExceptionRes"),Vhe=he(async(e,t)=>{let r=(0,X.map)({}),n=e.body,i=(0,X.take)(n,{message:X.expectString});Object.assign(r,i);let s=new Hq({$metadata:Oi(e),...r});return(0,X.decorateServiceException)(s,e.body)},"de_TooManyRequestsExceptionRes"),Hhe=he(async(e,t)=>{let r=(0,X.map)({}),n=e.body,i=(0,X.take)(n,{message:X.expectString});Object.assign(r,i);let s=new Wq({$metadata:Oi(e),...r});return(0,X.decorateServiceException)(s,e.body)},"de_UnauthorizedExceptionRes"),Oi=he(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),uf=he(e=>e!=null&&e!==""&&(!Object.getOwnPropertyNames(e).includes("length")||e.length!=0)&&(!Object.getOwnPropertyNames(e).includes("size")||e.size!=0),"isSerializableHeaderValue"),eL="accountId",pf="accessToken",tL="account_id",rL="maxResults",nL="max_result",iL="nextToken",sL="next_token",Bhe="roleName",Ghe="role_name",mf="x-amz-sso_bearer_token",oL=class extends X.Command.classBuilder().ep({...af}).m(function(t,r,n,i){return[(0,lf.getSerdePlugin)(n,this.serialize,this.deserialize),(0,rd.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(Kq,Jq).ser(Dhe).de(Mhe).build(){};he(oL,"GetRoleCredentialsCommand");var aL=oL,cL=class extends X.Command.classBuilder().ep({...af}).m(function(t,r,n,i){return[(0,lf.getSerdePlugin)(n,this.serialize,this.deserialize),(0,rd.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").f(Yq,void 0).ser(Nhe).de(jhe).build(){};he(cL,"ListAccountRolesCommand");var jE=cL,lL=class extends X.Command.classBuilder().ep({...af}).m(function(t,r,n,i){return[(0,lf.getSerdePlugin)(n,this.serialize,this.deserialize),(0,rd.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").f(Qq,void 0).ser($he).de(qhe).build(){};he(lL,"ListAccountsCommand");var qE=lL,dL=class extends X.Command.classBuilder().ep({...af}).m(function(t,r,n,i){return[(0,lf.getSerdePlugin)(n,this.serialize,this.deserialize),(0,rd.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").f(Zq,void 0).ser(khe).de(Lhe).build(){};he(dL,"LogoutCommand");var uL=dL,Whe={GetRoleCredentialsCommand:aL,ListAccountRolesCommand:jE,ListAccountsCommand:qE,LogoutCommand:uL},pL=class extends cf{};he(pL,"SSO");var mL=pL;(0,X.createAggregatedClient)(Whe,mL);var Khe=(0,zn.createPaginator)(cf,jE,"nextToken","nextToken","maxResults"),Xhe=(0,zn.createPaginator)(cf,qE,"nextToken","nextToken","maxResults")});var FE=g(Di=>{"use strict";Object.defineProperty(Di,"__esModule",{value:!0});Di.resolveHttpAuthSchemeConfig=Di.defaultSSOOIDCHttpAuthSchemeProvider=Di.defaultSSOOIDCHttpAuthSchemeParametersProvider=void 0;var Jhe=ft(),gL=nn(),Yhe=async(e,t,r)=>({operation:(0,gL.getSmithyContext)(t).operation,region:await(0,gL.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Di.defaultSSOOIDCHttpAuthSchemeParametersProvider=Yhe;function Qhe(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function LE(e){return{schemeId:"smithy.api#noAuth"}}var Zhe=e=>{let t=[];switch(e.operation){case"CreateToken":{t.push(LE(e));break}case"RegisterClient":{t.push(LE(e));break}case"StartDeviceAuthorization":{t.push(LE(e));break}default:t.push(Qhe(e))}return t};Di.defaultSSOOIDCHttpAuthSchemeProvider=Zhe;var ege=e=>({...(0,Jhe.resolveAwsSdkSigV4Config)(e)});Di.resolveHttpAuthSchemeConfig=ege});var vL=g((LMe,tge)=>{tge.exports={name:"@aws-sdk/client-sso-oidc",description:"AWS SDK for JavaScript Sso Oidc Client for Node.js, Browser and React Native",version:"3.556.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso-oidc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso-oidc"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.556.0","@aws-sdk/core":"3.556.0","@aws-sdk/middleware-host-header":"3.535.0","@aws-sdk/middleware-logger":"3.535.0","@aws-sdk/middleware-recursion-detection":"3.535.0","@aws-sdk/middleware-user-agent":"3.540.0","@aws-sdk/region-config-resolver":"3.535.0","@aws-sdk/types":"3.535.0","@aws-sdk/util-endpoints":"3.540.0","@aws-sdk/util-user-agent-browser":"3.535.0","@aws-sdk/util-user-agent-node":"3.535.0","@smithy/config-resolver":"^2.2.0","@smithy/core":"^1.4.2","@smithy/fetch-http-handler":"^2.5.0","@smithy/hash-node":"^2.2.0","@smithy/invalid-dependency":"^2.2.0","@smithy/middleware-content-length":"^2.2.0","@smithy/middleware-endpoint":"^2.5.1","@smithy/middleware-retry":"^2.3.1","@smithy/middleware-serde":"^2.3.0","@smithy/middleware-stack":"^2.2.0","@smithy/node-config-provider":"^2.3.0","@smithy/node-http-handler":"^2.5.0","@smithy/protocol-http":"^3.3.0","@smithy/smithy-client":"^2.5.1","@smithy/types":"^2.12.0","@smithy/url-parser":"^2.2.0","@smithy/util-base64":"^2.3.0","@smithy/util-body-length-browser":"^2.2.0","@smithy/util-body-length-node":"^2.3.0","@smithy/util-defaults-mode-browser":"^2.2.1","@smithy/util-defaults-mode-node":"^2.3.1","@smithy/util-endpoints":"^1.2.0","@smithy/util-middleware":"^2.2.0","@smithy/util-retry":"^2.2.0","@smithy/util-utf8":"^2.3.0",tslib:"^2.6.2"},devDependencies:{"@smithy/service-client-documentation-generator":"^2.2.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",peerDependencies:{"@aws-sdk/credential-provider-node":"^3.556.0"},browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso-oidc",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso-oidc"}}});var _L=g(dn=>{"use strict";var rge=dn&&dn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),nge=dn&&dn.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ige=dn&&dn.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&rge(t,e,r);return nge(t,e),t};Object.defineProperty(dn,"__esModule",{value:!0});dn.defaultProvider=void 0;dn.defaultProvider=e=>()=>Promise.resolve().then(()=>ige(ff())).then(({defaultProvider:t})=>t(e)())});var NL=g(hf=>{"use strict";Object.defineProperty(hf,"__esModule",{value:!0});hf.ruleSet=void 0;var AL="required",dr="fn",ur="argv",Bo="ref",yL=!0,EL="isSet",nd="booleanEquals",Vo="error",Ho="endpoint",Vn="tree",UE="PartitionResult",zE="getAttr",SL={[AL]:!1,type:"String"},xL={[AL]:!0,default:!1,type:"Boolean"},bL={[Bo]:"Endpoint"},IL={[dr]:nd,[ur]:[{[Bo]:"UseFIPS"},!0]},OL={[dr]:nd,[ur]:[{[Bo]:"UseDualStack"},!0]},lr={},CL={[dr]:zE,[ur]:[{[Bo]:UE},"supportsFIPS"]},DL={[Bo]:UE},wL={[dr]:nd,[ur]:[!0,{[dr]:zE,[ur]:[DL,"supportsDualStack"]}]},RL=[IL],PL=[OL],TL=[{[Bo]:"Region"}],sge={version:"1.0",parameters:{Region:SL,UseDualStack:xL,UseFIPS:xL,Endpoint:SL},rules:[{conditions:[{[dr]:EL,[ur]:[bL]}],rules:[{conditions:RL,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Vo},{conditions:PL,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Vo},{endpoint:{url:bL,properties:lr,headers:lr},type:Ho}],type:Vn},{conditions:[{[dr]:EL,[ur]:TL}],rules:[{conditions:[{[dr]:"aws.partition",[ur]:TL,assign:UE}],rules:[{conditions:[IL,OL],rules:[{conditions:[{[dr]:nd,[ur]:[yL,CL]},wL],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:lr,headers:lr},type:Ho}],type:Vn},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Vo}],type:Vn},{conditions:RL,rules:[{conditions:[{[dr]:nd,[ur]:[CL,yL]}],rules:[{conditions:[{[dr]:"stringEquals",[ur]:[{[dr]:zE,[ur]:[DL,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:lr,headers:lr},type:Ho},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:lr,headers:lr},type:Ho}],type:Vn},{error:"FIPS is enabled but this partition does not support FIPS",type:Vo}],type:Vn},{conditions:PL,rules:[{conditions:[wL],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:lr,headers:lr},type:Ho}],type:Vn},{error:"DualStack is enabled but this partition does not support DualStack",type:Vo}],type:Vn},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:lr,headers:lr},type:Ho}],type:Vn}],type:Vn},{error:"Invalid Configuration: Missing Region",type:Vo}]};hf.ruleSet=sge});var kL=g(gf=>{"use strict";Object.defineProperty(gf,"__esModule",{value:!0});gf.defaultEndpointResolver=void 0;var oge=bo(),$L=So(),age=NL(),cge=(e,t={})=>(0,$L.resolveEndpoint)(age.ruleSet,{endpointParams:e,logger:t.logger});gf.defaultEndpointResolver=cge;$L.customEndpointFunctions.aws=oge.awsEndpointFunctions});var qL=g(vf=>{"use strict";Object.defineProperty(vf,"__esModule",{value:!0});vf.getRuntimeConfig=void 0;var lge=ft(),dge=cn(),uge=Je(),pge=Ss(),ML=Po(),jL=sr(),mge=FE(),fge=kL(),hge=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??ML.fromBase64,base64Encoder:e?.base64Encoder??ML.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??fge.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??mge.defaultSSOOIDCHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new lge.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new dge.NoAuthSigner}],logger:e?.logger??new uge.NoOpLogger,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??pge.parseUrl,utf8Decoder:e?.utf8Decoder??jL.fromUtf8,utf8Encoder:e?.utf8Encoder??jL.toUtf8});vf.getRuntimeConfig=hge});var UL=g(yf=>{"use strict";Object.defineProperty(yf,"__esModule",{value:!0});yf.getRuntimeConfig=void 0;var gge=(ko(),ni($o)),vge=gge.__importDefault(vL()),_ge=_L(),yge=ft(),Ege=Wl(),_f=sn(),Sge=Kl(),LL=an(),id=Ln(),FL=Rs(),xge=Xl(),bge=wo(),Cge=qL(),wge=Je(),Rge=Ql(),Pge=Je(),Tge=e=>{(0,Pge.emitWarningIfUnsupportedVersion)(process.version);let t=(0,Rge.resolveDefaultsModeConfig)(e),r=()=>t().then(wge.loadConfigsForDefaultMode),n=(0,Cge.getRuntimeConfig)(e);return(0,yge.emitWarningIfUnsupportedVersion)(process.version),{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??xge.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??_ge.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Ege.defaultUserAgent)({serviceId:n.serviceId,clientVersion:vge.default.version}),maxAttempts:e?.maxAttempts??(0,id.loadConfig)(LL.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:e?.region??(0,id.loadConfig)(_f.NODE_REGION_CONFIG_OPTIONS,_f.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:FL.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,id.loadConfig)({...LL.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||bge.DEFAULT_RETRY_MODE}),sha256:e?.sha256??Sge.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??FL.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,id.loadConfig)(_f.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,id.loadConfig)(_f.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};yf.getRuntimeConfig=Tge});var tU=g((QMe,eU)=>{"use strict";var Sf=Object.defineProperty,Age=Object.getOwnPropertyDescriptor,Ige=Object.getOwnPropertyNames,Oge=Object.prototype.hasOwnProperty,re=(e,t)=>Sf(e,"name",{value:t,configurable:!0}),Dge=(e,t)=>{for(var r in t)Sf(e,r,{get:t[r],enumerable:!0})},Nge=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Ige(t))!Oge.call(e,i)&&i!==r&&Sf(e,i,{get:()=>t[i],enumerable:!(n=Age(t,i))||n.enumerable});return e},$ge=e=>Nge(Sf({},"__esModule",{value:!0}),e),KL={};Dge(KL,{AccessDeniedException:()=>tF,AuthorizationPendingException:()=>iF,CreateTokenCommand:()=>BF,CreateTokenRequestFilterSensitiveLog:()=>qF,CreateTokenResponseFilterSensitiveLog:()=>LF,CreateTokenWithIAMCommand:()=>WF,CreateTokenWithIAMRequestFilterSensitiveLog:()=>FF,CreateTokenWithIAMResponseFilterSensitiveLog:()=>UF,ExpiredTokenException:()=>aF,InternalServerException:()=>dF,InvalidClientException:()=>mF,InvalidClientMetadataException:()=>jF,InvalidGrantException:()=>gF,InvalidRequestException:()=>yF,InvalidRequestRegionException:()=>$F,InvalidScopeException:()=>xF,RegisterClientCommand:()=>XF,RegisterClientResponseFilterSensitiveLog:()=>zF,SSOOIDC:()=>ZF,SSOOIDCClient:()=>JL,SSOOIDCServiceException:()=>Dt,SlowDownException:()=>wF,StartDeviceAuthorizationCommand:()=>YF,StartDeviceAuthorizationRequestFilterSensitiveLog:()=>VF,UnauthorizedClientException:()=>TF,UnsupportedGrantTypeException:()=>OF,__Client:()=>w.Client});eU.exports=$ge(KL);var zL=El(),kge=Sl(),Mge=xl(),VL=Cl(),jge=sn(),As=cn(),qge=Ul(),sd=bs(),HL=an(),BL=FE(),Lge=re(e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),"resolveClientEndpointParameters"),xf={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},Fge=UL(),GL=ed(),WL=Ot(),w=Je(),Uge=re(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(i){let s=t.findIndex(o=>o.schemeId===i.schemeId);s===-1?t.push(i):t.splice(s,1,i)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(i){r=i},httpAuthSchemeProvider(){return r},setCredentials(i){n=i},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),zge=re(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),Ef=re(e=>e,"asPartial"),Vge=re((e,t)=>{let r={...Ef((0,GL.getAwsRegionExtensionConfiguration)(e)),...Ef((0,w.getDefaultExtensionConfiguration)(e)),...Ef((0,WL.getHttpHandlerExtensionConfiguration)(e)),...Ef(Uge(e))};return t.forEach(n=>n.configure(r)),{...e,...(0,GL.resolveAwsRegionExtensionConfiguration)(r),...(0,w.resolveDefaultRuntimeConfig)(r),...(0,WL.resolveHttpHandlerRuntimeConfig)(r),...zge(r)}},"resolveRuntimeExtensions"),XL=class extends w.Client{constructor(...[t]){let r=(0,Fge.getRuntimeConfig)(t||{}),n=Lge(r),i=(0,jge.resolveRegionConfig)(n),s=(0,sd.resolveEndpointConfig)(i),o=(0,HL.resolveRetryConfig)(s),a=(0,zL.resolveHostHeaderConfig)(o),c=(0,VL.resolveUserAgentConfig)(a),l=(0,BL.resolveHttpAuthSchemeConfig)(c),d=Vge(l,t?.extensions||[]);super(d),this.config=d,this.middlewareStack.use((0,HL.getRetryPlugin)(this.config)),this.middlewareStack.use((0,qge.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,zL.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,kge.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,Mge.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,VL.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,As.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:this.getDefaultHttpAuthSchemeParametersProvider(),identityProviderConfigProvider:this.getIdentityProviderConfigProvider()})),this.middlewareStack.use((0,As.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}getDefaultHttpAuthSchemeParametersProvider(){return BL.defaultSSOOIDCHttpAuthSchemeParametersProvider}getIdentityProviderConfigProvider(){return async t=>new As.DefaultIdentityProviderConfig({"aws.auth#sigv4":t.credentials})}};re(XL,"SSOOIDCClient");var JL=XL,bf=xs(),GMe=Dr(),YL=class QL extends w.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,QL.prototype)}};re(YL,"SSOOIDCServiceException");var Dt=YL,ZL=class eF extends Dt{constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,eF.prototype),this.error=t.error,this.error_description=t.error_description}};re(ZL,"AccessDeniedException");var tF=ZL,rF=class nF extends Dt{constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),this.name="AuthorizationPendingException",this.$fault="client",Object.setPrototypeOf(this,nF.prototype),this.error=t.error,this.error_description=t.error_description}};re(rF,"AuthorizationPendingException");var iF=rF,sF=class oF extends Dt{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,oF.prototype),this.error=t.error,this.error_description=t.error_description}};re(sF,"ExpiredTokenException");var aF=sF,cF=class lF extends Dt{constructor(t){super({name:"InternalServerException",$fault:"server",...t}),this.name="InternalServerException",this.$fault="server",Object.setPrototypeOf(this,lF.prototype),this.error=t.error,this.error_description=t.error_description}};re(cF,"InternalServerException");var dF=cF,uF=class pF extends Dt{constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),this.name="InvalidClientException",this.$fault="client",Object.setPrototypeOf(this,pF.prototype),this.error=t.error,this.error_description=t.error_description}};re(uF,"InvalidClientException");var mF=uF,fF=class hF extends Dt{constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),this.name="InvalidGrantException",this.$fault="client",Object.setPrototypeOf(this,hF.prototype),this.error=t.error,this.error_description=t.error_description}};re(fF,"InvalidGrantException");var gF=fF,vF=class _F extends Dt{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,_F.prototype),this.error=t.error,this.error_description=t.error_description}};re(vF,"InvalidRequestException");var yF=vF,EF=class SF extends Dt{constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),this.name="InvalidScopeException",this.$fault="client",Object.setPrototypeOf(this,SF.prototype),this.error=t.error,this.error_description=t.error_description}};re(EF,"InvalidScopeException");var xF=EF,bF=class CF extends Dt{constructor(t){super({name:"SlowDownException",$fault:"client",...t}),this.name="SlowDownException",this.$fault="client",Object.setPrototypeOf(this,CF.prototype),this.error=t.error,this.error_description=t.error_description}};re(bF,"SlowDownException");var wF=bF,RF=class PF extends Dt{constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),this.name="UnauthorizedClientException",this.$fault="client",Object.setPrototypeOf(this,PF.prototype),this.error=t.error,this.error_description=t.error_description}};re(RF,"UnauthorizedClientException");var TF=RF,AF=class IF extends Dt{constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),this.name="UnsupportedGrantTypeException",this.$fault="client",Object.setPrototypeOf(this,IF.prototype),this.error=t.error,this.error_description=t.error_description}};re(AF,"UnsupportedGrantTypeException");var OF=AF,DF=class NF extends Dt{constructor(t){super({name:"InvalidRequestRegionException",$fault:"client",...t}),this.name="InvalidRequestRegionException",this.$fault="client",Object.setPrototypeOf(this,NF.prototype),this.error=t.error,this.error_description=t.error_description,this.endpoint=t.endpoint,this.region=t.region}};re(DF,"InvalidRequestRegionException");var $F=DF,kF=class MF extends Dt{constructor(t){super({name:"InvalidClientMetadataException",$fault:"client",...t}),this.name="InvalidClientMetadataException",this.$fault="client",Object.setPrototypeOf(this,MF.prototype),this.error=t.error,this.error_description=t.error_description}};re(kF,"InvalidClientMetadataException");var jF=kF,qF=re(e=>({...e,...e.clientSecret&&{clientSecret:w.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:w.SENSITIVE_STRING}}),"CreateTokenRequestFilterSensitiveLog"),LF=re(e=>({...e,...e.accessToken&&{accessToken:w.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:w.SENSITIVE_STRING},...e.idToken&&{idToken:w.SENSITIVE_STRING}}),"CreateTokenResponseFilterSensitiveLog"),FF=re(e=>({...e,...e.refreshToken&&{refreshToken:w.SENSITIVE_STRING},...e.assertion&&{assertion:w.SENSITIVE_STRING},...e.subjectToken&&{subjectToken:w.SENSITIVE_STRING}}),"CreateTokenWithIAMRequestFilterSensitiveLog"),UF=re(e=>({...e,...e.accessToken&&{accessToken:w.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:w.SENSITIVE_STRING},...e.idToken&&{idToken:w.SENSITIVE_STRING}}),"CreateTokenWithIAMResponseFilterSensitiveLog"),zF=re(e=>({...e,...e.clientSecret&&{clientSecret:w.SENSITIVE_STRING}}),"RegisterClientResponseFilterSensitiveLog"),VF=re(e=>({...e,...e.clientSecret&&{clientSecret:w.SENSITIVE_STRING}}),"StartDeviceAuthorizationRequestFilterSensitiveLog"),Go=ft(),Hge=re(async(e,t)=>{let r=(0,As.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/token");let i;return i=JSON.stringify((0,w.take)(e,{clientId:[],clientSecret:[],code:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:s=>(0,w._json)(s)})),r.m("POST").h(n).b(i),r.build()},"se_CreateTokenCommand"),Bge=re(async(e,t)=>{let r=(0,As.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/token");let i=(0,w.map)({[pve]:[,"t"]}),s;return s=JSON.stringify((0,w.take)(e,{assertion:[],clientId:[],code:[],grantType:[],redirectUri:[],refreshToken:[],requestedTokenType:[],scope:o=>(0,w._json)(o),subjectToken:[],subjectTokenType:[]})),r.m("POST").h(n).q(i).b(s),r.build()},"se_CreateTokenWithIAMCommand"),Gge=re(async(e,t)=>{let r=(0,As.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/client/register");let i;return i=JSON.stringify((0,w.take)(e,{clientName:[],clientType:[],scopes:s=>(0,w._json)(s)})),r.m("POST").h(n).b(i),r.build()},"se_RegisterClientCommand"),Wge=re(async(e,t)=>{let r=(0,As.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/device_authorization");let i;return i=JSON.stringify((0,w.take)(e,{clientId:[],clientSecret:[],startUrl:[]})),r.m("POST").h(n).b(i),r.build()},"se_StartDeviceAuthorizationCommand"),Kge=re(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Cf(e,t);let r=(0,w.map)({$metadata:ht(e)}),n=(0,w.expectNonNull)((0,w.expectObject)(await(0,Go.parseJsonBody)(e.body,t)),"body"),i=(0,w.take)(n,{accessToken:w.expectString,expiresIn:w.expectInt32,idToken:w.expectString,refreshToken:w.expectString,tokenType:w.expectString});return Object.assign(r,i),r},"de_CreateTokenCommand"),Xge=re(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Cf(e,t);let r=(0,w.map)({$metadata:ht(e)}),n=(0,w.expectNonNull)((0,w.expectObject)(await(0,Go.parseJsonBody)(e.body,t)),"body"),i=(0,w.take)(n,{accessToken:w.expectString,expiresIn:w.expectInt32,idToken:w.expectString,issuedTokenType:w.expectString,refreshToken:w.expectString,scope:w._json,tokenType:w.expectString});return Object.assign(r,i),r},"de_CreateTokenWithIAMCommand"),Jge=re(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Cf(e,t);let r=(0,w.map)({$metadata:ht(e)}),n=(0,w.expectNonNull)((0,w.expectObject)(await(0,Go.parseJsonBody)(e.body,t)),"body"),i=(0,w.take)(n,{authorizationEndpoint:w.expectString,clientId:w.expectString,clientIdIssuedAt:w.expectLong,clientSecret:w.expectString,clientSecretExpiresAt:w.expectLong,tokenEndpoint:w.expectString});return Object.assign(r,i),r},"de_RegisterClientCommand"),Yge=re(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Cf(e,t);let r=(0,w.map)({$metadata:ht(e)}),n=(0,w.expectNonNull)((0,w.expectObject)(await(0,Go.parseJsonBody)(e.body,t)),"body"),i=(0,w.take)(n,{deviceCode:w.expectString,expiresIn:w.expectInt32,interval:w.expectInt32,userCode:w.expectString,verificationUri:w.expectString,verificationUriComplete:w.expectString});return Object.assign(r,i),r},"de_StartDeviceAuthorizationCommand"),Cf=re(async(e,t)=>{let r={...e,body:await(0,Go.parseJsonErrorBody)(e.body,t)},n=(0,Go.loadRestJsonErrorCode)(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await Zge(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await eve(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await tve(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await rve(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await nve(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await sve(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await ove(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await cve(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await lve(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await dve(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await uve(r,t);case"InvalidRequestRegionException":case"com.amazonaws.ssooidc#InvalidRequestRegionException":throw await ave(r,t);case"InvalidClientMetadataException":case"com.amazonaws.ssooidc#InvalidClientMetadataException":throw await ive(r,t);default:let i=r.body;return Qge({output:e,parsedBody:i,errorCode:n})}},"de_CommandError"),Qge=(0,w.withBaseException)(Dt),Zge=re(async(e,t)=>{let r=(0,w.map)({}),n=e.body,i=(0,w.take)(n,{error:w.expectString,error_description:w.expectString});Object.assign(r,i);let s=new tF({$metadata:ht(e),...r});return(0,w.decorateServiceException)(s,e.body)},"de_AccessDeniedExceptionRes"),eve=re(async(e,t)=>{let r=(0,w.map)({}),n=e.body,i=(0,w.take)(n,{error:w.expectString,error_description:w.expectString});Object.assign(r,i);let s=new iF({$metadata:ht(e),...r});return(0,w.decorateServiceException)(s,e.body)},"de_AuthorizationPendingExceptionRes"),tve=re(async(e,t)=>{let r=(0,w.map)({}),n=e.body,i=(0,w.take)(n,{error:w.expectString,error_description:w.expectString});Object.assign(r,i);let s=new aF({$metadata:ht(e),...r});return(0,w.decorateServiceException)(s,e.body)},"de_ExpiredTokenExceptionRes"),rve=re(async(e,t)=>{let r=(0,w.map)({}),n=e.body,i=(0,w.take)(n,{error:w.expectString,error_description:w.expectString});Object.assign(r,i);let s=new dF({$metadata:ht(e),...r});return(0,w.decorateServiceException)(s,e.body)},"de_InternalServerExceptionRes"),nve=re(async(e,t)=>{let r=(0,w.map)({}),n=e.body,i=(0,w.take)(n,{error:w.expectString,error_description:w.expectString});Object.assign(r,i);let s=new mF({$metadata:ht(e),...r});return(0,w.decorateServiceException)(s,e.body)},"de_InvalidClientExceptionRes"),ive=re(async(e,t)=>{let r=(0,w.map)({}),n=e.body,i=(0,w.take)(n,{error:w.expectString,error_description:w.expectString});Object.assign(r,i);let s=new jF({$metadata:ht(e),...r});return(0,w.decorateServiceException)(s,e.body)},"de_InvalidClientMetadataExceptionRes"),sve=re(async(e,t)=>{let r=(0,w.map)({}),n=e.body,i=(0,w.take)(n,{error:w.expectString,error_description:w.expectString});Object.assign(r,i);let s=new gF({$metadata:ht(e),...r});return(0,w.decorateServiceException)(s,e.body)},"de_InvalidGrantExceptionRes"),ove=re(async(e,t)=>{let r=(0,w.map)({}),n=e.body,i=(0,w.take)(n,{error:w.expectString,error_description:w.expectString});Object.assign(r,i);let s=new yF({$metadata:ht(e),...r});return(0,w.decorateServiceException)(s,e.body)},"de_InvalidRequestExceptionRes"),ave=re(async(e,t)=>{let r=(0,w.map)({}),n=e.body,i=(0,w.take)(n,{endpoint:w.expectString,error:w.expectString,error_description:w.expectString,region:w.expectString});Object.assign(r,i);let s=new $F({$metadata:ht(e),...r});return(0,w.decorateServiceException)(s,e.body)},"de_InvalidRequestRegionExceptionRes"),cve=re(async(e,t)=>{let r=(0,w.map)({}),n=e.body,i=(0,w.take)(n,{error:w.expectString,error_description:w.expectString});Object.assign(r,i);let s=new xF({$metadata:ht(e),...r});return(0,w.decorateServiceException)(s,e.body)},"de_InvalidScopeExceptionRes"),lve=re(async(e,t)=>{let r=(0,w.map)({}),n=e.body,i=(0,w.take)(n,{error:w.expectString,error_description:w.expectString});Object.assign(r,i);let s=new wF({$metadata:ht(e),...r});return(0,w.decorateServiceException)(s,e.body)},"de_SlowDownExceptionRes"),dve=re(async(e,t)=>{let r=(0,w.map)({}),n=e.body,i=(0,w.take)(n,{error:w.expectString,error_description:w.expectString});Object.assign(r,i);let s=new TF({$metadata:ht(e),...r});return(0,w.decorateServiceException)(s,e.body)},"de_UnauthorizedClientExceptionRes"),uve=re(async(e,t)=>{let r=(0,w.map)({}),n=e.body,i=(0,w.take)(n,{error:w.expectString,error_description:w.expectString});Object.assign(r,i);let s=new OF({$metadata:ht(e),...r});return(0,w.decorateServiceException)(s,e.body)},"de_UnsupportedGrantTypeExceptionRes"),ht=re(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),pve="aws_iam",HF=class extends w.Command.classBuilder().ep({...xf}).m(function(t,r,n,i){return[(0,bf.getSerdePlugin)(n,this.serialize,this.deserialize),(0,sd.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(qF,LF).ser(Hge).de(Kge).build(){};re(HF,"CreateTokenCommand");var BF=HF,GF=class extends w.Command.classBuilder().ep({...xf}).m(function(t,r,n,i){return[(0,bf.getSerdePlugin)(n,this.serialize,this.deserialize),(0,sd.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateTokenWithIAM",{}).n("SSOOIDCClient","CreateTokenWithIAMCommand").f(FF,UF).ser(Bge).de(Xge).build(){};re(GF,"CreateTokenWithIAMCommand");var WF=GF,KF=class extends w.Command.classBuilder().ep({...xf}).m(function(t,r,n,i){return[(0,bf.getSerdePlugin)(n,this.serialize,this.deserialize),(0,sd.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","RegisterClient",{}).n("SSOOIDCClient","RegisterClientCommand").f(void 0,zF).ser(Gge).de(Jge).build(){};re(KF,"RegisterClientCommand");var XF=KF,JF=class extends w.Command.classBuilder().ep({...xf}).m(function(t,r,n,i){return[(0,bf.getSerdePlugin)(n,this.serialize,this.deserialize),(0,sd.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","StartDeviceAuthorization",{}).n("SSOOIDCClient","StartDeviceAuthorizationCommand").f(VF,void 0).ser(Wge).de(Yge).build(){};re(JF,"StartDeviceAuthorizationCommand");var YF=JF,mve={CreateTokenCommand:BF,CreateTokenWithIAMCommand:WF,RegisterClientCommand:XF,StartDeviceAuthorizationCommand:YF},QF=class extends JL{};re(QF,"SSOOIDC");var ZF=QF;(0,w.createAggregatedClient)(mve,ZF)});var dU=g((ZMe,lU)=>{var wf=Object.defineProperty,fve=Object.getOwnPropertyDescriptor,iU=Object.getOwnPropertyNames,hve=Object.prototype.hasOwnProperty,Ni=(e,t)=>wf(e,"name",{value:t,configurable:!0}),gve=(e,t)=>function(){return e&&(t=(0,e[iU(e)[0]])(e=0)),t},sU=(e,t)=>{for(var r in t)wf(e,r,{get:t[r],enumerable:!0})},vve=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of iU(t))!hve.call(e,i)&&i!==r&&wf(e,i,{get:()=>t[i],enumerable:!(n=fve(t,i))||n.enumerable});return e},_ve=e=>vve(wf({},"__esModule",{value:!0}),e),BE={};sU(BE,{CreateTokenCommand:()=>HE.CreateTokenCommand,SSOOIDCClient:()=>HE.SSOOIDCClient});var HE,oU=gve({"src/loadSsoOidc.ts"(){HE=tU()}}),aU={};sU(aU,{fromSso:()=>cU,fromStatic:()=>wve,nodeProvider:()=>Rve});lU.exports=_ve(aU);var yve=5*60*1e3,GE="To refresh this SSO session run 'aws sso login' with the corresponding profile.",VE={},Eve=Ni(async e=>{let{SSOOIDCClient:t}=await Promise.resolve().then(()=>(oU(),BE));if(VE[e])return VE[e];let r=new t({region:e});return VE[e]=r,r},"getSsoOidcClient"),Sve=Ni(async(e,t)=>{let{CreateTokenCommand:r}=await Promise.resolve().then(()=>(oU(),BE));return(await Eve(t)).send(new r({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},"getNewSsoOidcToken"),Mr=Ut(),rU=Ni(e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new Mr.TokenProviderError(`Token is expired. ${GE}`,!1)},"validateTokenExpiry"),Is=Ni((e,t,r=!1)=>{if(typeof t>"u")throw new Mr.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${GE}`,!1)},"validateTokenKey"),od=bi(),xve=require("fs"),{writeFile:bve}=xve.promises,Cve=Ni((e,t)=>{let r=(0,od.getSSOTokenFilepath)(e),n=JSON.stringify(t,null,2);return bve(r,n)},"writeSSOTokenToFile"),nU=new Date(0),cU=Ni((e={})=>async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/token-providers","fromSso");let r=await(0,od.parseKnownFiles)(e),n=(0,od.getProfileName)(e),i=r[n];if(i){if(!i.sso_session)throw new Mr.TokenProviderError(`Profile '${n}' is missing required property 'sso_session'.`)}else throw new Mr.TokenProviderError(`Profile '${n}' could not be found in shared credentials file.`,!1);let s=i.sso_session,a=(await(0,od.loadSsoSessionData)(e))[s];if(!a)throw new Mr.TokenProviderError(`Sso session '${s}' could not be found in shared credentials file.`,!1);for(let v of["sso_start_url","sso_region"])if(!a[v])throw new Mr.TokenProviderError(`Sso session '${s}' is missing required property '${v}'.`,!1);let c=a.sso_start_url,l=a.sso_region,d;try{d=await(0,od.getSSOTokenFromFile)(s)}catch{throw new Mr.TokenProviderError(`The SSO session token associated with profile=${n} was not found or is invalid. ${GE}`,!1)}Is("accessToken",d.accessToken),Is("expiresAt",d.expiresAt);let{accessToken:p,expiresAt:m}=d,f={token:p,expiration:new Date(m)};if(f.expiration.getTime()-Date.now()>yve)return f;if(Date.now()-nU.getTime()<30*1e3)return rU(f),f;Is("clientId",d.clientId,!0),Is("clientSecret",d.clientSecret,!0),Is("refreshToken",d.refreshToken,!0);try{nU.setTime(Date.now());let v=await Sve(d,l);Is("accessToken",v.accessToken),Is("expiresIn",v.expiresIn);let y=new Date(Date.now()+v.expiresIn*1e3);try{await Cve(s,{...d,accessToken:v.accessToken,expiresAt:y.toISOString(),refreshToken:v.refreshToken})}catch{}return{token:v.accessToken,expiration:y}}catch{return rU(f),f}},"fromSso"),wve=Ni(({token:e,logger:t})=>async()=>{if(t?.debug("@aws-sdk/token-providers","fromStatic"),!e||!e.token)throw new Mr.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},"fromStatic"),Rve=Ni((e={})=>(0,Mr.memoize)((0,Mr.chain)(cU(e),async()=>{throw new Mr.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0),"nodeProvider")});var KE=g((e1e,_U)=>{var Pf=Object.defineProperty,Pve=Object.getOwnPropertyDescriptor,pU=Object.getOwnPropertyNames,Tve=Object.prototype.hasOwnProperty,Tf=(e,t)=>Pf(e,"name",{value:t,configurable:!0}),Ave=(e,t)=>function(){return e&&(t=(0,e[pU(e)[0]])(e=0)),t},mU=(e,t)=>{for(var r in t)Pf(e,r,{get:t[r],enumerable:!0})},Ive=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of pU(t))!Tve.call(e,i)&&i!==r&&Pf(e,i,{get:()=>t[i],enumerable:!(n=Pve(t,i))||n.enumerable});return e},Ove=e=>Ive(Pf({},"__esModule",{value:!0}),e),fU={};mU(fU,{GetRoleCredentialsCommand:()=>WE.GetRoleCredentialsCommand,SSOClient:()=>WE.SSOClient});var WE,Dve=Ave({"src/loadSso.ts"(){WE=hL()}}),hU={};mU(hU,{fromSSO:()=>$ve,isSsoProfile:()=>gU,validateSsoProfile:()=>vU});_U.exports=Ove(hU);var gU=Tf(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),Nve=dU(),jr=Ut(),Rf=bi(),ad=!1,uU=Tf(async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:i,ssoClient:s,clientConfig:o,profile:a})=>{let c,l="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let K=await(0,Nve.fromSso)({profile:a})();c={accessToken:K.token,expiresAt:new Date(K.expiration).toISOString()}}catch(K){throw new jr.CredentialsProviderError(K.message,ad)}else try{c=await(0,Rf.getSSOTokenFromFile)(e)}catch{throw new jr.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${l}`,ad)}if(new Date(c.expiresAt).getTime()-Date.now()<=0)throw new jr.CredentialsProviderError(`The SSO session associated with this profile has expired. ${l}`,ad);let{accessToken:d}=c,{SSOClient:p,GetRoleCredentialsCommand:m}=await Promise.resolve().then(()=>(Dve(),fU)),f=s||new p(Object.assign({},o??{},{region:o?.region??n})),v;try{v=await f.send(new m({accountId:r,roleName:i,accessToken:d}))}catch(K){throw jr.CredentialsProviderError.from(K,ad)}let{roleCredentials:{accessKeyId:y,secretAccessKey:x,sessionToken:C,expiration:I,credentialScope:W}={}}=v;if(!y||!x||!C||!I)throw new jr.CredentialsProviderError("SSO returns an invalid temporary credential.",ad);return{accessKeyId:y,secretAccessKey:x,sessionToken:C,expiration:new Date(I),credentialScope:W}},"resolveSSOCredentials"),vU=Tf(e=>{let{sso_start_url:t,sso_account_id:r,sso_region:n,sso_role_name:i}=e;if(!t||!r||!n||!i)throw new jr.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,!1);return e},"validateSsoProfile"),$ve=Tf((e={})=>async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-sso","fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:i,ssoRoleName:s,ssoSession:o}=e,{ssoClient:a}=e,c=(0,Rf.getProfileName)(e);if(!r&&!n&&!i&&!s&&!o){let d=(await(0,Rf.parseKnownFiles)(e))[c];if(!d)throw new jr.CredentialsProviderError(`Profile ${c} was not found.`);if(!gU(d))throw new jr.CredentialsProviderError(`Profile ${c} is not configured with SSO credentials.`);if(d?.sso_session){let C=(await(0,Rf.loadSsoSessionData)(e))[d.sso_session],I=` configurations in profile ${c} and sso-session ${d.sso_session}`;if(i&&i!==C.sso_region)throw new jr.CredentialsProviderError("Conflicting SSO region"+I,!1);if(r&&r!==C.sso_start_url)throw new jr.CredentialsProviderError("Conflicting SSO start_url"+I,!1);d.sso_region=C.sso_region,d.sso_start_url=C.sso_start_url}let{sso_start_url:p,sso_account_id:m,sso_region:f,sso_role_name:v,sso_session:y}=vU(d);return uU({ssoStartUrl:p,ssoSession:y,ssoAccountId:m,ssoRegion:f,ssoRoleName:v,ssoClient:a,clientConfig:e.clientConfig,profile:c})}else{if(!r||!n||!i||!s)throw new jr.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"');return uU({ssoStartUrl:r,ssoSession:o,ssoAccountId:n,ssoRegion:i,ssoRoleName:s,ssoClient:a,clientConfig:e.clientConfig,profile:c})}},"fromSSO")});var XE=g(qr=>{"use strict";Object.defineProperty(qr,"__esModule",{value:!0});qr.resolveHttpAuthSchemeConfig=qr.resolveStsAuthConfig=qr.defaultSTSHttpAuthSchemeProvider=qr.defaultSTSHttpAuthSchemeParametersProvider=void 0;var kve=ft(),yU=nn(),Mve=cd(),jve=async(e,t,r)=>({operation:(0,yU.getSmithyContext)(t).operation,region:await(0,yU.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});qr.defaultSTSHttpAuthSchemeParametersProvider=jve;function qve(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function EU(e){return{schemeId:"smithy.api#noAuth"}}var Lve=e=>{let t=[];switch(e.operation){case"AssumeRoleWithSAML":{t.push(EU(e));break}case"AssumeRoleWithWebIdentity":{t.push(EU(e));break}default:t.push(qve(e))}return t};qr.defaultSTSHttpAuthSchemeProvider=Lve;var Fve=e=>({...e,stsClientCtor:Mve.STSClient});qr.resolveStsAuthConfig=Fve;var Uve=e=>{let t=(0,qr.resolveStsAuthConfig)(e);return{...(0,kve.resolveAwsSdkSigV4Config)(t)}};qr.resolveHttpAuthSchemeConfig=Uve});var Lr=g(Wo=>{"use strict";Object.defineProperty(Wo,"__esModule",{value:!0});Wo.commonParams=Wo.resolveClientEndpointParameters=void 0;var zve=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"});Wo.resolveClientEndpointParameters=zve;Wo.commonParams={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var SU=g((n1e,Vve)=>{Vve.exports={name:"@aws-sdk/client-sts",description:"AWS SDK for JavaScript Sts Client for Node.js, Browser and React Native",version:"3.556.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sts","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"rimraf ./dist-types tsconfig.types.tsbuildinfo && tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sts",test:"yarn test:unit","test:unit":"jest"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/core":"3.556.0","@aws-sdk/middleware-host-header":"3.535.0","@aws-sdk/middleware-logger":"3.535.0","@aws-sdk/middleware-recursion-detection":"3.535.0","@aws-sdk/middleware-user-agent":"3.540.0","@aws-sdk/region-config-resolver":"3.535.0","@aws-sdk/types":"3.535.0","@aws-sdk/util-endpoints":"3.540.0","@aws-sdk/util-user-agent-browser":"3.535.0","@aws-sdk/util-user-agent-node":"3.535.0","@smithy/config-resolver":"^2.2.0","@smithy/core":"^1.4.2","@smithy/fetch-http-handler":"^2.5.0","@smithy/hash-node":"^2.2.0","@smithy/invalid-dependency":"^2.2.0","@smithy/middleware-content-length":"^2.2.0","@smithy/middleware-endpoint":"^2.5.1","@smithy/middleware-retry":"^2.3.1","@smithy/middleware-serde":"^2.3.0","@smithy/middleware-stack":"^2.2.0","@smithy/node-config-provider":"^2.3.0","@smithy/node-http-handler":"^2.5.0","@smithy/protocol-http":"^3.3.0","@smithy/smithy-client":"^2.5.1","@smithy/types":"^2.12.0","@smithy/url-parser":"^2.2.0","@smithy/util-base64":"^2.3.0","@smithy/util-body-length-browser":"^2.2.0","@smithy/util-body-length-node":"^2.3.0","@smithy/util-defaults-mode-browser":"^2.2.1","@smithy/util-defaults-mode-node":"^2.3.1","@smithy/util-endpoints":"^1.2.0","@smithy/util-middleware":"^2.2.0","@smithy/util-retry":"^2.2.0","@smithy/util-utf8":"^2.3.0",tslib:"^2.6.2"},devDependencies:{"@smithy/service-client-documentation-generator":"^2.2.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",peerDependencies:{"@aws-sdk/credential-provider-node":"^3.556.0"},browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sts",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sts"}}});var xU=g(un=>{"use strict";var Hve=un&&un.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Bve=un&&un.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Gve=un&&un.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Hve(t,e,r);return Bve(t,e),t};Object.defineProperty(un,"__esModule",{value:!0});un.defaultProvider=void 0;un.defaultProvider=e=>()=>Promise.resolve().then(()=>Gve(ff())).then(({defaultProvider:t})=>t(e)())});var HU=g(Af=>{"use strict";Object.defineProperty(Af,"__esModule",{value:!0});Af.ruleSet=void 0;var $U="required",de="type",Pe="fn",Te="argv",ki="ref",bU=!1,JE=!0,$i="booleanEquals",gt="stringEquals",kU="sigv4",MU="sts",jU="us-east-1",Be="endpoint",CU="https://sts.{Region}.{PartitionResult#dnsSuffix}",pn="tree",Ko="error",QE="getAttr",wU={[$U]:!1,[de]:"String"},YE={[$U]:!0,default:!1,[de]:"Boolean"},qU={[ki]:"Endpoint"},RU={[Pe]:"isSet",[Te]:[{[ki]:"Region"}]},vt={[ki]:"Region"},PU={[Pe]:"aws.partition",[Te]:[vt],assign:"PartitionResult"},LU={[ki]:"UseFIPS"},FU={[ki]:"UseDualStack"},bt={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:kU,signingName:MU,signingRegion:jU}]},headers:{}},Gt={},TU={conditions:[{[Pe]:gt,[Te]:[vt,"aws-global"]}],[Be]:bt,[de]:Be},UU={[Pe]:$i,[Te]:[LU,!0]},zU={[Pe]:$i,[Te]:[FU,!0]},AU={[Pe]:QE,[Te]:[{[ki]:"PartitionResult"},"supportsFIPS"]},VU={[ki]:"PartitionResult"},IU={[Pe]:$i,[Te]:[!0,{[Pe]:QE,[Te]:[VU,"supportsDualStack"]}]},OU=[{[Pe]:"isSet",[Te]:[qU]}],DU=[UU],NU=[zU],Wve={version:"1.0",parameters:{Region:wU,UseDualStack:YE,UseFIPS:YE,Endpoint:wU,UseGlobalEndpoint:YE},rules:[{conditions:[{[Pe]:$i,[Te]:[{[ki]:"UseGlobalEndpoint"},JE]},{[Pe]:"not",[Te]:OU},RU,PU,{[Pe]:$i,[Te]:[LU,bU]},{[Pe]:$i,[Te]:[FU,bU]}],rules:[{conditions:[{[Pe]:gt,[Te]:[vt,"ap-northeast-1"]}],endpoint:bt,[de]:Be},{conditions:[{[Pe]:gt,[Te]:[vt,"ap-south-1"]}],endpoint:bt,[de]:Be},{conditions:[{[Pe]:gt,[Te]:[vt,"ap-southeast-1"]}],endpoint:bt,[de]:Be},{conditions:[{[Pe]:gt,[Te]:[vt,"ap-southeast-2"]}],endpoint:bt,[de]:Be},TU,{conditions:[{[Pe]:gt,[Te]:[vt,"ca-central-1"]}],endpoint:bt,[de]:Be},{conditions:[{[Pe]:gt,[Te]:[vt,"eu-central-1"]}],endpoint:bt,[de]:Be},{conditions:[{[Pe]:gt,[Te]:[vt,"eu-north-1"]}],endpoint:bt,[de]:Be},{conditions:[{[Pe]:gt,[Te]:[vt,"eu-west-1"]}],endpoint:bt,[de]:Be},{conditions:[{[Pe]:gt,[Te]:[vt,"eu-west-2"]}],endpoint:bt,[de]:Be},{conditions:[{[Pe]:gt,[Te]:[vt,"eu-west-3"]}],endpoint:bt,[de]:Be},{conditions:[{[Pe]:gt,[Te]:[vt,"sa-east-1"]}],endpoint:bt,[de]:Be},{conditions:[{[Pe]:gt,[Te]:[vt,jU]}],endpoint:bt,[de]:Be},{conditions:[{[Pe]:gt,[Te]:[vt,"us-east-2"]}],endpoint:bt,[de]:Be},{conditions:[{[Pe]:gt,[Te]:[vt,"us-west-1"]}],endpoint:bt,[de]:Be},{conditions:[{[Pe]:gt,[Te]:[vt,"us-west-2"]}],endpoint:bt,[de]:Be},{endpoint:{url:CU,properties:{authSchemes:[{name:kU,signingName:MU,signingRegion:"{Region}"}]},headers:Gt},[de]:Be}],[de]:pn},{conditions:OU,rules:[{conditions:DU,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[de]:Ko},{conditions:NU,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[de]:Ko},{endpoint:{url:qU,properties:Gt,headers:Gt},[de]:Be}],[de]:pn},{conditions:[RU],rules:[{conditions:[PU],rules:[{conditions:[UU,zU],rules:[{conditions:[{[Pe]:$i,[Te]:[JE,AU]},IU],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Gt,headers:Gt},[de]:Be}],[de]:pn},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[de]:Ko}],[de]:pn},{conditions:DU,rules:[{conditions:[{[Pe]:$i,[Te]:[AU,JE]}],rules:[{conditions:[{[Pe]:gt,[Te]:[{[Pe]:QE,[Te]:[VU,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:Gt,headers:Gt},[de]:Be},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Gt,headers:Gt},[de]:Be}],[de]:pn},{error:"FIPS is enabled but this partition does not support FIPS",[de]:Ko}],[de]:pn},{conditions:NU,rules:[{conditions:[IU],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Gt,headers:Gt},[de]:Be}],[de]:pn},{error:"DualStack is enabled but this partition does not support DualStack",[de]:Ko}],[de]:pn},TU,{endpoint:{url:CU,properties:Gt,headers:Gt},[de]:Be}],[de]:pn}],[de]:pn},{error:"Invalid Configuration: Missing Region",[de]:Ko}]};Af.ruleSet=Wve});var GU=g(If=>{"use strict";Object.defineProperty(If,"__esModule",{value:!0});If.defaultEndpointResolver=void 0;var Kve=bo(),BU=So(),Xve=HU(),Jve=(e,t={})=>(0,BU.resolveEndpoint)(Xve.ruleSet,{endpointParams:e,logger:t.logger});If.defaultEndpointResolver=Jve;BU.customEndpointFunctions.aws=Kve.awsEndpointFunctions});var XU=g(Of=>{"use strict";Object.defineProperty(Of,"__esModule",{value:!0});Of.getRuntimeConfig=void 0;var Yve=ft(),Qve=cn(),Zve=Je(),e_e=Ss(),WU=Po(),KU=sr(),t_e=XE(),r_e=GU(),n_e=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??WU.fromBase64,base64Encoder:e?.base64Encoder??WU.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??r_e.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??t_e.defaultSTSHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Yve.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Qve.NoAuthSigner}],logger:e?.logger??new Zve.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??e_e.parseUrl,utf8Decoder:e?.utf8Decoder??KU.fromUtf8,utf8Encoder:e?.utf8Encoder??KU.toUtf8});Of.getRuntimeConfig=n_e});var e2=g(Nf=>{"use strict";Object.defineProperty(Nf,"__esModule",{value:!0});Nf.getRuntimeConfig=void 0;var i_e=(ko(),ni($o)),s_e=i_e.__importDefault(SU()),JU=xU(),YU=ft(),o_e=Wl(),Df=sn(),a_e=cn(),c_e=Kl(),QU=an(),ld=Ln(),ZU=Rs(),l_e=Xl(),d_e=wo(),u_e=XU(),p_e=Je(),m_e=Ql(),f_e=Je(),h_e=e=>{(0,f_e.emitWarningIfUnsupportedVersion)(process.version);let t=(0,m_e.resolveDefaultsModeConfig)(e),r=()=>t().then(p_e.loadConfigsForDefaultMode),n=(0,u_e.getRuntimeConfig)(e);return(0,YU.emitWarningIfUnsupportedVersion)(process.version),{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??l_e.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??JU.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,o_e.defaultUserAgent)({serviceId:n.serviceId,clientVersion:s_e.default.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:i=>i.getIdentityProvider("aws.auth#sigv4")||(async s=>await(0,JU.defaultProvider)(s?.__config||{})()),signer:new YU.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:i=>i.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new a_e.NoAuthSigner}],maxAttempts:e?.maxAttempts??(0,ld.loadConfig)(QU.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:e?.region??(0,ld.loadConfig)(Df.NODE_REGION_CONFIG_OPTIONS,Df.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:ZU.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,ld.loadConfig)({...QU.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||d_e.DEFAULT_RETRY_MODE}),sha256:e?.sha256??c_e.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??ZU.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,ld.loadConfig)(Df.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,ld.loadConfig)(Df.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};Nf.getRuntimeConfig=h_e});var t2=g(Xo=>{"use strict";Object.defineProperty(Xo,"__esModule",{value:!0});Xo.resolveHttpAuthRuntimeConfig=Xo.getHttpAuthExtensionConfiguration=void 0;var g_e=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(i){let s=t.findIndex(o=>o.schemeId===i.schemeId);s===-1?t.push(i):t.splice(s,1,i)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(i){r=i},httpAuthSchemeProvider(){return r},setCredentials(i){n=i},credentials(){return n}}};Xo.getHttpAuthExtensionConfiguration=g_e;var v_e=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()});Xo.resolveHttpAuthRuntimeConfig=v_e});var ZE=g(kf=>{"use strict";Object.defineProperty(kf,"__esModule",{value:!0});kf.resolveRuntimeExtensions=void 0;var r2=ed(),n2=Ot(),i2=Je(),s2=t2(),$f=e=>e,__e=(e,t)=>{let r={...$f((0,r2.getAwsRegionExtensionConfiguration)(e)),...$f((0,i2.getDefaultExtensionConfiguration)(e)),...$f((0,n2.getHttpHandlerExtensionConfiguration)(e)),...$f((0,s2.getHttpAuthExtensionConfiguration)(e))};return t.forEach(n=>n.configure(r)),{...e,...(0,r2.resolveAwsRegionExtensionConfiguration)(r),...(0,i2.resolveDefaultRuntimeConfig)(r),...(0,n2.resolveHttpHandlerRuntimeConfig)(r),...(0,s2.resolveHttpAuthRuntimeConfig)(r)}};kf.resolveRuntimeExtensions=__e});var cd=g(Jo=>{"use strict";Object.defineProperty(Jo,"__esModule",{value:!0});Jo.STSClient=Jo.__Client=void 0;var o2=El(),y_e=Sl(),E_e=xl(),a2=Cl(),S_e=sn(),eS=cn(),x_e=Ul(),b_e=bs(),c2=an(),d2=Je();Object.defineProperty(Jo,"__Client",{enumerable:!0,get:function(){return d2.Client}});var l2=XE(),C_e=Lr(),w_e=e2(),R_e=ZE(),tS=class extends d2.Client{constructor(...[t]){let r=(0,w_e.getRuntimeConfig)(t||{}),n=(0,C_e.resolveClientEndpointParameters)(r),i=(0,S_e.resolveRegionConfig)(n),s=(0,b_e.resolveEndpointConfig)(i),o=(0,c2.resolveRetryConfig)(s),a=(0,o2.resolveHostHeaderConfig)(o),c=(0,a2.resolveUserAgentConfig)(a),l=(0,l2.resolveHttpAuthSchemeConfig)(c),d=(0,R_e.resolveRuntimeExtensions)(l,t?.extensions||[]);super(d),this.config=d,this.middlewareStack.use((0,c2.getRetryPlugin)(this.config)),this.middlewareStack.use((0,x_e.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,o2.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,y_e.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,E_e.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,a2.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,eS.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:this.getDefaultHttpAuthSchemeParametersProvider(),identityProviderConfigProvider:this.getIdentityProviderConfigProvider()})),this.middlewareStack.use((0,eS.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}getDefaultHttpAuthSchemeParametersProvider(){return l2.defaultSTSHttpAuthSchemeParametersProvider}getIdentityProviderConfigProvider(){return async t=>new eS.DefaultIdentityProviderConfig({"aws.auth#sigv4":t.credentials})}};Jo.STSClient=tS});var MS=g((x1e,kS)=>{"use strict";var Mf=Object.defineProperty,P_e=Object.getOwnPropertyDescriptor,T_e=Object.getOwnPropertyNames,A_e=Object.prototype.hasOwnProperty,A=(e,t)=>Mf(e,"name",{value:t,configurable:!0}),I_e=(e,t)=>{for(var r in t)Mf(e,r,{get:t[r],enumerable:!0})},IS=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of T_e(t))!A_e.call(e,i)&&i!==r&&Mf(e,i,{get:()=>t[i],enumerable:!(n=P_e(t,i))||n.enumerable});return e},O_e=(e,t,r)=>(IS(e,t,"default"),r&&IS(r,t,"default")),D_e=e=>IS(Mf({},"__esModule",{value:!0}),e),OS={};I_e(OS,{AssumeRoleCommand:()=>NS,AssumeRoleResponseFilterSensitiveLog:()=>q2,AssumeRoleWithSAMLCommand:()=>K2,AssumeRoleWithSAMLRequestFilterSensitiveLog:()=>L2,AssumeRoleWithSAMLResponseFilterSensitiveLog:()=>F2,AssumeRoleWithWebIdentityCommand:()=>$S,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>U2,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>z2,ClientInputEndpointParameters:()=>eEe.ClientInputEndpointParameters,CredentialsFilterSensitiveLog:()=>ia,DecodeAuthorizationMessageCommand:()=>Y2,ExpiredTokenException:()=>g2,GetAccessKeyInfoCommand:()=>Z2,GetCallerIdentityCommand:()=>tz,GetFederationTokenCommand:()=>nz,GetFederationTokenResponseFilterSensitiveLog:()=>V2,GetSessionTokenCommand:()=>sz,GetSessionTokenResponseFilterSensitiveLog:()=>H2,IDPCommunicationErrorException:()=>$2,IDPRejectedClaimException:()=>T2,InvalidAuthorizationMessageException:()=>j2,InvalidIdentityTokenException:()=>O2,MalformedPolicyDocumentException:()=>y2,PackedPolicyTooLargeException:()=>x2,RegionDisabledException:()=>w2,RuntimeExtension:()=>tEe.RuntimeExtension,STS:()=>az,STSServiceException:()=>mn,decorateDefaultCredentialProvider:()=>iEe,getDefaultRoleAssumer:()=>uz,getDefaultRoleAssumerWithWebIdentity:()=>pz});kS.exports=D_e(OS);O_e(OS,cd(),kS.exports);var Mi=bs(),ji=xs(),p1e=Dr(),N_e=Lr(),Y=Je(),p2=class m2 extends Y.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,m2.prototype)}};A(p2,"STSServiceException");var mn=p2,f2=class h2 extends mn{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,h2.prototype)}};A(f2,"ExpiredTokenException");var g2=f2,v2=class _2 extends mn{constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),this.name="MalformedPolicyDocumentException",this.$fault="client",Object.setPrototypeOf(this,_2.prototype)}};A(v2,"MalformedPolicyDocumentException");var y2=v2,E2=class S2 extends mn{constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),this.name="PackedPolicyTooLargeException",this.$fault="client",Object.setPrototypeOf(this,S2.prototype)}};A(E2,"PackedPolicyTooLargeException");var x2=E2,b2=class C2 extends mn{constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),this.name="RegionDisabledException",this.$fault="client",Object.setPrototypeOf(this,C2.prototype)}};A(b2,"RegionDisabledException");var w2=b2,R2=class P2 extends mn{constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),this.name="IDPRejectedClaimException",this.$fault="client",Object.setPrototypeOf(this,P2.prototype)}};A(R2,"IDPRejectedClaimException");var T2=R2,A2=class I2 extends mn{constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),this.name="InvalidIdentityTokenException",this.$fault="client",Object.setPrototypeOf(this,I2.prototype)}};A(A2,"InvalidIdentityTokenException");var O2=A2,D2=class N2 extends mn{constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),this.name="IDPCommunicationErrorException",this.$fault="client",Object.setPrototypeOf(this,N2.prototype)}};A(D2,"IDPCommunicationErrorException");var $2=D2,k2=class M2 extends mn{constructor(t){super({name:"InvalidAuthorizationMessageException",$fault:"client",...t}),this.name="InvalidAuthorizationMessageException",this.$fault="client",Object.setPrototypeOf(this,M2.prototype)}};A(k2,"InvalidAuthorizationMessageException");var j2=k2,ia=A(e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:Y.SENSITIVE_STRING}}),"CredentialsFilterSensitiveLog"),q2=A(e=>({...e,...e.Credentials&&{Credentials:ia(e.Credentials)}}),"AssumeRoleResponseFilterSensitiveLog"),L2=A(e=>({...e,...e.SAMLAssertion&&{SAMLAssertion:Y.SENSITIVE_STRING}}),"AssumeRoleWithSAMLRequestFilterSensitiveLog"),F2=A(e=>({...e,...e.Credentials&&{Credentials:ia(e.Credentials)}}),"AssumeRoleWithSAMLResponseFilterSensitiveLog"),U2=A(e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:Y.SENSITIVE_STRING}}),"AssumeRoleWithWebIdentityRequestFilterSensitiveLog"),z2=A(e=>({...e,...e.Credentials&&{Credentials:ia(e.Credentials)}}),"AssumeRoleWithWebIdentityResponseFilterSensitiveLog"),V2=A(e=>({...e,...e.Credentials&&{Credentials:ia(e.Credentials)}}),"GetFederationTokenResponseFilterSensitiveLog"),H2=A(e=>({...e,...e.Credentials&&{Credentials:ia(e.Credentials)}}),"GetSessionTokenResponseFilterSensitiveLog"),Wn=ft(),$_e=Ot(),k_e=A(async(e,t)=>{let r=Fi,n;return n=Hi({...sye(e,t),[zi]:Mye,[Vi]:Ui}),Li(t,r,"/",void 0,n)},"se_AssumeRoleCommand"),M_e=A(async(e,t)=>{let r=Fi,n;return n=Hi({...oye(e,t),[zi]:jye,[Vi]:Ui}),Li(t,r,"/",void 0,n)},"se_AssumeRoleWithSAMLCommand"),j_e=A(async(e,t)=>{let r=Fi,n;return n=Hi({...aye(e,t),[zi]:qye,[Vi]:Ui}),Li(t,r,"/",void 0,n)},"se_AssumeRoleWithWebIdentityCommand"),q_e=A(async(e,t)=>{let r=Fi,n;return n=Hi({...cye(e,t),[zi]:Lye,[Vi]:Ui}),Li(t,r,"/",void 0,n)},"se_DecodeAuthorizationMessageCommand"),L_e=A(async(e,t)=>{let r=Fi,n;return n=Hi({...lye(e,t),[zi]:Fye,[Vi]:Ui}),Li(t,r,"/",void 0,n)},"se_GetAccessKeyInfoCommand"),F_e=A(async(e,t)=>{let r=Fi,n;return n=Hi({...dye(e,t),[zi]:Uye,[Vi]:Ui}),Li(t,r,"/",void 0,n)},"se_GetCallerIdentityCommand"),U_e=A(async(e,t)=>{let r=Fi,n;return n=Hi({...uye(e,t),[zi]:zye,[Vi]:Ui}),Li(t,r,"/",void 0,n)},"se_GetFederationTokenCommand"),z_e=A(async(e,t)=>{let r=Fi,n;return n=Hi({...pye(e,t),[zi]:Vye,[Vi]:Ui}),Li(t,r,"/",void 0,n)},"se_GetSessionTokenCommand"),V_e=A(async(e,t)=>{if(e.statusCode>=300)return qi(e,t);let r=await(0,Wn.parseXmlBody)(e.body,t),n={};return n=_ye(r.AssumeRoleResult,t),{$metadata:Ct(e),...n}},"de_AssumeRoleCommand"),H_e=A(async(e,t)=>{if(e.statusCode>=300)return qi(e,t);let r=await(0,Wn.parseXmlBody)(e.body,t),n={};return n=yye(r.AssumeRoleWithSAMLResult,t),{$metadata:Ct(e),...n}},"de_AssumeRoleWithSAMLCommand"),B_e=A(async(e,t)=>{if(e.statusCode>=300)return qi(e,t);let r=await(0,Wn.parseXmlBody)(e.body,t),n={};return n=Eye(r.AssumeRoleWithWebIdentityResult,t),{$metadata:Ct(e),...n}},"de_AssumeRoleWithWebIdentityCommand"),G_e=A(async(e,t)=>{if(e.statusCode>=300)return qi(e,t);let r=await(0,Wn.parseXmlBody)(e.body,t),n={};return n=Sye(r.DecodeAuthorizationMessageResult,t),{$metadata:Ct(e),...n}},"de_DecodeAuthorizationMessageCommand"),W_e=A(async(e,t)=>{if(e.statusCode>=300)return qi(e,t);let r=await(0,Wn.parseXmlBody)(e.body,t),n={};return n=Cye(r.GetAccessKeyInfoResult,t),{$metadata:Ct(e),...n}},"de_GetAccessKeyInfoCommand"),K_e=A(async(e,t)=>{if(e.statusCode>=300)return qi(e,t);let r=await(0,Wn.parseXmlBody)(e.body,t),n={};return n=wye(r.GetCallerIdentityResult,t),{$metadata:Ct(e),...n}},"de_GetCallerIdentityCommand"),X_e=A(async(e,t)=>{if(e.statusCode>=300)return qi(e,t);let r=await(0,Wn.parseXmlBody)(e.body,t),n={};return n=Rye(r.GetFederationTokenResult,t),{$metadata:Ct(e),...n}},"de_GetFederationTokenCommand"),J_e=A(async(e,t)=>{if(e.statusCode>=300)return qi(e,t);let r=await(0,Wn.parseXmlBody)(e.body,t),n={};return n=Pye(r.GetSessionTokenResult,t),{$metadata:Ct(e),...n}},"de_GetSessionTokenCommand"),qi=A(async(e,t)=>{let r={...e,body:await(0,Wn.parseXmlErrorBody)(e.body,t)},n=Hye(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await Y_e(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await rye(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await nye(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await iye(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await Z_e(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await tye(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await Q_e(r,t);case"InvalidAuthorizationMessageException":case"com.amazonaws.sts#InvalidAuthorizationMessageException":throw await eye(r,t);default:let i=r.body;return kye({output:e,parsedBody:i.Error,errorCode:n})}},"de_CommandError"),Y_e=A(async(e,t)=>{let r=e.body,n=xye(r.Error,t),i=new g2({$metadata:Ct(e),...n});return(0,Y.decorateServiceException)(i,r)},"de_ExpiredTokenExceptionRes"),Q_e=A(async(e,t)=>{let r=e.body,n=Tye(r.Error,t),i=new $2({$metadata:Ct(e),...n});return(0,Y.decorateServiceException)(i,r)},"de_IDPCommunicationErrorExceptionRes"),Z_e=A(async(e,t)=>{let r=e.body,n=Aye(r.Error,t),i=new T2({$metadata:Ct(e),...n});return(0,Y.decorateServiceException)(i,r)},"de_IDPRejectedClaimExceptionRes"),eye=A(async(e,t)=>{let r=e.body,n=Iye(r.Error,t),i=new j2({$metadata:Ct(e),...n});return(0,Y.decorateServiceException)(i,r)},"de_InvalidAuthorizationMessageExceptionRes"),tye=A(async(e,t)=>{let r=e.body,n=Oye(r.Error,t),i=new O2({$metadata:Ct(e),...n});return(0,Y.decorateServiceException)(i,r)},"de_InvalidIdentityTokenExceptionRes"),rye=A(async(e,t)=>{let r=e.body,n=Dye(r.Error,t),i=new y2({$metadata:Ct(e),...n});return(0,Y.decorateServiceException)(i,r)},"de_MalformedPolicyDocumentExceptionRes"),nye=A(async(e,t)=>{let r=e.body,n=Nye(r.Error,t),i=new x2({$metadata:Ct(e),...n});return(0,Y.decorateServiceException)(i,r)},"de_PackedPolicyTooLargeExceptionRes"),iye=A(async(e,t)=>{let r=e.body,n=$ye(r.Error,t),i=new w2({$metadata:Ct(e),...n});return(0,Y.decorateServiceException)(i,r)},"de_RegionDisabledExceptionRes"),sye=A((e,t)=>{var r,n,i,s;let o={};if(e[Gn]!=null&&(o[Gn]=e[Gn]),e[ea]!=null&&(o[ea]=e[ea]),e[mr]!=null){let a=jf(e[mr],t);((r=e[mr])==null?void 0:r.length)===0&&(o.PolicyArns=[]),Object.entries(a).forEach(([c,l])=>{let d=`PolicyArns.${c}`;o[d]=l})}if(e[pr]!=null&&(o[pr]=e[pr]),e[$t]!=null&&(o[$t]=e[$t]),e[ra]!=null){let a=B2(e[ra],t);((n=e[ra])==null?void 0:n.length)===0&&(o.Tags=[]),Object.entries(a).forEach(([c,l])=>{let d=`Tags.${c}`;o[d]=l})}if(e[wS]!=null){let a=vye(e[wS],t);((i=e[wS])==null?void 0:i.length)===0&&(o.TransitiveTagKeys=[]),Object.entries(a).forEach(([c,l])=>{let d=`TransitiveTagKeys.${c}`;o[d]=l})}if(e[oS]!=null&&(o[oS]=e[oS]),e[ta]!=null&&(o[ta]=e[ta]),e[na]!=null&&(o[na]=e[na]),e[hr]!=null&&(o[hr]=e[hr]),e[gS]!=null){let a=hye(e[gS],t);((s=e[gS])==null?void 0:s.length)===0&&(o.ProvidedContexts=[]),Object.entries(a).forEach(([c,l])=>{let d=`ProvidedContexts.${c}`;o[d]=l})}return o},"se_AssumeRoleRequest"),oye=A((e,t)=>{var r;let n={};if(e[Gn]!=null&&(n[Gn]=e[Gn]),e[fS]!=null&&(n[fS]=e[fS]),e[SS]!=null&&(n[SS]=e[SS]),e[mr]!=null){let i=jf(e[mr],t);((r=e[mr])==null?void 0:r.length)===0&&(n.PolicyArns=[]),Object.entries(i).forEach(([s,o])=>{let a=`PolicyArns.${s}`;n[a]=o})}return e[pr]!=null&&(n[pr]=e[pr]),e[$t]!=null&&(n[$t]=e[$t]),n},"se_AssumeRoleWithSAMLRequest"),aye=A((e,t)=>{var r;let n={};if(e[Gn]!=null&&(n[Gn]=e[Gn]),e[ea]!=null&&(n[ea]=e[ea]),e[TS]!=null&&(n[TS]=e[TS]),e[vS]!=null&&(n[vS]=e[vS]),e[mr]!=null){let i=jf(e[mr],t);((r=e[mr])==null?void 0:r.length)===0&&(n.PolicyArns=[]),Object.entries(i).forEach(([s,o])=>{let a=`PolicyArns.${s}`;n[a]=o})}return e[pr]!=null&&(n[pr]=e[pr]),e[$t]!=null&&(n[$t]=e[$t]),n},"se_AssumeRoleWithWebIdentityRequest"),cye=A((e,t)=>{let r={};return e[aS]!=null&&(r[aS]=e[aS]),r},"se_DecodeAuthorizationMessageRequest"),lye=A((e,t)=>{let r={};return e[Yo]!=null&&(r[Yo]=e[Yo]),r},"se_GetAccessKeyInfoRequest"),dye=A((e,t)=>({}),"se_GetCallerIdentityRequest"),uye=A((e,t)=>{var r,n;let i={};if(e[pS]!=null&&(i[pS]=e[pS]),e[pr]!=null&&(i[pr]=e[pr]),e[mr]!=null){let s=jf(e[mr],t);((r=e[mr])==null?void 0:r.length)===0&&(i.PolicyArns=[]),Object.entries(s).forEach(([o,a])=>{let c=`PolicyArns.${o}`;i[c]=a})}if(e[$t]!=null&&(i[$t]=e[$t]),e[ra]!=null){let s=B2(e[ra],t);((n=e[ra])==null?void 0:n.length)===0&&(i.Tags=[]),Object.entries(s).forEach(([o,a])=>{let c=`Tags.${o}`;i[c]=a})}return i},"se_GetFederationTokenRequest"),pye=A((e,t)=>{let r={};return e[$t]!=null&&(r[$t]=e[$t]),e[ta]!=null&&(r[ta]=e[ta]),e[na]!=null&&(r[na]=e[na]),r},"se_GetSessionTokenRequest"),jf=A((e,t)=>{let r={},n=1;for(let i of e){if(i===null)continue;let s=mye(i,t);Object.entries(s).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},"se_policyDescriptorListType"),mye=A((e,t)=>{let r={};return e[AS]!=null&&(r[AS]=e[AS]),r},"se_PolicyDescriptorType"),fye=A((e,t)=>{let r={};return e[hS]!=null&&(r[hS]=e[hS]),e[nS]!=null&&(r[nS]=e[nS]),r},"se_ProvidedContext"),hye=A((e,t)=>{let r={},n=1;for(let i of e){if(i===null)continue;let s=fye(i,t);Object.entries(s).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},"se_ProvidedContextsListType"),gye=A((e,t)=>{let r={};return e[uS]!=null&&(r[uS]=e[uS]),e[PS]!=null&&(r[PS]=e[PS]),r},"se_Tag"),vye=A((e,t)=>{let r={},n=1;for(let i of e)i!==null&&(r[`member.${n}`]=i,n++);return r},"se_tagKeyListType"),B2=A((e,t)=>{let r={},n=1;for(let i of e){if(i===null)continue;let s=gye(i,t);Object.entries(s).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},"se_tagListType"),DS=A((e,t)=>{let r={};return e[rS]!=null&&(r[rS]=(0,Y.expectString)(e[rS])),e[Bn]!=null&&(r[Bn]=(0,Y.expectString)(e[Bn])),r},"de_AssumedRoleUser"),_ye=A((e,t)=>{let r={};return e[Nt]!=null&&(r[Nt]=dd(e[Nt],t)),e[Hn]!=null&&(r[Hn]=DS(e[Hn],t)),e[fr]!=null&&(r[fr]=(0,Y.strictParseInt32)(e[fr])),e[hr]!=null&&(r[hr]=(0,Y.expectString)(e[hr])),r},"de_AssumeRoleResponse"),yye=A((e,t)=>{let r={};return e[Nt]!=null&&(r[Nt]=dd(e[Nt],t)),e[Hn]!=null&&(r[Hn]=DS(e[Hn],t)),e[fr]!=null&&(r[fr]=(0,Y.strictParseInt32)(e[fr])),e[yS]!=null&&(r[yS]=(0,Y.expectString)(e[yS])),e[bS]!=null&&(r[bS]=(0,Y.expectString)(e[bS])),e[dS]!=null&&(r[dS]=(0,Y.expectString)(e[dS])),e[Zo]!=null&&(r[Zo]=(0,Y.expectString)(e[Zo])),e[mS]!=null&&(r[mS]=(0,Y.expectString)(e[mS])),e[hr]!=null&&(r[hr]=(0,Y.expectString)(e[hr])),r},"de_AssumeRoleWithSAMLResponse"),Eye=A((e,t)=>{let r={};return e[Nt]!=null&&(r[Nt]=dd(e[Nt],t)),e[xS]!=null&&(r[xS]=(0,Y.expectString)(e[xS])),e[Hn]!=null&&(r[Hn]=DS(e[Hn],t)),e[fr]!=null&&(r[fr]=(0,Y.strictParseInt32)(e[fr])),e[_S]!=null&&(r[_S]=(0,Y.expectString)(e[_S])),e[Zo]!=null&&(r[Zo]=(0,Y.expectString)(e[Zo])),e[hr]!=null&&(r[hr]=(0,Y.expectString)(e[hr])),r},"de_AssumeRoleWithWebIdentityResponse"),dd=A((e,t)=>{let r={};return e[Yo]!=null&&(r[Yo]=(0,Y.expectString)(e[Yo])),e[ES]!=null&&(r[ES]=(0,Y.expectString)(e[ES])),e[CS]!=null&&(r[CS]=(0,Y.expectString)(e[CS])),e[sS]!=null&&(r[sS]=(0,Y.expectNonNull)((0,Y.parseRfc3339DateTimeWithOffset)(e[sS]))),r},"de_Credentials"),Sye=A((e,t)=>{let r={};return e[iS]!=null&&(r[iS]=(0,Y.expectString)(e[iS])),r},"de_DecodeAuthorizationMessageResponse"),xye=A((e,t)=>{let r={};return e[Ge]!=null&&(r[Ge]=(0,Y.expectString)(e[Ge])),r},"de_ExpiredTokenException"),bye=A((e,t)=>{let r={};return e[lS]!=null&&(r[lS]=(0,Y.expectString)(e[lS])),e[Bn]!=null&&(r[Bn]=(0,Y.expectString)(e[Bn])),r},"de_FederatedUser"),Cye=A((e,t)=>{let r={};return e[Qo]!=null&&(r[Qo]=(0,Y.expectString)(e[Qo])),r},"de_GetAccessKeyInfoResponse"),wye=A((e,t)=>{let r={};return e[RS]!=null&&(r[RS]=(0,Y.expectString)(e[RS])),e[Qo]!=null&&(r[Qo]=(0,Y.expectString)(e[Qo])),e[Bn]!=null&&(r[Bn]=(0,Y.expectString)(e[Bn])),r},"de_GetCallerIdentityResponse"),Rye=A((e,t)=>{let r={};return e[Nt]!=null&&(r[Nt]=dd(e[Nt],t)),e[cS]!=null&&(r[cS]=bye(e[cS],t)),e[fr]!=null&&(r[fr]=(0,Y.strictParseInt32)(e[fr])),r},"de_GetFederationTokenResponse"),Pye=A((e,t)=>{let r={};return e[Nt]!=null&&(r[Nt]=dd(e[Nt],t)),r},"de_GetSessionTokenResponse"),Tye=A((e,t)=>{let r={};return e[Ge]!=null&&(r[Ge]=(0,Y.expectString)(e[Ge])),r},"de_IDPCommunicationErrorException"),Aye=A((e,t)=>{let r={};return e[Ge]!=null&&(r[Ge]=(0,Y.expectString)(e[Ge])),r},"de_IDPRejectedClaimException"),Iye=A((e,t)=>{let r={};return e[Ge]!=null&&(r[Ge]=(0,Y.expectString)(e[Ge])),r},"de_InvalidAuthorizationMessageException"),Oye=A((e,t)=>{let r={};return e[Ge]!=null&&(r[Ge]=(0,Y.expectString)(e[Ge])),r},"de_InvalidIdentityTokenException"),Dye=A((e,t)=>{let r={};return e[Ge]!=null&&(r[Ge]=(0,Y.expectString)(e[Ge])),r},"de_MalformedPolicyDocumentException"),Nye=A((e,t)=>{let r={};return e[Ge]!=null&&(r[Ge]=(0,Y.expectString)(e[Ge])),r},"de_PackedPolicyTooLargeException"),$ye=A((e,t)=>{let r={};return e[Ge]!=null&&(r[Ge]=(0,Y.expectString)(e[Ge])),r},"de_RegionDisabledException"),Ct=A(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),kye=(0,Y.withBaseException)(mn),Li=A(async(e,t,r,n,i)=>{let{hostname:s,protocol:o="https",port:a,path:c}=await e.endpoint(),l={protocol:o,hostname:s,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(l.hostname=n),i!==void 0&&(l.body=i),new $_e.HttpRequest(l)},"buildHttpRpcRequest"),Fi={"content-type":"application/x-www-form-urlencoded"},Ui="2011-06-15",zi="Action",Yo="AccessKeyId",Mye="AssumeRole",rS="AssumedRoleId",Hn="AssumedRoleUser",jye="AssumeRoleWithSAML",qye="AssumeRoleWithWebIdentity",Qo="Account",Bn="Arn",Zo="Audience",Nt="Credentials",nS="ContextAssertion",Lye="DecodeAuthorizationMessage",iS="DecodedMessage",$t="DurationSeconds",sS="Expiration",oS="ExternalId",aS="EncodedMessage",cS="FederatedUser",lS="FederatedUserId",Fye="GetAccessKeyInfo",Uye="GetCallerIdentity",zye="GetFederationToken",Vye="GetSessionToken",dS="Issuer",uS="Key",pS="Name",mS="NameQualifier",pr="Policy",mr="PolicyArns",fS="PrincipalArn",hS="ProviderArn",gS="ProvidedContexts",vS="ProviderId",fr="PackedPolicySize",_S="Provider",Gn="RoleArn",ea="RoleSessionName",yS="Subject",ES="SecretAccessKey",SS="SAMLAssertion",xS="SubjectFromWebIdentityToken",hr="SourceIdentity",ta="SerialNumber",bS="SubjectType",CS="SessionToken",ra="Tags",na="TokenCode",wS="TransitiveTagKeys",RS="UserId",Vi="Version",PS="Value",TS="WebIdentityToken",AS="arn",Ge="message",Hi=A(e=>Object.entries(e).map(([t,r])=>(0,Y.extendedEncodeURIComponent)(t)+"="+(0,Y.extendedEncodeURIComponent)(r)).join("&"),"buildFormUrlencodedString"),Hye=A((e,t)=>{var r;if(((r=t.Error)==null?void 0:r.Code)!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"},"loadQueryErrorCode"),G2=class extends Y.Command.classBuilder().ep({...N_e.commonParams}).m(function(t,r,n,i){return[(0,ji.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Mi.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,q2).ser(k_e).de(V_e).build(){};A(G2,"AssumeRoleCommand");var NS=G2,Bye=Lr(),W2=class extends Y.Command.classBuilder().ep({...Bye.commonParams}).m(function(t,r,n,i){return[(0,ji.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Mi.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithSAML",{}).n("STSClient","AssumeRoleWithSAMLCommand").f(L2,F2).ser(M_e).de(H_e).build(){};A(W2,"AssumeRoleWithSAMLCommand");var K2=W2,Gye=Lr(),X2=class extends Y.Command.classBuilder().ep({...Gye.commonParams}).m(function(t,r,n,i){return[(0,ji.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Mi.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(U2,z2).ser(j_e).de(B_e).build(){};A(X2,"AssumeRoleWithWebIdentityCommand");var $S=X2,Wye=Lr(),J2=class extends Y.Command.classBuilder().ep({...Wye.commonParams}).m(function(t,r,n,i){return[(0,ji.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Mi.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","DecodeAuthorizationMessage",{}).n("STSClient","DecodeAuthorizationMessageCommand").f(void 0,void 0).ser(q_e).de(G_e).build(){};A(J2,"DecodeAuthorizationMessageCommand");var Y2=J2,Kye=Lr(),Q2=class extends Y.Command.classBuilder().ep({...Kye.commonParams}).m(function(t,r,n,i){return[(0,ji.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Mi.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetAccessKeyInfo",{}).n("STSClient","GetAccessKeyInfoCommand").f(void 0,void 0).ser(L_e).de(W_e).build(){};A(Q2,"GetAccessKeyInfoCommand");var Z2=Q2,Xye=Lr(),ez=class extends Y.Command.classBuilder().ep({...Xye.commonParams}).m(function(t,r,n,i){return[(0,ji.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Mi.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetCallerIdentity",{}).n("STSClient","GetCallerIdentityCommand").f(void 0,void 0).ser(F_e).de(K_e).build(){};A(ez,"GetCallerIdentityCommand");var tz=ez,Jye=Lr(),rz=class extends Y.Command.classBuilder().ep({...Jye.commonParams}).m(function(t,r,n,i){return[(0,ji.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Mi.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetFederationToken",{}).n("STSClient","GetFederationTokenCommand").f(void 0,V2).ser(U_e).de(X_e).build(){};A(rz,"GetFederationTokenCommand");var nz=rz,Yye=Lr(),iz=class extends Y.Command.classBuilder().ep({...Yye.commonParams}).m(function(t,r,n,i){return[(0,ji.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Mi.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetSessionToken",{}).n("STSClient","GetSessionTokenCommand").f(void 0,H2).ser(z_e).de(J_e).build(){};A(iz,"GetSessionTokenCommand");var sz=iz,Qye=cd(),Zye={AssumeRoleCommand:NS,AssumeRoleWithSAMLCommand:K2,AssumeRoleWithWebIdentityCommand:$S,DecodeAuthorizationMessageCommand:Y2,GetAccessKeyInfoCommand:Z2,GetCallerIdentityCommand:tz,GetFederationTokenCommand:nz,GetSessionTokenCommand:sz},oz=class extends Qye.STSClient{};A(oz,"STS");var az=oz;(0,Y.createAggregatedClient)(Zye,az);var eEe=Lr(),tEe=ZE(),u2="us-east-1",cz=A(async(e,t,r)=>{var n;let i=typeof e=="function"?await e():e,s=typeof t=="function"?await t():t;return(n=r?.debug)==null||n.call(r,"@aws-sdk/client-sts::resolveRegion","accepting first of:",`${i} (provider)`,`${s} (parent client)`,`${u2} (STS default)`),i??s??u2},"resolveRegion"),rEe=A((e,t)=>{let r,n;return async(i,s)=>{var o,a,c;if(n=i,!r){let{logger:d=(o=e?.parentClientConfig)==null?void 0:o.logger,region:p,requestHandler:m=(a=e?.parentClientConfig)==null?void 0:a.requestHandler,credentialProviderLogger:f}=e,v=await cz(p,(c=e?.parentClientConfig)==null?void 0:c.region,f);r=new t({credentialDefaultProvider:()=>async()=>n,region:v,requestHandler:m,logger:d})}let{Credentials:l}=await r.send(new NS(s));if(!l||!l.AccessKeyId||!l.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${s.RoleArn}`);return{accessKeyId:l.AccessKeyId,secretAccessKey:l.SecretAccessKey,sessionToken:l.SessionToken,expiration:l.Expiration,credentialScope:l.CredentialScope}}},"getDefaultRoleAssumer"),nEe=A((e,t)=>{let r;return async n=>{var i,s,o;if(!r){let{logger:c=(i=e?.parentClientConfig)==null?void 0:i.logger,region:l,requestHandler:d=(s=e?.parentClientConfig)==null?void 0:s.requestHandler,credentialProviderLogger:p}=e,m=await cz(l,(o=e?.parentClientConfig)==null?void 0:o.region,p);r=new t({region:m,requestHandler:d,logger:c})}let{Credentials:a}=await r.send(new $S(n));if(!a||!a.AccessKeyId||!a.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);return{accessKeyId:a.AccessKeyId,secretAccessKey:a.SecretAccessKey,sessionToken:a.SessionToken,expiration:a.Expiration,credentialScope:a.CredentialScope}}},"getDefaultRoleAssumerWithWebIdentity"),lz=cd(),dz=A((e,t)=>{var r;return t?(r=class extends e{constructor(n){super(n);for(let i of t)this.middlewareStack.use(i)}},A(r,"CustomizableSTSClient"),r):e},"getCustomizableStsClientCtor"),uz=A((e={},t)=>rEe(e,dz(lz.STSClient,t)),"getDefaultRoleAssumer"),pz=A((e={},t)=>nEe(e,dz(lz.STSClient,t)),"getDefaultRoleAssumerWithWebIdentity"),iEe=A(e=>t=>e({roleAssumer:uz(t),roleAssumerWithWebIdentity:pz(t),...t}),"decorateDefaultCredentialProvider")});var LS=g((C1e,hz)=>{var qf=Object.defineProperty,sEe=Object.getOwnPropertyDescriptor,oEe=Object.getOwnPropertyNames,aEe=Object.prototype.hasOwnProperty,qS=(e,t)=>qf(e,"name",{value:t,configurable:!0}),cEe=(e,t)=>{for(var r in t)qf(e,r,{get:t[r],enumerable:!0})},lEe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of oEe(t))!aEe.call(e,i)&&i!==r&&qf(e,i,{get:()=>t[i],enumerable:!(n=sEe(t,i))||n.enumerable});return e},dEe=e=>lEe(qf({},"__esModule",{value:!0}),e),fz={};cEe(fz,{fromProcess:()=>hEe});hz.exports=dEe(fz);var mz=bi(),jS=Ut(),uEe=require("child_process"),pEe=require("util"),mEe=qS((e,t)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let r=new Date;if(new Date(t.Expiration)<r)throw Error(`Profile ${e} credential_process returned expired credentials.`)}return{accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)},...t.CredentialScope&&{credentialScope:t.CredentialScope}}},"getValidatedProcessCredentials"),fEe=qS(async(e,t)=>{let r=t[e];if(t[e]){let n=r.credential_process;if(n!==void 0){let i=(0,pEe.promisify)(uEe.exec);try{let{stdout:s}=await i(n),o;try{o=JSON.parse(s.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return mEe(e,o)}catch(s){throw new jS.CredentialsProviderError(s.message)}}else throw new jS.CredentialsProviderError(`Profile ${e} did not contain credential_process.`)}else throw new jS.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`)},"resolveProcessCredentials"),hEe=qS((e={})=>async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-process","fromProcess");let r=await(0,mz.parseKnownFiles)(e);return fEe((0,mz.getProfileName)(e),r)},"fromProcess")});var gz=g(Lf=>{"use strict";Object.defineProperty(Lf,"__esModule",{value:!0});Lf.getDefaultRoleAssumerWithWebIdentity=void 0;var gEe=MS();Object.defineProperty(Lf,"getDefaultRoleAssumerWithWebIdentity",{enumerable:!0,get:function(){return gEe.getDefaultRoleAssumerWithWebIdentity}})});var FS=g(fn=>{"use strict";var vEe=fn&&fn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),_Ee=fn&&fn.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),yEe=fn&&fn.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&vEe(t,e,r);return _Ee(t,e),t};Object.defineProperty(fn,"__esModule",{value:!0});fn.fromWebToken=void 0;var EEe=e=>async()=>{var t;(t=e.logger)===null||t===void 0||t.debug("@aws-sdk/credential-provider-web-identity","fromWebToken");let{roleArn:r,roleSessionName:n,webIdentityToken:i,providerId:s,policyArns:o,policy:a,durationSeconds:c}=e,{roleAssumerWithWebIdentity:l}=e;if(!l){let{getDefaultRoleAssumerWithWebIdentity:d}=await Promise.resolve().then(()=>yEe(gz()));l=d({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:e.parentClientConfig},e.clientPlugins)}return l({RoleArn:r,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:i,ProviderId:s,PolicyArns:o,Policy:a,DurationSeconds:c})};fn.fromWebToken=EEe});var vz=g(Ff=>{"use strict";Object.defineProperty(Ff,"__esModule",{value:!0});Ff.fromTokenFile=void 0;var SEe=Ut(),xEe=require("fs"),bEe=FS(),CEe="AWS_WEB_IDENTITY_TOKEN_FILE",wEe="AWS_ROLE_ARN",REe="AWS_ROLE_SESSION_NAME",PEe=(e={})=>async()=>{var t,r,n,i;(t=e.logger)===null||t===void 0||t.debug("@aws-sdk/credential-provider-web-identity","fromTokenFile");let s=(r=e?.webIdentityTokenFile)!==null&&r!==void 0?r:process.env[CEe],o=(n=e?.roleArn)!==null&&n!==void 0?n:process.env[wEe],a=(i=e?.roleSessionName)!==null&&i!==void 0?i:process.env[REe];if(!s||!o)throw new SEe.CredentialsProviderError("Web identity configuration not specified");return(0,bEe.fromWebToken)({...e,webIdentityToken:(0,xEe.readFileSync)(s,{encoding:"ascii"}),roleArn:o,roleSessionName:a})()};Ff.fromTokenFile=PEe});var VS=g((T1e,Uf)=>{var _z=Object.defineProperty,TEe=Object.getOwnPropertyDescriptor,AEe=Object.getOwnPropertyNames,IEe=Object.prototype.hasOwnProperty,US=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of AEe(t))!IEe.call(e,i)&&i!==r&&_z(e,i,{get:()=>t[i],enumerable:!(n=TEe(t,i))||n.enumerable});return e},yz=(e,t,r)=>(US(e,t,"default"),r&&US(r,t,"default")),OEe=e=>US(_z({},"__esModule",{value:!0}),e),zS={};Uf.exports=OEe(zS);yz(zS,vz(),Uf.exports);yz(zS,FS(),Uf.exports)});var Iz=g((A1e,Az)=>{var DEe=Object.create,ud=Object.defineProperty,NEe=Object.getOwnPropertyDescriptor,xz=Object.getOwnPropertyNames,$Ee=Object.getPrototypeOf,kEe=Object.prototype.hasOwnProperty,kt=(e,t)=>ud(e,"name",{value:t,configurable:!0}),MEe=(e,t)=>function(){return e&&(t=(0,e[xz(e)[0]])(e=0)),t},bz=(e,t)=>{for(var r in t)ud(e,r,{get:t[r],enumerable:!0})},Cz=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of xz(t))!kEe.call(e,i)&&i!==r&&ud(e,i,{get:()=>t[i],enumerable:!(n=NEe(t,i))||n.enumerable});return e},sa=(e,t,r)=>(r=e!=null?DEe($Ee(e)):{},Cz(t||!e||!e.__esModule?ud(r,"default",{value:e,enumerable:!0}):r,e)),jEe=e=>Cz(ud({},"__esModule",{value:!0}),e),wz={};bz(wz,{getDefaultRoleAssumer:()=>Rz.getDefaultRoleAssumer});var Rz,qEe=MEe({"src/loadSts.ts"(){Rz=MS()}}),Pz={};bz(Pz,{fromIni:()=>JEe});Az.exports=jEe(Pz);var HS=bi(),zf=Ut(),LEe=kt((e,t)=>{let r={EcsContainer:n=>Promise.resolve().then(()=>sa(Gl())).then(({fromContainerMetadata:i})=>i(n)),Ec2InstanceMetadata:n=>Promise.resolve().then(()=>sa(Gl())).then(({fromInstanceMetadata:i})=>i(n)),Environment:n=>Promise.resolve().then(()=>sa(AE())).then(({fromEnv:i})=>i(n))};if(e in r)return r[e];throw new zf.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`)},"resolveCredentialSource"),FEe=kt(e=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(UEe(e)||zEe(e)),"isAssumeRoleProfile"),UEe=kt(e=>typeof e.source_profile=="string"&&typeof e.credential_source>"u","isAssumeRoleWithSourceProfile"),zEe=kt(e=>typeof e.credential_source=="string"&&typeof e.source_profile>"u","isAssumeRoleWithProviderProfile"),VEe=kt(async(e,t,r,n={})=>{var i;(i=r.logger)==null||i.debug("@aws-sdk/credential-provider-ini","resolveAssumeRoleCredentials (STS)");let s=t[e];if(!r.roleAssumer){let{getDefaultRoleAssumer:p}=await Promise.resolve().then(()=>(qEe(),wz));r.roleAssumer=p({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:r?.parentClientConfig},r.clientPlugins)}let{source_profile:o}=s;if(o&&o in n)throw new zf.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${(0,HS.getProfileName)(r)}. Profiles visited: `+Object.keys(n).join(", "),!1);let a=o?Tz(o,t,r,{...n,[o]:!0}):(await LEe(s.credential_source,e)(r))(),c={RoleArn:s.role_arn,RoleSessionName:s.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:s.external_id,DurationSeconds:parseInt(s.duration_seconds||"3600",10)},{mfa_serial:l}=s;if(l){if(!r.mfaCodeProvider)throw new zf.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,!1);c.SerialNumber=l,c.TokenCode=await r.mfaCodeProvider(l)}let d=await a;return r.roleAssumer(d,c)},"resolveAssumeRoleCredentials"),HEe=kt(e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string","isProcessProfile"),BEe=kt(async(e,t)=>Promise.resolve().then(()=>sa(LS())).then(({fromProcess:r})=>r({...e,profile:t})()),"resolveProcessCredentials"),GEe=kt(async(e,t={})=>{let{fromSSO:r}=await Promise.resolve().then(()=>sa(KE()));return r({profile:e,logger:t.logger})()},"resolveSsoCredentials"),WEe=kt(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),Ez=kt(e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1,"isStaticCredsProfile"),Sz=kt((e,t)=>{var r;return(r=t?.logger)==null||r.debug("@aws-sdk/credential-provider-ini","resolveStaticCredentials"),Promise.resolve({accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,credentialScope:e.aws_credential_scope})},"resolveStaticCredentials"),KEe=kt(e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,"isWebIdentityProfile"),XEe=kt(async(e,t)=>Promise.resolve().then(()=>sa(VS())).then(({fromTokenFile:r})=>r({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity,logger:t.logger,parentClientConfig:t.parentClientConfig})()),"resolveWebIdentityCredentials"),Tz=kt(async(e,t,r,n={})=>{let i=t[e];if(Object.keys(n).length>0&&Ez(i))return Sz(i,r);if(FEe(i))return VEe(e,t,r,n);if(Ez(i))return Sz(i,r);if(KEe(i))return XEe(i,r);if(HEe(i))return BEe(r,e);if(WEe(i))return await GEe(e,r);throw new zf.CredentialsProviderError(`Profile ${e} could not be found or parsed in shared credentials file.`)},"resolveProfileData"),JEe=kt((e={})=>async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-ini","fromIni");let r=await(0,HS.parseKnownFiles)(e);return Tz((0,HS.getProfileName)(e),r,e)},"fromIni")});var ff=g((I1e,kz)=>{var YEe=Object.create,pd=Object.defineProperty,QEe=Object.getOwnPropertyDescriptor,ZEe=Object.getOwnPropertyNames,eSe=Object.getPrototypeOf,tSe=Object.prototype.hasOwnProperty,Vf=(e,t)=>pd(e,"name",{value:t,configurable:!0}),rSe=(e,t)=>{for(var r in t)pd(e,r,{get:t[r],enumerable:!0})},Oz=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of ZEe(t))!tSe.call(e,i)&&i!==r&&pd(e,i,{get:()=>t[i],enumerable:!(n=QEe(t,i))||n.enumerable});return e},Os=(e,t,r)=>(r=e!=null?YEe(eSe(e)):{},Oz(t||!e||!e.__esModule?pd(r,"default",{value:e,enumerable:!0}):r,e)),nSe=e=>Oz(pd({},"__esModule",{value:!0}),e),Dz={};rSe(Dz,{credentialsTreatedAsExpired:()=>$z,credentialsWillNeedRefresh:()=>Nz,defaultProvider:()=>aSe});kz.exports=nSe(Dz);var iSe=bi(),oa=Ut(),sSe="AWS_EC2_METADATA_DISABLED",oSe=Vf(async e=>{var t,r;let{ENV_CMDS_FULL_URI:n,ENV_CMDS_RELATIVE_URI:i,fromContainerMetadata:s,fromInstanceMetadata:o}=await Promise.resolve().then(()=>Os(Gl()));if(process.env[i]||process.env[n]){(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node","remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:a}=await Promise.resolve().then(()=>Os(Ej()));return(0,oa.chain)(a(e),s(e))}return process.env[sSe]?async()=>{throw new oa.CredentialsProviderError("EC2 Instance Metadata Service access disabled")}:((r=e.logger)==null||r.debug("@aws-sdk/credential-provider-node","remoteProvider::fromInstanceMetadata"),o(e))},"remoteProvider"),aSe=Vf((e={})=>(0,oa.memoize)((0,oa.chain)(...e.profile||process.env[iSe.ENV_PROFILE]?[]:[async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node","defaultProvider::fromEnv");let{fromEnv:r}=await Promise.resolve().then(()=>Os(AE()));return r(e)()}],async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node","defaultProvider::fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:i,ssoRoleName:s,ssoSession:o}=e;if(!r&&!n&&!i&&!s&&!o)throw new oa.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).");let{fromSSO:a}=await Promise.resolve().then(()=>Os(KE()));return a(e)()},async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node","defaultProvider::fromIni");let{fromIni:r}=await Promise.resolve().then(()=>Os(Iz()));return r(e)()},async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node","defaultProvider::fromProcess");let{fromProcess:r}=await Promise.resolve().then(()=>Os(LS()));return r(e)()},async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node","defaultProvider::fromTokenFile");let{fromTokenFile:r}=await Promise.resolve().then(()=>Os(VS()));return r(e)()},async()=>{var t;return(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node","defaultProvider::remoteProvider"),(await oSe(e))()},async()=>{throw new oa.CredentialsProviderError("Could not load credentials from any providers",!1)}),$z,Nz),"defaultProvider"),Nz=Vf(e=>e?.expiration!==void 0,"credentialsWillNeedRefresh"),$z=Vf(e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5,"credentialsTreatedAsExpired")});var Xz=g(Hf=>{"use strict";Object.defineProperty(Hf,"__esModule",{value:!0});Hf.ruleSet=void 0;var Gz="required",gn="fn",vn="argv",ca="ref",Mz=!0,jz="isSet",fd="booleanEquals",aa="error",md="endpoint",Kn="tree",BS="PartitionResult",qz={[Gz]:!1,type:"String"},Lz={[Gz]:!0,default:!1,type:"Boolean"},Fz={[ca]:"Endpoint"},Wz={[gn]:fd,[vn]:[{[ca]:"UseFIPS"},!0]},Kz={[gn]:fd,[vn]:[{[ca]:"UseDualStack"},!0]},hn={},Uz={[gn]:"getAttr",[vn]:[{[ca]:BS},"supportsFIPS"]},zz={[gn]:fd,[vn]:[!0,{[gn]:"getAttr",[vn]:[{[ca]:BS},"supportsDualStack"]}]},Vz=[Wz],Hz=[Kz],Bz=[{[ca]:"Region"}],cSe={version:"1.0",parameters:{Region:qz,UseDualStack:Lz,UseFIPS:Lz,Endpoint:qz},rules:[{conditions:[{[gn]:jz,[vn]:[Fz]}],rules:[{conditions:Vz,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:aa},{conditions:Hz,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:aa},{endpoint:{url:Fz,properties:hn,headers:hn},type:md}],type:Kn},{conditions:[{[gn]:jz,[vn]:Bz}],rules:[{conditions:[{[gn]:"aws.partition",[vn]:Bz,assign:BS}],rules:[{conditions:[Wz,Kz],rules:[{conditions:[{[gn]:fd,[vn]:[Mz,Uz]},zz],rules:[{endpoint:{url:"https://email-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:hn,headers:hn},type:md}],type:Kn},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:aa}],type:Kn},{conditions:Vz,rules:[{conditions:[{[gn]:fd,[vn]:[Uz,Mz]}],rules:[{endpoint:{url:"https://email-fips.{Region}.{PartitionResult#dnsSuffix}",properties:hn,headers:hn},type:md}],type:Kn},{error:"FIPS is enabled but this partition does not support FIPS",type:aa}],type:Kn},{conditions:Hz,rules:[{conditions:[zz],rules:[{endpoint:{url:"https://email.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:hn,headers:hn},type:md}],type:Kn},{error:"DualStack is enabled but this partition does not support DualStack",type:aa}],type:Kn},{endpoint:{url:"https://email.{Region}.{PartitionResult#dnsSuffix}",properties:hn,headers:hn},type:md}],type:Kn}],type:Kn},{error:"Invalid Configuration: Missing Region",type:aa}]};Hf.ruleSet=cSe});var Yz=g(Bf=>{"use strict";Object.defineProperty(Bf,"__esModule",{value:!0});Bf.defaultEndpointResolver=void 0;var lSe=bo(),Jz=So(),dSe=Xz(),uSe=(e,t={})=>(0,Jz.resolveEndpoint)(dSe.ruleSet,{endpointParams:e,logger:t.logger});Bf.defaultEndpointResolver=uSe;Jz.customEndpointFunctions.aws=lSe.awsEndpointFunctions});var eV=g(Gf=>{"use strict";Object.defineProperty(Gf,"__esModule",{value:!0});Gf.getRuntimeConfig=void 0;var pSe=ft(),mSe=Je(),fSe=Ss(),Qz=Po(),Zz=sr(),hSe=EE(),gSe=Yz(),vSe=e=>({apiVersion:"2010-12-01",base64Decoder:e?.base64Decoder??Qz.fromBase64,base64Encoder:e?.base64Encoder??Qz.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??gSe.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??hSe.defaultSESHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new pSe.AwsSdkSigV4Signer}],logger:e?.logger??new mSe.NoOpLogger,serviceId:e?.serviceId??"SES",urlParser:e?.urlParser??fSe.parseUrl,utf8Decoder:e?.utf8Decoder??Zz.fromUtf8,utf8Encoder:e?.utf8Encoder??Zz.toUtf8});Gf.getRuntimeConfig=vSe});var nV=g(Kf=>{"use strict";Object.defineProperty(Kf,"__esModule",{value:!0});Kf.getRuntimeConfig=void 0;var _Se=(ko(),ni($o)),ySe=_Se.__importDefault(Q1()),ESe=ft(),SSe=ff(),xSe=Wl(),Wf=sn(),bSe=Kl(),tV=an(),hd=Ln(),rV=Rs(),CSe=Xl(),wSe=wo(),RSe=eV(),PSe=Je(),TSe=Ql(),ASe=Je(),ISe=e=>{(0,ASe.emitWarningIfUnsupportedVersion)(process.version);let t=(0,TSe.resolveDefaultsModeConfig)(e),r=()=>t().then(PSe.loadConfigsForDefaultMode),n=(0,RSe.getRuntimeConfig)(e);return(0,ESe.emitWarningIfUnsupportedVersion)(process.version),{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??CSe.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??SSe.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,xSe.defaultUserAgent)({serviceId:n.serviceId,clientVersion:ySe.default.version}),maxAttempts:e?.maxAttempts??(0,hd.loadConfig)(tV.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:e?.region??(0,hd.loadConfig)(Wf.NODE_REGION_CONFIG_OPTIONS,Wf.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:rV.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,hd.loadConfig)({...tV.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||wSe.DEFAULT_RETRY_MODE}),sha256:e?.sha256??bSe.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??rV.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,hd.loadConfig)(Wf.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,hd.loadConfig)(Wf.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};Kf.getRuntimeConfig=ISe});var lV=g((k1e,cV)=>{var Xf=Object.defineProperty,OSe=Object.getOwnPropertyDescriptor,DSe=Object.getOwnPropertyNames,NSe=Object.prototype.hasOwnProperty,Bi=(e,t)=>Xf(e,"name",{value:t,configurable:!0}),$Se=(e,t)=>{for(var r in t)Xf(e,r,{get:t[r],enumerable:!0})},kSe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of DSe(t))!NSe.call(e,i)&&i!==r&&Xf(e,i,{get:()=>t[i],enumerable:!(n=OSe(t,i))||n.enumerable});return e},MSe=e=>kSe(Xf({},"__esModule",{value:!0}),e),sV={};$Se(sV,{WaiterState:()=>aV,checkExceptions:()=>qSe,createWaiter:()=>VSe,waiterServiceDefaults:()=>oV});cV.exports=MSe(sV);var jSe=Bi(e=>new Promise(t=>setTimeout(t,e*1e3)),"sleep"),oV={minDelay:2,maxDelay:120},aV=(e=>(e.ABORTED="ABORTED",e.FAILURE="FAILURE",e.SUCCESS="SUCCESS",e.RETRY="RETRY",e.TIMEOUT="TIMEOUT",e))(aV||{}),qSe=Bi(e=>{if(e.state==="ABORTED"){let t=new Error(`${JSON.stringify({...e,reason:"Request was aborted"})}`);throw t.name="AbortError",t}else if(e.state==="TIMEOUT"){let t=new Error(`${JSON.stringify({...e,reason:"Waiter has timed out"})}`);throw t.name="TimeoutError",t}else if(e.state!=="SUCCESS")throw new Error(`${JSON.stringify({result:e})}`);return e},"checkExceptions"),LSe=Bi((e,t,r,n)=>{if(n>r)return t;let i=e*2**(n-1);return FSe(e,i)},"exponentialBackoffWithJitter"),FSe=Bi((e,t)=>e+Math.random()*(t-e),"randomInRange"),USe=Bi(async({minDelay:e,maxDelay:t,maxWaitTime:r,abortController:n,client:i,abortSignal:s},o,a)=>{var c;let{state:l,reason:d}=await a(i,o);if(l!=="RETRY")return{state:l,reason:d};let p=1,m=Date.now()+r*1e3,f=Math.log(t/e)/Math.log(2)+1;for(;;){if((c=n?.signal)!=null&&c.aborted||s?.aborted)return{state:"ABORTED"};let v=LSe(e,t,f,p);if(Date.now()+v*1e3>m)return{state:"TIMEOUT"};await jSe(v);let{state:y,reason:x}=await a(i,o);if(y!=="RETRY")return{state:y,reason:x};p+=1}},"runPolling"),zSe=Bi(e=>{if(e.maxWaitTime<1)throw new Error("WaiterConfiguration.maxWaitTime must be greater than 0");if(e.minDelay<1)throw new Error("WaiterConfiguration.minDelay must be greater than 0");if(e.maxDelay<1)throw new Error("WaiterConfiguration.maxDelay must be greater than 0");if(e.maxWaitTime<=e.minDelay)throw new Error(`WaiterConfiguration.maxWaitTime [${e.maxWaitTime}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`);if(e.maxDelay<e.minDelay)throw new Error(`WaiterConfiguration.maxDelay [${e.maxDelay}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`)},"validateWaiterOptions"),iV=Bi(async e=>new Promise(t=>{e.onabort=()=>t({state:"ABORTED"})}),"abortTimeout"),VSe=Bi(async(e,t,r)=>{let n={...oV,...e};zSe(n);let i=[USe(n,t,r)];return e.abortController&&i.push(iV(e.abortController.signal)),e.abortSignal&&i.push(iV(e.abortSignal)),Promise.race(i)},"createWaiter")});var u4=g((rqe,d4)=>{"use strict";var Qf=Object.defineProperty,HSe=Object.getOwnPropertyDescriptor,BSe=Object.getOwnPropertyNames,GSe=Object.prototype.hasOwnProperty,u=(e,t)=>Qf(e,"name",{value:t,configurable:!0}),WSe=(e,t)=>{for(var r in t)Qf(e,r,{get:t[r],enumerable:!0})},KSe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of BSe(t))!GSe.call(e,i)&&i!==r&&Qf(e,i,{get:()=>t[i],enumerable:!(n=HSe(t,i))||n.enumerable});return e},XSe=e=>KSe(Qf({},"__esModule",{value:!0}),e),bV={};WSe(bV,{AccountSendingPausedException:()=>AV,AlreadyExistsException:()=>DV,BehaviorOnMXFailure:()=>sxe,BounceType:()=>oxe,BulkEmailStatus:()=>cxe,CannotDeleteException:()=>kV,CloneReceiptRuleSetCommand:()=>OB,ConfigurationSetAlreadyExistsException:()=>HV,ConfigurationSetAttribute:()=>dxe,ConfigurationSetDoesNotExistException:()=>WV,ConfigurationSetSendingPausedException:()=>JV,CreateConfigurationSetCommand:()=>NB,CreateConfigurationSetEventDestinationCommand:()=>kB,CreateConfigurationSetTrackingOptionsCommand:()=>jB,CreateCustomVerificationEmailTemplateCommand:()=>LB,CreateReceiptFilterCommand:()=>UB,CreateReceiptRuleCommand:()=>VB,CreateReceiptRuleSetCommand:()=>BB,CreateTemplateCommand:()=>WB,CustomMailFromStatus:()=>vxe,CustomVerificationEmailInvalidContentException:()=>EH,CustomVerificationEmailTemplateAlreadyExistsException:()=>bH,CustomVerificationEmailTemplateDoesNotExistException:()=>HH,DeleteConfigurationSetCommand:()=>XB,DeleteConfigurationSetEventDestinationCommand:()=>YB,DeleteConfigurationSetTrackingOptionsCommand:()=>ZB,DeleteCustomVerificationEmailTemplateCommand:()=>t3,DeleteIdentityCommand:()=>n3,DeleteIdentityPolicyCommand:()=>s3,DeleteReceiptFilterCommand:()=>a3,DeleteReceiptRuleCommand:()=>l3,DeleteReceiptRuleSetCommand:()=>u3,DeleteTemplateCommand:()=>m3,DeleteVerifiedEmailAddressCommand:()=>h3,DescribeActiveReceiptRuleSetCommand:()=>v3,DescribeConfigurationSetCommand:()=>y3,DescribeReceiptRuleCommand:()=>S3,DescribeReceiptRuleSetCommand:()=>b3,DimensionValueSource:()=>lxe,DsnAction:()=>axe,EventDestinationAlreadyExistsException:()=>rH,EventDestinationDoesNotExistException:()=>WH,EventType:()=>uxe,FromEmailAddressNotVerifiedException:()=>RH,GetAccountSendingEnabledCommand:()=>w3,GetCustomVerificationEmailTemplateCommand:()=>P3,GetIdentityDkimAttributesCommand:()=>A3,GetIdentityMailFromDomainAttributesCommand:()=>O3,GetIdentityNotificationAttributesCommand:()=>N3,GetIdentityPoliciesCommand:()=>k3,GetIdentityVerificationAttributesCommand:()=>Yx,GetSendQuotaCommand:()=>q3,GetSendStatisticsCommand:()=>F3,GetTemplateCommand:()=>z3,IdentityType:()=>yxe,InvalidCloudWatchDestinationException:()=>sH,InvalidConfigurationSetException:()=>ZV,InvalidDeliveryOptionsException:()=>rB,InvalidFirehoseDestinationException:()=>cH,InvalidLambdaFunctionException:()=>AH,InvalidPolicyException:()=>sB,InvalidRenderingParameterException:()=>cB,InvalidS3ConfigurationException:()=>DH,InvalidSNSDestinationException:()=>uH,InvalidSnsTopicException:()=>kH,InvalidTemplateException:()=>UH,InvalidTrackingOptionsException:()=>fH,InvocationType:()=>mxe,LimitExceededException:()=>qV,ListConfigurationSetsCommand:()=>H3,ListCustomVerificationEmailTemplatesCommand:()=>Qx,ListIdentitiesCommand:()=>Zx,ListIdentityPoliciesCommand:()=>K3,ListReceiptFiltersCommand:()=>J3,ListReceiptRuleSetsCommand:()=>Q3,ListTemplatesCommand:()=>eG,ListVerifiedEmailAddressesCommand:()=>rG,MailFromDomainNotVerifiedException:()=>uB,MessageRejected:()=>fB,MissingRenderingAttributeException:()=>vB,NotificationType:()=>Exe,ProductionAccessNotGrantedException:()=>EB,PutConfigurationSetDeliveryOptionsCommand:()=>iG,PutIdentityPolicyCommand:()=>oG,ReceiptFilterPolicy:()=>pxe,ReorderReceiptRuleSetCommand:()=>cG,RuleDoesNotExistException:()=>qH,RuleSetDoesNotExistException:()=>UV,SES:()=>c4,SESClient:()=>Zf,SESServiceException:()=>ve,SNSActionEncoding:()=>fxe,SendBounceCommand:()=>dG,SendBulkTemplatedEmailCommand:()=>pG,SendCustomVerificationEmailCommand:()=>fG,SendEmailCommand:()=>gG,SendRawEmailCommand:()=>_G,SendTemplatedEmailCommand:()=>EG,SetActiveReceiptRuleSetCommand:()=>xG,SetIdentityDkimEnabledCommand:()=>CG,SetIdentityFeedbackForwardingEnabledCommand:()=>RG,SetIdentityHeadersInNotificationsEnabledCommand:()=>TG,SetIdentityMailFromDomainCommand:()=>IG,SetIdentityNotificationTopicCommand:()=>DG,SetReceiptRulePositionCommand:()=>$G,StopScope:()=>hxe,TemplateDoesNotExistException:()=>ZH,TestRenderTemplateCommand:()=>MG,TlsPolicy:()=>gxe,TrackingOptionsAlreadyExistsException:()=>vH,TrackingOptionsDoesNotExistException:()=>JH,UpdateAccountSendingEnabledCommand:()=>qG,UpdateConfigurationSetEventDestinationCommand:()=>FG,UpdateConfigurationSetReputationMetricsEnabledCommand:()=>zG,UpdateConfigurationSetSendingEnabledCommand:()=>HG,UpdateConfigurationSetTrackingOptionsCommand:()=>GG,UpdateCustomVerificationEmailTemplateCommand:()=>KG,UpdateReceiptRuleCommand:()=>JG,UpdateTemplateCommand:()=>QG,VerificationStatus:()=>_xe,VerifyDomainDkimCommand:()=>e4,VerifyDomainIdentityCommand:()=>r4,VerifyEmailAddressCommand:()=>i4,VerifyEmailIdentityCommand:()=>o4,__Client:()=>h.Client,paginateListCustomVerificationEmailTemplates:()=>IIe,paginateListIdentities:()=>OIe,waitForIdentityExists:()=>DIe,waitUntilIdentityExists:()=>NIe});d4.exports=XSe(bV);var dV=El(),JSe=Sl(),YSe=xl(),uV=Cl(),QSe=sn(),Ad=cn(),ZSe=Ul(),M=bs(),pV=an(),mV=EE(),exe=u(e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"ses"}),"resolveClientEndpointParameters"),j={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},txe=nV(),fV=ed(),Wx=Ot(),h=Je(),rxe=u(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(i){let s=t.findIndex(o=>o.schemeId===i.schemeId);s===-1?t.push(i):t.splice(s,1,i)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(i){r=i},httpAuthSchemeProvider(){return r},setCredentials(i){n=i},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),nxe=u(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),Jf=u(e=>e,"asPartial"),ixe=u((e,t)=>{let r={...Jf((0,fV.getAwsRegionExtensionConfiguration)(e)),...Jf((0,h.getDefaultExtensionConfiguration)(e)),...Jf((0,Wx.getHttpHandlerExtensionConfiguration)(e)),...Jf(rxe(e))};return t.forEach(n=>n.configure(r)),{...e,...(0,fV.resolveAwsRegionExtensionConfiguration)(r),...(0,h.resolveDefaultRuntimeConfig)(r),...(0,Wx.resolveHttpHandlerRuntimeConfig)(r),...nxe(r)}},"resolveRuntimeExtensions"),CV=class extends h.Client{constructor(...[t]){let r=(0,txe.getRuntimeConfig)(t||{}),n=exe(r),i=(0,QSe.resolveRegionConfig)(n),s=(0,M.resolveEndpointConfig)(i),o=(0,pV.resolveRetryConfig)(s),a=(0,dV.resolveHostHeaderConfig)(o),c=(0,uV.resolveUserAgentConfig)(a),l=(0,mV.resolveHttpAuthSchemeConfig)(c),d=ixe(l,t?.extensions||[]);super(d),this.config=d,this.middlewareStack.use((0,pV.getRetryPlugin)(this.config)),this.middlewareStack.use((0,ZSe.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,dV.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,JSe.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,YSe.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,uV.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Ad.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:this.getDefaultHttpAuthSchemeParametersProvider(),identityProviderConfigProvider:this.getIdentityProviderConfigProvider()})),this.middlewareStack.use((0,Ad.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}getDefaultHttpAuthSchemeParametersProvider(){return mV.defaultSESHttpAuthSchemeParametersProvider}getIdentityProviderConfigProvider(){return async t=>new Ad.DefaultIdentityProviderConfig({"aws.auth#sigv4":t.credentials})}};u(CV,"SESClient");var Zf=CV,q=xs(),j1e=Dr(),G=ft(),wV=class RV extends h.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,RV.prototype)}};u(wV,"SESServiceException");var ve=wV,PV=class TV extends ve{constructor(t){super({name:"AccountSendingPausedException",$fault:"client",...t}),this.name="AccountSendingPausedException",this.$fault="client",Object.setPrototypeOf(this,TV.prototype)}};u(PV,"AccountSendingPausedException");var AV=PV,IV=class OV extends ve{constructor(t){super({name:"AlreadyExistsException",$fault:"client",...t}),this.name="AlreadyExistsException",this.$fault="client",Object.setPrototypeOf(this,OV.prototype),this.Name=t.Name}};u(IV,"AlreadyExistsException");var DV=IV,sxe={RejectMessage:"RejectMessage",UseDefaultValue:"UseDefaultValue"},oxe={ContentRejected:"ContentRejected",DoesNotExist:"DoesNotExist",ExceededQuota:"ExceededQuota",MessageTooLarge:"MessageTooLarge",TemporaryFailure:"TemporaryFailure",Undefined:"Undefined"},axe={DELAYED:"delayed",DELIVERED:"delivered",EXPANDED:"expanded",FAILED:"failed",RELAYED:"relayed"},cxe={AccountDailyQuotaExceeded:"AccountDailyQuotaExceeded",AccountSendingPaused:"AccountSendingPaused",AccountSuspended:"AccountSuspended",AccountThrottled:"AccountThrottled",ConfigurationSetDoesNotExist:"ConfigurationSetDoesNotExist",ConfigurationSetSendingPaused:"ConfigurationSetSendingPaused",Failed:"Failed",InvalidParameterValue:"InvalidParameterValue",InvalidSendingPoolName:"InvalidSendingPoolName",MailFromDomainNotVerified:"MailFromDomainNotVerified",MessageRejected:"MessageRejected",Success:"Success",TemplateDoesNotExist:"TemplateDoesNotExist",TransientFailure:"TransientFailure"},NV=class $V extends ve{constructor(t){super({name:"CannotDeleteException",$fault:"client",...t}),this.name="CannotDeleteException",this.$fault="client",Object.setPrototypeOf(this,$V.prototype),this.Name=t.Name}};u(NV,"CannotDeleteException");var kV=NV,MV=class jV extends ve{constructor(t){super({name:"LimitExceededException",$fault:"client",...t}),this.name="LimitExceededException",this.$fault="client",Object.setPrototypeOf(this,jV.prototype)}};u(MV,"LimitExceededException");var qV=MV,LV=class FV extends ve{constructor(t){super({name:"RuleSetDoesNotExistException",$fault:"client",...t}),this.name="RuleSetDoesNotExistException",this.$fault="client",Object.setPrototypeOf(this,FV.prototype),this.Name=t.Name}};u(LV,"RuleSetDoesNotExistException");var UV=LV,lxe={EMAIL_HEADER:"emailHeader",LINK_TAG:"linkTag",MESSAGE_TAG:"messageTag"},zV=class VV extends ve{constructor(t){super({name:"ConfigurationSetAlreadyExistsException",$fault:"client",...t}),this.name="ConfigurationSetAlreadyExistsException",this.$fault="client",Object.setPrototypeOf(this,VV.prototype),this.ConfigurationSetName=t.ConfigurationSetName}};u(zV,"ConfigurationSetAlreadyExistsException");var HV=zV,dxe={DELIVERY_OPTIONS:"deliveryOptions",EVENT_DESTINATIONS:"eventDestinations",REPUTATION_OPTIONS:"reputationOptions",TRACKING_OPTIONS:"trackingOptions"},BV=class GV extends ve{constructor(t){super({name:"ConfigurationSetDoesNotExistException",$fault:"client",...t}),this.name="ConfigurationSetDoesNotExistException",this.$fault="client",Object.setPrototypeOf(this,GV.prototype),this.ConfigurationSetName=t.ConfigurationSetName}};u(BV,"ConfigurationSetDoesNotExistException");var WV=BV,KV=class XV extends ve{constructor(t){super({name:"ConfigurationSetSendingPausedException",$fault:"client",...t}),this.name="ConfigurationSetSendingPausedException",this.$fault="client",Object.setPrototypeOf(this,XV.prototype),this.ConfigurationSetName=t.ConfigurationSetName}};u(KV,"ConfigurationSetSendingPausedException");var JV=KV,YV=class QV extends ve{constructor(t){super({name:"InvalidConfigurationSetException",$fault:"client",...t}),this.name="InvalidConfigurationSetException",this.$fault="client",Object.setPrototypeOf(this,QV.prototype)}};u(YV,"InvalidConfigurationSetException");var ZV=YV,uxe={BOUNCE:"bounce",CLICK:"click",COMPLAINT:"complaint",DELIVERY:"delivery",OPEN:"open",REJECT:"reject",RENDERING_FAILURE:"renderingFailure",SEND:"send"},eH=class tH extends ve{constructor(t){super({name:"EventDestinationAlreadyExistsException",$fault:"client",...t}),this.name="EventDestinationAlreadyExistsException",this.$fault="client",Object.setPrototypeOf(this,tH.prototype),this.ConfigurationSetName=t.ConfigurationSetName,this.EventDestinationName=t.EventDestinationName}};u(eH,"EventDestinationAlreadyExistsException");var rH=eH,nH=class iH extends ve{constructor(t){super({name:"InvalidCloudWatchDestinationException",$fault:"client",...t}),this.name="InvalidCloudWatchDestinationException",this.$fault="client",Object.setPrototypeOf(this,iH.prototype),this.ConfigurationSetName=t.ConfigurationSetName,this.EventDestinationName=t.EventDestinationName}};u(nH,"InvalidCloudWatchDestinationException");var sH=nH,oH=class aH extends ve{constructor(t){super({name:"InvalidFirehoseDestinationException",$fault:"client",...t}),this.name="InvalidFirehoseDestinationException",this.$fault="client",Object.setPrototypeOf(this,aH.prototype),this.ConfigurationSetName=t.ConfigurationSetName,this.EventDestinationName=t.EventDestinationName}};u(oH,"InvalidFirehoseDestinationException");var cH=oH,lH=class dH extends ve{constructor(t){super({name:"InvalidSNSDestinationException",$fault:"client",...t}),this.name="InvalidSNSDestinationException",this.$fault="client",Object.setPrototypeOf(this,dH.prototype),this.ConfigurationSetName=t.ConfigurationSetName,this.EventDestinationName=t.EventDestinationName}};u(lH,"InvalidSNSDestinationException");var uH=lH,pH=class mH extends ve{constructor(t){super({name:"InvalidTrackingOptionsException",$fault:"client",...t}),this.name="InvalidTrackingOptionsException",this.$fault="client",Object.setPrototypeOf(this,mH.prototype)}};u(pH,"InvalidTrackingOptionsException");var fH=pH,hH=class gH extends ve{constructor(t){super({name:"TrackingOptionsAlreadyExistsException",$fault:"client",...t}),this.name="TrackingOptionsAlreadyExistsException",this.$fault="client",Object.setPrototypeOf(this,gH.prototype),this.ConfigurationSetName=t.ConfigurationSetName}};u(hH,"TrackingOptionsAlreadyExistsException");var vH=hH,_H=class yH extends ve{constructor(t){super({name:"CustomVerificationEmailInvalidContentException",$fault:"client",...t}),this.name="CustomVerificationEmailInvalidContentException",this.$fault="client",Object.setPrototypeOf(this,yH.prototype)}};u(_H,"CustomVerificationEmailInvalidContentException");var EH=_H,SH=class xH extends ve{constructor(t){super({name:"CustomVerificationEmailTemplateAlreadyExistsException",$fault:"client",...t}),this.name="CustomVerificationEmailTemplateAlreadyExistsException",this.$fault="client",Object.setPrototypeOf(this,xH.prototype),this.CustomVerificationEmailTemplateName=t.CustomVerificationEmailTemplateName}};u(SH,"CustomVerificationEmailTemplateAlreadyExistsException");var bH=SH,CH=class wH extends ve{constructor(t){super({name:"FromEmailAddressNotVerifiedException",$fault:"client",...t}),this.name="FromEmailAddressNotVerifiedException",this.$fault="client",Object.setPrototypeOf(this,wH.prototype),this.FromEmailAddress=t.FromEmailAddress}};u(CH,"FromEmailAddressNotVerifiedException");var RH=CH,pxe={Allow:"Allow",Block:"Block"},mxe={Event:"Event",RequestResponse:"RequestResponse"},fxe={Base64:"Base64",UTF8:"UTF-8"},hxe={RULE_SET:"RuleSet"},gxe={Optional:"Optional",Require:"Require"},PH=class TH extends ve{constructor(t){super({name:"InvalidLambdaFunctionException",$fault:"client",...t}),this.name="InvalidLambdaFunctionException",this.$fault="client",Object.setPrototypeOf(this,TH.prototype),this.FunctionArn=t.FunctionArn}};u(PH,"InvalidLambdaFunctionException");var AH=PH,IH=class OH extends ve{constructor(t){super({name:"InvalidS3ConfigurationException",$fault:"client",...t}),this.name="InvalidS3ConfigurationException",this.$fault="client",Object.setPrototypeOf(this,OH.prototype),this.Bucket=t.Bucket}};u(IH,"InvalidS3ConfigurationException");var DH=IH,NH=class $H extends ve{constructor(t){super({name:"InvalidSnsTopicException",$fault:"client",...t}),this.name="InvalidSnsTopicException",this.$fault="client",Object.setPrototypeOf(this,$H.prototype),this.Topic=t.Topic}};u(NH,"InvalidSnsTopicException");var kH=NH,MH=class jH extends ve{constructor(t){super({name:"RuleDoesNotExistException",$fault:"client",...t}),this.name="RuleDoesNotExistException",this.$fault="client",Object.setPrototypeOf(this,jH.prototype),this.Name=t.Name}};u(MH,"RuleDoesNotExistException");var qH=MH,LH=class FH extends ve{constructor(t){super({name:"InvalidTemplateException",$fault:"client",...t}),this.name="InvalidTemplateException",this.$fault="client",Object.setPrototypeOf(this,FH.prototype),this.TemplateName=t.TemplateName}};u(LH,"InvalidTemplateException");var UH=LH,vxe={Failed:"Failed",Pending:"Pending",Success:"Success",TemporaryFailure:"TemporaryFailure"},zH=class VH extends ve{constructor(t){super({name:"CustomVerificationEmailTemplateDoesNotExistException",$fault:"client",...t}),this.name="CustomVerificationEmailTemplateDoesNotExistException",this.$fault="client",Object.setPrototypeOf(this,VH.prototype),this.CustomVerificationEmailTemplateName=t.CustomVerificationEmailTemplateName}};u(zH,"CustomVerificationEmailTemplateDoesNotExistException");var HH=zH,BH=class GH extends ve{constructor(t){super({name:"EventDestinationDoesNotExistException",$fault:"client",...t}),this.name="EventDestinationDoesNotExistException",this.$fault="client",Object.setPrototypeOf(this,GH.prototype),this.ConfigurationSetName=t.ConfigurationSetName,this.EventDestinationName=t.EventDestinationName}};u(BH,"EventDestinationDoesNotExistException");var WH=BH,KH=class XH extends ve{constructor(t){super({name:"TrackingOptionsDoesNotExistException",$fault:"client",...t}),this.name="TrackingOptionsDoesNotExistException",this.$fault="client",Object.setPrototypeOf(this,XH.prototype),this.ConfigurationSetName=t.ConfigurationSetName}};u(KH,"TrackingOptionsDoesNotExistException");var JH=KH,_xe={Failed:"Failed",NotStarted:"NotStarted",Pending:"Pending",Success:"Success",TemporaryFailure:"TemporaryFailure"},YH=class QH extends ve{constructor(t){super({name:"TemplateDoesNotExistException",$fault:"client",...t}),this.name="TemplateDoesNotExistException",this.$fault="client",Object.setPrototypeOf(this,QH.prototype),this.TemplateName=t.TemplateName}};u(YH,"TemplateDoesNotExistException");var ZH=YH,yxe={Domain:"Domain",EmailAddress:"EmailAddress"},eB=class tB extends ve{constructor(t){super({name:"InvalidDeliveryOptionsException",$fault:"client",...t}),this.name="InvalidDeliveryOptionsException",this.$fault="client",Object.setPrototypeOf(this,tB.prototype)}};u(eB,"InvalidDeliveryOptionsException");var rB=eB,nB=class iB extends ve{constructor(t){super({name:"InvalidPolicyException",$fault:"client",...t}),this.name="InvalidPolicyException",this.$fault="client",Object.setPrototypeOf(this,iB.prototype)}};u(nB,"InvalidPolicyException");var sB=nB,oB=class aB extends ve{constructor(t){super({name:"InvalidRenderingParameterException",$fault:"client",...t}),this.name="InvalidRenderingParameterException",this.$fault="client",Object.setPrototypeOf(this,aB.prototype),this.TemplateName=t.TemplateName}};u(oB,"InvalidRenderingParameterException");var cB=oB,lB=class dB extends ve{constructor(t){super({name:"MailFromDomainNotVerifiedException",$fault:"client",...t}),this.name="MailFromDomainNotVerifiedException",this.$fault="client",Object.setPrototypeOf(this,dB.prototype)}};u(lB,"MailFromDomainNotVerifiedException");var uB=lB,pB=class mB extends ve{constructor(t){super({name:"MessageRejected",$fault:"client",...t}),this.name="MessageRejected",this.$fault="client",Object.setPrototypeOf(this,mB.prototype)}};u(pB,"MessageRejected");var fB=pB,hB=class gB extends ve{constructor(t){super({name:"MissingRenderingAttributeException",$fault:"client",...t}),this.name="MissingRenderingAttributeException",this.$fault="client",Object.setPrototypeOf(this,gB.prototype),this.TemplateName=t.TemplateName}};u(hB,"MissingRenderingAttributeException");var vB=hB,Exe={Bounce:"Bounce",Complaint:"Complaint",Delivery:"Delivery"},_B=class yB extends ve{constructor(t){super({name:"ProductionAccessNotGrantedException",$fault:"client",...t}),this.name="ProductionAccessNotGrantedException",this.$fault="client",Object.setPrototypeOf(this,yB.prototype)}};u(_B,"ProductionAccessNotGrantedException");var EB=_B,Sxe=u(async(e,t)=>{let r=U,n;return n=H({...z0e(e,t),[N]:vAe,[V]:z}),F(t,r,"/",void 0,n)},"se_CloneReceiptRuleSetCommand"),xxe=u(async(e,t)=>{let r=U,n;return n=H({...X0e(e,t),[N]:uAe,[V]:z}),F(t,r,"/",void 0,n)},"se_CreateConfigurationSetCommand"),bxe=u(async(e,t)=>{let r=U,n;return n=H({...K0e(e,t),[N]:pAe,[V]:z}),F(t,r,"/",void 0,n)},"se_CreateConfigurationSetEventDestinationCommand"),Cxe=u(async(e,t)=>{let r=U,n;return n=H({...J0e(e,t),[N]:mAe,[V]:z}),F(t,r,"/",void 0,n)},"se_CreateConfigurationSetTrackingOptionsCommand"),wxe=u(async(e,t)=>{let r=U,n;return n=H({...Y0e(e,t),[N]:fAe,[V]:z}),F(t,r,"/",void 0,n)},"se_CreateCustomVerificationEmailTemplateCommand"),Rxe=u(async(e,t)=>{let r=U,n;return n=H({...Q0e(e,t),[N]:hAe,[V]:z}),F(t,r,"/",void 0,n)},"se_CreateReceiptFilterCommand"),Pxe=u(async(e,t)=>{let r=U,n;return n=H({...Z0e(e,t),[N]:gAe,[V]:z}),F(t,r,"/",void 0,n)},"se_CreateReceiptRuleCommand"),Txe=u(async(e,t)=>{let r=U,n;return n=H({...ewe(e,t),[N]:_Ae,[V]:z}),F(t,r,"/",void 0,n)},"se_CreateReceiptRuleSetCommand"),Axe=u(async(e,t)=>{let r=U,n;return n=H({...twe(e,t),[N]:yAe,[V]:z}),F(t,r,"/",void 0,n)},"se_CreateTemplateCommand"),Ixe=u(async(e,t)=>{let r=U,n;return n=H({...nwe(e,t),[N]:SAe,[V]:z}),F(t,r,"/",void 0,n)},"se_DeleteConfigurationSetCommand"),Oxe=u(async(e,t)=>{let r=U,n;return n=H({...rwe(e,t),[N]:xAe,[V]:z}),F(t,r,"/",void 0,n)},"se_DeleteConfigurationSetEventDestinationCommand"),Dxe=u(async(e,t)=>{let r=U,n;return n=H({...iwe(e,t),[N]:bAe,[V]:z}),F(t,r,"/",void 0,n)},"se_DeleteConfigurationSetTrackingOptionsCommand"),Nxe=u(async(e,t)=>{let r=U,n;return n=H({...swe(e,t),[N]:wAe,[V]:z}),F(t,r,"/",void 0,n)},"se_DeleteCustomVerificationEmailTemplateCommand"),$xe=u(async(e,t)=>{let r=U,n;return n=H({...awe(e,t),[N]:RAe,[V]:z}),F(t,r,"/",void 0,n)},"se_DeleteIdentityCommand"),kxe=u(async(e,t)=>{let r=U,n;return n=H({...owe(e,t),[N]:PAe,[V]:z}),F(t,r,"/",void 0,n)},"se_DeleteIdentityPolicyCommand"),Mxe=u(async(e,t)=>{let r=U,n;return n=H({...cwe(e,t),[N]:TAe,[V]:z}),F(t,r,"/",void 0,n)},"se_DeleteReceiptFilterCommand"),jxe=u(async(e,t)=>{let r=U,n;return n=H({...lwe(e,t),[N]:AAe,[V]:z}),F(t,r,"/",void 0,n)},"se_DeleteReceiptRuleCommand"),qxe=u(async(e,t)=>{let r=U,n;return n=H({...dwe(e,t),[N]:IAe,[V]:z}),F(t,r,"/",void 0,n)},"se_DeleteReceiptRuleSetCommand"),Lxe=u(async(e,t)=>{let r=U,n;return n=H({...uwe(e,t),[N]:NAe,[V]:z}),F(t,r,"/",void 0,n)},"se_DeleteTemplateCommand"),Fxe=u(async(e,t)=>{let r=U,n;return n=H({...pwe(e,t),[N]:$Ae,[V]:z}),F(t,r,"/",void 0,n)},"se_DeleteVerifiedEmailAddressCommand"),Uxe=u(async(e,t)=>{let r=U,n;return n=H({...fwe(e,t),[N]:EAe,[V]:z}),F(t,r,"/",void 0,n)},"se_DescribeActiveReceiptRuleSetCommand"),zxe=u(async(e,t)=>{let r=U,n;return n=H({...hwe(e,t),[N]:CAe,[V]:z}),F(t,r,"/",void 0,n)},"se_DescribeConfigurationSetCommand"),Vxe=u(async(e,t)=>{let r=U,n;return n=H({...gwe(e,t),[N]:DAe,[V]:z}),F(t,r,"/",void 0,n)},"se_DescribeReceiptRuleCommand"),Hxe=u(async(e,t)=>{let r=U,n;return n=H({...vwe(e,t),[N]:OAe,[V]:z}),F(t,r,"/",void 0,n)},"se_DescribeReceiptRuleSetCommand"),Bxe=u(async(e,t)=>{let r=U,n=H({[N]:kAe,[V]:z});return F(t,r,"/",void 0,n)},"se_GetAccountSendingEnabledCommand"),Gxe=u(async(e,t)=>{let r=U,n;return n=H({...Ewe(e,t),[N]:MAe,[V]:z}),F(t,r,"/",void 0,n)},"se_GetCustomVerificationEmailTemplateCommand"),Wxe=u(async(e,t)=>{let r=U,n;return n=H({...Swe(e,t),[N]:jAe,[V]:z}),F(t,r,"/",void 0,n)},"se_GetIdentityDkimAttributesCommand"),Kxe=u(async(e,t)=>{let r=U,n;return n=H({...xwe(e,t),[N]:qAe,[V]:z}),F(t,r,"/",void 0,n)},"se_GetIdentityMailFromDomainAttributesCommand"),Xxe=u(async(e,t)=>{let r=U,n;return n=H({...bwe(e,t),[N]:LAe,[V]:z}),F(t,r,"/",void 0,n)},"se_GetIdentityNotificationAttributesCommand"),Jxe=u(async(e,t)=>{let r=U,n;return n=H({...Cwe(e,t),[N]:FAe,[V]:z}),F(t,r,"/",void 0,n)},"se_GetIdentityPoliciesCommand"),Yxe=u(async(e,t)=>{let r=U,n;return n=H({...wwe(e,t),[N]:UAe,[V]:z}),F(t,r,"/",void 0,n)},"se_GetIdentityVerificationAttributesCommand"),Qxe=u(async(e,t)=>{let r=U,n=H({[N]:zAe,[V]:z});return F(t,r,"/",void 0,n)},"se_GetSendQuotaCommand"),Zxe=u(async(e,t)=>{let r=U,n=H({[N]:VAe,[V]:z});return F(t,r,"/",void 0,n)},"se_GetSendStatisticsCommand"),ebe=u(async(e,t)=>{let r=U,n;return n=H({...Rwe(e,t),[N]:HAe,[V]:z}),F(t,r,"/",void 0,n)},"se_GetTemplateCommand"),tbe=u(async(e,t)=>{let r=U,n;return n=H({...Awe(e,t),[N]:BAe,[V]:z}),F(t,r,"/",void 0,n)},"se_ListConfigurationSetsCommand"),rbe=u(async(e,t)=>{let r=U,n;return n=H({...Iwe(e,t),[N]:GAe,[V]:z}),F(t,r,"/",void 0,n)},"se_ListCustomVerificationEmailTemplatesCommand"),nbe=u(async(e,t)=>{let r=U,n;return n=H({...Owe(e,t),[N]:WAe,[V]:z}),F(t,r,"/",void 0,n)},"se_ListIdentitiesCommand"),ibe=u(async(e,t)=>{let r=U,n;return n=H({...Dwe(e,t),[N]:KAe,[V]:z}),F(t,r,"/",void 0,n)},"se_ListIdentityPoliciesCommand"),sbe=u(async(e,t)=>{let r=U,n;return n=H({...Nwe(e,t),[N]:XAe,[V]:z}),F(t,r,"/",void 0,n)},"se_ListReceiptFiltersCommand"),obe=u(async(e,t)=>{let r=U,n;return n=H({...$we(e,t),[N]:JAe,[V]:z}),F(t,r,"/",void 0,n)},"se_ListReceiptRuleSetsCommand"),abe=u(async(e,t)=>{let r=U,n;return n=H({...kwe(e,t),[N]:YAe,[V]:z}),F(t,r,"/",void 0,n)},"se_ListTemplatesCommand"),cbe=u(async(e,t)=>{let r=U,n=H({[N]:QAe,[V]:z});return F(t,r,"/",void 0,n)},"se_ListVerifiedEmailAddressesCommand"),lbe=u(async(e,t)=>{let r=U,n;return n=H({...Fwe(e,t),[N]:ZAe,[V]:z}),F(t,r,"/",void 0,n)},"se_PutConfigurationSetDeliveryOptionsCommand"),dbe=u(async(e,t)=>{let r=U,n;return n=H({...Uwe(e,t),[N]:eIe,[V]:z}),F(t,r,"/",void 0,n)},"se_PutIdentityPolicyCommand"),ube=u(async(e,t)=>{let r=U,n;return n=H({...Jwe(e,t),[N]:tIe,[V]:z}),F(t,r,"/",void 0,n)},"se_ReorderReceiptRuleSetCommand"),pbe=u(async(e,t)=>{let r=U,n;return n=H({...Qwe(e,t),[N]:nIe,[V]:z}),F(t,r,"/",void 0,n)},"se_SendBounceCommand"),mbe=u(async(e,t)=>{let r=U,n;return n=H({...Zwe(e,t),[N]:iIe,[V]:z}),F(t,r,"/",void 0,n)},"se_SendBulkTemplatedEmailCommand"),fbe=u(async(e,t)=>{let r=U,n;return n=H({...eRe(e,t),[N]:sIe,[V]:z}),F(t,r,"/",void 0,n)},"se_SendCustomVerificationEmailCommand"),hbe=u(async(e,t)=>{let r=U,n;return n=H({...tRe(e,t),[N]:oIe,[V]:z}),F(t,r,"/",void 0,n)},"se_SendEmailCommand"),gbe=u(async(e,t)=>{let r=U,n;return n=H({...rRe(e,t),[N]:pIe,[V]:z}),F(t,r,"/",void 0,n)},"se_SendRawEmailCommand"),vbe=u(async(e,t)=>{let r=U,n;return n=H({...nRe(e,t),[N]:fIe,[V]:z}),F(t,r,"/",void 0,n)},"se_SendTemplatedEmailCommand"),_be=u(async(e,t)=>{let r=U,n;return n=H({...iRe(e,t),[N]:rIe,[V]:z}),F(t,r,"/",void 0,n)},"se_SetActiveReceiptRuleSetCommand"),ybe=u(async(e,t)=>{let r=U,n;return n=H({...sRe(e,t),[N]:aIe,[V]:z}),F(t,r,"/",void 0,n)},"se_SetIdentityDkimEnabledCommand"),Ebe=u(async(e,t)=>{let r=U,n;return n=H({...oRe(e,t),[N]:cIe,[V]:z}),F(t,r,"/",void 0,n)},"se_SetIdentityFeedbackForwardingEnabledCommand"),Sbe=u(async(e,t)=>{let r=U,n;return n=H({...aRe(e,t),[N]:lIe,[V]:z}),F(t,r,"/",void 0,n)},"se_SetIdentityHeadersInNotificationsEnabledCommand"),xbe=u(async(e,t)=>{let r=U,n;return n=H({...cRe(e,t),[N]:dIe,[V]:z}),F(t,r,"/",void 0,n)},"se_SetIdentityMailFromDomainCommand"),bbe=u(async(e,t)=>{let r=U,n;return n=H({...lRe(e,t),[N]:uIe,[V]:z}),F(t,r,"/",void 0,n)},"se_SetIdentityNotificationTopicCommand"),Cbe=u(async(e,t)=>{let r=U,n;return n=H({...dRe(e,t),[N]:mIe,[V]:z}),F(t,r,"/",void 0,n)},"se_SetReceiptRulePositionCommand"),wbe=u(async(e,t)=>{let r=U,n;return n=H({...fRe(e,t),[N]:hIe,[V]:z}),F(t,r,"/",void 0,n)},"se_TestRenderTemplateCommand"),Rbe=u(async(e,t)=>{let r=U,n;return n=H({...hRe(e,t),[N]:gIe,[V]:z}),F(t,r,"/",void 0,n)},"se_UpdateAccountSendingEnabledCommand"),Pbe=u(async(e,t)=>{let r=U,n;return n=H({...gRe(e,t),[N]:vIe,[V]:z}),F(t,r,"/",void 0,n)},"se_UpdateConfigurationSetEventDestinationCommand"),Tbe=u(async(e,t)=>{let r=U,n;return n=H({...vRe(e,t),[N]:_Ie,[V]:z}),F(t,r,"/",void 0,n)},"se_UpdateConfigurationSetReputationMetricsEnabledCommand"),Abe=u(async(e,t)=>{let r=U,n;return n=H({..._Re(e,t),[N]:yIe,[V]:z}),F(t,r,"/",void 0,n)},"se_UpdateConfigurationSetSendingEnabledCommand"),Ibe=u(async(e,t)=>{let r=U,n;return n=H({...yRe(e,t),[N]:EIe,[V]:z}),F(t,r,"/",void 0,n)},"se_UpdateConfigurationSetTrackingOptionsCommand"),Obe=u(async(e,t)=>{let r=U,n;return n=H({...ERe(e,t),[N]:SIe,[V]:z}),F(t,r,"/",void 0,n)},"se_UpdateCustomVerificationEmailTemplateCommand"),Dbe=u(async(e,t)=>{let r=U,n;return n=H({...SRe(e,t),[N]:xIe,[V]:z}),F(t,r,"/",void 0,n)},"se_UpdateReceiptRuleCommand"),Nbe=u(async(e,t)=>{let r=U,n;return n=H({...xRe(e,t),[N]:bIe,[V]:z}),F(t,r,"/",void 0,n)},"se_UpdateTemplateCommand"),$be=u(async(e,t)=>{let r=U,n;return n=H({...bRe(e,t),[N]:CIe,[V]:z}),F(t,r,"/",void 0,n)},"se_VerifyDomainDkimCommand"),kbe=u(async(e,t)=>{let r=U,n;return n=H({...CRe(e,t),[N]:wIe,[V]:z}),F(t,r,"/",void 0,n)},"se_VerifyDomainIdentityCommand"),Mbe=u(async(e,t)=>{let r=U,n;return n=H({...wRe(e,t),[N]:RIe,[V]:z}),F(t,r,"/",void 0,n)},"se_VerifyEmailAddressCommand"),jbe=u(async(e,t)=>{let r=U,n;return n=H({...RRe(e,t),[N]:PIe,[V]:z}),F(t,r,"/",void 0,n)},"se_VerifyEmailIdentityCommand"),qbe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=MRe(r.CloneReceiptRuleSetResult,t),{$metadata:P(e),...n}},"de_CloneReceiptRuleSetCommand"),Lbe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=BRe(r.CreateConfigurationSetResult,t),{$metadata:P(e),...n}},"de_CreateConfigurationSetCommand"),Fbe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=HRe(r.CreateConfigurationSetEventDestinationResult,t),{$metadata:P(e),...n}},"de_CreateConfigurationSetEventDestinationCommand"),Ube=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=GRe(r.CreateConfigurationSetTrackingOptionsResult,t),{$metadata:P(e),...n}},"de_CreateConfigurationSetTrackingOptionsCommand"),zbe=u(async(e,t)=>e.statusCode>=300?L(e,t):(await(0,h.collectBody)(e.body,t),{$metadata:P(e)}),"de_CreateCustomVerificationEmailTemplateCommand"),Vbe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=WRe(r.CreateReceiptFilterResult,t),{$metadata:P(e),...n}},"de_CreateReceiptFilterCommand"),Hbe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=KRe(r.CreateReceiptRuleResult,t),{$metadata:P(e),...n}},"de_CreateReceiptRuleCommand"),Bbe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=XRe(r.CreateReceiptRuleSetResult,t),{$metadata:P(e),...n}},"de_CreateReceiptRuleSetCommand"),Gbe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=JRe(r.CreateTemplateResult,t),{$metadata:P(e),...n}},"de_CreateTemplateCommand"),Wbe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=nPe(r.DeleteConfigurationSetResult,t),{$metadata:P(e),...n}},"de_DeleteConfigurationSetCommand"),Kbe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=rPe(r.DeleteConfigurationSetEventDestinationResult,t),{$metadata:P(e),...n}},"de_DeleteConfigurationSetEventDestinationCommand"),Xbe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=iPe(r.DeleteConfigurationSetTrackingOptionsResult,t),{$metadata:P(e),...n}},"de_DeleteConfigurationSetTrackingOptionsCommand"),Jbe=u(async(e,t)=>e.statusCode>=300?L(e,t):(await(0,h.collectBody)(e.body,t),{$metadata:P(e)}),"de_DeleteCustomVerificationEmailTemplateCommand"),Ybe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=oPe(r.DeleteIdentityResult,t),{$metadata:P(e),...n}},"de_DeleteIdentityCommand"),Qbe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=sPe(r.DeleteIdentityPolicyResult,t),{$metadata:P(e),...n}},"de_DeleteIdentityPolicyCommand"),Zbe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=aPe(r.DeleteReceiptFilterResult,t),{$metadata:P(e),...n}},"de_DeleteReceiptFilterCommand"),eCe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=cPe(r.DeleteReceiptRuleResult,t),{$metadata:P(e),...n}},"de_DeleteReceiptRuleCommand"),tCe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=lPe(r.DeleteReceiptRuleSetResult,t),{$metadata:P(e),...n}},"de_DeleteReceiptRuleSetCommand"),rCe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=dPe(r.DeleteTemplateResult,t),{$metadata:P(e),...n}},"de_DeleteTemplateCommand"),nCe=u(async(e,t)=>e.statusCode>=300?L(e,t):(await(0,h.collectBody)(e.body,t),{$metadata:P(e)}),"de_DeleteVerifiedEmailAddressCommand"),iCe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=pPe(r.DescribeActiveReceiptRuleSetResult,t),{$metadata:P(e),...n}},"de_DescribeActiveReceiptRuleSetCommand"),sCe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=mPe(r.DescribeConfigurationSetResult,t),{$metadata:P(e),...n}},"de_DescribeConfigurationSetCommand"),oCe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=fPe(r.DescribeReceiptRuleResult,t),{$metadata:P(e),...n}},"de_DescribeReceiptRuleCommand"),aCe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=hPe(r.DescribeReceiptRuleSetResult,t),{$metadata:P(e),...n}},"de_DescribeReceiptRuleSetCommand"),cCe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=bPe(r.GetAccountSendingEnabledResult,t),{$metadata:P(e),...n}},"de_GetAccountSendingEnabledCommand"),lCe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=CPe(r.GetCustomVerificationEmailTemplateResult,t),{$metadata:P(e),...n}},"de_GetCustomVerificationEmailTemplateCommand"),dCe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=wPe(r.GetIdentityDkimAttributesResult,t),{$metadata:P(e),...n}},"de_GetIdentityDkimAttributesCommand"),uCe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=RPe(r.GetIdentityMailFromDomainAttributesResult,t),{$metadata:P(e),...n}},"de_GetIdentityMailFromDomainAttributesCommand"),pCe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=PPe(r.GetIdentityNotificationAttributesResult,t),{$metadata:P(e),...n}},"de_GetIdentityNotificationAttributesCommand"),mCe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=TPe(r.GetIdentityPoliciesResult,t),{$metadata:P(e),...n}},"de_GetIdentityPoliciesCommand"),fCe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=APe(r.GetIdentityVerificationAttributesResult,t),{$metadata:P(e),...n}},"de_GetIdentityVerificationAttributesCommand"),hCe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=IPe(r.GetSendQuotaResult,t),{$metadata:P(e),...n}},"de_GetSendQuotaCommand"),gCe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=OPe(r.GetSendStatisticsResult,t),{$metadata:P(e),...n}},"de_GetSendStatisticsCommand"),vCe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=DPe(r.GetTemplateResult,t),{$metadata:P(e),...n}},"de_GetTemplateCommand"),_Ce=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=ZPe(r.ListConfigurationSetsResult,t),{$metadata:P(e),...n}},"de_ListConfigurationSetsCommand"),yCe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=eTe(r.ListCustomVerificationEmailTemplatesResult,t),{$metadata:P(e),...n}},"de_ListCustomVerificationEmailTemplatesCommand"),ECe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=tTe(r.ListIdentitiesResult,t),{$metadata:P(e),...n}},"de_ListIdentitiesCommand"),SCe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=rTe(r.ListIdentityPoliciesResult,t),{$metadata:P(e),...n}},"de_ListIdentityPoliciesCommand"),xCe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=nTe(r.ListReceiptFiltersResult,t),{$metadata:P(e),...n}},"de_ListReceiptFiltersCommand"),bCe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=iTe(r.ListReceiptRuleSetsResult,t),{$metadata:P(e),...n}},"de_ListReceiptRuleSetsCommand"),CCe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=sTe(r.ListTemplatesResult,t),{$metadata:P(e),...n}},"de_ListTemplatesCommand"),wCe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=oTe(r.ListVerifiedEmailAddressesResult,t),{$metadata:P(e),...n}},"de_ListVerifiedEmailAddressesCommand"),RCe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=hTe(r.PutConfigurationSetDeliveryOptionsResult,t),{$metadata:P(e),...n}},"de_PutConfigurationSetDeliveryOptionsCommand"),PCe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=gTe(r.PutIdentityPolicyResult,t),{$metadata:P(e),...n}},"de_PutIdentityPolicyCommand"),TCe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=CTe(r.ReorderReceiptRuleSetResult,t),{$metadata:P(e),...n}},"de_ReorderReceiptRuleSetCommand"),ACe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=ATe(r.SendBounceResult,t),{$metadata:P(e),...n}},"de_SendBounceCommand"),ICe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=ITe(r.SendBulkTemplatedEmailResult,t),{$metadata:P(e),...n}},"de_SendBulkTemplatedEmailCommand"),OCe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=OTe(r.SendCustomVerificationEmailResult,t),{$metadata:P(e),...n}},"de_SendCustomVerificationEmailCommand"),DCe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=$Te(r.SendEmailResult,t),{$metadata:P(e),...n}},"de_SendEmailCommand"),NCe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=kTe(r.SendRawEmailResult,t),{$metadata:P(e),...n}},"de_SendRawEmailCommand"),$Ce=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=MTe(r.SendTemplatedEmailResult,t),{$metadata:P(e),...n}},"de_SendTemplatedEmailCommand"),kCe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=jTe(r.SetActiveReceiptRuleSetResult,t),{$metadata:P(e),...n}},"de_SetActiveReceiptRuleSetCommand"),MCe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=qTe(r.SetIdentityDkimEnabledResult,t),{$metadata:P(e),...n}},"de_SetIdentityDkimEnabledCommand"),jCe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=LTe(r.SetIdentityFeedbackForwardingEnabledResult,t),{$metadata:P(e),...n}},"de_SetIdentityFeedbackForwardingEnabledCommand"),qCe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=FTe(r.SetIdentityHeadersInNotificationsEnabledResult,t),{$metadata:P(e),...n}},"de_SetIdentityHeadersInNotificationsEnabledCommand"),LCe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=UTe(r.SetIdentityMailFromDomainResult,t),{$metadata:P(e),...n}},"de_SetIdentityMailFromDomainCommand"),FCe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=zTe(r.SetIdentityNotificationTopicResult,t),{$metadata:P(e),...n}},"de_SetIdentityNotificationTopicCommand"),UCe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=VTe(r.SetReceiptRulePositionResult,t),{$metadata:P(e),...n}},"de_SetReceiptRulePositionCommand"),zCe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=YTe(r.TestRenderTemplateResult,t),{$metadata:P(e),...n}},"de_TestRenderTemplateCommand"),VCe=u(async(e,t)=>e.statusCode>=300?L(e,t):(await(0,h.collectBody)(e.body,t),{$metadata:P(e)}),"de_UpdateAccountSendingEnabledCommand"),HCe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=tAe(r.UpdateConfigurationSetEventDestinationResult,t),{$metadata:P(e),...n}},"de_UpdateConfigurationSetEventDestinationCommand"),BCe=u(async(e,t)=>e.statusCode>=300?L(e,t):(await(0,h.collectBody)(e.body,t),{$metadata:P(e)}),"de_UpdateConfigurationSetReputationMetricsEnabledCommand"),GCe=u(async(e,t)=>e.statusCode>=300?L(e,t):(await(0,h.collectBody)(e.body,t),{$metadata:P(e)}),"de_UpdateConfigurationSetSendingEnabledCommand"),WCe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=rAe(r.UpdateConfigurationSetTrackingOptionsResult,t),{$metadata:P(e),...n}},"de_UpdateConfigurationSetTrackingOptionsCommand"),KCe=u(async(e,t)=>e.statusCode>=300?L(e,t):(await(0,h.collectBody)(e.body,t),{$metadata:P(e)}),"de_UpdateCustomVerificationEmailTemplateCommand"),XCe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=nAe(r.UpdateReceiptRuleResult,t),{$metadata:P(e),...n}},"de_UpdateReceiptRuleCommand"),JCe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=iAe(r.UpdateTemplateResult,t),{$metadata:P(e),...n}},"de_UpdateTemplateCommand"),YCe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=oAe(r.VerifyDomainDkimResult,t),{$metadata:P(e),...n}},"de_VerifyDomainDkimCommand"),QCe=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=aAe(r.VerifyDomainIdentityResult,t),{$metadata:P(e),...n}},"de_VerifyDomainIdentityCommand"),ZCe=u(async(e,t)=>e.statusCode>=300?L(e,t):(await(0,h.collectBody)(e.body,t),{$metadata:P(e)}),"de_VerifyEmailAddressCommand"),e0e=u(async(e,t)=>{if(e.statusCode>=300)return L(e,t);let r=await(0,G.parseXmlBody)(e.body,t),n={};return n=cAe(r.VerifyEmailIdentityResult,t),{$metadata:P(e),...n}},"de_VerifyEmailIdentityCommand"),L=u(async(e,t)=>{let r={...e,body:await(0,G.parseXmlErrorBody)(e.body,t)},n=TIe(e,r.body);switch(n){case"AlreadyExists":case"com.amazonaws.ses#AlreadyExistsException":throw await r0e(r,t);case"LimitExceeded":case"com.amazonaws.ses#LimitExceededException":throw await w0e(r,t);case"RuleSetDoesNotExist":case"com.amazonaws.ses#RuleSetDoesNotExistException":throw await O0e(r,t);case"ConfigurationSetAlreadyExists":case"com.amazonaws.ses#ConfigurationSetAlreadyExistsException":throw await i0e(r,t);case"InvalidConfigurationSet":case"com.amazonaws.ses#InvalidConfigurationSetException":throw await f0e(r,t);case"ConfigurationSetDoesNotExist":case"com.amazonaws.ses#ConfigurationSetDoesNotExistException":throw await s0e(r,t);case"EventDestinationAlreadyExists":case"com.amazonaws.ses#EventDestinationAlreadyExistsException":throw await d0e(r,t);case"InvalidCloudWatchDestination":case"com.amazonaws.ses#InvalidCloudWatchDestinationException":throw await m0e(r,t);case"InvalidFirehoseDestination":case"com.amazonaws.ses#InvalidFirehoseDestinationException":throw await g0e(r,t);case"InvalidSNSDestination":case"com.amazonaws.ses#InvalidSNSDestinationException":throw await S0e(r,t);case"InvalidTrackingOptions":case"com.amazonaws.ses#InvalidTrackingOptionsException":throw await C0e(r,t);case"TrackingOptionsAlreadyExistsException":case"com.amazonaws.ses#TrackingOptionsAlreadyExistsException":throw await N0e(r,t);case"CustomVerificationEmailInvalidContent":case"com.amazonaws.ses#CustomVerificationEmailInvalidContentException":throw await a0e(r,t);case"CustomVerificationEmailTemplateAlreadyExists":case"com.amazonaws.ses#CustomVerificationEmailTemplateAlreadyExistsException":throw await c0e(r,t);case"FromEmailAddressNotVerified":case"com.amazonaws.ses#FromEmailAddressNotVerifiedException":throw await p0e(r,t);case"InvalidLambdaFunction":case"com.amazonaws.ses#InvalidLambdaFunctionException":throw await v0e(r,t);case"InvalidS3Configuration":case"com.amazonaws.ses#InvalidS3ConfigurationException":throw await E0e(r,t);case"InvalidSnsTopic":case"com.amazonaws.ses#InvalidSnsTopicException":throw await x0e(r,t);case"RuleDoesNotExist":case"com.amazonaws.ses#RuleDoesNotExistException":throw await I0e(r,t);case"InvalidTemplate":case"com.amazonaws.ses#InvalidTemplateException":throw await b0e(r,t);case"EventDestinationDoesNotExist":case"com.amazonaws.ses#EventDestinationDoesNotExistException":throw await u0e(r,t);case"TrackingOptionsDoesNotExistException":case"com.amazonaws.ses#TrackingOptionsDoesNotExistException":throw await $0e(r,t);case"CannotDelete":case"com.amazonaws.ses#CannotDeleteException":throw await n0e(r,t);case"CustomVerificationEmailTemplateDoesNotExist":case"com.amazonaws.ses#CustomVerificationEmailTemplateDoesNotExistException":throw await l0e(r,t);case"TemplateDoesNotExist":case"com.amazonaws.ses#TemplateDoesNotExistException":throw await D0e(r,t);case"InvalidDeliveryOptions":case"com.amazonaws.ses#InvalidDeliveryOptionsException":throw await h0e(r,t);case"InvalidPolicy":case"com.amazonaws.ses#InvalidPolicyException":throw await _0e(r,t);case"MessageRejected":case"com.amazonaws.ses#MessageRejected":throw await P0e(r,t);case"AccountSendingPausedException":case"com.amazonaws.ses#AccountSendingPausedException":throw await t0e(r,t);case"ConfigurationSetSendingPausedException":case"com.amazonaws.ses#ConfigurationSetSendingPausedException":throw await o0e(r,t);case"MailFromDomainNotVerifiedException":case"com.amazonaws.ses#MailFromDomainNotVerifiedException":throw await R0e(r,t);case"ProductionAccessNotGranted":case"com.amazonaws.ses#ProductionAccessNotGrantedException":throw await A0e(r,t);case"InvalidRenderingParameter":case"com.amazonaws.ses#InvalidRenderingParameterException":throw await y0e(r,t);case"MissingRenderingAttribute":case"com.amazonaws.ses#MissingRenderingAttributeException":throw await T0e(r,t);default:let i=r.body;return dAe({output:e,parsedBody:i.Error,errorCode:n})}},"de_CommandError"),t0e=u(async(e,t)=>{let r=e.body,n=TRe(r.Error,t),i=new AV({$metadata:P(e),...n});return(0,h.decorateServiceException)(i,r)},"de_AccountSendingPausedExceptionRes"),r0e=u(async(e,t)=>{let r=e.body,n=ORe(r.Error,t),i=new DV({$metadata:P(e),...n});return(0,h.decorateServiceException)(i,r)},"de_AlreadyExistsExceptionRes"),n0e=u(async(e,t)=>{let r=e.body,n=kRe(r.Error,t),i=new kV({$metadata:P(e),...n});return(0,h.decorateServiceException)(i,r)},"de_CannotDeleteExceptionRes"),i0e=u(async(e,t)=>{let r=e.body,n=FRe(r.Error,t),i=new HV({$metadata:P(e),...n});return(0,h.decorateServiceException)(i,r)},"de_ConfigurationSetAlreadyExistsExceptionRes"),s0e=u(async(e,t)=>{let r=e.body,n=URe(r.Error,t),i=new WV({$metadata:P(e),...n});return(0,h.decorateServiceException)(i,r)},"de_ConfigurationSetDoesNotExistExceptionRes"),o0e=u(async(e,t)=>{let r=e.body,n=VRe(r.Error,t),i=new JV({$metadata:P(e),...n});return(0,h.decorateServiceException)(i,r)},"de_ConfigurationSetSendingPausedExceptionRes"),a0e=u(async(e,t)=>{let r=e.body,n=YRe(r.Error,t),i=new EH({$metadata:P(e),...n});return(0,h.decorateServiceException)(i,r)},"de_CustomVerificationEmailInvalidContentExceptionRes"),c0e=u(async(e,t)=>{let r=e.body,n=ZRe(r.Error,t),i=new bH({$metadata:P(e),...n});return(0,h.decorateServiceException)(i,r)},"de_CustomVerificationEmailTemplateAlreadyExistsExceptionRes"),l0e=u(async(e,t)=>{let r=e.body,n=ePe(r.Error,t),i=new HH({$metadata:P(e),...n});return(0,h.decorateServiceException)(i,r)},"de_CustomVerificationEmailTemplateDoesNotExistExceptionRes"),d0e=u(async(e,t)=>{let r=e.body,n=_Pe(r.Error,t),i=new rH({$metadata:P(e),...n});return(0,h.decorateServiceException)(i,r)},"de_EventDestinationAlreadyExistsExceptionRes"),u0e=u(async(e,t)=>{let r=e.body,n=yPe(r.Error,t),i=new WH({$metadata:P(e),...n});return(0,h.decorateServiceException)(i,r)},"de_EventDestinationDoesNotExistExceptionRes"),p0e=u(async(e,t)=>{let r=e.body,n=xPe(r.Error,t),i=new RH({$metadata:P(e),...n});return(0,h.decorateServiceException)(i,r)},"de_FromEmailAddressNotVerifiedExceptionRes"),m0e=u(async(e,t)=>{let r=e.body,n=qPe(r.Error,t),i=new sH({$metadata:P(e),...n});return(0,h.decorateServiceException)(i,r)},"de_InvalidCloudWatchDestinationExceptionRes"),f0e=u(async(e,t)=>{let r=e.body,n=LPe(r.Error,t),i=new ZV({$metadata:P(e),...n});return(0,h.decorateServiceException)(i,r)},"de_InvalidConfigurationSetExceptionRes"),h0e=u(async(e,t)=>{let r=e.body,n=FPe(r.Error,t),i=new rB({$metadata:P(e),...n});return(0,h.decorateServiceException)(i,r)},"de_InvalidDeliveryOptionsExceptionRes"),g0e=u(async(e,t)=>{let r=e.body,n=UPe(r.Error,t),i=new cH({$metadata:P(e),...n});return(0,h.decorateServiceException)(i,r)},"de_InvalidFirehoseDestinationExceptionRes"),v0e=u(async(e,t)=>{let r=e.body,n=zPe(r.Error,t),i=new AH({$metadata:P(e),...n});return(0,h.decorateServiceException)(i,r)},"de_InvalidLambdaFunctionExceptionRes"),_0e=u(async(e,t)=>{let r=e.body,n=VPe(r.Error,t),i=new sB({$metadata:P(e),...n});return(0,h.decorateServiceException)(i,r)},"de_InvalidPolicyExceptionRes"),y0e=u(async(e,t)=>{let r=e.body,n=HPe(r.Error,t),i=new cB({$metadata:P(e),...n});return(0,h.decorateServiceException)(i,r)},"de_InvalidRenderingParameterExceptionRes"),E0e=u(async(e,t)=>{let r=e.body,n=BPe(r.Error,t),i=new DH({$metadata:P(e),...n});return(0,h.decorateServiceException)(i,r)},"de_InvalidS3ConfigurationExceptionRes"),S0e=u(async(e,t)=>{let r=e.body,n=GPe(r.Error,t),i=new uH({$metadata:P(e),...n});return(0,h.decorateServiceException)(i,r)},"de_InvalidSNSDestinationExceptionRes"),x0e=u(async(e,t)=>{let r=e.body,n=WPe(r.Error,t),i=new kH({$metadata:P(e),...n});return(0,h.decorateServiceException)(i,r)},"de_InvalidSnsTopicExceptionRes"),b0e=u(async(e,t)=>{let r=e.body,n=KPe(r.Error,t),i=new UH({$metadata:P(e),...n});return(0,h.decorateServiceException)(i,r)},"de_InvalidTemplateExceptionRes"),C0e=u(async(e,t)=>{let r=e.body,n=XPe(r.Error,t),i=new fH({$metadata:P(e),...n});return(0,h.decorateServiceException)(i,r)},"de_InvalidTrackingOptionsExceptionRes"),w0e=u(async(e,t)=>{let r=e.body,n=QPe(r.Error,t),i=new qV({$metadata:P(e),...n});return(0,h.decorateServiceException)(i,r)},"de_LimitExceededExceptionRes"),R0e=u(async(e,t)=>{let r=e.body,n=cTe(r.Error,t),i=new uB({$metadata:P(e),...n});return(0,h.decorateServiceException)(i,r)},"de_MailFromDomainNotVerifiedExceptionRes"),P0e=u(async(e,t)=>{let r=e.body,n=lTe(r.Error,t),i=new fB({$metadata:P(e),...n});return(0,h.decorateServiceException)(i,r)},"de_MessageRejectedRes"),T0e=u(async(e,t)=>{let r=e.body,n=dTe(r.Error,t),i=new vB({$metadata:P(e),...n});return(0,h.decorateServiceException)(i,r)},"de_MissingRenderingAttributeExceptionRes"),A0e=u(async(e,t)=>{let r=e.body,n=fTe(r.Error,t),i=new EB({$metadata:P(e),...n});return(0,h.decorateServiceException)(i,r)},"de_ProductionAccessNotGrantedExceptionRes"),I0e=u(async(e,t)=>{let r=e.body,n=RTe(r.Error,t),i=new qH({$metadata:P(e),...n});return(0,h.decorateServiceException)(i,r)},"de_RuleDoesNotExistExceptionRes"),O0e=u(async(e,t)=>{let r=e.body,n=PTe(r.Error,t),i=new UV({$metadata:P(e),...n});return(0,h.decorateServiceException)(i,r)},"de_RuleSetDoesNotExistExceptionRes"),D0e=u(async(e,t)=>{let r=e.body,n=KTe(r.Error,t),i=new ZH({$metadata:P(e),...n});return(0,h.decorateServiceException)(i,r)},"de_TemplateDoesNotExistExceptionRes"),N0e=u(async(e,t)=>{let r=e.body,n=ZTe(r.Error,t),i=new vH({$metadata:P(e),...n});return(0,h.decorateServiceException)(i,r)},"de_TrackingOptionsAlreadyExistsExceptionRes"),$0e=u(async(e,t)=>{let r=e.body,n=eAe(r.Error,t),i=new JH({$metadata:P(e),...n});return(0,h.decorateServiceException)(i,r)},"de_TrackingOptionsDoesNotExistExceptionRes"),k0e=u((e,t)=>{let r={};return e[Pa]!=null&&(r[Pa]=e[Pa]),e[Aa]!=null&&(r[Aa]=e[Aa]),r},"se_AddHeaderAction"),Ds=u((e,t)=>{let r={},n=1;for(let i of e)i!==null&&(r[`member.${n}`]=i,n++);return r},"se_AddressList"),M0e=u((e,t)=>{let r={};if(e[xV]!=null){let n=Kx(e[xV],t);Object.entries(n).forEach(([i,s])=>{let o=`Text.${i}`;r[o]=s})}if(e[vV]!=null){let n=Kx(e[vV],t);Object.entries(n).forEach(([i,s])=>{let o=`Html.${i}`;r[o]=s})}return r},"se_Body"),j0e=u((e,t)=>{let r={};return e[ge]!=null&&(r[ge]=e[ge]),e[Va]!=null&&(r[Va]=e[Va]),e[Fa]!=null&&(r[Fa]=e[Fa]),e[Yi]!=null&&(r[Yi]=e[Yi]),e[La]!=null&&(r[La]=e[La]),r},"se_BounceAction"),q0e=u((e,t)=>{let r={};if(e[Ax]!=null&&(r[Ax]=e[Ax]),e[Ix]!=null&&(r[Ix]=e[Ix]),e[YS]!=null&&(r[YS]=e[YS]),e[yV]!=null){let n=Kwe(e[yV],t);Object.entries(n).forEach(([i,s])=>{let o=`RecipientDsnFields.${i}`;r[o]=s})}return r},"se_BouncedRecipientInfo"),L0e=u((e,t)=>{let r={},n=1;for(let i of e){if(i===null)continue;let s=q0e(i,t);Object.entries(s).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},"se_BouncedRecipientInfoList"),F0e=u((e,t)=>{var r;let n={};if(e[Ya]!=null){let i=Xx(e[Ya],t);Object.entries(i).forEach(([s,o])=>{let a=`Destination.${s}`;n[a]=o})}if(e[Mx]!=null){let i=Hd(e[Mx],t);((r=e[Mx])==null?void 0:r.length)===0&&(n.ReplacementTags=[]),Object.entries(i).forEach(([s,o])=>{let a=`ReplacementTags.${s}`;n[a]=o})}return e[jx]!=null&&(n[jx]=e[jx]),n},"se_BulkEmailDestination"),U0e=u((e,t)=>{let r={},n=1;for(let i of e){if(i===null)continue;let s=F0e(i,t);Object.entries(s).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},"se_BulkEmailDestinationList"),z0e=u((e,t)=>{let r={};return e[we]!=null&&(r[we]=e[we]),e[Tx]!=null&&(r[Tx]=e[Tx]),r},"se_CloneReceiptRuleSetRequest"),V0e=u((e,t)=>{var r;let n={};if(e[Wi]!=null){let i=B0e(e[Wi],t);((r=e[Wi])==null?void 0:r.length)===0&&(n.DimensionConfigurations=[]),Object.entries(i).forEach(([s,o])=>{let a=`DimensionConfigurations.${s}`;n[a]=o})}return n},"se_CloudWatchDestination"),H0e=u((e,t)=>{let r={};return e[_a]!=null&&(r[_a]=e[_a]),e[Ea]!=null&&(r[Ea]=e[Ea]),e[ga]!=null&&(r[ga]=e[ga]),r},"se_CloudWatchDimensionConfiguration"),B0e=u((e,t)=>{let r={},n=1;for(let i of e){if(i===null)continue;let s=H0e(i,t);Object.entries(s).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},"se_CloudWatchDimensionConfigurations"),G0e=u((e,t)=>{let r={};return e[ie]!=null&&(r[ie]=e[ie]),r},"se_ConfigurationSet"),W0e=u((e,t)=>{let r={},n=1;for(let i of e)i!==null&&(r[`member.${n}`]=i,n++);return r},"se_ConfigurationSetAttributeList"),Kx=u((e,t)=>{let r={};return e[Sa]!=null&&(r[Sa]=e[Sa]),e[tx]!=null&&(r[tx]=e[tx]),r},"se_Content"),K0e=u((e,t)=>{let r={};if(e[O]!=null&&(r[O]=e[O]),e[Yf]!=null){let n=SB(e[Yf],t);Object.entries(n).forEach(([i,s])=>{let o=`EventDestination.${i}`;r[o]=s})}return r},"se_CreateConfigurationSetEventDestinationRequest"),X0e=u((e,t)=>{let r={};if(e[Dd]!=null){let n=G0e(e[Dd],t);Object.entries(n).forEach(([i,s])=>{let o=`ConfigurationSet.${i}`;r[o]=s})}return r},"se_CreateConfigurationSetRequest"),J0e=u((e,t)=>{let r={};if(e[O]!=null&&(r[O]=e[O]),e[$s]!=null){let n=wB(e[$s],t);Object.entries(n).forEach(([i,s])=>{let o=`TrackingOptions.${i}`;r[o]=s})}return r},"se_CreateConfigurationSetTrackingOptionsRequest"),Y0e=u((e,t)=>{let r={};return e[se]!=null&&(r[se]=e[se]),e[Mt]!=null&&(r[Mt]=e[Mt]),e[br]!=null&&(r[br]=e[br]),e[ti]!=null&&(r[ti]=e[ti]),e[Er]!=null&&(r[Er]=e[Er]),e[vr]!=null&&(r[vr]=e[vr]),r},"se_CreateCustomVerificationEmailTemplateRequest"),Q0e=u((e,t)=>{let r={};if(e[gV]!=null){let n=Bwe(e[gV],t);Object.entries(n).forEach(([i,s])=>{let o=`Filter.${i}`;r[o]=s})}return r},"se_CreateReceiptFilterRequest"),Z0e=u((e,t)=>{let r={};if(e[we]!=null&&(r[we]=e[we]),e[la]!=null&&(r[la]=e[la]),e[Ns]!=null){let n=bB(e[Ns],t);Object.entries(n).forEach(([i,s])=>{let o=`Rule.${i}`;r[o]=s})}return r},"se_CreateReceiptRuleRequest"),ewe=u((e,t)=>{let r={};return e[we]!=null&&(r[we]=e[we]),r},"se_CreateReceiptRuleSetRequest"),twe=u((e,t)=>{let r={};if(e[Wt]!=null){let n=CB(e[Wt],t);Object.entries(n).forEach(([i,s])=>{let o=`Template.${i}`;r[o]=s})}return r},"se_CreateTemplateRequest"),rwe=u((e,t)=>{let r={};return e[O]!=null&&(r[O]=e[O]),e[ct]!=null&&(r[ct]=e[ct]),r},"se_DeleteConfigurationSetEventDestinationRequest"),nwe=u((e,t)=>{let r={};return e[O]!=null&&(r[O]=e[O]),r},"se_DeleteConfigurationSetRequest"),iwe=u((e,t)=>{let r={};return e[O]!=null&&(r[O]=e[O]),r},"se_DeleteConfigurationSetTrackingOptionsRequest"),swe=u((e,t)=>{let r={};return e[se]!=null&&(r[se]=e[se]),r},"se_DeleteCustomVerificationEmailTemplateRequest"),owe=u((e,t)=>{let r={};return e[Ie]!=null&&(r[Ie]=e[Ie]),e[qa]!=null&&(r[qa]=e[qa]),r},"se_DeleteIdentityPolicyRequest"),awe=u((e,t)=>{let r={};return e[Ie]!=null&&(r[Ie]=e[Ie]),r},"se_DeleteIdentityRequest"),cwe=u((e,t)=>{let r={};return e[hx]!=null&&(r[hx]=e[hx]),r},"se_DeleteReceiptFilterRequest"),lwe=u((e,t)=>{let r={};return e[we]!=null&&(r[we]=e[we]),e[Qn]!=null&&(r[Qn]=e[Qn]),r},"se_DeleteReceiptRuleRequest"),dwe=u((e,t)=>{let r={};return e[we]!=null&&(r[we]=e[we]),r},"se_DeleteReceiptRuleSetRequest"),uwe=u((e,t)=>{let r={};return e[se]!=null&&(r[se]=e[se]),r},"se_DeleteTemplateRequest"),pwe=u((e,t)=>{let r={};return e[gr]!=null&&(r[gr]=e[gr]),r},"se_DeleteVerifiedEmailAddressRequest"),mwe=u((e,t)=>{let r={};return e[xr]!=null&&(r[xr]=e[xr]),r},"se_DeliveryOptions"),fwe=u((e,t)=>({}),"se_DescribeActiveReceiptRuleSetRequest"),hwe=u((e,t)=>{var r;let n={};if(e[O]!=null&&(n[O]=e[O]),e[nx]!=null){let i=W0e(e[nx],t);((r=e[nx])==null?void 0:r.length)===0&&(n.ConfigurationSetAttributeNames=[]),Object.entries(i).forEach(([s,o])=>{let a=`ConfigurationSetAttributeNames.${s}`;n[a]=o})}return n},"se_DescribeConfigurationSetRequest"),gwe=u((e,t)=>{let r={};return e[we]!=null&&(r[we]=e[we]),e[Qn]!=null&&(r[Qn]=e[Qn]),r},"se_DescribeReceiptRuleRequest"),vwe=u((e,t)=>{let r={};return e[we]!=null&&(r[we]=e[we]),r},"se_DescribeReceiptRuleSetRequest"),Xx=u((e,t)=>{var r,n,i;let s={};if(e[Vx]!=null){let o=Ds(e[Vx],t);((r=e[Vx])==null?void 0:r.length)===0&&(s.ToAddresses=[]),Object.entries(o).forEach(([a,c])=>{let l=`ToAddresses.${a}`;s[l]=c})}if(e[rx]!=null){let o=Ds(e[rx],t);((n=e[rx])==null?void 0:n.length)===0&&(s.CcAddresses=[]),Object.entries(o).forEach(([a,c])=>{let l=`CcAddresses.${a}`;s[l]=c})}if(e[WS]!=null){let o=Ds(e[WS],t);((i=e[WS])==null?void 0:i.length)===0&&(s.BccAddresses=[]),Object.entries(o).forEach(([a,c])=>{let l=`BccAddresses.${a}`;s[l]=c})}return s},"se_Destination"),SB=u((e,t)=>{var r;let n={};if(e[ie]!=null&&(n[ie]=e[ie]),e[qe]!=null&&(n[qe]=e[qe]),e[Ki]!=null){let i=_we(e[Ki],t);((r=e[Ki])==null?void 0:r.length)===0&&(n.MatchingEventTypes=[]),Object.entries(i).forEach(([s,o])=>{let a=`MatchingEventTypes.${s}`;n[a]=o})}if(e[Md]!=null){let i=Pwe(e[Md],t);Object.entries(i).forEach(([s,o])=>{let a=`KinesisFirehoseDestination.${s}`;n[a]=o})}if(e[Nd]!=null){let i=V0e(e[Nd],t);Object.entries(i).forEach(([s,o])=>{let a=`CloudWatchDestination.${s}`;n[a]=o})}if(e[Ud]!=null){let i=pRe(e[Ud],t);Object.entries(i).forEach(([s,o])=>{let a=`SNSDestination.${s}`;n[a]=o})}return n},"se_EventDestination"),_we=u((e,t)=>{let r={},n=1;for(let i of e)i!==null&&(r[`member.${n}`]=i,n++);return r},"se_EventTypes"),ywe=u((e,t)=>{let r={};return e[ie]!=null&&(r[ie]=e[ie]),e[Ja]!=null&&(r[Ja]=e[Ja]),r},"se_ExtensionField"),xB=u((e,t)=>{let r={},n=1;for(let i of e){if(i===null)continue;let s=ywe(i,t);Object.entries(s).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},"se_ExtensionFieldList"),Ewe=u((e,t)=>{let r={};return e[se]!=null&&(r[se]=e[se]),r},"se_GetCustomVerificationEmailTemplateRequest"),Swe=u((e,t)=>{var r;let n={};if(e[_t]!=null){let i=eh(e[_t],t);((r=e[_t])==null?void 0:r.length)===0&&(n.Identities=[]),Object.entries(i).forEach(([s,o])=>{let a=`Identities.${s}`;n[a]=o})}return n},"se_GetIdentityDkimAttributesRequest"),xwe=u((e,t)=>{var r;let n={};if(e[_t]!=null){let i=eh(e[_t],t);((r=e[_t])==null?void 0:r.length)===0&&(n.Identities=[]),Object.entries(i).forEach(([s,o])=>{let a=`Identities.${s}`;n[a]=o})}return n},"se_GetIdentityMailFromDomainAttributesRequest"),bwe=u((e,t)=>{var r;let n={};if(e[_t]!=null){let i=eh(e[_t],t);((r=e[_t])==null?void 0:r.length)===0&&(n.Identities=[]),Object.entries(i).forEach(([s,o])=>{let a=`Identities.${s}`;n[a]=o})}return n},"se_GetIdentityNotificationAttributesRequest"),Cwe=u((e,t)=>{var r;let n={};if(e[Ie]!=null&&(n[Ie]=e[Ie]),e[Xi]!=null){let i=Lwe(e[Xi],t);((r=e[Xi])==null?void 0:r.length)===0&&(n.PolicyNames=[]),Object.entries(i).forEach(([s,o])=>{let a=`PolicyNames.${s}`;n[a]=o})}return n},"se_GetIdentityPoliciesRequest"),wwe=u((e,t)=>{var r;let n={};if(e[_t]!=null){let i=eh(e[_t],t);((r=e[_t])==null?void 0:r.length)===0&&(n.Identities=[]),Object.entries(i).forEach(([s,o])=>{let a=`Identities.${s}`;n[a]=o})}return n},"se_GetIdentityVerificationAttributesRequest"),Rwe=u((e,t)=>{let r={};return e[se]!=null&&(r[se]=e[se]),r},"se_GetTemplateRequest"),eh=u((e,t)=>{let r={},n=1;for(let i of e)i!==null&&(r[`member.${n}`]=i,n++);return r},"se_IdentityList"),Pwe=u((e,t)=>{let r={};return e[Ia]!=null&&(r[Ia]=e[Ia]),e[ya]!=null&&(r[ya]=e[ya]),r},"se_KinesisFirehoseDestination"),Twe=u((e,t)=>{let r={};return e[ge]!=null&&(r[ge]=e[ge]),e[Xn]!=null&&(r[Xn]=e[Xn]),e[Oa]!=null&&(r[Oa]=e[Oa]),r},"se_LambdaAction"),Awe=u((e,t)=>{let r={};return e[Oe]!=null&&(r[Oe]=e[Oe]),e[Jn]!=null&&(r[Jn]=e[Jn]),r},"se_ListConfigurationSetsRequest"),Iwe=u((e,t)=>{let r={};return e[Oe]!=null&&(r[Oe]=e[Oe]),e[wx]!=null&&(r[wx]=e[wx]),r},"se_ListCustomVerificationEmailTemplatesRequest"),Owe=u((e,t)=>{let r={};return e[Ex]!=null&&(r[Ex]=e[Ex]),e[Oe]!=null&&(r[Oe]=e[Oe]),e[Jn]!=null&&(r[Jn]=e[Jn]),r},"se_ListIdentitiesRequest"),Dwe=u((e,t)=>{let r={};return e[Ie]!=null&&(r[Ie]=e[Ie]),r},"se_ListIdentityPoliciesRequest"),Nwe=u((e,t)=>({}),"se_ListReceiptFiltersRequest"),$we=u((e,t)=>{let r={};return e[Oe]!=null&&(r[Oe]=e[Oe]),r},"se_ListReceiptRuleSetsRequest"),kwe=u((e,t)=>{let r={};return e[Oe]!=null&&(r[Oe]=e[Oe]),e[Jn]!=null&&(r[Jn]=e[Jn]),r},"se_ListTemplatesRequest"),Mwe=u((e,t)=>{let r={};if(e[SV]!=null){let n=Kx(e[SV],t);Object.entries(n).forEach(([i,s])=>{let o=`Subject.${i}`;r[o]=s})}if(e[hV]!=null){let n=M0e(e[hV],t);Object.entries(n).forEach(([i,s])=>{let o=`Body.${i}`;r[o]=s})}return r},"se_Message"),jwe=u((e,t)=>{var r;let n={};if(e[Ox]!=null&&(n[Ox]=e[Ox]),e[GS]!=null&&(n[GS]=e[GS].toISOString().split(".")[0]+"Z"),e[Ca]!=null){let i=xB(e[Ca],t);((r=e[Ca])==null?void 0:r.length)===0&&(n.ExtensionFields=[]),Object.entries(i).forEach(([s,o])=>{let a=`ExtensionFields.${s}`;n[a]=o})}return n},"se_MessageDsn"),qwe=u((e,t)=>{let r={};return e[ie]!=null&&(r[ie]=e[ie]),e[Ja]!=null&&(r[Ja]=e[Ja]),r},"se_MessageTag"),Hd=u((e,t)=>{let r={},n=1;for(let i of e){if(i===null)continue;let s=qwe(i,t);Object.entries(s).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},"se_MessageTagList"),Lwe=u((e,t)=>{let r={},n=1;for(let i of e)i!==null&&(r[`member.${n}`]=i,n++);return r},"se_PolicyNameList"),Fwe=u((e,t)=>{let r={};if(e[O]!=null&&(r[O]=e[O]),e[$d]!=null){let n=mwe(e[$d],t);Object.entries(n).forEach(([i,s])=>{let o=`DeliveryOptions.${i}`;r[o]=s})}return r},"se_PutConfigurationSetDeliveryOptionsRequest"),Uwe=u((e,t)=>{let r={};return e[Ie]!=null&&(r[Ie]=e[Ie]),e[qa]!=null&&(r[qa]=e[qa]),e[Yn]!=null&&(r[Yn]=e[Yn]),r},"se_PutIdentityPolicyRequest"),zwe=u((e,t)=>{let r={};return e[Sa]!=null&&(r[Sa]=t.base64Encoder(e[Sa])),r},"se_RawMessage"),Vwe=u((e,t)=>{let r={};if(e[qd]!=null){let n=Ywe(e[qd],t);Object.entries(n).forEach(([i,s])=>{let o=`S3Action.${i}`;r[o]=s})}if(e[Od]!=null){let n=j0e(e[Od],t);Object.entries(n).forEach(([i,s])=>{let o=`BounceAction.${i}`;r[o]=s})}if(e[zd]!=null){let n=PRe(e[zd],t);Object.entries(n).forEach(([i,s])=>{let o=`WorkmailAction.${i}`;r[o]=s})}if(e[jd]!=null){let n=Twe(e[jd],t);Object.entries(n).forEach(([i,s])=>{let o=`LambdaAction.${i}`;r[o]=s})}if(e[Ld]!=null){let n=mRe(e[Ld],t);Object.entries(n).forEach(([i,s])=>{let o=`StopAction.${i}`;r[o]=s})}if(e[Id]!=null){let n=k0e(e[Id],t);Object.entries(n).forEach(([i,s])=>{let o=`AddHeaderAction.${i}`;r[o]=s})}if(e[Fd]!=null){let n=uRe(e[Fd],t);Object.entries(n).forEach(([i,s])=>{let o=`SNSAction.${i}`;r[o]=s})}return r},"se_ReceiptAction"),Hwe=u((e,t)=>{let r={},n=1;for(let i of e){if(i===null)continue;let s=Vwe(i,t);Object.entries(s).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},"se_ReceiptActionsList"),Bwe=u((e,t)=>{let r={};if(e[ie]!=null&&(r[ie]=e[ie]),e[kd]!=null){let n=Gwe(e[kd],t);Object.entries(n).forEach(([i,s])=>{let o=`IpFilter.${i}`;r[o]=s})}return r},"se_ReceiptFilter"),Gwe=u((e,t)=>{let r={};return e[Yn]!=null&&(r[Yn]=e[Yn]),e[ha]!=null&&(r[ha]=e[ha]),r},"se_ReceiptIpFilter"),bB=u((e,t)=>{var r,n;let i={};if(e[ie]!=null&&(i[ie]=e[ie]),e[qe]!=null&&(i[qe]=e[qe]),e[xr]!=null&&(i[xr]=e[xr]),e[Ji]!=null){let s=Xwe(e[Ji],t);((r=e[Ji])==null?void 0:r.length)===0&&(i.Recipients=[]),Object.entries(s).forEach(([o,a])=>{let c=`Recipients.${o}`;i[c]=a})}if(e[Gi]!=null){let s=Hwe(e[Gi],t);((n=e[Gi])==null?void 0:n.length)===0&&(i.Actions=[]),Object.entries(s).forEach(([o,a])=>{let c=`Actions.${o}`;i[c]=a})}return e[Ua]!=null&&(i[Ua]=e[Ua]),i},"se_ReceiptRule"),Wwe=u((e,t)=>{let r={},n=1;for(let i of e)i!==null&&(r[`member.${n}`]=i,n++);return r},"se_ReceiptRuleNamesList"),Kwe=u((e,t)=>{var r;let n={};if(e[gx]!=null&&(n[gx]=e[gx]),e[N]!=null&&(n[N]=e[N]),e[Nx]!=null&&(n[Nx]=e[Nx]),e[Fr]!=null&&(n[Fr]=e[Fr]),e[ax]!=null&&(n[ax]=e[ax]),e[Sx]!=null&&(n[Sx]=e[Sx].toISOString().split(".")[0]+"Z"),e[Ca]!=null){let i=xB(e[Ca],t);((r=e[Ca])==null?void 0:r.length)===0&&(n.ExtensionFields=[]),Object.entries(i).forEach(([s,o])=>{let a=`ExtensionFields.${s}`;n[a]=o})}return n},"se_RecipientDsnFields"),Xwe=u((e,t)=>{let r={},n=1;for(let i of e)i!==null&&(r[`member.${n}`]=i,n++);return r},"se_RecipientsList"),Jwe=u((e,t)=>{var r;let n={};if(e[we]!=null&&(n[we]=e[we]),e[$x]!=null){let i=Wwe(e[$x],t);((r=e[$x])==null?void 0:r.length)===0&&(n.RuleNames=[]),Object.entries(i).forEach(([s,o])=>{let a=`RuleNames.${s}`;n[a]=o})}return n},"se_ReorderReceiptRuleSetRequest"),Ywe=u((e,t)=>{let r={};return e[ge]!=null&&(r[ge]=e[ge]),e[da]!=null&&(r[da]=e[da]),e[ja]!=null&&(r[ja]=e[ja]),e[Da]!=null&&(r[Da]=e[Da]),r},"se_S3Action"),Qwe=u((e,t)=>{var r;let n={};if(e[Px]!=null&&(n[Px]=e[Px]),e[XS]!=null&&(n[XS]=e[XS]),e[mx]!=null&&(n[mx]=e[mx]),e[_V]!=null){let i=jwe(e[_V],t);Object.entries(i).forEach(([s,o])=>{let a=`MessageDsn.${s}`;n[a]=o})}if(e[KS]!=null){let i=L0e(e[KS],t);((r=e[KS])==null?void 0:r.length)===0&&(n.BouncedRecipientInfoList=[]),Object.entries(i).forEach(([s,o])=>{let a=`BouncedRecipientInfoList.${s}`;n[a]=o})}return e[JS]!=null&&(n[JS]=e[JS]),n},"se_SendBounceRequest"),Zwe=u((e,t)=>{var r,n,i;let s={};if(e[Sr]!=null&&(s[Sr]=e[Sr]),e[yr]!=null&&(s[yr]=e[yr]),e[ei]!=null){let o=Ds(e[ei],t);((r=e[ei])==null?void 0:r.length)===0&&(s.ReplyToAddresses=[]),Object.entries(o).forEach(([a,c])=>{let l=`ReplyToAddresses.${a}`;s[l]=c})}if(e[Zn]!=null&&(s[Zn]=e[Zn]),e[_r]!=null&&(s[_r]=e[_r]),e[O]!=null&&(s[O]=e[O]),e[lx]!=null){let o=Hd(e[lx],t);((n=e[lx])==null?void 0:n.length)===0&&(s.DefaultTags=[]),Object.entries(o).forEach(([a,c])=>{let l=`DefaultTags.${a}`;s[l]=c})}if(e[Wt]!=null&&(s[Wt]=e[Wt]),e[Ga]!=null&&(s[Ga]=e[Ga]),e[cx]!=null&&(s[cx]=e[cx]),e[xa]!=null){let o=U0e(e[xa],t);((i=e[xa])==null?void 0:i.length)===0&&(s.Destinations=[]),Object.entries(o).forEach(([a,c])=>{let l=`Destinations.${a}`;s[l]=c})}return s},"se_SendBulkTemplatedEmailRequest"),eRe=u((e,t)=>{let r={};return e[gr]!=null&&(r[gr]=e[gr]),e[se]!=null&&(r[se]=e[se]),e[O]!=null&&(r[O]=e[O]),r},"se_SendCustomVerificationEmailRequest"),tRe=u((e,t)=>{var r,n;let i={};if(e[Sr]!=null&&(i[Sr]=e[Sr]),e[Ya]!=null){let s=Xx(e[Ya],t);Object.entries(s).forEach(([o,a])=>{let c=`Destination.${o}`;i[c]=a})}if(e[Yi]!=null){let s=Mwe(e[Yi],t);Object.entries(s).forEach(([o,a])=>{let c=`Message.${o}`;i[c]=a})}if(e[ei]!=null){let s=Ds(e[ei],t);((r=e[ei])==null?void 0:r.length)===0&&(i.ReplyToAddresses=[]),Object.entries(s).forEach(([o,a])=>{let c=`ReplyToAddresses.${o}`;i[c]=a})}if(e[Zn]!=null&&(i[Zn]=e[Zn]),e[yr]!=null&&(i[yr]=e[yr]),e[_r]!=null&&(i[_r]=e[_r]),e[ri]!=null){let s=Hd(e[ri],t);((n=e[ri])==null?void 0:n.length)===0&&(i.Tags=[]),Object.entries(s).forEach(([o,a])=>{let c=`Tags.${o}`;i[c]=a})}return e[O]!=null&&(i[O]=e[O]),i},"se_SendEmailRequest"),rRe=u((e,t)=>{var r,n;let i={};if(e[Sr]!=null&&(i[Sr]=e[Sr]),e[xa]!=null){let s=Ds(e[xa],t);((r=e[xa])==null?void 0:r.length)===0&&(i.Destinations=[]),Object.entries(s).forEach(([o,a])=>{let c=`Destinations.${o}`;i[c]=a})}if(e[EV]!=null){let s=zwe(e[EV],t);Object.entries(s).forEach(([o,a])=>{let c=`RawMessage.${o}`;i[c]=a})}if(e[fx]!=null&&(i[fx]=e[fx]),e[yr]!=null&&(i[yr]=e[yr]),e[_r]!=null&&(i[_r]=e[_r]),e[ri]!=null){let s=Hd(e[ri],t);((n=e[ri])==null?void 0:n.length)===0&&(i.Tags=[]),Object.entries(s).forEach(([o,a])=>{let c=`Tags.${o}`;i[c]=a})}return e[O]!=null&&(i[O]=e[O]),i},"se_SendRawEmailRequest"),nRe=u((e,t)=>{var r,n;let i={};if(e[Sr]!=null&&(i[Sr]=e[Sr]),e[Ya]!=null){let s=Xx(e[Ya],t);Object.entries(s).forEach(([o,a])=>{let c=`Destination.${o}`;i[c]=a})}if(e[ei]!=null){let s=Ds(e[ei],t);((r=e[ei])==null?void 0:r.length)===0&&(i.ReplyToAddresses=[]),Object.entries(s).forEach(([o,a])=>{let c=`ReplyToAddresses.${o}`;i[c]=a})}if(e[Zn]!=null&&(i[Zn]=e[Zn]),e[yr]!=null&&(i[yr]=e[yr]),e[_r]!=null&&(i[_r]=e[_r]),e[ri]!=null){let s=Hd(e[ri],t);((n=e[ri])==null?void 0:n.length)===0&&(i.Tags=[]),Object.entries(s).forEach(([o,a])=>{let c=`Tags.${o}`;i[c]=a})}return e[O]!=null&&(i[O]=e[O]),e[Wt]!=null&&(i[Wt]=e[Wt]),e[Ga]!=null&&(i[Ga]=e[Ga]),e[Wa]!=null&&(i[Wa]=e[Wa]),i},"se_SendTemplatedEmailRequest"),iRe=u((e,t)=>{let r={};return e[we]!=null&&(r[we]=e[we]),r},"se_SetActiveReceiptRuleSetRequest"),sRe=u((e,t)=>{let r={};return e[Ie]!=null&&(r[Ie]=e[Ie]),e[va]!=null&&(r[va]=e[va]),r},"se_SetIdentityDkimEnabledRequest"),oRe=u((e,t)=>{let r={};return e[Ie]!=null&&(r[Ie]=e[Ie]),e[Ra]!=null&&(r[Ra]=e[Ra]),r},"se_SetIdentityFeedbackForwardingEnabledRequest"),aRe=u((e,t)=>{let r={};return e[Ie]!=null&&(r[Ie]=e[Ie]),e[ka]!=null&&(r[ka]=e[ka]),e[qe]!=null&&(r[qe]=e[qe]),r},"se_SetIdentityHeadersInNotificationsEnabledRequest"),cRe=u((e,t)=>{let r={};return e[Ie]!=null&&(r[Ie]=e[Ie]),e[Na]!=null&&(r[Na]=e[Na]),e[ua]!=null&&(r[ua]=e[ua]),r},"se_SetIdentityMailFromDomainRequest"),lRe=u((e,t)=>{let r={};return e[Ie]!=null&&(r[Ie]=e[Ie]),e[ka]!=null&&(r[ka]=e[ka]),e[zx]!=null&&(r[zx]=e[zx]),r},"se_SetIdentityNotificationTopicRequest"),dRe=u((e,t)=>{let r={};return e[we]!=null&&(r[we]=e[we]),e[Qn]!=null&&(r[Qn]=e[Qn]),e[la]!=null&&(r[la]=e[la]),r},"se_SetReceiptRulePositionRequest"),uRe=u((e,t)=>{let r={};return e[ge]!=null&&(r[ge]=e[ge]),e[wa]!=null&&(r[wa]=e[wa]),r},"se_SNSAction"),pRe=u((e,t)=>{let r={};return e[Ba]!=null&&(r[Ba]=e[Ba]),r},"se_SNSDestination"),mRe=u((e,t)=>{let r={};return e[Ha]!=null&&(r[Ha]=e[Ha]),e[ge]!=null&&(r[ge]=e[ge]),r},"se_StopAction"),CB=u((e,t)=>{let r={};return e[se]!=null&&(r[se]=e[se]),e[za]!=null&&(r[za]=e[za]),e[Ka]!=null&&(r[Ka]=e[Ka]),e[Ta]!=null&&(r[Ta]=e[Ta]),r},"se_Template"),fRe=u((e,t)=>{let r={};return e[se]!=null&&(r[se]=e[se]),e[Wa]!=null&&(r[Wa]=e[Wa]),r},"se_TestRenderTemplateRequest"),wB=u((e,t)=>{let r={};return e[pa]!=null&&(r[pa]=e[pa]),r},"se_TrackingOptions"),hRe=u((e,t)=>{let r={};return e[qe]!=null&&(r[qe]=e[qe]),r},"se_UpdateAccountSendingEnabledRequest"),gRe=u((e,t)=>{let r={};if(e[O]!=null&&(r[O]=e[O]),e[Yf]!=null){let n=SB(e[Yf],t);Object.entries(n).forEach(([i,s])=>{let o=`EventDestination.${i}`;r[o]=s})}return r},"se_UpdateConfigurationSetEventDestinationRequest"),vRe=u((e,t)=>{let r={};return e[O]!=null&&(r[O]=e[O]),e[qe]!=null&&(r[qe]=e[qe]),r},"se_UpdateConfigurationSetReputationMetricsEnabledRequest"),_Re=u((e,t)=>{let r={};return e[O]!=null&&(r[O]=e[O]),e[qe]!=null&&(r[qe]=e[qe]),r},"se_UpdateConfigurationSetSendingEnabledRequest"),yRe=u((e,t)=>{let r={};if(e[O]!=null&&(r[O]=e[O]),e[$s]!=null){let n=wB(e[$s],t);Object.entries(n).forEach(([i,s])=>{let o=`TrackingOptions.${i}`;r[o]=s})}return r},"se_UpdateConfigurationSetTrackingOptionsRequest"),ERe=u((e,t)=>{let r={};return e[se]!=null&&(r[se]=e[se]),e[Mt]!=null&&(r[Mt]=e[Mt]),e[br]!=null&&(r[br]=e[br]),e[ti]!=null&&(r[ti]=e[ti]),e[Er]!=null&&(r[Er]=e[Er]),e[vr]!=null&&(r[vr]=e[vr]),r},"se_UpdateCustomVerificationEmailTemplateRequest"),SRe=u((e,t)=>{let r={};if(e[we]!=null&&(r[we]=e[we]),e[Ns]!=null){let n=bB(e[Ns],t);Object.entries(n).forEach(([i,s])=>{let o=`Rule.${i}`;r[o]=s})}return r},"se_UpdateReceiptRuleRequest"),xRe=u((e,t)=>{let r={};if(e[Wt]!=null){let n=CB(e[Wt],t);Object.entries(n).forEach(([i,s])=>{let o=`Template.${i}`;r[o]=s})}return r},"se_UpdateTemplateRequest"),bRe=u((e,t)=>{let r={};return e[ba]!=null&&(r[ba]=e[ba]),r},"se_VerifyDomainDkimRequest"),CRe=u((e,t)=>{let r={};return e[ba]!=null&&(r[ba]=e[ba]),r},"se_VerifyDomainIdentityRequest"),wRe=u((e,t)=>{let r={};return e[gr]!=null&&(r[gr]=e[gr]),r},"se_VerifyEmailAddressRequest"),RRe=u((e,t)=>{let r={};return e[gr]!=null&&(r[gr]=e[gr]),r},"se_VerifyEmailIdentityRequest"),PRe=u((e,t)=>{let r={};return e[ge]!=null&&(r[ge]=e[ge]),e[Ma]!=null&&(r[Ma]=e[Ma]),r},"se_WorkmailAction"),TRe=u((e,t)=>{let r={};return e[T]!=null&&(r[T]=(0,h.expectString)(e[T])),r},"de_AccountSendingPausedException"),ARe=u((e,t)=>{let r={};return e[Pa]!=null&&(r[Pa]=(0,h.expectString)(e[Pa])),e[Aa]!=null&&(r[Aa]=(0,h.expectString)(e[Aa])),r},"de_AddHeaderAction"),IRe=u((e,t)=>(e||[]).filter(r=>r!=null).map(r=>(0,h.expectString)(r)),"de_AddressList"),ORe=u((e,t)=>{let r={};return e[ie]!=null&&(r[ie]=(0,h.expectString)(e[ie])),e[T]!=null&&(r[T]=(0,h.expectString)(e[T])),r},"de_AlreadyExistsException"),DRe=u((e,t)=>{let r={};return e[ge]!=null&&(r[ge]=(0,h.expectString)(e[ge])),e[Va]!=null&&(r[Va]=(0,h.expectString)(e[Va])),e[Fa]!=null&&(r[Fa]=(0,h.expectString)(e[Fa])),e[Yi]!=null&&(r[Yi]=(0,h.expectString)(e[Yi])),e[La]!=null&&(r[La]=(0,h.expectString)(e[La])),r},"de_BounceAction"),NRe=u((e,t)=>{let r={};return e[Fr]!=null&&(r[Fr]=(0,h.expectString)(e[Fr])),e[px]!=null&&(r[px]=(0,h.expectString)(e[px])),e[lt]!=null&&(r[lt]=(0,h.expectString)(e[lt])),r},"de_BulkEmailDestinationStatus"),$Re=u((e,t)=>(e||[]).filter(r=>r!=null).map(r=>NRe(r,t)),"de_BulkEmailDestinationStatusList"),kRe=u((e,t)=>{let r={};return e[ie]!=null&&(r[ie]=(0,h.expectString)(e[ie])),e[T]!=null&&(r[T]=(0,h.expectString)(e[T])),r},"de_CannotDeleteException"),MRe=u((e,t)=>({}),"de_CloneReceiptRuleSetResponse"),jRe=u((e,t)=>{let r={};return e.DimensionConfigurations===""?r[Wi]=[]:e[Wi]!=null&&e[Wi][fe]!=null&&(r[Wi]=LRe((0,h.getArrayIfSingleItem)(e[Wi][fe]),t)),r},"de_CloudWatchDestination"),qRe=u((e,t)=>{let r={};return e[_a]!=null&&(r[_a]=(0,h.expectString)(e[_a])),e[Ea]!=null&&(r[Ea]=(0,h.expectString)(e[Ea])),e[ga]!=null&&(r[ga]=(0,h.expectString)(e[ga])),r},"de_CloudWatchDimensionConfiguration"),LRe=u((e,t)=>(e||[]).filter(r=>r!=null).map(r=>qRe(r,t)),"de_CloudWatchDimensionConfigurations"),RB=u((e,t)=>{let r={};return e[ie]!=null&&(r[ie]=(0,h.expectString)(e[ie])),r},"de_ConfigurationSet"),FRe=u((e,t)=>{let r={};return e[O]!=null&&(r[O]=(0,h.expectString)(e[O])),e[T]!=null&&(r[T]=(0,h.expectString)(e[T])),r},"de_ConfigurationSetAlreadyExistsException"),URe=u((e,t)=>{let r={};return e[O]!=null&&(r[O]=(0,h.expectString)(e[O])),e[T]!=null&&(r[T]=(0,h.expectString)(e[T])),r},"de_ConfigurationSetDoesNotExistException"),zRe=u((e,t)=>(e||[]).filter(r=>r!=null).map(r=>RB(r,t)),"de_ConfigurationSets"),VRe=u((e,t)=>{let r={};return e[O]!=null&&(r[O]=(0,h.expectString)(e[O])),e[T]!=null&&(r[T]=(0,h.expectString)(e[T])),r},"de_ConfigurationSetSendingPausedException"),HRe=u((e,t)=>({}),"de_CreateConfigurationSetEventDestinationResponse"),BRe=u((e,t)=>({}),"de_CreateConfigurationSetResponse"),GRe=u((e,t)=>({}),"de_CreateConfigurationSetTrackingOptionsResponse"),WRe=u((e,t)=>({}),"de_CreateReceiptFilterResponse"),KRe=u((e,t)=>({}),"de_CreateReceiptRuleResponse"),XRe=u((e,t)=>({}),"de_CreateReceiptRuleSetResponse"),JRe=u((e,t)=>({}),"de_CreateTemplateResponse"),YRe=u((e,t)=>{let r={};return e[T]!=null&&(r[T]=(0,h.expectString)(e[T])),r},"de_CustomVerificationEmailInvalidContentException"),QRe=u((e,t)=>{let r={};return e[se]!=null&&(r[se]=(0,h.expectString)(e[se])),e[Mt]!=null&&(r[Mt]=(0,h.expectString)(e[Mt])),e[br]!=null&&(r[br]=(0,h.expectString)(e[br])),e[Er]!=null&&(r[Er]=(0,h.expectString)(e[Er])),e[vr]!=null&&(r[vr]=(0,h.expectString)(e[vr])),r},"de_CustomVerificationEmailTemplate"),ZRe=u((e,t)=>{let r={};return e[fa]!=null&&(r[fa]=(0,h.expectString)(e[fa])),e[T]!=null&&(r[T]=(0,h.expectString)(e[T])),r},"de_CustomVerificationEmailTemplateAlreadyExistsException"),ePe=u((e,t)=>{let r={};return e[fa]!=null&&(r[fa]=(0,h.expectString)(e[fa])),e[T]!=null&&(r[T]=(0,h.expectString)(e[T])),r},"de_CustomVerificationEmailTemplateDoesNotExistException"),tPe=u((e,t)=>(e||[]).filter(r=>r!=null).map(r=>QRe(r,t)),"de_CustomVerificationEmailTemplates"),rPe=u((e,t)=>({}),"de_DeleteConfigurationSetEventDestinationResponse"),nPe=u((e,t)=>({}),"de_DeleteConfigurationSetResponse"),iPe=u((e,t)=>({}),"de_DeleteConfigurationSetTrackingOptionsResponse"),sPe=u((e,t)=>({}),"de_DeleteIdentityPolicyResponse"),oPe=u((e,t)=>({}),"de_DeleteIdentityResponse"),aPe=u((e,t)=>({}),"de_DeleteReceiptFilterResponse"),cPe=u((e,t)=>({}),"de_DeleteReceiptRuleResponse"),lPe=u((e,t)=>({}),"de_DeleteReceiptRuleSetResponse"),dPe=u((e,t)=>({}),"de_DeleteTemplateResponse"),uPe=u((e,t)=>{let r={};return e[xr]!=null&&(r[xr]=(0,h.expectString)(e[xr])),r},"de_DeliveryOptions"),pPe=u((e,t)=>{let r={};return e[$a]!=null&&(r[$a]=Jx(e[$a],t)),e.Rules===""?r[yn]=[]:e[yn]!=null&&e[yn][fe]!=null&&(r[yn]=TB((0,h.getArrayIfSingleItem)(e[yn][fe]),t)),r},"de_DescribeActiveReceiptRuleSetResponse"),mPe=u((e,t)=>{let r={};return e[Dd]!=null&&(r[Dd]=RB(e[Dd],t)),e.EventDestinations===""?r[yd]=[]:e[yd]!=null&&e[yd][fe]!=null&&(r[yd]=EPe((0,h.getArrayIfSingleItem)(e[yd][fe]),t)),e[$s]!=null&&(r[$s]=QTe(e[$s],t)),e[$d]!=null&&(r[$d]=uPe(e[$d],t)),e[kx]!=null&&(r[kx]=wTe(e[kx],t)),r},"de_DescribeConfigurationSetResponse"),fPe=u((e,t)=>{let r={};return e[Ns]!=null&&(r[Ns]=PB(e[Ns],t)),r},"de_DescribeReceiptRuleResponse"),hPe=u((e,t)=>{let r={};return e[$a]!=null&&(r[$a]=Jx(e[$a],t)),e.Rules===""?r[yn]=[]:e[yn]!=null&&e[yn][fe]!=null&&(r[yn]=TB((0,h.getArrayIfSingleItem)(e[yn][fe]),t)),r},"de_DescribeReceiptRuleSetResponse"),gPe=u((e,t)=>e.reduce((r,n)=>(n.value===null||(r[n.key]=NPe(n.value,t)),r),{}),"de_DkimAttributes"),vPe=u((e,t)=>{let r={};return e[ie]!=null&&(r[ie]=(0,h.expectString)(e[ie])),e[qe]!=null&&(r[qe]=(0,h.parseBoolean)(e[qe])),e.MatchingEventTypes===""?r[Ki]=[]:e[Ki]!=null&&e[Ki][fe]!=null&&(r[Ki]=SPe((0,h.getArrayIfSingleItem)(e[Ki][fe]),t)),e[Md]!=null&&(r[Md]=JPe(e[Md],t)),e[Nd]!=null&&(r[Nd]=jRe(e[Nd],t)),e[Ud]!=null&&(r[Ud]=BTe(e[Ud],t)),r},"de_EventDestination"),_Pe=u((e,t)=>{let r={};return e[O]!=null&&(r[O]=(0,h.expectString)(e[O])),e[ct]!=null&&(r[ct]=(0,h.expectString)(e[ct])),e[T]!=null&&(r[T]=(0,h.expectString)(e[T])),r},"de_EventDestinationAlreadyExistsException"),yPe=u((e,t)=>{let r={};return e[O]!=null&&(r[O]=(0,h.expectString)(e[O])),e[ct]!=null&&(r[ct]=(0,h.expectString)(e[ct])),e[T]!=null&&(r[T]=(0,h.expectString)(e[T])),r},"de_EventDestinationDoesNotExistException"),EPe=u((e,t)=>(e||[]).filter(r=>r!=null).map(r=>vPe(r,t)),"de_EventDestinations"),SPe=u((e,t)=>(e||[]).filter(r=>r!=null).map(r=>(0,h.expectString)(r)),"de_EventTypes"),xPe=u((e,t)=>{let r={};return e[Mt]!=null&&(r[Mt]=(0,h.expectString)(e[Mt])),e[T]!=null&&(r[T]=(0,h.expectString)(e[T])),r},"de_FromEmailAddressNotVerifiedException"),bPe=u((e,t)=>{let r={};return e[qe]!=null&&(r[qe]=(0,h.parseBoolean)(e[qe])),r},"de_GetAccountSendingEnabledResponse"),CPe=u((e,t)=>{let r={};return e[se]!=null&&(r[se]=(0,h.expectString)(e[se])),e[Mt]!=null&&(r[Mt]=(0,h.expectString)(e[Mt])),e[br]!=null&&(r[br]=(0,h.expectString)(e[br])),e[ti]!=null&&(r[ti]=(0,h.expectString)(e[ti])),e[Er]!=null&&(r[Er]=(0,h.expectString)(e[Er])),e[vr]!=null&&(r[vr]=(0,h.expectString)(e[vr])),r},"de_GetCustomVerificationEmailTemplateResponse"),wPe=u((e,t)=>{let r={};return e.DkimAttributes===""?r[_d]={}:e[_d]!=null&&e[_d][En]!=null&&(r[_d]=gPe((0,h.getArrayIfSingleItem)(e[_d][En]),t)),r},"de_GetIdentityDkimAttributesResponse"),RPe=u((e,t)=>{let r={};return e.MailFromDomainAttributes===""?r[Sd]={}:e[Sd]!=null&&e[Sd][En]!=null&&(r[Sd]=aTe((0,h.getArrayIfSingleItem)(e[Sd][En]),t)),r},"de_GetIdentityMailFromDomainAttributesResponse"),PPe=u((e,t)=>{let r={};return e.NotificationAttributes===""?r[xd]={}:e[xd]!=null&&e[xd][En]!=null&&(r[xd]=uTe((0,h.getArrayIfSingleItem)(e[xd][En]),t)),r},"de_GetIdentityNotificationAttributesResponse"),TPe=u((e,t)=>{let r={};return e.Policies===""?r[bd]={}:e[bd]!=null&&e[bd][En]!=null&&(r[bd]=pTe((0,h.getArrayIfSingleItem)(e[bd][En]),t)),r},"de_GetIdentityPoliciesResponse"),APe=u((e,t)=>{let r={};return e.VerificationAttributes===""?r[Pd]={}:e[Pd]!=null&&e[Pd][En]!=null&&(r[Pd]=sAe((0,h.getArrayIfSingleItem)(e[Pd][En]),t)),r},"de_GetIdentityVerificationAttributesResponse"),IPe=u((e,t)=>{let r={};return e[Cx]!=null&&(r[Cx]=(0,h.strictParseFloat)(e[Cx])),e[Rx]!=null&&(r[Rx]=(0,h.strictParseFloat)(e[Rx])),e[Ux]!=null&&(r[Ux]=(0,h.strictParseFloat)(e[Ux])),r},"de_GetSendQuotaResponse"),OPe=u((e,t)=>{let r={};return e.SendDataPoints===""?r[wd]=[]:e[wd]!=null&&e[wd][fe]!=null&&(r[wd]=NTe((0,h.getArrayIfSingleItem)(e[wd][fe]),t)),r},"de_GetSendStatisticsResponse"),DPe=u((e,t)=>{let r={};return e[Wt]!=null&&(r[Wt]=WTe(e[Wt],t)),r},"de_GetTemplateResponse"),NPe=u((e,t)=>{let r={};return e[va]!=null&&(r[va]=(0,h.parseBoolean)(e[va])),e[ux]!=null&&(r[ux]=(0,h.expectString)(e[ux])),e.DkimTokens===""?r[_n]=[]:e[_n]!=null&&e[_n][fe]!=null&&(r[_n]=AB((0,h.getArrayIfSingleItem)(e[_n][fe]),t)),r},"de_IdentityDkimAttributes"),$Pe=u((e,t)=>(e||[]).filter(r=>r!=null).map(r=>(0,h.expectString)(r)),"de_IdentityList"),kPe=u((e,t)=>{let r={};return e[Na]!=null&&(r[Na]=(0,h.expectString)(e[Na])),e[bx]!=null&&(r[bx]=(0,h.expectString)(e[bx])),e[ua]!=null&&(r[ua]=(0,h.expectString)(e[ua])),r},"de_IdentityMailFromDomainAttributes"),MPe=u((e,t)=>{let r={};return e[QS]!=null&&(r[QS]=(0,h.expectString)(e[QS])),e[ix]!=null&&(r[ix]=(0,h.expectString)(e[ix])),e[dx]!=null&&(r[dx]=(0,h.expectString)(e[dx])),e[Ra]!=null&&(r[Ra]=(0,h.parseBoolean)(e[Ra])),e[vx]!=null&&(r[vx]=(0,h.parseBoolean)(e[vx])),e[_x]!=null&&(r[_x]=(0,h.parseBoolean)(e[_x])),e[yx]!=null&&(r[yx]=(0,h.parseBoolean)(e[yx])),r},"de_IdentityNotificationAttributes"),jPe=u((e,t)=>{let r={};return e[Gx]!=null&&(r[Gx]=(0,h.expectString)(e[Gx])),e[Xa]!=null&&(r[Xa]=(0,h.expectString)(e[Xa])),r},"de_IdentityVerificationAttributes"),qPe=u((e,t)=>{let r={};return e[O]!=null&&(r[O]=(0,h.expectString)(e[O])),e[ct]!=null&&(r[ct]=(0,h.expectString)(e[ct])),e[T]!=null&&(r[T]=(0,h.expectString)(e[T])),r},"de_InvalidCloudWatchDestinationException"),LPe=u((e,t)=>{let r={};return e[T]!=null&&(r[T]=(0,h.expectString)(e[T])),r},"de_InvalidConfigurationSetException"),FPe=u((e,t)=>{let r={};return e[T]!=null&&(r[T]=(0,h.expectString)(e[T])),r},"de_InvalidDeliveryOptionsException"),UPe=u((e,t)=>{let r={};return e[O]!=null&&(r[O]=(0,h.expectString)(e[O])),e[ct]!=null&&(r[ct]=(0,h.expectString)(e[ct])),e[T]!=null&&(r[T]=(0,h.expectString)(e[T])),r},"de_InvalidFirehoseDestinationException"),zPe=u((e,t)=>{let r={};return e[Xn]!=null&&(r[Xn]=(0,h.expectString)(e[Xn])),e[T]!=null&&(r[T]=(0,h.expectString)(e[T])),r},"de_InvalidLambdaFunctionException"),VPe=u((e,t)=>{let r={};return e[T]!=null&&(r[T]=(0,h.expectString)(e[T])),r},"de_InvalidPolicyException"),HPe=u((e,t)=>{let r={};return e[se]!=null&&(r[se]=(0,h.expectString)(e[se])),e[T]!=null&&(r[T]=(0,h.expectString)(e[T])),r},"de_InvalidRenderingParameterException"),BPe=u((e,t)=>{let r={};return e[ex]!=null&&(r[ex]=(0,h.expectString)(e[ex])),e[T]!=null&&(r[T]=(0,h.expectString)(e[T])),r},"de_InvalidS3ConfigurationException"),GPe=u((e,t)=>{let r={};return e[O]!=null&&(r[O]=(0,h.expectString)(e[O])),e[ct]!=null&&(r[ct]=(0,h.expectString)(e[ct])),e[T]!=null&&(r[T]=(0,h.expectString)(e[T])),r},"de_InvalidSNSDestinationException"),WPe=u((e,t)=>{let r={};return e[Bx]!=null&&(r[Bx]=(0,h.expectString)(e[Bx])),e[T]!=null&&(r[T]=(0,h.expectString)(e[T])),r},"de_InvalidSnsTopicException"),KPe=u((e,t)=>{let r={};return e[se]!=null&&(r[se]=(0,h.expectString)(e[se])),e[T]!=null&&(r[T]=(0,h.expectString)(e[T])),r},"de_InvalidTemplateException"),XPe=u((e,t)=>{let r={};return e[T]!=null&&(r[T]=(0,h.expectString)(e[T])),r},"de_InvalidTrackingOptionsException"),JPe=u((e,t)=>{let r={};return e[Ia]!=null&&(r[Ia]=(0,h.expectString)(e[Ia])),e[ya]!=null&&(r[ya]=(0,h.expectString)(e[ya])),r},"de_KinesisFirehoseDestination"),YPe=u((e,t)=>{let r={};return e[ge]!=null&&(r[ge]=(0,h.expectString)(e[ge])),e[Xn]!=null&&(r[Xn]=(0,h.expectString)(e[Xn])),e[Oa]!=null&&(r[Oa]=(0,h.expectString)(e[Oa])),r},"de_LambdaAction"),QPe=u((e,t)=>{let r={};return e[T]!=null&&(r[T]=(0,h.expectString)(e[T])),r},"de_LimitExceededException"),ZPe=u((e,t)=>{let r={};return e.ConfigurationSets===""?r[gd]=[]:e[gd]!=null&&e[gd][fe]!=null&&(r[gd]=zRe((0,h.getArrayIfSingleItem)(e[gd][fe]),t)),e[Oe]!=null&&(r[Oe]=(0,h.expectString)(e[Oe])),r},"de_ListConfigurationSetsResponse"),eTe=u((e,t)=>{let r={};return e.CustomVerificationEmailTemplates===""?r[vd]=[]:e[vd]!=null&&e[vd][fe]!=null&&(r[vd]=tPe((0,h.getArrayIfSingleItem)(e[vd][fe]),t)),e[Oe]!=null&&(r[Oe]=(0,h.expectString)(e[Oe])),r},"de_ListCustomVerificationEmailTemplatesResponse"),tTe=u((e,t)=>{let r={};return e.Identities===""?r[_t]=[]:e[_t]!=null&&e[_t][fe]!=null&&(r[_t]=$Pe((0,h.getArrayIfSingleItem)(e[_t][fe]),t)),e[Oe]!=null&&(r[Oe]=(0,h.expectString)(e[Oe])),r},"de_ListIdentitiesResponse"),rTe=u((e,t)=>{let r={};return e.PolicyNames===""?r[Xi]=[]:e[Xi]!=null&&e[Xi][fe]!=null&&(r[Xi]=mTe((0,h.getArrayIfSingleItem)(e[Xi][fe]),t)),r},"de_ListIdentityPoliciesResponse"),nTe=u((e,t)=>{let r={};return e.Filters===""?r[Ed]=[]:e[Ed]!=null&&e[Ed][fe]!=null&&(r[Ed]=ETe((0,h.getArrayIfSingleItem)(e[Ed][fe]),t)),r},"de_ListReceiptFiltersResponse"),iTe=u((e,t)=>{let r={};return e.RuleSets===""?r[Cd]=[]:e[Cd]!=null&&e[Cd][fe]!=null&&(r[Cd]=xTe((0,h.getArrayIfSingleItem)(e[Cd][fe]),t)),e[Oe]!=null&&(r[Oe]=(0,h.expectString)(e[Oe])),r},"de_ListReceiptRuleSetsResponse"),sTe=u((e,t)=>{let r={};return e.TemplatesMetadata===""?r[Rd]=[]:e[Rd]!=null&&e[Rd][fe]!=null&&(r[Rd]=JTe((0,h.getArrayIfSingleItem)(e[Rd][fe]),t)),e[Oe]!=null&&(r[Oe]=(0,h.expectString)(e[Oe])),r},"de_ListTemplatesResponse"),oTe=u((e,t)=>{let r={};return e.VerifiedEmailAddresses===""?r[Td]=[]:e[Td]!=null&&e[Td][fe]!=null&&(r[Td]=IRe((0,h.getArrayIfSingleItem)(e[Td][fe]),t)),r},"de_ListVerifiedEmailAddressesResponse"),aTe=u((e,t)=>e.reduce((r,n)=>(n.value===null||(r[n.key]=kPe(n.value,t)),r),{}),"de_MailFromDomainAttributes"),cTe=u((e,t)=>{let r={};return e[T]!=null&&(r[T]=(0,h.expectString)(e[T])),r},"de_MailFromDomainNotVerifiedException"),lTe=u((e,t)=>{let r={};return e[T]!=null&&(r[T]=(0,h.expectString)(e[T])),r},"de_MessageRejected"),dTe=u((e,t)=>{let r={};return e[se]!=null&&(r[se]=(0,h.expectString)(e[se])),e[T]!=null&&(r[T]=(0,h.expectString)(e[T])),r},"de_MissingRenderingAttributeException"),uTe=u((e,t)=>e.reduce((r,n)=>(n.value===null||(r[n.key]=MPe(n.value,t)),r),{}),"de_NotificationAttributes"),pTe=u((e,t)=>e.reduce((r,n)=>(n.value===null||(r[n.key]=(0,h.expectString)(n.value)),r),{}),"de_PolicyMap"),mTe=u((e,t)=>(e||[]).filter(r=>r!=null).map(r=>(0,h.expectString)(r)),"de_PolicyNameList"),fTe=u((e,t)=>{let r={};return e[T]!=null&&(r[T]=(0,h.expectString)(e[T])),r},"de_ProductionAccessNotGrantedException"),hTe=u((e,t)=>({}),"de_PutConfigurationSetDeliveryOptionsResponse"),gTe=u((e,t)=>({}),"de_PutIdentityPolicyResponse"),vTe=u((e,t)=>{let r={};return e[qd]!=null&&(r[qd]=TTe(e[qd],t)),e[Od]!=null&&(r[Od]=DRe(e[Od],t)),e[zd]!=null&&(r[zd]=lAe(e[zd],t)),e[jd]!=null&&(r[jd]=YPe(e[jd],t)),e[Ld]!=null&&(r[Ld]=GTe(e[Ld],t)),e[Id]!=null&&(r[Id]=ARe(e[Id],t)),e[Fd]!=null&&(r[Fd]=HTe(e[Fd],t)),r},"de_ReceiptAction"),_Te=u((e,t)=>(e||[]).filter(r=>r!=null).map(r=>vTe(r,t)),"de_ReceiptActionsList"),yTe=u((e,t)=>{let r={};return e[ie]!=null&&(r[ie]=(0,h.expectString)(e[ie])),e[kd]!=null&&(r[kd]=STe(e[kd],t)),r},"de_ReceiptFilter"),ETe=u((e,t)=>(e||[]).filter(r=>r!=null).map(r=>yTe(r,t)),"de_ReceiptFilterList"),STe=u((e,t)=>{let r={};return e[Yn]!=null&&(r[Yn]=(0,h.expectString)(e[Yn])),e[ha]!=null&&(r[ha]=(0,h.expectString)(e[ha])),r},"de_ReceiptIpFilter"),PB=u((e,t)=>{let r={};return e[ie]!=null&&(r[ie]=(0,h.expectString)(e[ie])),e[qe]!=null&&(r[qe]=(0,h.parseBoolean)(e[qe])),e[xr]!=null&&(r[xr]=(0,h.expectString)(e[xr])),e.Recipients===""?r[Ji]=[]:e[Ji]!=null&&e[Ji][fe]!=null&&(r[Ji]=bTe((0,h.getArrayIfSingleItem)(e[Ji][fe]),t)),e.Actions===""?r[Gi]=[]:e[Gi]!=null&&e[Gi][fe]!=null&&(r[Gi]=_Te((0,h.getArrayIfSingleItem)(e[Gi][fe]),t)),e[Ua]!=null&&(r[Ua]=(0,h.parseBoolean)(e[Ua])),r},"de_ReceiptRule"),Jx=u((e,t)=>{let r={};return e[ie]!=null&&(r[ie]=(0,h.expectString)(e[ie])),e[ma]!=null&&(r[ma]=(0,h.expectNonNull)((0,h.parseRfc3339DateTimeWithOffset)(e[ma]))),r},"de_ReceiptRuleSetMetadata"),xTe=u((e,t)=>(e||[]).filter(r=>r!=null).map(r=>Jx(r,t)),"de_ReceiptRuleSetsLists"),TB=u((e,t)=>(e||[]).filter(r=>r!=null).map(r=>PB(r,t)),"de_ReceiptRulesList"),bTe=u((e,t)=>(e||[]).filter(r=>r!=null).map(r=>(0,h.expectString)(r)),"de_RecipientsList"),CTe=u((e,t)=>({}),"de_ReorderReceiptRuleSetResponse"),wTe=u((e,t)=>{let r={};return e[Fx]!=null&&(r[Fx]=(0,h.parseBoolean)(e[Fx])),e[Dx]!=null&&(r[Dx]=(0,h.parseBoolean)(e[Dx])),e[xx]!=null&&(r[xx]=(0,h.expectNonNull)((0,h.parseRfc3339DateTimeWithOffset)(e[xx]))),r},"de_ReputationOptions"),RTe=u((e,t)=>{let r={};return e[ie]!=null&&(r[ie]=(0,h.expectString)(e[ie])),e[T]!=null&&(r[T]=(0,h.expectString)(e[T])),r},"de_RuleDoesNotExistException"),PTe=u((e,t)=>{let r={};return e[ie]!=null&&(r[ie]=(0,h.expectString)(e[ie])),e[T]!=null&&(r[T]=(0,h.expectString)(e[T])),r},"de_RuleSetDoesNotExistException"),TTe=u((e,t)=>{let r={};return e[ge]!=null&&(r[ge]=(0,h.expectString)(e[ge])),e[da]!=null&&(r[da]=(0,h.expectString)(e[da])),e[ja]!=null&&(r[ja]=(0,h.expectString)(e[ja])),e[Da]!=null&&(r[Da]=(0,h.expectString)(e[Da])),r},"de_S3Action"),ATe=u((e,t)=>{let r={};return e[lt]!=null&&(r[lt]=(0,h.expectString)(e[lt])),r},"de_SendBounceResponse"),ITe=u((e,t)=>{let r={};return e.Status===""?r[Fr]=[]:e[Fr]!=null&&e[Fr][fe]!=null&&(r[Fr]=$Re((0,h.getArrayIfSingleItem)(e[Fr][fe]),t)),r},"de_SendBulkTemplatedEmailResponse"),OTe=u((e,t)=>{let r={};return e[lt]!=null&&(r[lt]=(0,h.expectString)(e[lt])),r},"de_SendCustomVerificationEmailResponse"),DTe=u((e,t)=>{let r={};return e[Hx]!=null&&(r[Hx]=(0,h.expectNonNull)((0,h.parseRfc3339DateTimeWithOffset)(e[Hx]))),e[ox]!=null&&(r[ox]=(0,h.strictParseLong)(e[ox])),e[ZS]!=null&&(r[ZS]=(0,h.strictParseLong)(e[ZS])),e[sx]!=null&&(r[sx]=(0,h.strictParseLong)(e[sx])),e[Lx]!=null&&(r[Lx]=(0,h.strictParseLong)(e[Lx])),r},"de_SendDataPoint"),NTe=u((e,t)=>(e||[]).filter(r=>r!=null).map(r=>DTe(r,t)),"de_SendDataPointList"),$Te=u((e,t)=>{let r={};return e[lt]!=null&&(r[lt]=(0,h.expectString)(e[lt])),r},"de_SendEmailResponse"),kTe=u((e,t)=>{let r={};return e[lt]!=null&&(r[lt]=(0,h.expectString)(e[lt])),r},"de_SendRawEmailResponse"),MTe=u((e,t)=>{let r={};return e[lt]!=null&&(r[lt]=(0,h.expectString)(e[lt])),r},"de_SendTemplatedEmailResponse"),jTe=u((e,t)=>({}),"de_SetActiveReceiptRuleSetResponse"),qTe=u((e,t)=>({}),"de_SetIdentityDkimEnabledResponse"),LTe=u((e,t)=>({}),"de_SetIdentityFeedbackForwardingEnabledResponse"),FTe=u((e,t)=>({}),"de_SetIdentityHeadersInNotificationsEnabledResponse"),UTe=u((e,t)=>({}),"de_SetIdentityMailFromDomainResponse"),zTe=u((e,t)=>({}),"de_SetIdentityNotificationTopicResponse"),VTe=u((e,t)=>({}),"de_SetReceiptRulePositionResponse"),HTe=u((e,t)=>{let r={};return e[ge]!=null&&(r[ge]=(0,h.expectString)(e[ge])),e[wa]!=null&&(r[wa]=(0,h.expectString)(e[wa])),r},"de_SNSAction"),BTe=u((e,t)=>{let r={};return e[Ba]!=null&&(r[Ba]=(0,h.expectString)(e[Ba])),r},"de_SNSDestination"),GTe=u((e,t)=>{let r={};return e[Ha]!=null&&(r[Ha]=(0,h.expectString)(e[Ha])),e[ge]!=null&&(r[ge]=(0,h.expectString)(e[ge])),r},"de_StopAction"),WTe=u((e,t)=>{let r={};return e[se]!=null&&(r[se]=(0,h.expectString)(e[se])),e[za]!=null&&(r[za]=(0,h.expectString)(e[za])),e[Ka]!=null&&(r[Ka]=(0,h.expectString)(e[Ka])),e[Ta]!=null&&(r[Ta]=(0,h.expectString)(e[Ta])),r},"de_Template"),KTe=u((e,t)=>{let r={};return e[se]!=null&&(r[se]=(0,h.expectString)(e[se])),e[T]!=null&&(r[T]=(0,h.expectString)(e[T])),r},"de_TemplateDoesNotExistException"),XTe=u((e,t)=>{let r={};return e[ie]!=null&&(r[ie]=(0,h.expectString)(e[ie])),e[ma]!=null&&(r[ma]=(0,h.expectNonNull)((0,h.parseRfc3339DateTimeWithOffset)(e[ma]))),r},"de_TemplateMetadata"),JTe=u((e,t)=>(e||[]).filter(r=>r!=null).map(r=>XTe(r,t)),"de_TemplateMetadataList"),YTe=u((e,t)=>{let r={};return e[qx]!=null&&(r[qx]=(0,h.expectString)(e[qx])),r},"de_TestRenderTemplateResponse"),QTe=u((e,t)=>{let r={};return e[pa]!=null&&(r[pa]=(0,h.expectString)(e[pa])),r},"de_TrackingOptions"),ZTe=u((e,t)=>{let r={};return e[O]!=null&&(r[O]=(0,h.expectString)(e[O])),e[T]!=null&&(r[T]=(0,h.expectString)(e[T])),r},"de_TrackingOptionsAlreadyExistsException"),eAe=u((e,t)=>{let r={};return e[O]!=null&&(r[O]=(0,h.expectString)(e[O])),e[T]!=null&&(r[T]=(0,h.expectString)(e[T])),r},"de_TrackingOptionsDoesNotExistException"),tAe=u((e,t)=>({}),"de_UpdateConfigurationSetEventDestinationResponse"),rAe=u((e,t)=>({}),"de_UpdateConfigurationSetTrackingOptionsResponse"),nAe=u((e,t)=>({}),"de_UpdateReceiptRuleResponse"),iAe=u((e,t)=>({}),"de_UpdateTemplateResponse"),sAe=u((e,t)=>e.reduce((r,n)=>(n.value===null||(r[n.key]=jPe(n.value,t)),r),{}),"de_VerificationAttributes"),AB=u((e,t)=>(e||[]).filter(r=>r!=null).map(r=>(0,h.expectString)(r)),"de_VerificationTokenList"),oAe=u((e,t)=>{let r={};return e.DkimTokens===""?r[_n]=[]:e[_n]!=null&&e[_n][fe]!=null&&(r[_n]=AB((0,h.getArrayIfSingleItem)(e[_n][fe]),t)),r},"de_VerifyDomainDkimResponse"),aAe=u((e,t)=>{let r={};return e[Xa]!=null&&(r[Xa]=(0,h.expectString)(e[Xa])),r},"de_VerifyDomainIdentityResponse"),cAe=u((e,t)=>({}),"de_VerifyEmailIdentityResponse"),lAe=u((e,t)=>{let r={};return e[ge]!=null&&(r[ge]=(0,h.expectString)(e[ge])),e[Ma]!=null&&(r[Ma]=(0,h.expectString)(e[Ma])),r},"de_WorkmailAction"),P=u(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),dAe=(0,h.withBaseException)(ve),F=u(async(e,t,r,n,i)=>{let{hostname:s,protocol:o="https",port:a,path:c}=await e.endpoint(),l={protocol:o,hostname:s,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(l.hostname=n),i!==void 0&&(l.body=i),new Wx.HttpRequest(l)},"buildHttpRpcRequest"),U={"content-type":"application/x-www-form-urlencoded"},z="2010-12-01",N="Action",GS="ArrivalDate",Id="AddHeaderAction",Gi="Actions",la="After",hV="Body",WS="BccAddresses",Od="BounceAction",da="BucketName",ua="BehaviorOnMXFailure",KS="BouncedRecipientInfoList",XS="BounceSender",JS="BounceSenderArn",YS="BounceType",QS="BounceTopic",ZS="Bounces",ex="Bucket",tx="Charset",rx="CcAddresses",uAe="CreateConfigurationSet",pAe="CreateConfigurationSetEventDestination",mAe="CreateConfigurationSetTrackingOptions",fAe="CreateCustomVerificationEmailTemplate",pa="CustomRedirectDomain",hAe="CreateReceiptFilter",gAe="CreateReceiptRule",vAe="CloneReceiptRuleSet",_Ae="CreateReceiptRuleSet",Dd="ConfigurationSet",nx="ConfigurationSetAttributeNames",O="ConfigurationSetName",gd="ConfigurationSets",yAe="CreateTemplate",ix="ComplaintTopic",ma="CreatedTimestamp",vd="CustomVerificationEmailTemplates",fa="CustomVerificationEmailTemplateName",Nd="CloudWatchDestination",ha="Cidr",sx="Complaints",Ya="Destination",_d="DkimAttributes",EAe="DescribeActiveReceiptRuleSet",ox="DeliveryAttempts",Wi="DimensionConfigurations",SAe="DeleteConfigurationSet",xAe="DeleteConfigurationSetEventDestination",bAe="DeleteConfigurationSetTrackingOptions",CAe="DescribeConfigurationSet",wAe="DeleteCustomVerificationEmailTemplate",ax="DiagnosticCode",ga="DefaultDimensionValue",va="DkimEnabled",RAe="DeleteIdentity",PAe="DeleteIdentityPolicy",_a="DimensionName",$d="DeliveryOptions",TAe="DeleteReceiptFilter",AAe="DeleteReceiptRule",IAe="DeleteReceiptRuleSet",OAe="DescribeReceiptRuleSet",DAe="DescribeReceiptRule",ya="DeliveryStreamARN",NAe="DeleteTemplate",cx="DefaultTemplateData",lx="DefaultTags",dx="DeliveryTopic",_n="DkimTokens",$Ae="DeleteVerifiedEmailAddress",Ea="DimensionValueSource",ux="DkimVerificationStatus",Sa="Data",xa="Destinations",ba="Domain",qe="Enabled",gr="EmailAddress",Yf="EventDestination",ct="EventDestinationName",yd="EventDestinations",Ca="ExtensionFields",wa="Encoding",px="Error",mx="Explanation",gV="Filter",Xn="FunctionArn",fx="FromArn",Ra="ForwardingEnabled",Mt="FromEmailAddress",hx="FilterName",gx="FinalRecipient",vr="FailureRedirectionURL",Ed="Filters",kAe="GetAccountSendingEnabled",MAe="GetCustomVerificationEmailTemplate",jAe="GetIdentityDkimAttributes",qAe="GetIdentityMailFromDomainAttributes",LAe="GetIdentityNotificationAttributes",FAe="GetIdentityPolicies",UAe="GetIdentityVerificationAttributes",zAe="GetSendQuota",VAe="GetSendStatistics",HAe="GetTemplate",vV="Html",vx="HeadersInBounceNotificationsEnabled",_x="HeadersInComplaintNotificationsEnabled",yx="HeadersInDeliveryNotificationsEnabled",Pa="HeaderName",Ta="HtmlPart",Aa="HeaderValue",Ie="Identity",Ia="IAMRoleARN",kd="IpFilter",Oa="InvocationType",Ex="IdentityType",_t="Identities",Md="KinesisFirehoseDestination",Da="KmsKeyArn",jd="LambdaAction",Sx="LastAttemptDate",BAe="ListConfigurationSets",GAe="ListCustomVerificationEmailTemplates",xx="LastFreshStart",WAe="ListIdentities",KAe="ListIdentityPolicies",XAe="ListReceiptFilters",JAe="ListReceiptRuleSets",YAe="ListTemplates",QAe="ListVerifiedEmailAddresses",Yi="Message",_V="MessageDsn",Ki="MatchingEventTypes",Na="MailFromDomain",Sd="MailFromDomainAttributes",bx="MailFromDomainStatus",Cx="Max24HourSend",Jn="MaxItems",lt="MessageId",wx="MaxResults",Rx="MaxSendRate",$a="Metadata",ie="Name",xd="NotificationAttributes",Oe="NextToken",ka="NotificationType",Ma="OrganizationArn",ja="ObjectKeyPrefix",Px="OriginalMessageId",Tx="OriginalRuleSetName",Yn="Policy",ZAe="PutConfigurationSetDeliveryOptions",eIe="PutIdentityPolicy",qa="PolicyName",Xi="PolicyNames",bd="Policies",Ax="Recipient",Ix="RecipientArn",yV="RecipientDsnFields",Ox="ReportingMta",Dx="ReputationMetricsEnabled",EV="RawMessage",Nx="RemoteMta",Qn="RuleName",$x="RuleNames",kx="ReputationOptions",Zn="ReturnPath",_r="ReturnPathArn",tIe="ReorderReceiptRuleSet",Cd="RuleSets",we="RuleSetName",Mx="ReplacementTags",ei="ReplyToAddresses",jx="ReplacementTemplateData",qx="RenderedTemplate",Ji="Recipients",Lx="Rejects",Ns="Rule",yn="Rules",La="Sender",qd="S3Action",rIe="SetActiveReceiptRuleSet",yr="SourceArn",Ld="StopAction",nIe="SendBounce",iIe="SendBulkTemplatedEmail",Fa="StatusCode",sIe="SendCustomVerificationEmail",wd="SendDataPoints",oIe="SendEmail",Ua="ScanEnabled",Fx="SendingEnabled",aIe="SetIdentityDkimEnabled",cIe="SetIdentityFeedbackForwardingEnabled",lIe="SetIdentityHeadersInNotificationsEnabled",dIe="SetIdentityMailFromDomain",uIe="SetIdentityNotificationTopic",Ux="SentLast24Hours",Fd="SNSAction",Ud="SNSDestination",za="SubjectPart",Va="SmtpReplyCode",pIe="SendRawEmail",mIe="SetReceiptRulePosition",Er="SuccessRedirectionURL",zx="SnsTopic",fIe="SendTemplatedEmail",Ha="Scope",Sr="Source",Fr="Status",SV="Subject",xV="Text",ge="TopicArn",Ba="TopicARN",Ga="TemplateArn",Vx="ToAddresses",ti="TemplateContent",Wa="TemplateData",Rd="TemplatesMetadata",se="TemplateName",$s="TrackingOptions",xr="TlsPolicy",Ka="TextPart",hIe="TestRenderTemplate",br="TemplateSubject",ri="Tags",Wt="Template",Hx="Timestamp",Bx="Topic",gIe="UpdateAccountSendingEnabled",vIe="UpdateConfigurationSetEventDestination",_Ie="UpdateConfigurationSetReputationMetricsEnabled",yIe="UpdateConfigurationSetSendingEnabled",EIe="UpdateConfigurationSetTrackingOptions",SIe="UpdateCustomVerificationEmailTemplate",xIe="UpdateReceiptRule",bIe="UpdateTemplate",V="Version",Pd="VerificationAttributes",CIe="VerifyDomainDkim",wIe="VerifyDomainIdentity",RIe="VerifyEmailAddress",Td="VerifiedEmailAddresses",PIe="VerifyEmailIdentity",Gx="VerificationStatus",Xa="VerificationToken",Ja="Value",zd="WorkmailAction",En="entry",T="message",fe="member",H=u(e=>Object.entries(e).map(([t,r])=>(0,h.extendedEncodeURIComponent)(t)+"="+(0,h.extendedEncodeURIComponent)(r)).join("&"),"buildFormUrlencodedString"),TIe=u((e,t)=>{var r;if(((r=t.Error)==null?void 0:r.Code)!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"},"loadQueryErrorCode"),IB=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","CloneReceiptRuleSet",{}).n("SESClient","CloneReceiptRuleSetCommand").f(void 0,void 0).ser(Sxe).de(qbe).build(){};u(IB,"CloneReceiptRuleSetCommand");var OB=IB,DB=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","CreateConfigurationSet",{}).n("SESClient","CreateConfigurationSetCommand").f(void 0,void 0).ser(xxe).de(Lbe).build(){};u(DB,"CreateConfigurationSetCommand");var NB=DB,$B=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","CreateConfigurationSetEventDestination",{}).n("SESClient","CreateConfigurationSetEventDestinationCommand").f(void 0,void 0).ser(bxe).de(Fbe).build(){};u($B,"CreateConfigurationSetEventDestinationCommand");var kB=$B,MB=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","CreateConfigurationSetTrackingOptions",{}).n("SESClient","CreateConfigurationSetTrackingOptionsCommand").f(void 0,void 0).ser(Cxe).de(Ube).build(){};u(MB,"CreateConfigurationSetTrackingOptionsCommand");var jB=MB,qB=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","CreateCustomVerificationEmailTemplate",{}).n("SESClient","CreateCustomVerificationEmailTemplateCommand").f(void 0,void 0).ser(wxe).de(zbe).build(){};u(qB,"CreateCustomVerificationEmailTemplateCommand");var LB=qB,FB=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","CreateReceiptFilter",{}).n("SESClient","CreateReceiptFilterCommand").f(void 0,void 0).ser(Rxe).de(Vbe).build(){};u(FB,"CreateReceiptFilterCommand");var UB=FB,zB=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","CreateReceiptRule",{}).n("SESClient","CreateReceiptRuleCommand").f(void 0,void 0).ser(Pxe).de(Hbe).build(){};u(zB,"CreateReceiptRuleCommand");var VB=zB,HB=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","CreateReceiptRuleSet",{}).n("SESClient","CreateReceiptRuleSetCommand").f(void 0,void 0).ser(Txe).de(Bbe).build(){};u(HB,"CreateReceiptRuleSetCommand");var BB=HB,GB=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","CreateTemplate",{}).n("SESClient","CreateTemplateCommand").f(void 0,void 0).ser(Axe).de(Gbe).build(){};u(GB,"CreateTemplateCommand");var WB=GB,KB=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","DeleteConfigurationSet",{}).n("SESClient","DeleteConfigurationSetCommand").f(void 0,void 0).ser(Ixe).de(Wbe).build(){};u(KB,"DeleteConfigurationSetCommand");var XB=KB,JB=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","DeleteConfigurationSetEventDestination",{}).n("SESClient","DeleteConfigurationSetEventDestinationCommand").f(void 0,void 0).ser(Oxe).de(Kbe).build(){};u(JB,"DeleteConfigurationSetEventDestinationCommand");var YB=JB,QB=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","DeleteConfigurationSetTrackingOptions",{}).n("SESClient","DeleteConfigurationSetTrackingOptionsCommand").f(void 0,void 0).ser(Dxe).de(Xbe).build(){};u(QB,"DeleteConfigurationSetTrackingOptionsCommand");var ZB=QB,e3=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","DeleteCustomVerificationEmailTemplate",{}).n("SESClient","DeleteCustomVerificationEmailTemplateCommand").f(void 0,void 0).ser(Nxe).de(Jbe).build(){};u(e3,"DeleteCustomVerificationEmailTemplateCommand");var t3=e3,r3=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","DeleteIdentity",{}).n("SESClient","DeleteIdentityCommand").f(void 0,void 0).ser($xe).de(Ybe).build(){};u(r3,"DeleteIdentityCommand");var n3=r3,i3=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","DeleteIdentityPolicy",{}).n("SESClient","DeleteIdentityPolicyCommand").f(void 0,void 0).ser(kxe).de(Qbe).build(){};u(i3,"DeleteIdentityPolicyCommand");var s3=i3,o3=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","DeleteReceiptFilter",{}).n("SESClient","DeleteReceiptFilterCommand").f(void 0,void 0).ser(Mxe).de(Zbe).build(){};u(o3,"DeleteReceiptFilterCommand");var a3=o3,c3=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","DeleteReceiptRule",{}).n("SESClient","DeleteReceiptRuleCommand").f(void 0,void 0).ser(jxe).de(eCe).build(){};u(c3,"DeleteReceiptRuleCommand");var l3=c3,d3=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","DeleteReceiptRuleSet",{}).n("SESClient","DeleteReceiptRuleSetCommand").f(void 0,void 0).ser(qxe).de(tCe).build(){};u(d3,"DeleteReceiptRuleSetCommand");var u3=d3,p3=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","DeleteTemplate",{}).n("SESClient","DeleteTemplateCommand").f(void 0,void 0).ser(Lxe).de(rCe).build(){};u(p3,"DeleteTemplateCommand");var m3=p3,f3=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","DeleteVerifiedEmailAddress",{}).n("SESClient","DeleteVerifiedEmailAddressCommand").f(void 0,void 0).ser(Fxe).de(nCe).build(){};u(f3,"DeleteVerifiedEmailAddressCommand");var h3=f3,g3=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","DescribeActiveReceiptRuleSet",{}).n("SESClient","DescribeActiveReceiptRuleSetCommand").f(void 0,void 0).ser(Uxe).de(iCe).build(){};u(g3,"DescribeActiveReceiptRuleSetCommand");var v3=g3,_3=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","DescribeConfigurationSet",{}).n("SESClient","DescribeConfigurationSetCommand").f(void 0,void 0).ser(zxe).de(sCe).build(){};u(_3,"DescribeConfigurationSetCommand");var y3=_3,E3=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","DescribeReceiptRule",{}).n("SESClient","DescribeReceiptRuleCommand").f(void 0,void 0).ser(Vxe).de(oCe).build(){};u(E3,"DescribeReceiptRuleCommand");var S3=E3,x3=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","DescribeReceiptRuleSet",{}).n("SESClient","DescribeReceiptRuleSetCommand").f(void 0,void 0).ser(Hxe).de(aCe).build(){};u(x3,"DescribeReceiptRuleSetCommand");var b3=x3,C3=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","GetAccountSendingEnabled",{}).n("SESClient","GetAccountSendingEnabledCommand").f(void 0,void 0).ser(Bxe).de(cCe).build(){};u(C3,"GetAccountSendingEnabledCommand");var w3=C3,R3=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","GetCustomVerificationEmailTemplate",{}).n("SESClient","GetCustomVerificationEmailTemplateCommand").f(void 0,void 0).ser(Gxe).de(lCe).build(){};u(R3,"GetCustomVerificationEmailTemplateCommand");var P3=R3,T3=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","GetIdentityDkimAttributes",{}).n("SESClient","GetIdentityDkimAttributesCommand").f(void 0,void 0).ser(Wxe).de(dCe).build(){};u(T3,"GetIdentityDkimAttributesCommand");var A3=T3,I3=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","GetIdentityMailFromDomainAttributes",{}).n("SESClient","GetIdentityMailFromDomainAttributesCommand").f(void 0,void 0).ser(Kxe).de(uCe).build(){};u(I3,"GetIdentityMailFromDomainAttributesCommand");var O3=I3,D3=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","GetIdentityNotificationAttributes",{}).n("SESClient","GetIdentityNotificationAttributesCommand").f(void 0,void 0).ser(Xxe).de(pCe).build(){};u(D3,"GetIdentityNotificationAttributesCommand");var N3=D3,$3=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","GetIdentityPolicies",{}).n("SESClient","GetIdentityPoliciesCommand").f(void 0,void 0).ser(Jxe).de(mCe).build(){};u($3,"GetIdentityPoliciesCommand");var k3=$3,M3=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","GetIdentityVerificationAttributes",{}).n("SESClient","GetIdentityVerificationAttributesCommand").f(void 0,void 0).ser(Yxe).de(fCe).build(){};u(M3,"GetIdentityVerificationAttributesCommand");var Yx=M3,j3=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","GetSendQuota",{}).n("SESClient","GetSendQuotaCommand").f(void 0,void 0).ser(Qxe).de(hCe).build(){};u(j3,"GetSendQuotaCommand");var q3=j3,L3=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","GetSendStatistics",{}).n("SESClient","GetSendStatisticsCommand").f(void 0,void 0).ser(Zxe).de(gCe).build(){};u(L3,"GetSendStatisticsCommand");var F3=L3,U3=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","GetTemplate",{}).n("SESClient","GetTemplateCommand").f(void 0,void 0).ser(ebe).de(vCe).build(){};u(U3,"GetTemplateCommand");var z3=U3,V3=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","ListConfigurationSets",{}).n("SESClient","ListConfigurationSetsCommand").f(void 0,void 0).ser(tbe).de(_Ce).build(){};u(V3,"ListConfigurationSetsCommand");var H3=V3,B3=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","ListCustomVerificationEmailTemplates",{}).n("SESClient","ListCustomVerificationEmailTemplatesCommand").f(void 0,void 0).ser(rbe).de(yCe).build(){};u(B3,"ListCustomVerificationEmailTemplatesCommand");var Qx=B3,G3=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","ListIdentities",{}).n("SESClient","ListIdentitiesCommand").f(void 0,void 0).ser(nbe).de(ECe).build(){};u(G3,"ListIdentitiesCommand");var Zx=G3,W3=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","ListIdentityPolicies",{}).n("SESClient","ListIdentityPoliciesCommand").f(void 0,void 0).ser(ibe).de(SCe).build(){};u(W3,"ListIdentityPoliciesCommand");var K3=W3,X3=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","ListReceiptFilters",{}).n("SESClient","ListReceiptFiltersCommand").f(void 0,void 0).ser(sbe).de(xCe).build(){};u(X3,"ListReceiptFiltersCommand");var J3=X3,Y3=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","ListReceiptRuleSets",{}).n("SESClient","ListReceiptRuleSetsCommand").f(void 0,void 0).ser(obe).de(bCe).build(){};u(Y3,"ListReceiptRuleSetsCommand");var Q3=Y3,Z3=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","ListTemplates",{}).n("SESClient","ListTemplatesCommand").f(void 0,void 0).ser(abe).de(CCe).build(){};u(Z3,"ListTemplatesCommand");var eG=Z3,tG=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","ListVerifiedEmailAddresses",{}).n("SESClient","ListVerifiedEmailAddressesCommand").f(void 0,void 0).ser(cbe).de(wCe).build(){};u(tG,"ListVerifiedEmailAddressesCommand");var rG=tG,nG=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","PutConfigurationSetDeliveryOptions",{}).n("SESClient","PutConfigurationSetDeliveryOptionsCommand").f(void 0,void 0).ser(lbe).de(RCe).build(){};u(nG,"PutConfigurationSetDeliveryOptionsCommand");var iG=nG,sG=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","PutIdentityPolicy",{}).n("SESClient","PutIdentityPolicyCommand").f(void 0,void 0).ser(dbe).de(PCe).build(){};u(sG,"PutIdentityPolicyCommand");var oG=sG,aG=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","ReorderReceiptRuleSet",{}).n("SESClient","ReorderReceiptRuleSetCommand").f(void 0,void 0).ser(ube).de(TCe).build(){};u(aG,"ReorderReceiptRuleSetCommand");var cG=aG,lG=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","SendBounce",{}).n("SESClient","SendBounceCommand").f(void 0,void 0).ser(pbe).de(ACe).build(){};u(lG,"SendBounceCommand");var dG=lG,uG=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","SendBulkTemplatedEmail",{}).n("SESClient","SendBulkTemplatedEmailCommand").f(void 0,void 0).ser(mbe).de(ICe).build(){};u(uG,"SendBulkTemplatedEmailCommand");var pG=uG,mG=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","SendCustomVerificationEmail",{}).n("SESClient","SendCustomVerificationEmailCommand").f(void 0,void 0).ser(fbe).de(OCe).build(){};u(mG,"SendCustomVerificationEmailCommand");var fG=mG,hG=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","SendEmail",{}).n("SESClient","SendEmailCommand").f(void 0,void 0).ser(hbe).de(DCe).build(){};u(hG,"SendEmailCommand");var gG=hG,vG=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","SendRawEmail",{}).n("SESClient","SendRawEmailCommand").f(void 0,void 0).ser(gbe).de(NCe).build(){};u(vG,"SendRawEmailCommand");var _G=vG,yG=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","SendTemplatedEmail",{}).n("SESClient","SendTemplatedEmailCommand").f(void 0,void 0).ser(vbe).de($Ce).build(){};u(yG,"SendTemplatedEmailCommand");var EG=yG,SG=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","SetActiveReceiptRuleSet",{}).n("SESClient","SetActiveReceiptRuleSetCommand").f(void 0,void 0).ser(_be).de(kCe).build(){};u(SG,"SetActiveReceiptRuleSetCommand");var xG=SG,bG=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","SetIdentityDkimEnabled",{}).n("SESClient","SetIdentityDkimEnabledCommand").f(void 0,void 0).ser(ybe).de(MCe).build(){};u(bG,"SetIdentityDkimEnabledCommand");var CG=bG,wG=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","SetIdentityFeedbackForwardingEnabled",{}).n("SESClient","SetIdentityFeedbackForwardingEnabledCommand").f(void 0,void 0).ser(Ebe).de(jCe).build(){};u(wG,"SetIdentityFeedbackForwardingEnabledCommand");var RG=wG,PG=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","SetIdentityHeadersInNotificationsEnabled",{}).n("SESClient","SetIdentityHeadersInNotificationsEnabledCommand").f(void 0,void 0).ser(Sbe).de(qCe).build(){};u(PG,"SetIdentityHeadersInNotificationsEnabledCommand");var TG=PG,AG=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","SetIdentityMailFromDomain",{}).n("SESClient","SetIdentityMailFromDomainCommand").f(void 0,void 0).ser(xbe).de(LCe).build(){};u(AG,"SetIdentityMailFromDomainCommand");var IG=AG,OG=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","SetIdentityNotificationTopic",{}).n("SESClient","SetIdentityNotificationTopicCommand").f(void 0,void 0).ser(bbe).de(FCe).build(){};u(OG,"SetIdentityNotificationTopicCommand");var DG=OG,NG=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","SetReceiptRulePosition",{}).n("SESClient","SetReceiptRulePositionCommand").f(void 0,void 0).ser(Cbe).de(UCe).build(){};u(NG,"SetReceiptRulePositionCommand");var $G=NG,kG=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","TestRenderTemplate",{}).n("SESClient","TestRenderTemplateCommand").f(void 0,void 0).ser(wbe).de(zCe).build(){};u(kG,"TestRenderTemplateCommand");var MG=kG,jG=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","UpdateAccountSendingEnabled",{}).n("SESClient","UpdateAccountSendingEnabledCommand").f(void 0,void 0).ser(Rbe).de(VCe).build(){};u(jG,"UpdateAccountSendingEnabledCommand");var qG=jG,LG=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","UpdateConfigurationSetEventDestination",{}).n("SESClient","UpdateConfigurationSetEventDestinationCommand").f(void 0,void 0).ser(Pbe).de(HCe).build(){};u(LG,"UpdateConfigurationSetEventDestinationCommand");var FG=LG,UG=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","UpdateConfigurationSetReputationMetricsEnabled",{}).n("SESClient","UpdateConfigurationSetReputationMetricsEnabledCommand").f(void 0,void 0).ser(Tbe).de(BCe).build(){};u(UG,"UpdateConfigurationSetReputationMetricsEnabledCommand");var zG=UG,VG=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","UpdateConfigurationSetSendingEnabled",{}).n("SESClient","UpdateConfigurationSetSendingEnabledCommand").f(void 0,void 0).ser(Abe).de(GCe).build(){};u(VG,"UpdateConfigurationSetSendingEnabledCommand");var HG=VG,BG=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","UpdateConfigurationSetTrackingOptions",{}).n("SESClient","UpdateConfigurationSetTrackingOptionsCommand").f(void 0,void 0).ser(Ibe).de(WCe).build(){};u(BG,"UpdateConfigurationSetTrackingOptionsCommand");var GG=BG,WG=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","UpdateCustomVerificationEmailTemplate",{}).n("SESClient","UpdateCustomVerificationEmailTemplateCommand").f(void 0,void 0).ser(Obe).de(KCe).build(){};u(WG,"UpdateCustomVerificationEmailTemplateCommand");var KG=WG,XG=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","UpdateReceiptRule",{}).n("SESClient","UpdateReceiptRuleCommand").f(void 0,void 0).ser(Dbe).de(XCe).build(){};u(XG,"UpdateReceiptRuleCommand");var JG=XG,YG=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","UpdateTemplate",{}).n("SESClient","UpdateTemplateCommand").f(void 0,void 0).ser(Nbe).de(JCe).build(){};u(YG,"UpdateTemplateCommand");var QG=YG,ZG=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","VerifyDomainDkim",{}).n("SESClient","VerifyDomainDkimCommand").f(void 0,void 0).ser($be).de(YCe).build(){};u(ZG,"VerifyDomainDkimCommand");var e4=ZG,t4=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","VerifyDomainIdentity",{}).n("SESClient","VerifyDomainIdentityCommand").f(void 0,void 0).ser(kbe).de(QCe).build(){};u(t4,"VerifyDomainIdentityCommand");var r4=t4,n4=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","VerifyEmailAddress",{}).n("SESClient","VerifyEmailAddressCommand").f(void 0,void 0).ser(Mbe).de(ZCe).build(){};u(n4,"VerifyEmailAddressCommand");var i4=n4,s4=class extends h.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,q.getSerdePlugin)(n,this.serialize,this.deserialize),(0,M.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SimpleEmailService","VerifyEmailIdentity",{}).n("SESClient","VerifyEmailIdentityCommand").f(void 0,void 0).ser(jbe).de(e0e).build(){};u(s4,"VerifyEmailIdentityCommand");var o4=s4,AIe={CloneReceiptRuleSetCommand:OB,CreateConfigurationSetCommand:NB,CreateConfigurationSetEventDestinationCommand:kB,CreateConfigurationSetTrackingOptionsCommand:jB,CreateCustomVerificationEmailTemplateCommand:LB,CreateReceiptFilterCommand:UB,CreateReceiptRuleCommand:VB,CreateReceiptRuleSetCommand:BB,CreateTemplateCommand:WB,DeleteConfigurationSetCommand:XB,DeleteConfigurationSetEventDestinationCommand:YB,DeleteConfigurationSetTrackingOptionsCommand:ZB,DeleteCustomVerificationEmailTemplateCommand:t3,DeleteIdentityCommand:n3,DeleteIdentityPolicyCommand:s3,DeleteReceiptFilterCommand:a3,DeleteReceiptRuleCommand:l3,DeleteReceiptRuleSetCommand:u3,DeleteTemplateCommand:m3,DeleteVerifiedEmailAddressCommand:h3,DescribeActiveReceiptRuleSetCommand:v3,DescribeConfigurationSetCommand:y3,DescribeReceiptRuleCommand:S3,DescribeReceiptRuleSetCommand:b3,GetAccountSendingEnabledCommand:w3,GetCustomVerificationEmailTemplateCommand:P3,GetIdentityDkimAttributesCommand:A3,GetIdentityMailFromDomainAttributesCommand:O3,GetIdentityNotificationAttributesCommand:N3,GetIdentityPoliciesCommand:k3,GetIdentityVerificationAttributesCommand:Yx,GetSendQuotaCommand:q3,GetSendStatisticsCommand:F3,GetTemplateCommand:z3,ListConfigurationSetsCommand:H3,ListCustomVerificationEmailTemplatesCommand:Qx,ListIdentitiesCommand:Zx,ListIdentityPoliciesCommand:K3,ListReceiptFiltersCommand:J3,ListReceiptRuleSetsCommand:Q3,ListTemplatesCommand:eG,ListVerifiedEmailAddressesCommand:rG,PutConfigurationSetDeliveryOptionsCommand:iG,PutIdentityPolicyCommand:oG,ReorderReceiptRuleSetCommand:cG,SendBounceCommand:dG,SendBulkTemplatedEmailCommand:pG,SendCustomVerificationEmailCommand:fG,SendEmailCommand:gG,SendRawEmailCommand:_G,SendTemplatedEmailCommand:EG,SetActiveReceiptRuleSetCommand:xG,SetIdentityDkimEnabledCommand:CG,SetIdentityFeedbackForwardingEnabledCommand:RG,SetIdentityHeadersInNotificationsEnabledCommand:TG,SetIdentityMailFromDomainCommand:IG,SetIdentityNotificationTopicCommand:DG,SetReceiptRulePositionCommand:$G,TestRenderTemplateCommand:MG,UpdateAccountSendingEnabledCommand:qG,UpdateConfigurationSetEventDestinationCommand:FG,UpdateConfigurationSetReputationMetricsEnabledCommand:zG,UpdateConfigurationSetSendingEnabledCommand:HG,UpdateConfigurationSetTrackingOptionsCommand:GG,UpdateCustomVerificationEmailTemplateCommand:KG,UpdateReceiptRuleCommand:JG,UpdateTemplateCommand:QG,VerifyDomainDkimCommand:e4,VerifyDomainIdentityCommand:r4,VerifyEmailAddressCommand:i4,VerifyEmailIdentityCommand:o4},a4=class extends Zf{};u(a4,"SES");var c4=a4;(0,h.createAggregatedClient)(AIe,c4);var IIe=(0,Ad.createPaginator)(Zf,Qx,"NextToken","NextToken","MaxResults"),OIe=(0,Ad.createPaginator)(Zf,Zx,"NextToken","NextToken","MaxItems"),Vd=lV(),l4=u(async(e,t)=>{let r;try{let n=await e.send(new Yx(t));r=n;try{let i=u(()=>Object.values(n.VerificationAttributes).map(a=>a.VerificationStatus),"returnComparator"),s=i().length>0;for(let o of i())s=s&&o=="Success";if(s)return{state:Vd.WaiterState.SUCCESS,reason:r}}catch{}}catch(n){r=n}return{state:Vd.WaiterState.RETRY,reason:r}},"checkState"),DIe=u(async(e,t)=>{let r={minDelay:3,maxDelay:120};return(0,Vd.createWaiter)({...r,...e},t,l4)},"waitForIdentityExists"),NIe=u(async(e,t)=>{let r={minDelay:3,maxDelay:120},n=await(0,Vd.createWaiter)({...r,...e},t,l4);return(0,Vd.checkExceptions)(n)},"waitUntilIdentityExists")});var LIe={};Xd(LIe,{handler:()=>qIe});module.exports=ni(LIe);var eb=Rn(lu());kh();var g4=Rn(dA());var UQ=(e="/")=>({statusCode:500,body:JSON.stringify({type:"urn:problem:server-error",title:"Server Error",detail:"An unexpected error has occurred, contact the administrator.",status:500,instance:e}),headers:{"Content-Type":"application/problem+json"}});var zQ=e=>({statusCode:200,body:JSON.stringify({type:"urn:success:ok",title:"OK",detail:e,status:200}),headers:{"Content-Type":"application/json"}}),VQ=e=>({statusCode:200,body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}),HQ=e=>(t="/")=>({statusCode:400,body:JSON.stringify({type:"urn:problem:bad-request",title:"Bad Request",detail:e.message,status:400,instance:t}),headers:{"Content-Type":"application/problem+json"}}),BQ=e=>(t="/")=>({statusCode:404,body:JSON.stringify({type:"urn:problem:not-found",title:"Not Found",detail:e.message,status:404,instance:t}),headers:{"Content-Type":"application/problem+json"}}),GQ=e=>(t="/")=>({statusCode:409,body:JSON.stringify({type:"urn:problem:conflict",title:"Conflict",detail:e.message,status:409,instance:t}),headers:{"Content-Type":"application/problem+json"}}),WQ=e=>(t="/")=>({statusCode:429,body:JSON.stringify({type:"urn:problem:too-many-requests",title:"Too Many Requests",detail:e.message,status:429,instance:t}),headers:{"Content-Type":"application/problem+json"}}),KQ=e=>(t="/")=>({statusCode:401,body:JSON.stringify({type:"urn:problem:unauthorized",title:"Unauthorized",detail:e.message,status:401,instance:t}),headers:{"Content-Type":"application/problem+json"}}),XQ=(e,t)=>(r="/")=>({statusCode:t,body:JSON.stringify({type:`urn:problem:${e.replace(" ","-").toLowerCase()}`,title:e,detail:e,status:t,instance:r}),headers:{"Content-Type":"application/problem+json"}}),JQ=e=>(t="/")=>({statusCode:422,body:JSON.stringify({type:"urn:problem:unprocessable-entity",title:"Unprocessable Entity",detail:e.message,status:422,instance:t}),headers:{"Content-Type":"application/problem+json"}}),Jv={serverError:UQ,ok:zQ,success:VQ,badRequest:HQ,generic:XQ,notFound:BQ,conflict:GQ,tooManyRequest:WQ,unauthorized:KQ,unprocessable:JQ};var p4=Rn(require("path")),$Ie=GI(),m4=u4(),kIe=new m4.SES({region:"eu-west-1"}),MIe=$Ie.createTransport({SES:{ses:kIe,aws:m4}}),f4=async(e,t,r,n,i)=>{let s=p4.default.basename(i);try{MIe.sendMail({from:e,to:t,subject:r,text:n,attachments:[{filename:s,href:i}]})}catch(o){console.log(o)}};var h4={type:"object",properties:{body:{type:"object",required:["from","to","subject"],additionalProperties:!1,properties:{from:{type:"string",format:"email"},to:{type:"array",items:{type:"string",format:"email"}},subject:{type:"string"},textBody:{type:"string"},url:{type:"string",format:"url"}}}}};var jIe=async e=>{let{from:t,to:r,subject:n,textBody:i,url:s}=e.body;console.log("\u{1F680} ~ sendRawEmailNodemailer ~  event.body:",e.body);try{return await f4(t,r,n,i,s),Pu.info("Email sent successfully"),Tu.addMetric("SendRawEmailSuccess",eb.MetricUnits.Count,1),Jv.ok("Email sent successfully")}catch(o){return Pu.error(o),Tu.addMetric("SendRawEmailError",eb.MetricUnits.Count,1),Jv.error({error:o})}},qIe=g4.default.adapter(jIe,h4);0&&(module.exports={handler});
/*! Bundled license information:

uri-js/dist/es5/uri.all.js:
  (** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js *)
*/
