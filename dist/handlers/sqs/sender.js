var bM=Object.create;var es=Object.defineProperty;var wM=Object.getOwnPropertyDescriptor;var CM=Object.getOwnPropertyNames;var PM=Object.getPrototypeOf,OM=Object.prototype.hasOwnProperty;var le=(e,t)=>()=>(e&&(t=e(e=0)),t);var g=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),qc=(e,t)=>{for(var r in t)es(e,r,{get:t[r],enumerable:!0})},sf=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of CM(t))!OM.call(e,o)&&o!==r&&es(e,o,{get:()=>t[o],enumerable:!(n=wM(t,o))||n.enumerable});return e};var ht=(e,t,r)=>(r=e!=null?bM(PM(e)):{},sf(t||!e||!e.__esModule?es(r,"default",{value:e,enumerable:!0}):r,e)),kt=e=>sf(es({},"__esModule",{value:!0}),e);var cf=g(af=>{"use strict";Object.defineProperty(af,"__esModule",{value:!0})});var df=g(gr=>{"use strict";var RM=gr&&gr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),AM=gr&&gr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&RM(t,e,r)};Object.defineProperty(gr,"__esModule",{value:!0});AM(cf(),gr)});var lf=g(ts=>{"use strict";Object.defineProperty(ts,"__esModule",{value:!0});ts.Utility=void 0;var jc=class{constructor(){this.coldStart=!0,this.defaultServiceName="service_undefined"}getColdStart(){return this.coldStart?(this.coldStart=!1,!0):!1}isColdStart(){return this.getColdStart()}getDefaultServiceName(){return this.defaultServiceName}isValidServiceName(t){return typeof t=="string"&&t.trim().length>0}};ts.Utility=jc});var uf=g(rs=>{"use strict";Object.defineProperty(rs,"__esModule",{value:!0});rs.ConfigService=void 0;var Fc=class{};rs.ConfigService=Fc});var pf=g(ns=>{"use strict";Object.defineProperty(ns,"__esModule",{value:!0});ns.EnvironmentVariablesService=void 0;var Uc=class{constructor(){this.devModeVariable="POWERTOOLS_DEV",this.serviceNameVariable="POWERTOOLS_SERVICE_NAME",this.xRayTraceIdVariable="_X_AMZN_TRACE_ID"}get(t){return process.env[t]?.trim()||""}getServiceName(){return this.get(this.serviceNameVariable)}getXrayTraceId(){return this.getXrayTraceData()?.Root}getXrayTraceSampled(){return this.getXrayTraceData()?.Sampled==="1"}isDevMode(){return this.isValueTrue(this.get(this.devModeVariable))}isValueTrue(t){return["1","y","yes","t","true","on"].includes(t.toLowerCase())}getXrayTraceData(){let t=this.get(this.xRayTraceIdVariable);if(t==="")return;if(!t.includes("="))return{Root:t};let r={};return t.split(";").forEach(n=>{let[o,s]=n.split("=");r[o]=s}),r}};ns.EnvironmentVariablesService=Uc});var mf=g(Lt=>{"use strict";var TM=Lt&&Lt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ff=Lt&&Lt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&TM(t,e,r)};Object.defineProperty(Lt,"__esModule",{value:!0});ff(uf(),Lt);ff(pf(),Lt)});var gf=g(os=>{"use strict";Object.defineProperty(os,"__esModule",{value:!0});os.helloworldContext=void 0;var IM={callbackWaitsForEmptyEventLoop:!0,functionVersion:"$LATEST",functionName:"foo-bar-function",memoryLimitInMB:"128",logGroupName:"/aws/lambda/foo-bar-function-123456abcdef",logStreamName:"2021/03/09/[$LATEST]abcdef123456abcdef123456abcdef123456",invokedFunctionArn:"arn:aws:lambda:eu-west-1:123456789012:function:foo-bar-function",awsRequestId:"c6af9ac6-7b61-11e6-9a41-93e812345678",getRemainingTimeInMillis:()=>1234,done:()=>console.log("Done!"),fail:()=>console.log("Failed!"),succeed:()=>console.log("Succeeded!")};os.helloworldContext=IM});var hf=g(hr=>{"use strict";var xM=hr&&hr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),NM=hr&&hr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&xM(t,e,r)};Object.defineProperty(hr,"__esModule",{value:!0});NM(gf(),hr)});var vf=g(ss=>{"use strict";Object.defineProperty(ss,"__esModule",{value:!0});ss.CustomEvent=void 0;ss.CustomEvent={key1:"value1",key2:"value2",key3:"value3"}});var _f=g(nt=>{"use strict";var MM=nt&&nt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),DM=nt&&nt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),kM=nt&&nt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&MM(t,e,r);return DM(t,e),t};Object.defineProperty(nt,"__esModule",{value:!0});nt.Custom=void 0;nt.Custom=kM(vf())});var Sf=g(yf=>{"use strict";Object.defineProperty(yf,"__esModule",{value:!0})});var bf=g(ot=>{"use strict";Object.defineProperty(ot,"__esModule",{value:!0});ot.isNullOrUndefined=ot.isTruthy=ot.isString=ot.isRecord=void 0;var Ef=e=>Object.prototype.toString.call(e)==="[object Object]"&&!Object.is(e,null);ot.isRecord=Ef;var LM=e=>typeof e=="string"?e!=="":typeof e=="number"?e!==0:typeof e=="boolean"?e:Array.isArray(e)?e.length>0:Ef(e)?Object.keys(e).length>0:!1;ot.isTruthy=LM;var qM=e=>Object.is(e,null)||Object.is(e,void 0);ot.isNullOrUndefined=qM;var jM=e=>typeof e=="string";ot.isString=jM});var wf=g(is=>{"use strict";Object.defineProperty(is,"__esModule",{value:!0});is.PT_VERSION=void 0;is.PT_VERSION="1.18.1"});var Hc=g(as=>{"use strict";Object.defineProperty(as,"__esModule",{value:!0});as.isSdkClient=void 0;var FM=e=>typeof e=="object"&&e!==null&&"send"in e&&typeof e.send=="function"&&"config"in e&&e.config!==void 0&&typeof e.config=="object"&&e.config!==null&&"middlewareStack"in e&&e.middlewareStack!==void 0&&typeof e.middlewareStack=="object"&&e.middlewareStack!==null&&"identify"in e.middlewareStack&&typeof e.middlewareStack.identify=="function"&&"addRelativeTo"in e.middlewareStack&&typeof e.middlewareStack.addRelativeTo=="function";as.isSdkClient=FM});var Pf=g(Fr=>{"use strict";Object.defineProperty(Fr,"__esModule",{value:!0});Fr.addUserAgentMiddleware=Fr.customUserAgentMiddleware=void 0;var UM=wf(),HM=Hc(),$M=process.env.AWS_EXECUTION_ENV||"NA",BM={relation:"after",toMiddleware:"getUserAgentMiddleware",name:"addPowertoolsToUserAgent",tags:["POWERTOOLS","USER_AGENT"]},Cf=e=>t=>async r=>{let n=`PT/${e}/${UM.PT_VERSION} PTEnv/${$M}`;return r.request.headers["user-agent"]=`${r.request.headers["user-agent"]} ${n}`,await t(r)};Fr.customUserAgentMiddleware=Cf;var zM=e=>{let t=!1;for(let r of e)r.includes("addPowertoolsToUserAgent")&&(t=!0);return t},VM=(e,t)=>{try{if((0,HM.isSdkClient)(e)){if(zM(e.middlewareStack.identify()))return;e.middlewareStack.addRelativeTo(Cf(t),BM)}else throw new Error("The client provided does not match the expected interface")}catch(r){console.warn("Failed to add user agent middleware",r)}};Fr.addUserAgentMiddleware=VM});var Of=g(Ur=>{"use strict";Object.defineProperty(Ur,"__esModule",{value:!0});Ur.isSdkClient=Ur.addUserAgentMiddleware=void 0;var GM=Pf();Object.defineProperty(Ur,"addUserAgentMiddleware",{enumerable:!0,get:function(){return GM.addUserAgentMiddleware}});var WM=Hc();Object.defineProperty(Ur,"isSdkClient",{enumerable:!0,get:function(){return WM.isSdkClient}})});var Fn=g(te=>{"use strict";var Rf=te&&te.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),QM=te&&te.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Hr=te&&te.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Rf(t,e,r)},Af=te&&te.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Rf(t,e,r);return QM(t,e),t};Object.defineProperty(te,"__esModule",{value:!0});te.Events=te.ContextExamples=void 0;Hr(df(),te);Hr(lf(),te);Hr(mf(),te);te.ContextExamples=Af(hf());te.Events=Af(_f());Hr(Sf(),te);Hr(bf(),te);Hr(Of(),te)});var If=g(Tf=>{"use strict";Object.defineProperty(Tf,"__esModule",{value:!0})});var xf=g(cs=>{"use strict";Object.defineProperty(cs,"__esModule",{value:!0});cs.EnvironmentVariablesService=void 0;var KM=Fn(),$c=class extends KM.EnvironmentVariablesService{constructor(){super(...arguments),this.namespaceVariable="POWERTOOLS_METRICS_NAMESPACE"}getNamespace(){return this.get(this.namespaceVariable)}};cs.EnvironmentVariablesService=$c});var Mf=g(qt=>{"use strict";var JM=qt&&qt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Nf=qt&&qt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&JM(t,e,r)};Object.defineProperty(qt,"__esModule",{value:!0});Nf(If(),qt);Nf(xf(),qt)});var Df=g(Te=>{"use strict";Object.defineProperty(Te,"__esModule",{value:!0});Te.MAX_DIMENSION_COUNT=Te.MAX_METRIC_VALUES_SIZE=Te.MAX_METRICS_SIZE=Te.DEFAULT_NAMESPACE=Te.COLD_START_METRIC=void 0;var YM="ColdStart";Te.COLD_START_METRIC=YM;var XM="default_namespace";Te.DEFAULT_NAMESPACE=XM;var ZM=100;Te.MAX_METRICS_SIZE=ZM;var eD=100;Te.MAX_METRIC_VALUES_SIZE=eD;var tD=29;Te.MAX_DIMENSION_COUNT=tD});var Lf=g(kf=>{"use strict";Object.defineProperty(kf,"__esModule",{value:!0})});var jf=g(ds=>{"use strict";Object.defineProperty(ds,"__esModule",{value:!0});ds.MetricUnits=void 0;var qf;(function(e){e.Seconds="Seconds",e.Microseconds="Microseconds",e.Milliseconds="Milliseconds",e.Bytes="Bytes",e.Kilobytes="Kilobytes",e.Megabytes="Megabytes",e.Gigabytes="Gigabytes",e.Terabytes="Terabytes",e.Bits="Bits",e.Kilobits="Kilobits",e.Megabits="Megabits",e.Gigabits="Gigabits",e.Terabits="Terabits",e.Percent="Percent",e.Count="Count",e.BytesPerSecond="Bytes/Second",e.KilobytesPerSecond="Kilobytes/Second",e.MegabytesPerSecond="Megabytes/Second",e.GigabytesPerSecond="Gigabytes/Second",e.TerabytesPerSecond="Terabytes/Second",e.BitsPerSecond="Bits/Second",e.KilobitsPerSecond="Kilobits/Second",e.MegabitsPerSecond="Megabits/Second",e.GigabitsPerSecond="Gigabits/Second",e.TerabitsPerSecond="Terabits/Second",e.CountPerSecond="Count/Second"})(qf||(ds.MetricUnits=qf={}))});var Ff=g(ls=>{"use strict";Object.defineProperty(ls,"__esModule",{value:!0});ls.MetricResolution=void 0;var rD={Standard:60,High:1};ls.MetricResolution=rD});var Uf=g(vt=>{"use strict";var nD=vt&&vt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Bc=vt&&vt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&nD(t,e,r)};Object.defineProperty(vt,"__esModule",{value:!0});Bc(Lf(),vt);Bc(jf(),vt);Bc(Ff(),vt)});var Hf=g(jt=>{"use strict";Object.defineProperty(jt,"__esModule",{value:!0});jt.MetricResolution=jt.MetricUnits=jt.Metrics=void 0;var oD=require("node:console"),sD=Fn(),iD=Mf(),_t=Df(),Un=Uf();Object.defineProperty(jt,"MetricUnits",{enumerable:!0,get:function(){return Un.MetricUnits}});Object.defineProperty(jt,"MetricResolution",{enumerable:!0,get:function(){return Un.MetricResolution}});var zc=class e extends sD.Utility{constructor(t={}){super(),this.defaultDimensions={},this.dimensions={},this.isSingleMetric=!1,this.metadata={},this.shouldThrowOnEmptyMetrics=!1,this.storedMetrics={},this.dimensions={},this.setOptions(t)}addDimension(t,r){if(_t.MAX_DIMENSION_COUNT<=this.getCurrentDimensionsCount())throw new RangeError(`The number of metric dimensions must be lower than ${_t.MAX_DIMENSION_COUNT}`);this.dimensions[t]=r}addDimensions(t){let r={...this.dimensions};if(Object.keys(t).forEach(n=>{r[n]=t[n]}),Object.keys(r).length>_t.MAX_DIMENSION_COUNT)throw new RangeError(`Unable to add ${Object.keys(t).length} dimensions: the number of metric dimensions must be lower than ${_t.MAX_DIMENSION_COUNT}`);this.dimensions=r}addMetadata(t,r){this.metadata[t]=r}addMetric(t,r,n,o=Un.MetricResolution.Standard){this.storeMetric(t,r,n,o),this.isSingleMetric&&this.publishStoredMetrics()}captureColdStartMetric(){if(!this.isColdStart())return;let t=this.singleMetric();this.defaultDimensions.service&&t.setDefaultDimensions({service:this.defaultDimensions.service}),this.functionName!=null&&t.addDimension("function_name",this.functionName),t.addMetric(_t.COLD_START_METRIC,Un.MetricUnits.Count,1)}clearDefaultDimensions(){this.defaultDimensions={}}clearDimensions(){this.dimensions={}}clearMetadata(){this.metadata={}}clearMetrics(){this.storedMetrics={}}logMetrics(t={}){let{throwOnEmptyMetrics:r,defaultDimensions:n,captureColdStartMetric:o}=t;return r&&this.throwOnEmptyMetrics(),n!==void 0&&this.setDefaultDimensions(n),(s,i,a)=>{let c=a.value,d=this;return a.value=async function(l,u,p){d.functionName=u.functionName,o&&d.captureColdStartMetric();let f;try{f=await c.apply(this,[l,u,p])}catch(h){throw h}finally{d.publishStoredMetrics()}return f},a}}publishStoredMetrics(){!this.shouldThrowOnEmptyMetrics&&Object.keys(this.storedMetrics).length===0&&console.warn("No application metrics to publish. The cold-start metric may be published if enabled. If application metrics should never be empty, consider using `throwOnEmptyMetrics`");let t=this.serializeMetrics();this.console.log(JSON.stringify(t)),this.clearMetrics(),this.clearDimensions(),this.clearMetadata()}serializeMetrics(){let t=Object.values(this.storedMetrics).map(o=>({Name:o.name,Unit:o.unit,...o.resolution===Un.MetricResolution.High?{StorageResolution:o.resolution}:{}}));if(t.length===0&&this.shouldThrowOnEmptyMetrics)throw new RangeError("The number of metrics recorded must be higher than zero");this.namespace||console.warn("Namespace should be defined, default used");let r=Object.values(this.storedMetrics).reduce((o,{name:s,value:i})=>(o[s]=i,o),{}),n=[...new Set([...Object.keys(this.defaultDimensions),...Object.keys(this.dimensions)])];return{_aws:{Timestamp:new Date().getTime(),CloudWatchMetrics:[{Namespace:this.namespace||_t.DEFAULT_NAMESPACE,Dimensions:[n],Metrics:t}]},...this.defaultDimensions,...this.dimensions,...r,...this.metadata}}setDefaultDimensions(t){let r={...this.defaultDimensions,...t};if(_t.MAX_DIMENSION_COUNT<=Object.keys(r).length)throw new Error("Max dimension count hit");this.defaultDimensions=r}setFunctionName(t){this.functionName=t}singleMetric(){return new e({namespace:this.namespace,serviceName:this.dimensions.service,defaultDimensions:this.defaultDimensions,singleMetric:!0})}throwOnEmptyMetrics(){this.shouldThrowOnEmptyMetrics=!0}getCurrentDimensionsCount(){return Object.keys(this.dimensions).length+Object.keys(this.defaultDimensions).length}getCustomConfigService(){return this.customConfigService}getEnvVarsService(){return this.envVarsService}isNewMetric(t,r){if(this.storedMetrics[t]){if(this.storedMetrics[t].unit!==r){let n=this.storedMetrics[t].unit;throw new Error(`Metric "${t}" has already been added with unit "${n}", but we received unit "${r}". Did you mean to use metric unit "${n}"?`)}return!1}else return!0}setConsole(){this.getEnvVarsService().isDevMode()?this.console=console:this.console=new oD.Console({stdout:process.stdout,stderr:process.stderr})}setCustomConfigService(t){this.customConfigService=t||void 0}setEnvVarsService(){this.envVarsService=new iD.EnvironmentVariablesService}setNamespace(t){this.namespace=t||this.getCustomConfigService()?.getNamespace()||this.getEnvVarsService().getNamespace()}setOptions(t){let{customConfigService:r,namespace:n,serviceName:o,singleMetric:s,defaultDimensions:i}=t;return this.setEnvVarsService(),this.setConsole(),this.setCustomConfigService(r),this.setNamespace(n),this.setService(o),this.setDefaultDimensions(i),this.isSingleMetric=s||!1,this}setService(t){let r=t||this.getCustomConfigService()?.getServiceName()||this.getEnvVarsService().getServiceName()||this.getDefaultServiceName();r.length>0&&this.setDefaultDimensions({service:r})}storeMetric(t,r,n,o){if(Object.keys(this.storedMetrics).length>=_t.MAX_METRICS_SIZE&&this.publishStoredMetrics(),this.isNewMetric(t,r))this.storedMetrics[t]={unit:r,value:n,name:t,resolution:o};else{let s=this.storedMetrics[t];Array.isArray(s.value)||(s.value=[s.value]),s.value.push(n),s.value.length===_t.MAX_METRIC_VALUES_SIZE&&this.publishStoredMetrics()}}};jt.Metrics=zc});var Bf=g($f=>{"use strict";Object.defineProperty($f,"__esModule",{value:!0})});var Vc=g(Ie=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});Ie.IDEMPOTENCY_KEY=Ie.LOGGER_KEY=Ie.METRICS_KEY=Ie.TRACER_KEY=Ie.PREFIX=void 0;var Hn="powertools-for-aws";Ie.PREFIX=Hn;var aD=`${Hn}.tracer`;Ie.TRACER_KEY=aD;var cD=`${Hn}.metrics`;Ie.METRICS_KEY=cD;var dD=`${Hn}.logger`;Ie.LOGGER_KEY=dD;var lD=`${Hn}.idempotency`;Ie.IDEMPOTENCY_KEY=lD});var zf=g(ps=>{"use strict";Object.defineProperty(ps,"__esModule",{value:!0});ps.cleanupMiddlewares=void 0;var us=Vc(),uD=e=>typeof e=="function",pD=async e=>{let t=[us.TRACER_KEY,us.METRICS_KEY,us.LOGGER_KEY,us.IDEMPOTENCY_KEY];for(let r of t)if(Object(e.internal).hasOwnProperty(r)){let n=e.internal[r];uD(n)&&await n(e)}};ps.cleanupMiddlewares=pD});var Gc=g(Ft=>{"use strict";var fD=Ft&&Ft.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Vf=Ft&&Ft.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&fD(t,e,r)};Object.defineProperty(Ft,"__esModule",{value:!0});Vf(zf(),Ft);Vf(Vc(),Ft)});var Gf=g(fs=>{"use strict";Object.defineProperty(fs,"__esModule",{value:!0});fs.logMetrics=void 0;var mD=Gc(),gD=(e,t={})=>{let r=e instanceof Array?e:[e],n=i=>{i.internal={...i.internal,[mD.METRICS_KEY]:s}},o=async i=>{r.forEach(a=>{a.setFunctionName(i.context.functionName);let{throwOnEmptyMetrics:c,defaultDimensions:d,captureColdStartMetric:l}=t;c&&a.throwOnEmptyMetrics(),d!==void 0&&a.setDefaultDimensions(d),l&&a.captureColdStartMetric()}),n(i)},s=async()=>{r.forEach(i=>{i.publishStoredMetrics()})};return{before:o,after:s,onError:s}};fs.logMetrics=gD});var Wf=g(vr=>{"use strict";var hD=vr&&vr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),vD=vr&&vr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&hD(t,e,r)};Object.defineProperty(vr,"__esModule",{value:!0});vD(Gf(),vr)});var Qc=g(yt=>{"use strict";var _D=yt&&yt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Wc=yt&&yt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&_D(t,e,r)};Object.defineProperty(yt,"__esModule",{value:!0});Wc(Hf(),yt);Wc(Bf(),yt);Wc(Wf(),yt)});var Qf=g(ms=>{"use strict";Object.defineProperty(ms,"__esModule",{value:!0});ms.createLogger=void 0;var yD=Kc(),SD=(e={})=>new yD.Logger(e);ms.createLogger=SD});var Kf=g(gs=>{"use strict";Object.defineProperty(gs,"__esModule",{value:!0});gs.LogFormatter=void 0;var ED=e=>"cause"in e,Jc=class{formatError(t){return{name:t.name,location:this.getCodeLocation(t.stack),message:t.message,stack:t.stack,cause:ED(t)?t.cause instanceof Error?this.formatError(t.cause):t.cause:void 0}}formatTimestamp(t){return t.toISOString()}getCodeLocation(t){if(!t)return"";let r=t.split(`
`),n=/\((.*):(\d+):(\d+)\)\\?$/,o;for(o=0;o<r.length;o++){let s=n.exec(r[o]);if(Array.isArray(s))return`${s[1]}:${Number(s[2])}`}return""}};gs.LogFormatter=Jc});var Yf=g(Jf=>{"use strict";Object.defineProperty(Jf,"__esModule",{value:!0})});var Xf=g(hs=>{"use strict";Object.defineProperty(hs,"__esModule",{value:!0});hs.PowertoolLogFormatter=void 0;var bD=vs(),Yc=class extends bD.LogFormatter{formatAttributes(t){return{cold_start:t.lambdaContext?.coldStart,function_arn:t.lambdaContext?.invokedFunctionArn,function_memory_size:t.lambdaContext?.memoryLimitInMB,function_name:t.lambdaContext?.functionName,function_request_id:t.lambdaContext?.awsRequestId,level:t.logLevel,message:t.message,sampling_rate:t.sampleRateValue,service:t.serviceName,timestamp:this.formatTimestamp(t.timestamp),xray_trace_id:t.xRayTraceId}}};hs.PowertoolLogFormatter=Yc});var vs=g(St=>{"use strict";var wD=St&&St.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Xc=St&&St.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&wD(t,e,r)};Object.defineProperty(St,"__esModule",{value:!0});Xc(Kf(),St);Xc(Yf(),St);Xc(Xf(),St)});var dd=g(($n,$r)=>{var CD=200,cm="__lodash_hash_undefined__",PD=800,OD=16,dm=9007199254740991,lm="[object Arguments]",RD="[object Array]",AD="[object AsyncFunction]",TD="[object Boolean]",ID="[object Date]",xD="[object Error]",um="[object Function]",ND="[object GeneratorFunction]",MD="[object Map]",DD="[object Number]",kD="[object Null]",pm="[object Object]",LD="[object Proxy]",qD="[object RegExp]",jD="[object Set]",FD="[object String]",UD="[object Undefined]",HD="[object WeakMap]",$D="[object ArrayBuffer]",BD="[object DataView]",zD="[object Float32Array]",VD="[object Float64Array]",GD="[object Int8Array]",WD="[object Int16Array]",QD="[object Int32Array]",KD="[object Uint8Array]",JD="[object Uint8ClampedArray]",YD="[object Uint16Array]",XD="[object Uint32Array]",ZD=/[\\^$.*+?()[\]{}|]/g,ek=/^\[object .+?Constructor\]$/,tk=/^(?:0|[1-9]\d*)$/,$={};$[zD]=$[VD]=$[GD]=$[WD]=$[QD]=$[KD]=$[JD]=$[YD]=$[XD]=!0;$[lm]=$[RD]=$[$D]=$[TD]=$[BD]=$[ID]=$[xD]=$[um]=$[MD]=$[DD]=$[pm]=$[qD]=$[jD]=$[FD]=$[HD]=!1;var fm=typeof global=="object"&&global&&global.Object===Object&&global,rk=typeof self=="object"&&self&&self.Object===Object&&self,Vn=fm||rk||Function("return this")(),mm=typeof $n=="object"&&$n&&!$n.nodeType&&$n,Bn=mm&&typeof $r=="object"&&$r&&!$r.nodeType&&$r,gm=Bn&&Bn.exports===mm,Zc=gm&&fm.process,Zf=function(){try{var e=Bn&&Bn.require&&Bn.require("util").types;return e||Zc&&Zc.binding&&Zc.binding("util")}catch{}}(),em=Zf&&Zf.isTypedArray;function nk(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function ok(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function sk(e){return function(t){return e(t)}}function ik(e,t){return e?.[t]}function ak(e,t){return function(r){return e(t(r))}}var ck=Array.prototype,dk=Function.prototype,Ss=Object.prototype,ed=Vn["__core-js_shared__"],Es=dk.toString,Et=Ss.hasOwnProperty,tm=function(){var e=/[^.]+$/.exec(ed&&ed.keys&&ed.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),hm=Ss.toString,lk=Es.call(Object),uk=RegExp("^"+Es.call(Et).replace(ZD,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_s=gm?Vn.Buffer:void 0,rm=Vn.Symbol,nm=Vn.Uint8Array,om=_s?_s.allocUnsafe:void 0,vm=ak(Object.getPrototypeOf,Object),sm=Object.create,pk=Ss.propertyIsEnumerable,fk=ck.splice,_r=rm?rm.toStringTag:void 0,ys=function(){try{var e=id(Object,"defineProperty");return e({},"",{}),e}catch{}}(),mk=_s?_s.isBuffer:void 0,im=Math.max,gk=Date.now,_m=id(Vn,"Map"),zn=id(Object,"create"),hk=function(){function e(){}return function(t){if(!Sr(t))return{};if(sm)return sm(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function yr(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function vk(){this.__data__=zn?zn(null):{},this.size=0}function _k(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function yk(e){var t=this.__data__;if(zn){var r=t[e];return r===cm?void 0:r}return Et.call(t,e)?t[e]:void 0}function Sk(e){var t=this.__data__;return zn?t[e]!==void 0:Et.call(t,e)}function Ek(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=zn&&t===void 0?cm:t,this}yr.prototype.clear=vk;yr.prototype.delete=_k;yr.prototype.get=yk;yr.prototype.has=Sk;yr.prototype.set=Ek;function bt(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function bk(){this.__data__=[],this.size=0}function wk(e){var t=this.__data__,r=bs(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():fk.call(t,r,1),--this.size,!0}function Ck(e){var t=this.__data__,r=bs(t,e);return r<0?void 0:t[r][1]}function Pk(e){return bs(this.__data__,e)>-1}function Ok(e,t){var r=this.__data__,n=bs(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}bt.prototype.clear=bk;bt.prototype.delete=wk;bt.prototype.get=Ck;bt.prototype.has=Pk;bt.prototype.set=Ok;function Br(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Rk(){this.size=0,this.__data__={hash:new yr,map:new(_m||bt),string:new yr}}function Ak(e){var t=Cs(this,e).delete(e);return this.size-=t?1:0,t}function Tk(e){return Cs(this,e).get(e)}function Ik(e){return Cs(this,e).has(e)}function xk(e,t){var r=Cs(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}Br.prototype.clear=Rk;Br.prototype.delete=Ak;Br.prototype.get=Tk;Br.prototype.has=Ik;Br.prototype.set=xk;function zr(e){var t=this.__data__=new bt(e);this.size=t.size}function Nk(){this.__data__=new bt,this.size=0}function Mk(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function Dk(e){return this.__data__.get(e)}function kk(e){return this.__data__.has(e)}function Lk(e,t){var r=this.__data__;if(r instanceof bt){var n=r.__data__;if(!_m||n.length<CD-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Br(n)}return r.set(e,t),this.size=r.size,this}zr.prototype.clear=Nk;zr.prototype.delete=Mk;zr.prototype.get=Dk;zr.prototype.has=kk;zr.prototype.set=Lk;function qk(e,t){var r=od(e),n=!r&&nd(e),o=!r&&!n&&bm(e),s=!r&&!n&&!o&&Cm(e),i=r||n||o||s,a=i?ok(e.length,String):[],c=a.length;for(var d in e)(t||Et.call(e,d))&&!(i&&(d=="length"||o&&(d=="offset"||d=="parent")||s&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||Sm(d,c)))&&a.push(d);return a}function td(e,t,r){(r!==void 0&&!Ps(e[t],r)||r===void 0&&!(t in e))&&sd(e,t,r)}function jk(e,t,r){var n=e[t];(!(Et.call(e,t)&&Ps(n,r))||r===void 0&&!(t in e))&&sd(e,t,r)}function bs(e,t){for(var r=e.length;r--;)if(Ps(e[r][0],t))return r;return-1}function sd(e,t,r){t=="__proto__"&&ys?ys(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Fk=Xk();function ws(e){return e==null?e===void 0?UD:kD:_r&&_r in Object(e)?Zk(e):sL(e)}function am(e){return Gn(e)&&ws(e)==lm}function Uk(e){if(!Sr(e)||nL(e))return!1;var t=cd(e)?uk:ek;return t.test(dL(e))}function Hk(e){return Gn(e)&&wm(e.length)&&!!$[ws(e)]}function $k(e){if(!Sr(e))return oL(e);var t=Em(e),r=[];for(var n in e)n=="constructor"&&(t||!Et.call(e,n))||r.push(n);return r}function ym(e,t,r,n,o){e!==t&&Fk(t,function(s,i){if(o||(o=new zr),Sr(s))Bk(e,t,i,r,ym,n,o);else{var a=n?n(rd(e,i),s,i+"",e,t,o):void 0;a===void 0&&(a=s),td(e,i,a)}},Pm)}function Bk(e,t,r,n,o,s,i){var a=rd(e,r),c=rd(t,r),d=i.get(c);if(d){td(e,r,d);return}var l=s?s(a,c,r+"",e,t,i):void 0,u=l===void 0;if(u){var p=od(c),f=!p&&bm(c),h=!p&&!f&&Cm(c);l=c,p||f||h?od(a)?l=a:lL(a)?l=Kk(a):f?(u=!1,l=Gk(c,!0)):h?(u=!1,l=Qk(c,!0)):l=[]:uL(c)||nd(c)?(l=a,nd(a)?l=pL(a):(!Sr(a)||cd(a))&&(l=eL(c))):u=!1}u&&(i.set(c,l),o(l,c,n,s,i),i.delete(c)),td(e,r,l)}function zk(e,t){return aL(iL(e,t,Om),e+"")}var Vk=ys?function(e,t){return ys(e,"toString",{configurable:!0,enumerable:!1,value:mL(t),writable:!0})}:Om;function Gk(e,t){if(t)return e.slice();var r=e.length,n=om?om(r):new e.constructor(r);return e.copy(n),n}function Wk(e){var t=new e.constructor(e.byteLength);return new nm(t).set(new nm(e)),t}function Qk(e,t){var r=t?Wk(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function Kk(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}function Jk(e,t,r,n){var o=!r;r||(r={});for(var s=-1,i=t.length;++s<i;){var a=t[s],c=n?n(r[a],e[a],a,r,e):void 0;c===void 0&&(c=e[a]),o?sd(r,a,c):jk(r,a,c)}return r}function Yk(e){return zk(function(t,r){var n=-1,o=r.length,s=o>1?r[o-1]:void 0,i=o>2?r[2]:void 0;for(s=e.length>3&&typeof s=="function"?(o--,s):void 0,i&&tL(r[0],r[1],i)&&(s=o<3?void 0:s,o=1),t=Object(t);++n<o;){var a=r[n];a&&e(t,a,n,s)}return t})}function Xk(e){return function(t,r,n){for(var o=-1,s=Object(t),i=n(t),a=i.length;a--;){var c=i[e?a:++o];if(r(s[c],c,s)===!1)break}return t}}function Cs(e,t){var r=e.__data__;return rL(t)?r[typeof t=="string"?"string":"hash"]:r.map}function id(e,t){var r=ik(e,t);return Uk(r)?r:void 0}function Zk(e){var t=Et.call(e,_r),r=e[_r];try{e[_r]=void 0;var n=!0}catch{}var o=hm.call(e);return n&&(t?e[_r]=r:delete e[_r]),o}function eL(e){return typeof e.constructor=="function"&&!Em(e)?hk(vm(e)):{}}function Sm(e,t){var r=typeof e;return t=t??dm,!!t&&(r=="number"||r!="symbol"&&tk.test(e))&&e>-1&&e%1==0&&e<t}function tL(e,t,r){if(!Sr(r))return!1;var n=typeof t;return(n=="number"?ad(r)&&Sm(t,r.length):n=="string"&&t in r)?Ps(r[t],e):!1}function rL(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function nL(e){return!!tm&&tm in e}function Em(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Ss;return e===r}function oL(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}function sL(e){return hm.call(e)}function iL(e,t,r){return t=im(t===void 0?e.length-1:t,0),function(){for(var n=arguments,o=-1,s=im(n.length-t,0),i=Array(s);++o<s;)i[o]=n[t+o];o=-1;for(var a=Array(t+1);++o<t;)a[o]=n[o];return a[t]=r(i),nk(e,this,a)}}function rd(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var aL=cL(Vk);function cL(e){var t=0,r=0;return function(){var n=gk(),o=OD-(n-r);if(r=n,o>0){if(++t>=PD)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function dL(e){if(e!=null){try{return Es.call(e)}catch{}try{return e+""}catch{}}return""}function Ps(e,t){return e===t||e!==e&&t!==t}var nd=am(function(){return arguments}())?am:function(e){return Gn(e)&&Et.call(e,"callee")&&!pk.call(e,"callee")},od=Array.isArray;function ad(e){return e!=null&&wm(e.length)&&!cd(e)}function lL(e){return Gn(e)&&ad(e)}var bm=mk||gL;function cd(e){if(!Sr(e))return!1;var t=ws(e);return t==um||t==ND||t==AD||t==LD}function wm(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=dm}function Sr(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Gn(e){return e!=null&&typeof e=="object"}function uL(e){if(!Gn(e)||ws(e)!=pm)return!1;var t=vm(e);if(t===null)return!0;var r=Et.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Es.call(r)==lk}var Cm=em?sk(em):Hk;function pL(e){return Jk(e,Pm(e))}function Pm(e){return ad(e)?qk(e,!0):$k(e)}var fL=Yk(function(e,t,r){ym(e,t,r)});function mL(e){return function(){return e}}function Om(e){return e}function gL(){return!1}$r.exports=fL});var Rm=g(Vr=>{"use strict";var hL=Vr&&Vr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vr,"__esModule",{value:!0});Vr.LogItem=void 0;var vL=hL(dd()),ld=class{constructor(t){this.attributes={},this.addAttributes(t.baseAttributes),this.addAttributes(t.persistentAttributes)}addAttributes(t){return this.attributes=(0,vL.default)(this.attributes,t),this}getAttributes(){return this.attributes}prepareForPrint(){this.setAttributes(this.removeEmptyKeys(this.getAttributes()))}removeEmptyKeys(t){let r={};for(let n in t)t[n]!==void 0&&t[n]!==""&&t[n]!==null&&(r[n]=t[n]);return r}setAttributes(t){this.attributes=t}};Vr.LogItem=ld});var Tm=g(Am=>{"use strict";Object.defineProperty(Am,"__esModule",{value:!0})});var xm=g(Ut=>{"use strict";var _L=Ut&&Ut.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Im=Ut&&Ut.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&_L(t,e,r)};Object.defineProperty(Ut,"__esModule",{value:!0});Im(Rm(),Ut);Im(Tm(),Ut)});var Mm=g(Nm=>{"use strict";Object.defineProperty(Nm,"__esModule",{value:!0})});var Dm=g(Os=>{"use strict";Object.defineProperty(Os,"__esModule",{value:!0});Os.EnvironmentVariablesService=void 0;var yL=Fn(),ud=class extends yL.EnvironmentVariablesService{constructor(){super(...arguments),this.awsLogLevelVariable="AWS_LAMBDA_LOG_LEVEL",this.awsRegionVariable="AWS_REGION",this.currentEnvironmentVariable="ENVIRONMENT",this.functionNameVariable="AWS_LAMBDA_FUNCTION_NAME",this.functionVersionVariable="AWS_LAMBDA_FUNCTION_VERSION",this.logEventVariable="POWERTOOLS_LOGGER_LOG_EVENT",this.logLevelVariable="POWERTOOLS_LOG_LEVEL",this.logLevelVariableLegacy="LOG_LEVEL",this.memoryLimitInMBVariable="AWS_LAMBDA_FUNCTION_MEMORY_SIZE",this.sampleRateValueVariable="POWERTOOLS_LOGGER_SAMPLE_RATE"}getAwsLogLevel(){let t=this.get(this.awsLogLevelVariable);return t==="FATAL"?"CRITICAL":t}getAwsRegion(){return this.get(this.awsRegionVariable)}getCurrentEnvironment(){return this.get(this.currentEnvironmentVariable)}getFunctionMemory(){let t=this.get(this.memoryLimitInMBVariable);return Number(t)}getFunctionName(){return this.get(this.functionNameVariable)}getFunctionVersion(){return this.get(this.functionVersionVariable)}getLogEvent(){let t=this.get(this.logEventVariable);return this.isValueTrue(t)}getLogLevel(){let t=this.get(this.logLevelVariable),r=this.get(this.logLevelVariableLegacy);return t!==""?t:r}getSampleRateValue(){let t=this.get(this.sampleRateValueVariable);return t&&t.length>0?Number(t):void 0}};Os.EnvironmentVariablesService=ud});var Lm=g(Ht=>{"use strict";var SL=Ht&&Ht.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),km=Ht&&Ht.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&SL(t,e,r)};Object.defineProperty(Ht,"__esModule",{value:!0});km(Mm(),Ht);km(Dm(),Ht)});var fd=g(Gr=>{"use strict";var EL=Gr&&Gr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Gr,"__esModule",{value:!0});Gr.Logger=void 0;var bL=require("node:crypto"),wL=require("node:console"),CL=require("node:util"),PL=Fn(),OL=vs(),RL=xm(),Rs=EL(dd()),AL=Lm(),pd=class e extends PL.Utility{get level(){return this.logLevel}constructor(t={}){super(),this.logEvent=!1,this.logIndentation=0,this.logLevel=12,this.logLevelThresholds={DEBUG:8,INFO:12,WARN:16,ERROR:20,CRITICAL:24,SILENT:28},this.logsSampled=!1,this.persistentLogAttributes={},this.powertoolLogData={},this.setOptions(t)}addContext(t){let r={invokedFunctionArn:t.invokedFunctionArn,coldStart:this.getColdStart(),awsRequestId:t.awsRequestId,memoryLimitInMB:Number(t.memoryLimitInMB),functionName:t.functionName,functionVersion:t.functionVersion};this.addToPowertoolLogData({lambdaContext:r})}addPersistentLogAttributes(t){(0,Rs.default)(this.persistentLogAttributes,t)}appendKeys(t){this.addPersistentLogAttributes(t)}createChild(t={}){let r={logLevel:this.getLevelName(),customConfigService:this.getCustomConfigService(),logFormatter:this.getLogFormatter()},n=this.getPowertoolLogData(),o=this.createLogger((0,Rs.default)(r,n,t)),s=this.getPersistentLogAttributes();return o.addPersistentLogAttributes(s),n.lambdaContext&&o.addContext(n.lambdaContext),o}critical(t,...r){this.processLogItem(24,t,r)}debug(t,...r){this.processLogItem(8,t,r)}error(t,...r){this.processLogItem(20,t,r)}getLevelName(){return this.getLogLevelNameFromNumber(this.logLevel)}getLogEvent(){return this.logEvent}getLogsSampled(){return this.logsSampled}getPersistentLogAttributes(){return this.persistentLogAttributes}info(t,...r){this.processLogItem(12,t,r)}injectLambdaContext(t){return(r,n,o)=>{let s=o.value,i=this;o.value=async function(a,c,d){let l={};t&&t.clearState===!0&&(l={...i.getPersistentLogAttributes()}),e.injectLambdaContextBefore(i,a,c,t);let u;try{u=await s.apply(this,[a,c,d])}catch(p){throw p}finally{e.injectLambdaContextAfterOrOnError(i,l,t)}return u}}}static injectLambdaContextAfterOrOnError(t,r,n){n&&n.clearState===!0&&t.setPersistentLogAttributes(r)}static injectLambdaContextBefore(t,r,n,o){t.addContext(n);let s;o&&o.hasOwnProperty("logEvent")&&(s=o.logEvent),t.logEventIfEnabled(r,s)}logEventIfEnabled(t,r){this.shouldLogEvent(r)&&this.info("Lambda invocation event",{event:t})}refreshSampleRateCalculation(){this.setLogsSampled()}removeKeys(t){this.removePersistentLogAttributes(t)}removePersistentLogAttributes(t){t.forEach(r=>{this.persistentLogAttributes&&r in this.persistentLogAttributes&&delete this.persistentLogAttributes[r]})}setLogLevel(t){if(!this.awsLogLevelShortCircuit(t))if(this.isValidLogLevel(t))this.logLevel=this.logLevelThresholds[t];else throw new Error(`Invalid log level: ${t}`)}setPersistentLogAttributes(t){this.persistentLogAttributes=t}setSampleRateValue(t){this.powertoolLogData.sampleRateValue=t||this.getCustomConfigService()?.getSampleRateValue()||this.getEnvVarsService().getSampleRateValue()}shouldLogEvent(t){return typeof t=="boolean"?t:this.getLogEvent()}warn(t,...r){this.processLogItem(16,t,r)}createLogger(t){return new e(t)}shouldPrint(t){return t>=this.logLevel?!0:this.getLogsSampled()}addToPowertoolLogData(...t){t.forEach(r=>{(0,Rs.default)(this.powertoolLogData,r)})}awsLogLevelShortCircuit(t){let r=this.getEnvVarsService().getAwsLogLevel();return this.isValidLogLevel(r)?(this.logLevel=this.logLevelThresholds[r],this.isValidLogLevel(t)&&this.logLevel>this.logLevelThresholds[t]&&this.warn((0,CL.format)("Current log level (%s) does not match AWS Lambda Advanced Logging Controls minimum log level (%s). This can lead to data loss, consider adjusting them.",t,r)),!0):!1}createAndPopulateLogItem(t,r,n){let o=(0,Rs.default)({logLevel:this.getLogLevelNameFromNumber(t),timestamp:new Date,message:typeof r=="string"?r:r.message,xRayTraceId:this.envVarsService.getXrayTraceId()},this.getPowertoolLogData()),s=new RL.LogItem({baseAttributes:this.getLogFormatter().formatAttributes(o),persistentAttributes:this.getPersistentLogAttributes()});return typeof r!="string"&&s.addAttributes(r),n.forEach(i=>{let a=i instanceof Error?{error:i}:typeof i=="string"?{extra:i}:i;s.addAttributes(a)}),s}getCustomConfigService(){return this.customConfigService}getEnvVarsService(){return this.envVarsService}getLogFormatter(){return this.logFormatter}getLogLevelNameFromNumber(t){return Object.entries(this.logLevelThresholds).find(([n,o])=>{if(o===t)return n})[0]}getPowertoolLogData(){return this.powertoolLogData}getReplacer(){let t=new WeakSet;return(r,n)=>{let o=n;if(o instanceof Error&&(o=this.getLogFormatter().formatError(o)),typeof o=="bigint")return o.toString();if(typeof o=="object"&&n!==null){if(t.has(o))return;t.add(o)}return o}}getSampleRateValue(){return this.powertoolLogData.sampleRateValue||this.setSampleRateValue(),this.powertoolLogData.sampleRateValue}isValidLogLevel(t){return typeof t=="string"&&t in this.logLevelThresholds}printLog(t,r){r.prepareForPrint();let n=t===24?"error":this.getLogLevelNameFromNumber(t).toLowerCase();this.console[n](JSON.stringify(r.getAttributes(),this.getReplacer(),this.logIndentation))}processLogItem(t,r,n){this.shouldPrint(t)&&this.printLog(t,this.createAndPopulateLogItem(t,r,n))}setConsole(){this.getEnvVarsService().isDevMode()?this.console=console:this.console=new wL.Console({stdout:process.stdout,stderr:process.stderr})}setCustomConfigService(t){this.customConfigService=t||void 0}setEnvVarsService(){this.envVarsService=new AL.EnvironmentVariablesService}setInitialLogLevel(t){let r=t?.toUpperCase();if(this.awsLogLevelShortCircuit(r))return;if(this.isValidLogLevel(r)){this.logLevel=this.logLevelThresholds[r];return}let n=this.getCustomConfigService()?.getLogLevel()?.toUpperCase();if(this.isValidLogLevel(n)){this.logLevel=this.logLevelThresholds[n];return}let o=this.getEnvVarsService()?.getLogLevel()?.toUpperCase();if(this.isValidLogLevel(o)){this.logLevel=this.logLevelThresholds[o];return}}setLogEvent(){this.getEnvVarsService().getLogEvent()&&(this.logEvent=!0)}setLogFormatter(t){this.logFormatter=t||new OL.PowertoolLogFormatter}setLogIndentation(){this.getEnvVarsService().isDevMode()&&(this.logIndentation=4)}setLogsSampled(){let t=this.getSampleRateValue();this.logsSampled=t!==void 0&&(t===1||(0,bL.randomInt)(0,100)/100<=t)}setOptions(t){let{logLevel:r,serviceName:n,sampleRateValue:o,logFormatter:s,customConfigService:i,persistentLogAttributes:a,environment:c}=t;return this.setEnvVarsService(),this.setConsole(),this.setCustomConfigService(i),this.setInitialLogLevel(r),this.setSampleRateValue(o),this.setLogsSampled(),this.setLogFormatter(s),this.setPowertoolLogData(n,c),this.setLogEvent(),this.setLogIndentation(),this.addPersistentLogAttributes(a),this}setPowertoolLogData(t,r,n={}){this.addToPowertoolLogData({awsRegion:this.getEnvVarsService().getAwsRegion(),environment:r||this.getCustomConfigService()?.getCurrentEnvironment()||this.getEnvVarsService().getCurrentEnvironment(),sampleRateValue:this.getSampleRateValue(),serviceName:t||this.getCustomConfigService()?.getServiceName()||this.getEnvVarsService().getServiceName()||this.getDefaultServiceName()},n)}};Gr.Logger=pd});var jm=g(As=>{"use strict";Object.defineProperty(As,"__esModule",{value:!0});As.injectLambdaContext=void 0;var qm=fd(),TL=Gc(),IL=(e,t)=>{let r=e instanceof Array?e:[e],n=[],o=t&&t.clearState===!0,s=c=>{c.internal={...c.internal,[TL.LOGGER_KEY]:a}},i=async c=>{r.forEach((d,l)=>{o&&(n[l]={...d.getPersistentLogAttributes()},s(c)),qm.Logger.injectLambdaContextBefore(d,c.event,c.context,t)})},a=async()=>{o&&r.forEach((c,d)=>{qm.Logger.injectLambdaContextAfterOrOnError(c,n[d],t)})};return{before:i,after:a,onError:a}};As.injectLambdaContext=IL});var Fm=g(Er=>{"use strict";var xL=Er&&Er.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),NL=Er&&Er.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&xL(t,e,r)};Object.defineProperty(Er,"__esModule",{value:!0});NL(jm(),Er)});var Kc=g(st=>{"use strict";var ML=st&&st.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ts=st&&st.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&ML(t,e,r)};Object.defineProperty(st,"__esModule",{value:!0});Ts(Qf(),st);Ts(fd(),st);Ts(Fm(),st);Ts(vs(),st)});var Qe=g((bre,Jm)=>{var Is=Object.defineProperty,zL=Object.getOwnPropertyDescriptor,VL=Object.getOwnPropertyNames,GL=Object.prototype.hasOwnProperty,xs=(e,t)=>Is(e,"name",{value:t,configurable:!0}),WL=(e,t)=>{for(var r in t)Is(e,r,{get:t[r],enumerable:!0})},QL=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of VL(t))!GL.call(e,o)&&o!==r&&Is(e,o,{get:()=>t[o],enumerable:!(n=zL(t,o))||n.enumerable});return e},KL=e=>QL(Is({},"__esModule",{value:!0}),e),$m={};WL($m,{AlgorithmId:()=>Gm,EndpointURLScheme:()=>Vm,FieldPosition:()=>Wm,HttpApiKeyAuthLocation:()=>zm,HttpAuthLocation:()=>Bm,IniSectionType:()=>Qm,RequestHandlerProtocol:()=>Km,SMITHY_CONTEXT_KEY:()=>eq,getDefaultClientConfiguration:()=>XL,resolveDefaultRuntimeConfig:()=>ZL});Jm.exports=KL($m);var Bm=(e=>(e.HEADER="header",e.QUERY="query",e))(Bm||{}),zm=(e=>(e.HEADER="header",e.QUERY="query",e))(zm||{}),Vm=(e=>(e.HTTP="http",e.HTTPS="https",e))(Vm||{}),Gm=(e=>(e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256",e))(Gm||{}),JL=xs(e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:()=>"sha256",checksumConstructor:()=>e.sha256}),e.md5!=null&&t.push({algorithmId:()=>"md5",checksumConstructor:()=>e.md5}),{_checksumAlgorithms:t,addChecksumAlgorithm(r){this._checksumAlgorithms.push(r)},checksumAlgorithms(){return this._checksumAlgorithms}}},"getChecksumConfiguration"),YL=xs(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),XL=xs(e=>({...JL(e)}),"getDefaultClientConfiguration"),ZL=xs(e=>({...YL(e)}),"resolveDefaultRuntimeConfig"),Wm=(e=>(e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER",e))(Wm||{}),eq="__smithy_context",Qm=(e=>(e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services",e))(Qm||{}),Km=(e=>(e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0",e))(Km||{})});var ue=g((Ore,sg)=>{var Ns=Object.defineProperty,tq=Object.getOwnPropertyDescriptor,rq=Object.getOwnPropertyNames,nq=Object.prototype.hasOwnProperty,$t=(e,t)=>Ns(e,"name",{value:t,configurable:!0}),oq=(e,t)=>{for(var r in t)Ns(e,r,{get:t[r],enumerable:!0})},sq=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of rq(t))!nq.call(e,o)&&o!==r&&Ns(e,o,{get:()=>t[o],enumerable:!(n=tq(t,o))||n.enumerable});return e},iq=e=>sq(Ns({},"__esModule",{value:!0}),e),Ym={};oq(Ym,{Field:()=>lq,Fields:()=>uq,HttpRequest:()=>pq,HttpResponse:()=>fq,getHttpHandlerExtensionConfiguration:()=>aq,isValidHostname:()=>og,resolveHttpHandlerRuntimeConfig:()=>cq});sg.exports=iq(Ym);var aq=$t(e=>{let t=e.httpHandler;return{setHttpHandler(r){t=r},httpHandler(){return t},updateHttpClientConfig(r,n){t.updateHttpClientConfig(r,n)},httpHandlerConfigs(){return t.httpHandlerConfigs()}}},"getHttpHandlerExtensionConfiguration"),cq=$t(e=>({httpHandler:e.httpHandler()}),"resolveHttpHandlerRuntimeConfig"),dq=Qe(),Xm=class{constructor({name:t,kind:r=dq.FieldPosition.HEADER,values:n=[]}){this.name=t,this.kind=r,this.values=n}add(t){this.values.push(t)}set(t){this.values=t}remove(t){this.values=this.values.filter(r=>r!==t)}toString(){return this.values.map(t=>t.includes(",")||t.includes(" ")?`"${t}"`:t).join(", ")}get(){return this.values}};$t(Xm,"Field");var lq=Xm,Zm=class{constructor({fields:t=[],encoding:r="utf-8"}){this.entries={},t.forEach(this.setField.bind(this)),this.encoding=r}setField(t){this.entries[t.name.toLowerCase()]=t}getField(t){return this.entries[t.toLowerCase()]}removeField(t){delete this.entries[t.toLowerCase()]}getByType(t){return Object.values(this.entries).filter(r=>r.kind===t)}};$t(Zm,"Fields");var uq=Zm,eg=class tg{constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){let t=new tg({...this,headers:{...this.headers}});return t.query&&(t.query=rg(t.query)),t}};$t(eg,"HttpRequest");var pq=eg;function rg(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}$t(rg,"cloneQuery");var ng=class{constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};$t(ng,"HttpResponse");var fq=ng;function og(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}$t(og,"isValidHostname")});var Wn=g((Rre,lg)=>{"use strict";var Ms=Object.defineProperty,mq=Object.getOwnPropertyDescriptor,gq=Object.getOwnPropertyNames,hq=Object.prototype.hasOwnProperty,vd=(e,t)=>Ms(e,"name",{value:t,configurable:!0}),vq=(e,t)=>{for(var r in t)Ms(e,r,{get:t[r],enumerable:!0})},_q=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of gq(t))!hq.call(e,o)&&o!==r&&Ms(e,o,{get:()=>t[o],enumerable:!(n=mq(t,o))||n.enumerable});return e},yq=e=>_q(Ms({},"__esModule",{value:!0}),e),ig={};vq(ig,{getHostHeaderPlugin:()=>Eq,hostHeaderMiddleware:()=>cg,hostHeaderMiddlewareOptions:()=>dg,resolveHostHeaderConfig:()=>ag});lg.exports=yq(ig);var Sq=ue();function ag(e){return e}vd(ag,"resolveHostHeaderConfig");var cg=vd(e=>t=>async r=>{if(!Sq.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:o=""}=e.requestHandler.metadata||{};if(o.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let s=n.hostname;n.port!=null&&(s+=`:${n.port}`),n.headers.host=s}return t(r)},"hostHeaderMiddleware"),dg={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Eq=vd(e=>({applyToStack:t=>{t.add(cg(e),dg)}}),"getHostHeaderPlugin")});var Qn=g((Are,gg)=>{"use strict";var Ds=Object.defineProperty,bq=Object.getOwnPropertyDescriptor,wq=Object.getOwnPropertyNames,Cq=Object.prototype.hasOwnProperty,ug=(e,t)=>Ds(e,"name",{value:t,configurable:!0}),Pq=(e,t)=>{for(var r in t)Ds(e,r,{get:t[r],enumerable:!0})},Oq=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of wq(t))!Cq.call(e,o)&&o!==r&&Ds(e,o,{get:()=>t[o],enumerable:!(n=bq(t,o))||n.enumerable});return e},Rq=e=>Oq(Ds({},"__esModule",{value:!0}),e),pg={};Pq(pg,{getLoggerPlugin:()=>Aq,loggerMiddleware:()=>fg,loggerMiddlewareOptions:()=>mg});gg.exports=Rq(pg);var fg=ug(()=>(e,t)=>async r=>{var n,o;try{let s=await e(r),{clientName:i,commandName:a,logger:c,dynamoDbDocumentClientOptions:d={}}=t,{overrideInputFilterSensitiveLog:l,overrideOutputFilterSensitiveLog:u}=d,p=l??t.inputFilterSensitiveLog,f=u??t.outputFilterSensitiveLog,{$metadata:h,...S}=s.output;return(n=c?.info)==null||n.call(c,{clientName:i,commandName:a,input:p(r.input),output:f(S),metadata:h}),s}catch(s){let{clientName:i,commandName:a,logger:c,dynamoDbDocumentClientOptions:d={}}=t,{overrideInputFilterSensitiveLog:l}=d,u=l??t.inputFilterSensitiveLog;throw(o=c?.error)==null||o.call(c,{clientName:i,commandName:a,input:u(r.input),error:s,metadata:s.$metadata}),s}},"loggerMiddleware"),mg={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},Aq=ug(e=>({applyToStack:t=>{t.add(fg(),mg)}}),"getLoggerPlugin")});var Kn=g((Tre,Sg)=>{"use strict";var ks=Object.defineProperty,Tq=Object.getOwnPropertyDescriptor,Iq=Object.getOwnPropertyNames,xq=Object.prototype.hasOwnProperty,_d=(e,t)=>ks(e,"name",{value:t,configurable:!0}),Nq=(e,t)=>{for(var r in t)ks(e,r,{get:t[r],enumerable:!0})},Mq=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Iq(t))!xq.call(e,o)&&o!==r&&ks(e,o,{get:()=>t[o],enumerable:!(n=Tq(t,o))||n.enumerable});return e},Dq=e=>Mq(ks({},"__esModule",{value:!0}),e),vg={};Nq(vg,{addRecursionDetectionMiddlewareOptions:()=>yg,getRecursionDetectionPlugin:()=>jq,recursionDetectionMiddleware:()=>_g});Sg.exports=Dq(vg);var kq=ue(),hg="X-Amzn-Trace-Id",Lq="AWS_LAMBDA_FUNCTION_NAME",qq="_X_AMZN_TRACE_ID",_g=_d(e=>t=>async r=>{let{request:n}=r;if(!kq.HttpRequest.isInstance(n)||e.runtime!=="node"||n.headers.hasOwnProperty(hg))return t(r);let o=process.env[Lq],s=process.env[qq],i=_d(a=>typeof a=="string"&&a.length>0,"nonEmptyString");return i(o)&&i(s)&&(n.headers[hg]=s),t({...r,request:n})},"recursionDetectionMiddleware"),yg={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},jq=_d(e=>({applyToStack:t=>{t.add(_g(e),yg)}}),"getRecursionDetectionPlugin")});var Pg=g((Ire,Cg)=>{var Ls=Object.defineProperty,Fq=Object.getOwnPropertyDescriptor,Uq=Object.getOwnPropertyNames,Hq=Object.prototype.hasOwnProperty,xe=(e,t)=>Ls(e,"name",{value:t,configurable:!0}),$q=(e,t)=>{for(var r in t)Ls(e,r,{get:t[r],enumerable:!0})},Bq=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Uq(t))!Hq.call(e,o)&&o!==r&&Ls(e,o,{get:()=>t[o],enumerable:!(n=Fq(t,o))||n.enumerable});return e},zq=e=>Bq(Ls({},"__esModule",{value:!0}),e),wg={};$q(wg,{constructStack:()=>yd});Cg.exports=zq(wg);var br=xe((e,t)=>{let r=[];if(e&&r.push(e),t)for(let n of t)r.push(n);return r},"getAllAliases"),Bt=xe((e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,"getMiddlewareNameWithAliases"),yd=xe(()=>{let e=[],t=[],r=!1,n=new Set,o=xe(u=>u.sort((p,f)=>Eg[f.step]-Eg[p.step]||bg[f.priority||"normal"]-bg[p.priority||"normal"]),"sort"),s=xe(u=>{let p=!1,f=xe(h=>{let S=br(h.name,h.aliases);if(S.includes(u)){p=!0;for(let y of S)n.delete(y);return!1}return!0},"filterCb");return e=e.filter(f),t=t.filter(f),p},"removeByName"),i=xe(u=>{let p=!1,f=xe(h=>{if(h.middleware===u){p=!0;for(let S of br(h.name,h.aliases))n.delete(S);return!1}return!0},"filterCb");return e=e.filter(f),t=t.filter(f),p},"removeByReference"),a=xe(u=>{var p;return e.forEach(f=>{u.add(f.middleware,{...f})}),t.forEach(f=>{u.addRelativeTo(f.middleware,{...f})}),(p=u.identifyOnResolve)==null||p.call(u,l.identifyOnResolve()),u},"cloneTo"),c=xe(u=>{let p=[];return u.before.forEach(f=>{f.before.length===0&&f.after.length===0?p.push(f):p.push(...c(f))}),p.push(u),u.after.reverse().forEach(f=>{f.before.length===0&&f.after.length===0?p.push(f):p.push(...c(f))}),p},"expandRelativeMiddlewareList"),d=xe((u=!1)=>{let p=[],f=[],h={};return e.forEach(y=>{let E={...y,before:[],after:[]};for(let b of br(E.name,E.aliases))h[b]=E;p.push(E)}),t.forEach(y=>{let E={...y,before:[],after:[]};for(let b of br(E.name,E.aliases))h[b]=E;f.push(E)}),f.forEach(y=>{if(y.toMiddleware){let E=h[y.toMiddleware];if(E===void 0){if(u)return;throw new Error(`${y.toMiddleware} is not found when adding ${Bt(y.name,y.aliases)} middleware ${y.relation} ${y.toMiddleware}`)}y.relation==="after"&&E.after.push(y),y.relation==="before"&&E.before.push(y)}}),o(p).map(c).reduce((y,E)=>(y.push(...E),y),[])},"getMiddlewareList"),l={add:(u,p={})=>{let{name:f,override:h,aliases:S}=p,y={step:"initialize",priority:"normal",middleware:u,...p},E=br(f,S);if(E.length>0){if(E.some(b=>n.has(b))){if(!h)throw new Error(`Duplicate middleware name '${Bt(f,S)}'`);for(let b of E){let N=e.findIndex(H=>{var de;return H.name===b||((de=H.aliases)==null?void 0:de.some(ye=>ye===b))});if(N===-1)continue;let I=e[N];if(I.step!==y.step||y.priority!==I.priority)throw new Error(`"${Bt(I.name,I.aliases)}" middleware with ${I.priority} priority in ${I.step} step cannot be overridden by "${Bt(f,S)}" middleware with ${y.priority} priority in ${y.step} step.`);e.splice(N,1)}}for(let b of E)n.add(b)}e.push(y)},addRelativeTo:(u,p)=>{let{name:f,override:h,aliases:S}=p,y={middleware:u,...p},E=br(f,S);if(E.length>0){if(E.some(b=>n.has(b))){if(!h)throw new Error(`Duplicate middleware name '${Bt(f,S)}'`);for(let b of E){let N=t.findIndex(H=>{var de;return H.name===b||((de=H.aliases)==null?void 0:de.some(ye=>ye===b))});if(N===-1)continue;let I=t[N];if(I.toMiddleware!==y.toMiddleware||I.relation!==y.relation)throw new Error(`"${Bt(I.name,I.aliases)}" middleware ${I.relation} "${I.toMiddleware}" middleware cannot be overridden by "${Bt(f,S)}" middleware ${y.relation} "${y.toMiddleware}" middleware.`);t.splice(N,1)}}for(let b of E)n.add(b)}t.push(y)},clone:()=>a(yd()),use:u=>{u.applyToStack(l)},remove:u=>typeof u=="string"?s(u):i(u),removeByTag:u=>{let p=!1,f=xe(h=>{let{tags:S,name:y,aliases:E}=h;if(S&&S.includes(u)){let b=br(y,E);for(let N of b)n.delete(N);return p=!0,!1}return!0},"filterCb");return e=e.filter(f),t=t.filter(f),p},concat:u=>{var p;let f=a(yd());return f.use(u),f.identifyOnResolve(r||f.identifyOnResolve()||(((p=u.identifyOnResolve)==null?void 0:p.call(u))??!1)),f},applyToStack:a,identify:()=>d(!0).map(u=>{let p=u.step??u.relation+" "+u.toMiddleware;return Bt(u.name,u.aliases)+" - "+p}),identifyOnResolve(u){return typeof u=="boolean"&&(r=u),r},resolve:(u,p)=>{for(let f of d().map(h=>h.middleware).reverse())u=f(u,p);return r&&console.log(l.identify()),u}};return l},"constructStack"),Eg={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},bg={high:3,normal:2,low:1}});var Ag=g((xre,Rg)=>{var qs=Object.defineProperty,Vq=Object.getOwnPropertyDescriptor,Gq=Object.getOwnPropertyNames,Wq=Object.prototype.hasOwnProperty,Qq=(e,t)=>qs(e,"name",{value:t,configurable:!0}),Kq=(e,t)=>{for(var r in t)qs(e,r,{get:t[r],enumerable:!0})},Jq=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Gq(t))!Wq.call(e,o)&&o!==r&&qs(e,o,{get:()=>t[o],enumerable:!(n=Vq(t,o))||n.enumerable});return e},Yq=e=>Jq(qs({},"__esModule",{value:!0}),e),Og={};Kq(Og,{isArrayBuffer:()=>Xq});Rg.exports=Yq(Og);var Xq=Qq(e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]","isArrayBuffer")});var Jn=g((Nre,xg)=>{var js=Object.defineProperty,Zq=Object.getOwnPropertyDescriptor,ej=Object.getOwnPropertyNames,tj=Object.prototype.hasOwnProperty,Tg=(e,t)=>js(e,"name",{value:t,configurable:!0}),rj=(e,t)=>{for(var r in t)js(e,r,{get:t[r],enumerable:!0})},nj=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of ej(t))!tj.call(e,o)&&o!==r&&js(e,o,{get:()=>t[o],enumerable:!(n=Zq(t,o))||n.enumerable});return e},oj=e=>nj(js({},"__esModule",{value:!0}),e),Ig={};rj(Ig,{fromArrayBuffer:()=>ij,fromString:()=>aj});xg.exports=oj(Ig);var sj=Ag(),Sd=require("buffer"),ij=Tg((e,t=0,r=e.byteLength-t)=>{if(!(0,sj.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return Sd.Buffer.from(e,t,r)},"fromArrayBuffer"),aj=Tg((e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?Sd.Buffer.from(e,t):Sd.Buffer.from(e)},"fromString")});var Ng=g(Fs=>{"use strict";Object.defineProperty(Fs,"__esModule",{value:!0});Fs.fromBase64=void 0;var cj=Jn(),dj=/^[A-Za-z0-9+/]*={0,2}$/,lj=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!dj.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,cj.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};Fs.fromBase64=lj});var wr=g((Dre,Lg)=>{var Us=Object.defineProperty,uj=Object.getOwnPropertyDescriptor,pj=Object.getOwnPropertyNames,fj=Object.prototype.hasOwnProperty,Ed=(e,t)=>Us(e,"name",{value:t,configurable:!0}),mj=(e,t)=>{for(var r in t)Us(e,r,{get:t[r],enumerable:!0})},gj=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of pj(t))!fj.call(e,o)&&o!==r&&Us(e,o,{get:()=>t[o],enumerable:!(n=uj(t,o))||n.enumerable});return e},hj=e=>gj(Us({},"__esModule",{value:!0}),e),Mg={};mj(Mg,{fromUtf8:()=>kg,toUint8Array:()=>vj,toUtf8:()=>_j});Lg.exports=hj(Mg);var Dg=Jn(),kg=Ed(e=>{let t=(0,Dg.fromString)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),vj=Ed(e=>typeof e=="string"?kg(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),"toUint8Array"),_j=Ed(e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,Dg.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},"toUtf8")});var qg=g(Hs=>{"use strict";Object.defineProperty(Hs,"__esModule",{value:!0});Hs.toBase64=void 0;var yj=Jn(),Sj=wr(),Ej=e=>{let t;if(typeof e=="string"?t=(0,Sj.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,yj.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};Hs.toBase64=Ej});var Bs=g((Lre,$s)=>{var jg=Object.defineProperty,bj=Object.getOwnPropertyDescriptor,wj=Object.getOwnPropertyNames,Cj=Object.prototype.hasOwnProperty,bd=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of wj(t))!Cj.call(e,o)&&o!==r&&jg(e,o,{get:()=>t[o],enumerable:!(n=bj(t,o))||n.enumerable});return e},Fg=(e,t,r)=>(bd(e,t,"default"),r&&bd(r,t,"default")),Pj=e=>bd(jg({},"__esModule",{value:!0}),e),wd={};$s.exports=Pj(wd);Fg(wd,Ng(),$s.exports);Fg(wd,qg(),$s.exports)});var Ug=g(zs=>{"use strict";Object.defineProperty(zs,"__esModule",{value:!0});zs.getAwsChunkedEncodingStream=void 0;var Oj=require("stream"),Rj=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:o,checksumLocationName:s,streamHasher:i}=t,a=r!==void 0&&o!==void 0&&s!==void 0&&i!==void 0,c=a?i(o,e):void 0,d=new Oj.Readable({read:()=>{}});return e.on("data",l=>{let u=n(l)||0;d.push(`${u.toString(16)}\r
`),d.push(l),d.push(`\r
`)}),e.on("end",async()=>{if(d.push(`0\r
`),a){let l=r(await c);d.push(`${s}:${l}\r
`),d.push(`\r
`)}d.push(null)}),d};zs.getAwsChunkedEncodingStream=Rj});var Cd=g((jre,Kg)=>{var Vs=Object.defineProperty,Aj=Object.getOwnPropertyDescriptor,Tj=Object.getOwnPropertyNames,Ij=Object.prototype.hasOwnProperty,Gs=(e,t)=>Vs(e,"name",{value:t,configurable:!0}),xj=(e,t)=>{for(var r in t)Vs(e,r,{get:t[r],enumerable:!0})},Nj=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Tj(t))!Ij.call(e,o)&&o!==r&&Vs(e,o,{get:()=>t[o],enumerable:!(n=Aj(t,o))||n.enumerable});return e},Mj=e=>Nj(Vs({},"__esModule",{value:!0}),e),Hg={};xj(Hg,{AlgorithmId:()=>Vg,EndpointURLScheme:()=>zg,FieldPosition:()=>Gg,HttpApiKeyAuthLocation:()=>Bg,HttpAuthLocation:()=>$g,IniSectionType:()=>Wg,RequestHandlerProtocol:()=>Qg,SMITHY_CONTEXT_KEY:()=>jj,getDefaultClientConfiguration:()=>Lj,resolveDefaultRuntimeConfig:()=>qj});Kg.exports=Mj(Hg);var $g=(e=>(e.HEADER="header",e.QUERY="query",e))($g||{}),Bg=(e=>(e.HEADER="header",e.QUERY="query",e))(Bg||{}),zg=(e=>(e.HTTP="http",e.HTTPS="https",e))(zg||{}),Vg=(e=>(e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256",e))(Vg||{}),Dj=Gs(e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:()=>"sha256",checksumConstructor:()=>e.sha256}),e.md5!=null&&t.push({algorithmId:()=>"md5",checksumConstructor:()=>e.md5}),{_checksumAlgorithms:t,addChecksumAlgorithm(r){this._checksumAlgorithms.push(r)},checksumAlgorithms(){return this._checksumAlgorithms}}},"getChecksumConfiguration"),kj=Gs(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),Lj=Gs(e=>({...Dj(e)}),"getDefaultClientConfiguration"),qj=Gs(e=>({...kj(e)}),"resolveDefaultRuntimeConfig"),Gg=(e=>(e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER",e))(Gg||{}),jj="__smithy_context",Wg=(e=>(e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services",e))(Wg||{}),Qg=(e=>(e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0",e))(Qg||{})});var Pd=g(($re,oh)=>{var Ws=Object.defineProperty,Fj=Object.getOwnPropertyDescriptor,Uj=Object.getOwnPropertyNames,Hj=Object.prototype.hasOwnProperty,zt=(e,t)=>Ws(e,"name",{value:t,configurable:!0}),$j=(e,t)=>{for(var r in t)Ws(e,r,{get:t[r],enumerable:!0})},Bj=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Uj(t))!Hj.call(e,o)&&o!==r&&Ws(e,o,{get:()=>t[o],enumerable:!(n=Fj(t,o))||n.enumerable});return e},zj=e=>Bj(Ws({},"__esModule",{value:!0}),e),Jg={};$j(Jg,{Field:()=>Qj,Fields:()=>Kj,HttpRequest:()=>Jj,HttpResponse:()=>Yj,getHttpHandlerExtensionConfiguration:()=>Vj,isValidHostname:()=>nh,resolveHttpHandlerRuntimeConfig:()=>Gj});oh.exports=zj(Jg);var Vj=zt(e=>{let t=e.httpHandler;return{setHttpHandler(r){t=r},httpHandler(){return t},updateHttpClientConfig(r,n){t.updateHttpClientConfig(r,n)},httpHandlerConfigs(){return t.httpHandlerConfigs()}}},"getHttpHandlerExtensionConfiguration"),Gj=zt(e=>({httpHandler:e.httpHandler()}),"resolveHttpHandlerRuntimeConfig"),Wj=Cd(),Yg=class{constructor({name:t,kind:r=Wj.FieldPosition.HEADER,values:n=[]}){this.name=t,this.kind=r,this.values=n}add(t){this.values.push(t)}set(t){this.values=t}remove(t){this.values=this.values.filter(r=>r!==t)}toString(){return this.values.map(t=>t.includes(",")||t.includes(" ")?`"${t}"`:t).join(", ")}get(){return this.values}};zt(Yg,"Field");var Qj=Yg,Xg=class{constructor({fields:t=[],encoding:r="utf-8"}){this.entries={},t.forEach(this.setField.bind(this)),this.encoding=r}setField(t){this.entries[t.name.toLowerCase()]=t}getField(t){return this.entries[t.toLowerCase()]}removeField(t){delete this.entries[t.toLowerCase()]}getByType(t){return Object.values(this.entries).filter(r=>r.kind===t)}};zt(Xg,"Fields");var Kj=Xg,Zg=class eh{constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){let t=new eh({...this,headers:{...this.headers}});return t.query&&(t.query=th(t.query)),t}};zt(Zg,"HttpRequest");var Jj=Zg;function th(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}zt(th,"cloneQuery");var rh=class{constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};zt(rh,"HttpResponse");var Yj=rh;function nh(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}zt(nh,"isValidHostname")});var ch=g((Bre,ah)=>{var Qs=Object.defineProperty,Xj=Object.getOwnPropertyDescriptor,Zj=Object.getOwnPropertyNames,e1=Object.prototype.hasOwnProperty,Od=(e,t)=>Qs(e,"name",{value:t,configurable:!0}),t1=(e,t)=>{for(var r in t)Qs(e,r,{get:t[r],enumerable:!0})},r1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Zj(t))!e1.call(e,o)&&o!==r&&Qs(e,o,{get:()=>t[o],enumerable:!(n=Xj(t,o))||n.enumerable});return e},n1=e=>r1(Qs({},"__esModule",{value:!0}),e),sh={};t1(sh,{escapeUri:()=>ih,escapeUriPath:()=>s1});ah.exports=n1(sh);var ih=Od(e=>encodeURIComponent(e).replace(/[!'()*]/g,o1),"escapeUri"),o1=Od(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,"hexEncode"),s1=Od(e=>e.split("/").map(ih).join("/"),"escapeUriPath")});var Ad=g((zre,uh)=>{var Ks=Object.defineProperty,i1=Object.getOwnPropertyDescriptor,a1=Object.getOwnPropertyNames,c1=Object.prototype.hasOwnProperty,d1=(e,t)=>Ks(e,"name",{value:t,configurable:!0}),l1=(e,t)=>{for(var r in t)Ks(e,r,{get:t[r],enumerable:!0})},u1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of a1(t))!c1.call(e,o)&&o!==r&&Ks(e,o,{get:()=>t[o],enumerable:!(n=i1(t,o))||n.enumerable});return e},p1=e=>u1(Ks({},"__esModule",{value:!0}),e),dh={};l1(dh,{buildQueryString:()=>lh});uh.exports=p1(dh);var Rd=ch();function lh(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=(0,Rd.escapeUri)(r),Array.isArray(n))for(let o=0,s=n.length;o<s;o++)t.push(`${r}=${(0,Rd.escapeUri)(n[o])}`);else{let o=r;(n||typeof n=="string")&&(o+=`=${(0,Rd.escapeUri)(n)}`),t.push(o)}}return t.join("&")}d1(lh,"buildQueryString")});var Th=g((Qre,Ah)=>{var f1=Object.create,Yn=Object.defineProperty,m1=Object.getOwnPropertyDescriptor,g1=Object.getOwnPropertyNames,h1=Object.getPrototypeOf,v1=Object.prototype.hasOwnProperty,re=(e,t)=>Yn(e,"name",{value:t,configurable:!0}),_1=(e,t)=>{for(var r in t)Yn(e,r,{get:t[r],enumerable:!0})},mh=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of g1(t))!v1.call(e,o)&&o!==r&&Yn(e,o,{get:()=>t[o],enumerable:!(n=m1(t,o))||n.enumerable});return e},y1=(e,t,r)=>(r=e!=null?f1(h1(e)):{},mh(t||!e||!e.__esModule?Yn(r,"default",{value:e,enumerable:!0}):r,e)),S1=e=>mh(Yn({},"__esModule",{value:!0}),e),gh={};_1(gh,{DEFAULT_REQUEST_TIMEOUT:()=>P1,NodeHttp2Handler:()=>I1,NodeHttpHandler:()=>O1,streamCollector:()=>N1});Ah.exports=S1(gh);var hh=Pd(),vh=Ad(),Td=require("http"),Id=require("https"),E1=["ECONNRESET","EPIPE","ETIMEDOUT"],_h=re(e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t},"getTransformedHeaders"),b1=re((e,t,r=0)=>{if(!r)return;let n=setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`Socket timed out without establishing a connection within ${r} ms`),{name:"TimeoutError"}))},r);e.on("socket",o=>{o.connecting?o.on("connect",()=>{clearTimeout(n)}):clearTimeout(n)})},"setConnectionTimeout"),w1=re((e,{keepAlive:t,keepAliveMsecs:r})=>{t===!0&&e.on("socket",n=>{n.setKeepAlive(t,r||0)})},"setSocketKeepAlive"),C1=re((e,t,r=0)=>{e.setTimeout(r,()=>{e.destroy(),t(Object.assign(new Error(`Connection timed out after ${r} ms`),{name:"TimeoutError"}))})},"setSocketTimeout"),yh=require("stream"),ph=1e3;async function Nd(e,t,r=ph){let n=t.headers??{},o=n.Expect||n.expect,s=-1,i=!1;o==="100-continue"&&await Promise.race([new Promise(a=>{s=Number(setTimeout(a,Math.max(ph,r)))}),new Promise(a=>{e.on("continue",()=>{clearTimeout(s),a()}),e.on("error",()=>{i=!0,clearTimeout(s),a()})})]),i||Sh(e,t.body)}re(Nd,"writeRequestBody");function Sh(e,t){if(t instanceof yh.Readable){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){e.end(t);return}let r=t;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}e.end(Buffer.from(t));return}e.end()}re(Sh,"writeBody");var P1=0,Eh=class xd{constructor(t){this.socketWarningTimestamp=0,this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(this.resolveDefaultConfig(o))}).catch(n):r(this.resolveDefaultConfig(t))})}static create(t){return typeof t?.handle=="function"?t:new xd(t)}static checkSocketUsage(t,r){var n,o;let{sockets:s,requests:i,maxSockets:a}=t;if(typeof a!="number"||a===1/0||Date.now()-15e3<r)return r;if(s&&i)for(let d in s){let l=((n=s[d])==null?void 0:n.length)??0,u=((o=i[d])==null?void 0:o.length)??0;if(l>=a&&u>=2*a)return console.warn("@smithy/node-http-handler:WARN",`socket usage at capacity=${l} and ${u} additional requests are enqueued.`,"See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html","or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config."),Date.now()}return r}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:o,httpAgent:s,httpsAgent:i}=t||{},a=!0,c=50;return{connectionTimeout:n,requestTimeout:r??o,httpAgent:s instanceof Td.Agent||typeof s?.destroy=="function"?s:new Td.Agent({keepAlive:a,maxSockets:c,...s}),httpsAgent:i instanceof Id.Agent||typeof i?.destroy=="function"?i:new Id.Agent({keepAlive:a,maxSockets:c,...i})}}destroy(){var t,r,n,o;(r=(t=this.config)==null?void 0:t.httpAgent)==null||r.destroy(),(o=(n=this.config)==null?void 0:n.httpsAgent)==null||o.destroy()}async handle(t,{abortSignal:r}={}){this.config||(this.config=await this.configProvider);let n;return new Promise((o,s)=>{let i,a=re(async b=>{await i,clearTimeout(n),o(b)},"resolve"),c=re(async b=>{await i,s(b)},"reject");if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(r?.aborted){let b=new Error("Request aborted");b.name="AbortError",c(b);return}let d=t.protocol==="https:",l=d?this.config.httpsAgent:this.config.httpAgent;n=setTimeout(()=>{this.socketWarningTimestamp=xd.checkSocketUsage(l,this.socketWarningTimestamp)},this.config.socketAcquisitionWarningTimeout??(this.config.requestTimeout??2e3)+(this.config.connectionTimeout??1e3));let u=(0,vh.buildQueryString)(t.query||{}),p;if(t.username!=null||t.password!=null){let b=t.username??"",N=t.password??"";p=`${b}:${N}`}let f=t.path;u&&(f+=`?${u}`),t.fragment&&(f+=`#${t.fragment}`);let h={headers:t.headers,host:t.hostname,method:t.method,path:f,port:t.port,agent:l,auth:p},y=(d?Id.request:Td.request)(h,b=>{let N=new hh.HttpResponse({statusCode:b.statusCode||-1,reason:b.statusMessage,headers:_h(b.headers),body:b});a({response:N})});y.on("error",b=>{E1.includes(b.code)?c(Object.assign(b,{name:"TimeoutError"})):c(b)}),b1(y,c,this.config.connectionTimeout),C1(y,c,this.config.requestTimeout),r&&(r.onabort=()=>{y.abort();let b=new Error("Request aborted");b.name="AbortError",c(b)});let E=h.agent;typeof E=="object"&&"keepAlive"in E&&w1(y,{keepAlive:E.keepAlive,keepAliveMsecs:E.keepAliveMsecs}),i=Nd(y,t,this.config.requestTimeout).catch(s)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}};re(Eh,"NodeHttpHandler");var O1=Eh,fh=require("http2"),R1=y1(require("http2")),bh=class{constructor(t){this.sessions=[],this.sessions=t??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(t){this.sessions.push(t)}contains(t){return this.sessions.includes(t)}remove(t){this.sessions=this.sessions.filter(r=>r!==t)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(t){for(let r of this.sessions)r===t&&(r.destroyed||r.destroy())}};re(bh,"NodeHttp2ConnectionPool");var A1=bh,wh=class{constructor(t){if(this.sessionCache=new Map,this.config=t,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}lease(t,r){let n=this.getUrlString(t),o=this.sessionCache.get(n);if(o){let c=o.poll();if(c&&!this.config.disableConcurrency)return c}let s=R1.default.connect(n);this.config.maxConcurrency&&s.settings({maxConcurrentStreams:this.config.maxConcurrency},c=>{if(c)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+t.destination.toString())}),s.unref();let i=re(()=>{s.destroy(),this.deleteSession(n,s)},"destroySessionCb");s.on("goaway",i),s.on("error",i),s.on("frameError",i),s.on("close",()=>this.deleteSession(n,s)),r.requestTimeout&&s.setTimeout(r.requestTimeout,i);let a=this.sessionCache.get(n)||new A1;return a.offerLast(s),this.sessionCache.set(n,a),s}deleteSession(t,r){let n=this.sessionCache.get(t);n&&n.contains(r)&&(n.remove(r),this.sessionCache.set(t,n))}release(t,r){var n;let o=this.getUrlString(t);(n=this.sessionCache.get(o))==null||n.offerLast(r)}destroy(){for(let[t,r]of this.sessionCache){for(let n of r)n.destroyed||n.destroy(),r.remove(n);this.sessionCache.delete(t)}}setMaxConcurrentStreams(t){if(this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=t}setDisableConcurrentStreams(t){this.config.disableConcurrency=t}getUrlString(t){return t.destination.toString()}};re(wh,"NodeHttp2ConnectionManager");var T1=wh,Ch=class Ph{constructor(t){this.metadata={handlerProtocol:"h2"},this.connectionManager=new T1({}),this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(o||{})}).catch(n):r(t||{})})}static create(t){return typeof t?.handle=="function"?t:new Ph(t)}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:r}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:n,disableConcurrentStreams:o}=this.config;return new Promise((s,i)=>{var a;let c=!1,d,l=re(async M=>{await d,s(M)},"resolve"),u=re(async M=>{await d,i(M)},"reject");if(r?.aborted){c=!0;let M=new Error("Request aborted");M.name="AbortError",u(M);return}let{hostname:p,method:f,port:h,protocol:S,query:y}=t,E="";if(t.username!=null||t.password!=null){let M=t.username??"",We=t.password??"";E=`${M}:${We}@`}let b=`${S}//${E}${p}${h?`:${h}`:""}`,N={destination:new URL(b)},I=this.connectionManager.lease(N,{requestTimeout:(a=this.config)==null?void 0:a.sessionTimeout,disableConcurrentStreams:o||!1}),H=re(M=>{o&&this.destroySession(I),c=!0,u(M)},"rejectWithDestroy"),de=(0,vh.buildQueryString)(y||{}),ye=t.path;de&&(ye+=`?${de}`),t.fragment&&(ye+=`#${t.fragment}`);let K=I.request({...t.headers,[fh.constants.HTTP2_HEADER_PATH]:ye,[fh.constants.HTTP2_HEADER_METHOD]:f});I.ref(),K.on("response",M=>{let We=new hh.HttpResponse({statusCode:M[":status"]||-1,headers:_h(M),body:K});c=!0,l({response:We}),o&&(I.close(),this.connectionManager.deleteSession(b,I))}),n&&K.setTimeout(n,()=>{K.close();let M=new Error(`Stream timed out because of no activity for ${n} ms`);M.name="TimeoutError",H(M)}),r&&(r.onabort=()=>{K.close();let M=new Error("Request aborted");M.name="AbortError",H(M)}),K.on("frameError",(M,We,Lc)=>{H(new Error(`Frame type id ${M} in stream id ${Lc} has failed with code ${We}.`))}),K.on("error",H),K.on("aborted",()=>{H(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${K.rstCode}.`))}),K.on("close",()=>{I.unref(),o&&I.destroy(),c||H(new Error("Unexpected error: http2 request did not get a response"))}),d=Nd(K,t,n)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}};re(Ch,"NodeHttp2Handler");var I1=Ch,Oh=class extends yh.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}_write(t,r,n){this.bufferedBytes.push(t),n()}};re(Oh,"Collector");var x1=Oh,N1=re(e=>M1(e)?Rh(e):new Promise((t,r)=>{let n=new x1;e.pipe(n),e.on("error",o=>{n.end(),r(o)}),n.on("error",r),n.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.bufferedBytes));t(o)})}),"streamCollector"),M1=re(e=>typeof ReadableStream=="function"&&e instanceof ReadableStream,"isReadableStreamInstance");async function Rh(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),o+=c.length),n=a}let s=new Uint8Array(o),i=0;for(let a of t)s.set(a,i),i+=a.length;return s}re(Rh,"collectReadableStream")});var Uh=g((Kre,Fh)=>{var Js=Object.defineProperty,D1=Object.getOwnPropertyDescriptor,k1=Object.getOwnPropertyNames,L1=Object.prototype.hasOwnProperty,Wr=(e,t)=>Js(e,"name",{value:t,configurable:!0}),q1=(e,t)=>{for(var r in t)Js(e,r,{get:t[r],enumerable:!0})},j1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of k1(t))!L1.call(e,o)&&o!==r&&Js(e,o,{get:()=>t[o],enumerable:!(n=D1(t,o))||n.enumerable});return e},F1=e=>j1(Js({},"__esModule",{value:!0}),e),xh={};q1(xh,{FetchHttpHandler:()=>H1,keepAliveSupport:()=>Mh,streamCollector:()=>B1});Fh.exports=F1(xh);var Ih=Pd(),U1=Ad();function Nh(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{let n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}Wr(Nh,"requestTimeout");var Mh={supported:typeof Request<"u"&&"keepalive"in new Request("https://[::1]")},Dh=class kh{static create(t){return typeof t?.handle=="function"?t:new kh(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config))}destroy(){}async handle(t,{abortSignal:r}={}){this.config||(this.config=await this.configProvider);let n=this.config.requestTimeout,o=this.config.keepAlive===!0;if(r?.aborted){let S=new Error("Request aborted");return S.name="AbortError",Promise.reject(S)}let s=t.path,i=(0,U1.buildQueryString)(t.query||{});i&&(s+=`?${i}`),t.fragment&&(s+=`#${t.fragment}`);let a="";if(t.username!=null||t.password!=null){let S=t.username??"",y=t.password??"";a=`${S}:${y}@`}let{port:c,method:d}=t,l=`${t.protocol}//${a}${t.hostname}${c?`:${c}`:""}${s}`,u=d==="GET"||d==="HEAD"?void 0:t.body,p={body:u,headers:new Headers(t.headers),method:d};u&&(p.duplex="half"),typeof AbortController<"u"&&(p.signal=r),Mh.supported&&(p.keepalive=o);let f=new Request(l,p),h=[fetch(f).then(S=>{let y=S.headers,E={};for(let N of y.entries())E[N[0]]=N[1];return S.body!=null?{response:new Ih.HttpResponse({headers:E,reason:S.statusText,statusCode:S.status,body:S.body})}:S.blob().then(N=>({response:new Ih.HttpResponse({headers:E,reason:S.statusText,statusCode:S.status,body:N})}))}),Nh(n)];return r&&h.push(new Promise((S,y)=>{r.onabort=()=>{let E=new Error("Request aborted");E.name="AbortError",y(E)}})),Promise.race(h)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}};Wr(Dh,"FetchHttpHandler");var H1=Dh,$1=Bs(),B1=Wr(e=>typeof Blob=="function"&&e instanceof Blob?Lh(e):qh(e),"streamCollector");async function Lh(e){let t=await jh(e),r=(0,$1.fromBase64)(t);return new Uint8Array(r)}Wr(Lh,"collectBlob");async function qh(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),o+=c.length),n=a}let s=new Uint8Array(o),i=0;for(let a of t)s.set(a,i),i+=a.length;return s}Wr(qh,"collectStream");function jh(e){return new Promise((t,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let o=n.result??"",s=o.indexOf(","),i=s>-1?s+1:o.length;t(o.substring(i))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}Wr(jh,"readToBase64")});var Dd=g((Jre,Gh)=>{var Ys=Object.defineProperty,z1=Object.getOwnPropertyDescriptor,V1=Object.getOwnPropertyNames,G1=Object.prototype.hasOwnProperty,Hh=(e,t)=>Ys(e,"name",{value:t,configurable:!0}),W1=(e,t)=>{for(var r in t)Ys(e,r,{get:t[r],enumerable:!0})},Q1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of V1(t))!G1.call(e,o)&&o!==r&&Ys(e,o,{get:()=>t[o],enumerable:!(n=z1(t,o))||n.enumerable});return e},K1=e=>Q1(Ys({},"__esModule",{value:!0}),e),$h={};W1($h,{fromHex:()=>zh,toHex:()=>Vh});Gh.exports=K1($h);var Bh={},Md={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),Bh[e]=t,Md[t]=e}function zh(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in Md)t[r/2]=Md[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}Hh(zh,"fromHex");function Vh(e){let t="";for(let r=0;r<e.byteLength;r++)t+=Bh[e[r]];return t}Hh(Vh,"toHex")});var Jh=g(Xs=>{"use strict";Object.defineProperty(Xs,"__esModule",{value:!0});Xs.sdkStreamMixin=void 0;var J1=Uh(),Y1=Bs(),X1=Dd(),Z1=wr(),Wh="The stream has already been transformed.",eF=e=>{var t,r;if(!Qh(e)&&!Kh(e)){let i=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${i}`)}let n=!1,o=async()=>{if(n)throw new Error(Wh);return n=!0,await(0,J1.streamCollector)(e)},s=i=>{if(typeof i.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return i.stream()};return Object.assign(e,{transformToByteArray:o,transformToString:async i=>{let a=await o();if(i==="base64")return(0,Y1.toBase64)(a);if(i==="hex")return(0,X1.toHex)(a);if(i===void 0||i==="utf8"||i==="utf-8")return(0,Z1.toUtf8)(a);if(typeof TextDecoder=="function")return new TextDecoder(i).decode(a);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(n)throw new Error(Wh);if(n=!0,Qh(e))return s(e);if(Kh(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};Xs.sdkStreamMixin=eF;var Qh=e=>typeof Blob=="function"&&e instanceof Blob,Kh=e=>typeof ReadableStream=="function"&&e instanceof ReadableStream});var Xh=g(Zs=>{"use strict";Object.defineProperty(Zs,"__esModule",{value:!0});Zs.sdkStreamMixin=void 0;var tF=Th(),rF=Jn(),kd=require("stream"),nF=require("util"),oF=Jh(),Yh="The stream has already been transformed.",sF=e=>{var t,r;if(!(e instanceof kd.Readable))try{return(0,oF.sdkStreamMixin)(e)}catch{let i=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${i}`)}let n=!1,o=async()=>{if(n)throw new Error(Yh);return n=!0,await(0,tF.streamCollector)(e)};return Object.assign(e,{transformToByteArray:o,transformToString:async s=>{let i=await o();return s===void 0||Buffer.isEncoding(s)?(0,rF.fromArrayBuffer)(i.buffer,i.byteOffset,i.byteLength).toString(s):new nF.TextDecoder(s).decode(i)},transformToWebStream:()=>{if(n)throw new Error(Yh);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof kd.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please make sure you are using Node.js >= 17.0.0, or polyfill is available.");return n=!0,kd.Readable.toWeb(e)}})};Zs.sdkStreamMixin=sF});var iv=g((Zre,ri)=>{var ei=Object.defineProperty,iF=Object.getOwnPropertyDescriptor,aF=Object.getOwnPropertyNames,cF=Object.prototype.hasOwnProperty,jd=(e,t)=>ei(e,"name",{value:t,configurable:!0}),dF=(e,t)=>{for(var r in t)ei(e,r,{get:t[r],enumerable:!0})},Ld=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of aF(t))!cF.call(e,o)&&o!==r&&ei(e,o,{get:()=>t[o],enumerable:!(n=iF(t,o))||n.enumerable});return e},Zh=(e,t,r)=>(Ld(e,t,"default"),r&&Ld(r,t,"default")),lF=e=>Ld(ei({},"__esModule",{value:!0}),e),ti={};dF(ti,{Uint8ArrayBlobAdapter:()=>qd});ri.exports=lF(ti);var ev=Bs(),tv=wr();function rv(e,t="utf-8"){return t==="base64"?(0,ev.toBase64)(e):(0,tv.toUtf8)(e)}jd(rv,"transformToString");function nv(e,t){return t==="base64"?qd.mutate((0,ev.fromBase64)(e)):qd.mutate((0,tv.fromUtf8)(e))}jd(nv,"transformFromString");var ov=class sv extends Uint8Array{static fromString(t,r="utf-8"){switch(typeof t){case"string":return nv(t,r);default:throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}}static mutate(t){return Object.setPrototypeOf(t,sv.prototype),t}transformToString(t="utf-8"){return rv(this,t)}};jd(ov,"Uint8ArrayBlobAdapter");var qd=ov;Zh(ti,Ug(),ri.exports);Zh(ti,Xh(),ri.exports)});var xv=g((one,Iv)=>{var ai=Object.defineProperty,uF=Object.getOwnPropertyDescriptor,pF=Object.getOwnPropertyNames,fF=Object.prototype.hasOwnProperty,P=(e,t)=>ai(e,"name",{value:t,configurable:!0}),mF=(e,t)=>{for(var r in t)ai(e,r,{get:t[r],enumerable:!0})},gF=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of pF(t))!fF.call(e,o)&&o!==r&&ai(e,o,{get:()=>t[o],enumerable:!(n=uF(t,o))||n.enumerable});return e},hF=e=>gF(ai({},"__esModule",{value:!0}),e),cv={};mF(cv,{Client:()=>_F,Command:()=>fv,LazyJsonString:()=>mU,NoOpLogger:()=>vF,SENSITIVE_STRING:()=>EF,ServiceException:()=>rU,StringWrapper:()=>ro,_json:()=>Vd,collectBody:()=>yF,convertMap:()=>gU,createAggregatedClient:()=>bF,dateToUtcString:()=>Sv,decorateServiceException:()=>wv,emitWarningIfUnsupportedVersion:()=>iU,expectBoolean:()=>CF,expectByte:()=>zd,expectFloat32:()=>oi,expectInt:()=>OF,expectInt32:()=>$d,expectLong:()=>eo,expectNonNull:()=>AF,expectNumber:()=>Zn,expectObject:()=>gv,expectShort:()=>Bd,expectString:()=>TF,expectUnion:()=>IF,extendedEncodeURIComponent:()=>ii,getArrayIfSingleItem:()=>fU,getDefaultClientConfiguration:()=>uU,getDefaultExtensionConfiguration:()=>Pv,getValueFromTextNode:()=>Ov,handleFloat:()=>MF,limitedParseDouble:()=>Qd,limitedParseFloat:()=>DF,limitedParseFloat32:()=>kF,loadConfigsForDefaultMode:()=>sU,logger:()=>to,map:()=>Jd,parseBoolean:()=>wF,parseEpochTimestamp:()=>WF,parseRfc3339DateTime:()=>UF,parseRfc3339DateTimeWithOffset:()=>$F,parseRfc7231DateTime:()=>GF,resolveDefaultRuntimeConfig:()=>pU,resolvedPath:()=>SU,serializeFloat:()=>EU,splitEvery:()=>Tv,strictParseByte:()=>yv,strictParseDouble:()=>Wd,strictParseFloat:()=>xF,strictParseFloat32:()=>hv,strictParseInt:()=>LF,strictParseInt32:()=>qF,strictParseLong:()=>_v,strictParseShort:()=>Qr,take:()=>hU,throwDefaultError:()=>Cv,withBaseException:()=>nU});Iv.exports=hF(cv);var dv=class{trace(){}debug(){}info(){}warn(){}error(){}};P(dv,"NoOpLogger");var vF=dv,lv=Pg(),uv=class{constructor(t){this.middlewareStack=(0,lv.constructStack)(),this.config=t}send(t,r,n){let o=typeof r!="function"?r:void 0,s=typeof r=="function"?r:n,i=t.resolveMiddleware(this.middlewareStack,this.config,o);if(s)i(t).then(a=>s(null,a.output),a=>s(a)).catch(()=>{});else return i(t).then(a=>a.output)}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}};P(uv,"Client");var _F=uv,Fd=iv(),yF=P(async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return Fd.Uint8ArrayBlobAdapter.mutate(e);if(!e)return Fd.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return Fd.Uint8ArrayBlobAdapter.mutate(await r)},"collectBody"),Hd=Cd(),pv=class{constructor(){this.middlewareStack=(0,lv.constructStack)()}static classBuilder(){return new SF}resolveMiddlewareWithContext(t,r,n,{middlewareFn:o,clientName:s,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,smithyContext:d,additionalContext:l,CommandCtor:u}){for(let y of o.bind(this)(u,t,r,n))this.middlewareStack.use(y);let p=t.concat(this.middlewareStack),{logger:f}=r,h={logger:f,clientName:s,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,[Hd.SMITHY_CONTEXT_KEY]:{...d},...l},{requestHandler:S}=r;return p.resolve(y=>S.handle(y.request,n||{}),h)}};P(pv,"Command");var fv=pv,mv=class{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=t=>t,this._outputFilterSensitiveLog=t=>t,this._serializer=null,this._deserializer=null}init(t){this._init=t}ep(t){return this._ep=t,this}m(t){return this._middlewareFn=t,this}s(t,r,n={}){return this._smithyContext={service:t,operation:r,...n},this}c(t={}){return this._additionalContext=t,this}n(t,r){return this._clientName=t,this._commandName=r,this}f(t=n=>n,r=n=>n){return this._inputFilterSensitiveLog=t,this._outputFilterSensitiveLog=r,this}ser(t){return this._serializer=t,this}de(t){return this._deserializer=t,this}build(){var t;let r=this,n;return n=(t=class extends fv{constructor(...[o]){super(),this.serialize=r._serializer,this.deserialize=r._deserializer,this.input=o??{},r._init(this)}static getEndpointParameterInstructions(){return r._ep}resolveMiddleware(o,s,i){return this.resolveMiddlewareWithContext(o,s,i,{CommandCtor:n,middlewareFn:r._middlewareFn,clientName:r._clientName,commandName:r._commandName,inputFilterSensitiveLog:r._inputFilterSensitiveLog,outputFilterSensitiveLog:r._outputFilterSensitiveLog,smithyContext:r._smithyContext,additionalContext:r._additionalContext})}},P(t,"CommandRef"),t)}};P(mv,"ClassBuilder");var SF=mv,EF="***SensitiveInformation***",bF=P((e,t)=>{for(let r of Object.keys(e)){let n=e[r],o=P(async function(i,a,c){let d=new n(i);if(typeof a=="function")this.send(d,a);else if(typeof c=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(d,a||{},c)}else return this.send(d,a)},"methodImpl"),s=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[s]=o}},"createAggregatedClient"),wF=P(e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},"parseBoolean"),CF=P(e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&to.warn(si(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&to.warn(si(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},"expectBoolean"),Zn=P(e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&to.warn(si(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},"expectNumber"),PF=Math.ceil(2**127*(2-2**-23)),oi=P(e=>{let t=Zn(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>PF)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},"expectFloat32"),eo=P(e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},"expectLong"),OF=eo,$d=P(e=>Gd(e,32),"expectInt32"),Bd=P(e=>Gd(e,16),"expectShort"),zd=P(e=>Gd(e,8),"expectByte"),Gd=P((e,t)=>{let r=eo(e);if(r!==void 0&&RF(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},"expectSizedInt"),RF=P((e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},"castInt"),AF=P((e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},"expectNonNull"),gv=P(e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},"expectObject"),TF=P(e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return to.warn(si(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},"expectString"),IF=P(e=>{if(e==null)return;let t=gv(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},"expectUnion"),Wd=P(e=>Zn(typeof e=="string"?Jr(e):e),"strictParseDouble"),xF=Wd,hv=P(e=>oi(typeof e=="string"?Jr(e):e),"strictParseFloat32"),NF=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Jr=P(e=>{let t=e.match(NF);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},"parseNumber"),Qd=P(e=>typeof e=="string"?vv(e):Zn(e),"limitedParseDouble"),MF=Qd,DF=Qd,kF=P(e=>typeof e=="string"?vv(e):oi(e),"limitedParseFloat32"),vv=P(e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},"parseFloatString"),_v=P(e=>eo(typeof e=="string"?Jr(e):e),"strictParseLong"),LF=_v,qF=P(e=>$d(typeof e=="string"?Jr(e):e),"strictParseInt32"),Qr=P(e=>Bd(typeof e=="string"?Jr(e):e),"strictParseShort"),yv=P(e=>zd(typeof e=="string"?Jr(e):e),"strictParseByte"),si=P(e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),"stackTraceWarning"),to={warn:console.warn},jF=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Kd=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Sv(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),o=e.getUTCDate(),s=e.getUTCHours(),i=e.getUTCMinutes(),a=e.getUTCSeconds(),c=o<10?`0${o}`:`${o}`,d=s<10?`0${s}`:`${s}`,l=i<10?`0${i}`:`${i}`,u=a<10?`0${a}`:`${a}`;return`${jF[n]}, ${c} ${Kd[r]} ${t} ${d}:${l}:${u} GMT`}P(Sv,"dateToUtcString");var FF=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),UF=P(e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=FF.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,c,d]=t,l=Qr(Kr(n)),u=it(o,"month",1,12),p=it(s,"day",1,31);return Xn(l,u,p,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:d})},"parseRfc3339DateTime"),HF=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),$F=P(e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=HF.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,c,d,l]=t,u=Qr(Kr(n)),p=it(o,"month",1,12),f=it(s,"day",1,31),h=Xn(u,p,f,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:d});return l.toUpperCase()!="Z"&&h.setTime(h.getTime()-tU(l)),h},"parseRfc3339DateTimeWithOffset"),BF=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),zF=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),VF=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),GF=P(e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=BF.exec(e);if(t){let[r,n,o,s,i,a,c,d]=t;return Xn(Qr(Kr(s)),Ud(o),it(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:d})}if(t=zF.exec(e),t){let[r,n,o,s,i,a,c,d]=t;return JF(Xn(QF(s),Ud(o),it(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:d}))}if(t=VF.exec(e),t){let[r,n,o,s,i,a,c,d]=t;return Xn(Qr(Kr(d)),Ud(n),it(o.trimLeft(),"day",1,31),{hours:s,minutes:i,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")},"parseRfc7231DateTime"),WF=P(e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=Wd(e);else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},"parseEpochTimestamp"),Xn=P((e,t,r,n)=>{let o=t-1;return XF(e,o,r),new Date(Date.UTC(e,o,r,it(n.hours,"hour",0,23),it(n.minutes,"minute",0,59),it(n.seconds,"seconds",0,60),eU(n.fractionalMilliseconds)))},"buildDate"),QF=P(e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+Qr(Kr(e));return r<t?r+100:r},"parseTwoDigitYear"),KF=50*365*24*60*60*1e3,JF=P(e=>e.getTime()-new Date().getTime()>KF?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,"adjustRfc850Year"),Ud=P(e=>{let t=Kd.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},"parseMonthByShortName"),YF=[31,28,31,30,31,30,31,31,30,31,30,31],XF=P((e,t,r)=>{let n=YF[t];if(t===1&&ZF(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${Kd[t]} in ${e}: ${r}`)},"validateDayOfMonth"),ZF=P(e=>e%4===0&&(e%100!==0||e%400===0),"isLeapYear"),it=P((e,t,r,n)=>{let o=yv(Kr(e));if(o<r||o>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return o},"parseDateValue"),eU=P(e=>e==null?0:hv("0."+e)*1e3,"parseMilliseconds"),tU=P(e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),o=Number(e.substring(4,6));return r*(n*60+o)*60*1e3},"parseOffsetToMilliseconds"),Kr=P(e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)},"stripLeadingZeroes"),Ev=class bv extends Error{constructor(t){super(t.message),Object.setPrototypeOf(this,bv.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}};P(Ev,"ServiceException");var rU=Ev,wv=P((e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,o])=>{(e[n]==null||e[n]==="")&&(e[n]=o)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},"decorateServiceException"),Cv=P(({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let o=oU(e),s=o.httpStatusCode?o.httpStatusCode+"":void 0,i=new r({name:t?.code||t?.Code||n||s||"UnknownError",$fault:"client",$metadata:o});throw wv(i,t)},"throwDefaultError"),nU=P(e=>({output:t,parsedBody:r,errorCode:n})=>{Cv({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},"withBaseException"),oU=P(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),sU=P(e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},"loadConfigsForDefaultMode"),av=!1,iU=P(e=>{e&&!av&&parseInt(e.substring(1,e.indexOf(".")))<16&&(av=!0)},"emitWarningIfUnsupportedVersion"),aU=P(e=>{let t=[];for(let r in Hd.AlgorithmId){let n=Hd.AlgorithmId[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{_checksumAlgorithms:t,addChecksumAlgorithm(r){this._checksumAlgorithms.push(r)},checksumAlgorithms(){return this._checksumAlgorithms}}},"getChecksumConfiguration"),cU=P(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),dU=P(e=>{let t=e.retryStrategy;return{setRetryStrategy(r){t=r},retryStrategy(){return t}}},"getRetryConfiguration"),lU=P(e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},"resolveRetryRuntimeConfig"),Pv=P(e=>({...aU(e),...dU(e)}),"getDefaultExtensionConfiguration"),uU=Pv,pU=P(e=>({...cU(e),...lU(e)}),"resolveDefaultRuntimeConfig");function ii(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}P(ii,"extendedEncodeURIComponent");var fU=P(e=>Array.isArray(e)?e:[e],"getArrayIfSingleItem"),Ov=P(e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=Ov(e[r]));return e},"getValueFromTextNode"),ro=P(function(){let e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,[null,...arguments]),r=new t;return Object.setPrototypeOf(r,e.prototype),r},"StringWrapper");ro.prototype=Object.create(String.prototype,{constructor:{value:ro,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(ro,String);var Rv=class ni extends ro{deserializeJSON(){return JSON.parse(super.toString())}toJSON(){return super.toString()}static fromObject(t){return t instanceof ni?t:t instanceof String||typeof t=="string"?new ni(t):new ni(JSON.stringify(t))}};P(Rv,"LazyJsonString");var mU=Rv;function Jd(e,t,r){let n,o,s;if(typeof t>"u"&&typeof r>"u")n={},s=e;else{if(n=e,typeof t=="function")return o=t,s=r,vU(n,o,s);s=t}for(let i of Object.keys(s)){if(!Array.isArray(s[i])){n[i]=s[i];continue}Av(n,null,s,i)}return n}P(Jd,"map");var gU=P(e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t},"convertMap"),hU=P((e,t)=>{let r={};for(let n in t)Av(r,e,t,n);return r},"take"),vU=P((e,t,r)=>Jd(e,Object.entries(r).reduce((n,[o,s])=>(Array.isArray(s)?n[o]=s:typeof s=="function"?n[o]=[t,s()]:n[o]=[t,s],n),{})),"mapWithFilter"),Av=P((e,t,r,n)=>{if(t!==null){let i=r[n];typeof i=="function"&&(i=[,i]);let[a=_U,c=yU,d=n]=i;(typeof a=="function"&&a(t[d])||typeof a!="function"&&a)&&(e[n]=c(t[d]));return}let[o,s]=r[n];if(typeof s=="function"){let i,a=o===void 0&&(i=s())!=null,c=typeof o=="function"&&!!o(void 0)||typeof o!="function"&&!!o;a?e[n]=i:c&&(e[n]=s())}else{let i=o===void 0&&s!=null,a=typeof o=="function"&&!!o(s)||typeof o!="function"&&!!o;(i||a)&&(e[n]=s)}},"applyInstruction"),_U=P(e=>e!=null,"nonNullish"),yU=P(e=>e,"pass"),SU=P((e,t,r,n,o,s)=>{if(t!=null&&t[r]!==void 0){let i=n();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(o,s?i.split("/").map(a=>ii(a)).join("/"):ii(i))}else throw new Error("No value provided for input HTTP label: "+r+".");return e},"resolvedPath"),EU=P(e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},"serializeFloat"),Vd=P(e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(Vd);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=Vd(e[r]));return t}return e},"_json");function Tv(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let o=[],s="";for(let i=0;i<n.length;i++)s===""?s=n[i]:s+=t+n[i],(i+1)%r===0&&(o.push(s),s="");return s!==""&&o.push(s),o}P(Tv,"splitEvery")});var Uv=g((ine,Fv)=>{"use strict";var ci=Object.defineProperty,bU=Object.getOwnPropertyDescriptor,wU=Object.getOwnPropertyNames,CU=Object.prototype.hasOwnProperty,wt=(e,t)=>ci(e,"name",{value:t,configurable:!0}),PU=(e,t)=>{for(var r in t)ci(e,r,{get:t[r],enumerable:!0})},OU=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of wU(t))!CU.call(e,o)&&o!==r&&ci(e,o,{get:()=>t[o],enumerable:!(n=bU(t,o))||n.enumerable});return e},RU=e=>OU(ci({},"__esModule",{value:!0}),e),Nv={};PU(Nv,{getQueueUrlPlugin:()=>IU,getReceiveMessagePlugin:()=>NU,getSendMessageBatchPlugin:()=>LU,getSendMessagePlugin:()=>DU,queueUrlMiddleware:()=>Yd,queueUrlMiddlewareOptions:()=>Mv,receiveMessageMiddleware:()=>Zd,receiveMessageMiddlewareOptions:()=>Dv,resolveQueueUrlConfig:()=>TU,sendMessageBatchMiddleware:()=>qv,sendMessageBatchMiddlewareOptions:()=>jv,sendMessageMiddleware:()=>kv,sendMessageMiddlewareOptions:()=>Lv});Fv.exports=RU(Nv);var AU=xv(),TU=wt(e=>({...e,useQueueUrlAsEndpoint:e.useQueueUrlAsEndpoint??!0}),"resolveQueueUrlConfig");function Yd({useQueueUrlAsEndpoint:e,endpoint:t}){return(r,n)=>async o=>{var s;let{input:i}=o,a=n.endpointV2;if(!t&&i.QueueUrl&&a&&e){let c=n.logger instanceof AU.NoOpLogger||!((s=n.logger)!=null&&s.warn)?console:n.logger;try{let d=new URL(i.QueueUrl),l=new URL(d.origin);a.url.origin!==l.origin&&(c.warn(`QueueUrl=${i.QueueUrl} differs from SQSClient resolved endpoint=${a.url.toString()}, using QueueUrl host as endpoint.
Set [endpoint=string] or [useQueueUrlAsEndpoint=false] on the SQSClient.`),a.url=l)}catch(d){c.warn(d)}}return r(o)}}wt(Yd,"queueUrlMiddleware");var Mv={name:"queueUrlMiddleware",relation:"after",toMiddleware:"endpointV2Middleware",override:!0},IU=wt(e=>({applyToStack:t=>{t.addRelativeTo(Yd(e),Mv)}}),"getQueueUrlPlugin"),Xd=Dd(),xU=wr();function Zd(e){return t=>async r=>{let n=await t({...r});if(e.md5===!1)return n;let o=n.output,s=[];if(o.Messages!==void 0)for(let i of o.Messages){let a=i.MD5OfBody,c=new e.md5;c.update((0,xU.toUint8Array)(i.Body||"")),a!==(0,Xd.toHex)(await c.digest())&&s.push(i.MessageId)}if(s.length>0)throw new Error("Invalid MD5 checksum on messages: "+s.join(", "));return n}}wt(Zd,"receiveMessageMiddleware");var Dv={step:"initialize",tags:["VALIDATE_BODY_MD5"],name:"receiveMessageMiddleware",override:!0},NU=wt(e=>({applyToStack:t=>{t.add(Zd(e),Dv)}}),"getReceiveMessagePlugin"),MU=wr(),kv=wt(e=>t=>async r=>{let n=await t({...r});if(e.md5===!1)return n;let o=n.output,s=new e.md5;if(s.update((0,MU.toUint8Array)(r.input.MessageBody||"")),o.MD5OfMessageBody!==(0,Xd.toHex)(await s.digest()))throw new Error("InvalidChecksumError");return n},"sendMessageMiddleware"),Lv={step:"initialize",tags:["VALIDATE_BODY_MD5"],name:"sendMessageMiddleware",override:!0},DU=wt(e=>({applyToStack:t=>{t.add(kv(e),Lv)}}),"getSendMessagePlugin"),kU=wr(),qv=wt(e=>t=>async r=>{let n=await t({...r});if(e.md5===!1)return n;let o=n.output,s=[],i={};if(o.Successful!==void 0)for(let a of o.Successful)a.Id!==void 0&&(i[a.Id]=a);for(let a of r.input.Entries)if(i[a.Id]){let c=i[a.Id].MD5OfMessageBody,d=new e.md5;d.update((0,kU.toUint8Array)(a.MessageBody||"")),c!==(0,Xd.toHex)(await d.digest())&&s.push(i[a.Id].MessageId)}if(s.length>0)throw new Error("Invalid MD5 checksum on messages: "+s.join(", "));return n},"sendMessageBatchMiddleware"),jv={step:"initialize",tags:["VALIDATE_BODY_MD5"],name:"sendMessageBatchMiddleware",override:!0},LU=wt(e=>({applyToStack:t=>{t.add(qv(e),jv)}}),"getSendMessageBatchPlugin")});var Yr=g((cne,Jv)=>{var di=Object.defineProperty,qU=Object.getOwnPropertyDescriptor,jU=Object.getOwnPropertyNames,FU=Object.prototype.hasOwnProperty,F=(e,t)=>di(e,"name",{value:t,configurable:!0}),UU=(e,t)=>{for(var r in t)di(e,r,{get:t[r],enumerable:!0})},HU=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of jU(t))!FU.call(e,o)&&o!==r&&di(e,o,{get:()=>t[o],enumerable:!(n=qU(t,o))||n.enumerable});return e},$U=e=>HU(di({},"__esModule",{value:!0}),e),Hv={};UU(Hv,{EndpointError:()=>we,customEndpointFunctions:()=>tl,isIpAddress:()=>$v,isValidHostLabel:()=>nl,resolveEndpoint:()=>aH});Jv.exports=$U(Hv);var BU=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),$v=F(e=>BU.test(e)||e.startsWith("[")&&e.endsWith("]"),"isIpAddress"),zU=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),nl=F((e,t=!1)=>{if(!t)return zU.test(e);let r=e.split(".");for(let n of r)if(!nl(n))return!1;return!0},"isValidHostLabel"),tl={},no="endpoints";function Ct(e){return typeof e!="object"||e==null?e:"ref"in e?`$${Ct(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(Ct).join(", ")})`:JSON.stringify(e,null,2)}F(Ct,"toDebugString");var Bv=class extends Error{constructor(t){super(t),this.name="EndpointError"}};F(Bv,"EndpointError");var we=Bv,VU=F((e,t)=>e===t,"booleanEquals"),GU=F(e=>{let t=e.split("."),r=[];for(let n of t){let o=n.indexOf("[");if(o!==-1){if(n.indexOf("]")!==n.length-1)throw new we(`Path: '${e}' does not end with ']'`);let s=n.slice(o+1,-1);if(Number.isNaN(parseInt(s)))throw new we(`Invalid array index: '${s}' in path: '${e}'`);o!==0&&r.push(n.slice(0,o)),r.push(s)}else r.push(n)}return r},"getAttrPathList"),zv=F((e,t)=>GU(t).reduce((r,n)=>{if(typeof r!="object")throw new we(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),"getAttr"),WU=F(e=>e!=null,"isSet"),QU=F(e=>!e,"not"),rl=Qe(),el={[rl.EndpointURLScheme.HTTP]:80,[rl.EndpointURLScheme.HTTPS]:443},KU=F(e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:p,port:f,protocol:h="",path:S="",query:y={}}=e,E=new URL(`${h}//${p}${f?`:${f}`:""}${S}`);return E.search=Object.entries(y).map(([b,N])=>`${b}=${N}`).join("&"),E}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:o,pathname:s,protocol:i,search:a}=t;if(a)return null;let c=i.slice(0,-1);if(!Object.values(rl.EndpointURLScheme).includes(c))return null;let d=$v(o),l=r.includes(`${n}:${el[c]}`)||typeof e=="string"&&e.includes(`${n}:${el[c]}`),u=`${n}${l?`:${el[c]}`:""}`;return{scheme:c,authority:u,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:d}},"parseURL"),JU=F((e,t)=>e===t,"stringEquals"),YU=F((e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),"substring"),XU=F(e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),"uriEncode"),ZU={booleanEquals:VU,getAttr:zv,isSet:WU,isValidHostLabel:nl,not:QU,parseURL:KU,stringEquals:JU,substring:YU,uriEncode:XU},Vv=F((e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},o=0;for(;o<e.length;){let s=e.indexOf("{",o);if(s===-1){r.push(e.slice(o));break}r.push(e.slice(o,s));let i=e.indexOf("}",s);if(i===-1){r.push(e.slice(s));break}e[s+1]==="{"&&e[i+1]==="}"&&(r.push(e.slice(s+1,i)),o=i+2);let a=e.substring(s+1,i);if(a.includes("#")){let[c,d]=a.split("#");r.push(zv(n[c],d))}else r.push(n[a]);o=i+1}return r.join("")},"evaluateTemplate"),eH=F(({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],"getReferenceValue"),li=F((e,t,r)=>{if(typeof e=="string")return Vv(e,r);if(e.fn)return Gv(e,r);if(e.ref)return eH(e,r);throw new we(`'${t}': ${String(e)} is not a string, function or reference.`)},"evaluateExpression"),Gv=F(({fn:e,argv:t},r)=>{let n=t.map(s=>["boolean","number"].includes(typeof s)?s:li(s,"arg",r)),o=e.split(".");return o[0]in tl&&o[1]!=null?tl[o[0]][o[1]](...n):ZU[e](...n)},"callFunction"),tH=F(({assign:e,...t},r)=>{var n,o;if(e&&e in r.referenceRecord)throw new we(`'${e}' is already defined in Reference Record.`);let s=Gv(t,r);return(o=(n=r.logger)==null?void 0:n.debug)==null||o.call(n,`${no} evaluateCondition: ${Ct(t)} = ${Ct(s)}`),{result:s===""?!0:!!s,...e!=null&&{toAssign:{name:e,value:s}}}},"evaluateCondition"),ol=F((e=[],t)=>{var r,n;let o={};for(let s of e){let{result:i,toAssign:a}=tH(s,{...t,referenceRecord:{...t.referenceRecord,...o}});if(!i)return{result:i};a&&(o[a.name]=a.value,(n=(r=t.logger)==null?void 0:r.debug)==null||n.call(r,`${no} assign: ${a.name} := ${Ct(a.value)}`))}return{result:!0,referenceRecord:o}},"evaluateConditions"),rH=F((e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:o.map(s=>{let i=li(s,"Header value entry",t);if(typeof i!="string")throw new we(`Header '${n}' value '${i}' is not a string`);return i})}),{}),"getEndpointHeaders"),Wv=F((e,t)=>{if(Array.isArray(e))return e.map(r=>Wv(r,t));switch(typeof e){case"string":return Vv(e,t);case"object":if(e===null)throw new we(`Unexpected endpoint property: ${e}`);return Qv(e,t);case"boolean":return e;default:throw new we(`Unexpected endpoint property type: ${typeof e}`)}},"getEndpointProperty"),Qv=F((e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:Wv(o,t)}),{}),"getEndpointProperties"),nH=F((e,t)=>{let r=li(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new we(`Endpoint URL must be a string, got ${typeof r}`)},"getEndpointUrl"),oH=F((e,t)=>{var r,n;let{conditions:o,endpoint:s}=e,{result:i,referenceRecord:a}=ol(o,t);if(!i)return;let c={...t,referenceRecord:{...t.referenceRecord,...a}},{url:d,properties:l,headers:u}=s;return(n=(r=t.logger)==null?void 0:r.debug)==null||n.call(r,`${no} Resolving endpoint from template: ${Ct(s)}`),{...u!=null&&{headers:rH(u,c)},...l!=null&&{properties:Qv(l,c)},url:nH(d,c)}},"evaluateEndpointRule"),sH=F((e,t)=>{let{conditions:r,error:n}=e,{result:o,referenceRecord:s}=ol(r,t);if(o)throw new we(li(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...s}}))},"evaluateErrorRule"),iH=F((e,t)=>{let{conditions:r,rules:n}=e,{result:o,referenceRecord:s}=ol(r,t);if(o)return Kv(n,{...t,referenceRecord:{...t.referenceRecord,...s}})},"evaluateTreeRule"),Kv=F((e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=oH(r,t);if(n)return n}else if(r.type==="error")sH(r,t);else if(r.type==="tree"){let n=iH(r,t);if(n)return n}else throw new we(`Unknown endpoint rule: ${r}`);throw new we("Rules evaluation failed")},"evaluateRules"),aH=F((e,t)=>{var r,n,o,s,i;let{endpointParams:a,logger:c}=t,{parameters:d,rules:l}=e;(n=(r=t.logger)==null?void 0:r.debug)==null||n.call(r,`${no} Initial EndpointParams: ${Ct(a)}`);let u=Object.entries(d).filter(([,h])=>h.default!=null).map(([h,S])=>[h,S.default]);if(u.length>0)for(let[h,S]of u)a[h]=a[h]??S;let p=Object.entries(d).filter(([,h])=>h.required).map(([h])=>h);for(let h of p)if(a[h]==null)throw new we(`Missing required parameter: '${h}'`);let f=Kv(l,{endpointParams:a,logger:c,referenceRecord:{}});if((o=t.endpointParams)!=null&&o.Endpoint)try{let h=new URL(t.endpointParams.Endpoint),{protocol:S,port:y}=h;f.url.protocol=S,f.url.port=y}catch{}return(i=(s=t.logger)==null?void 0:s.debug)==null||i.call(s,`${no} Resolved endpoint: ${Ct(f)}`),f},"resolveEndpoint")});var Zr=g((dne,s_)=>{"use strict";var ui=Object.defineProperty,cH=Object.getOwnPropertyDescriptor,dH=Object.getOwnPropertyNames,lH=Object.prototype.hasOwnProperty,Xr=(e,t)=>ui(e,"name",{value:t,configurable:!0}),uH=(e,t)=>{for(var r in t)ui(e,r,{get:t[r],enumerable:!0})},pH=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of dH(t))!lH.call(e,o)&&o!==r&&ui(e,o,{get:()=>t[o],enumerable:!(n=cH(t,o))||n.enumerable});return e},fH=e=>pH(ui({},"__esModule",{value:!0}),e),Yv={};uH(Yv,{ConditionObject:()=>U.ConditionObject,DeprecatedObject:()=>U.DeprecatedObject,EndpointError:()=>U.EndpointError,EndpointObject:()=>U.EndpointObject,EndpointObjectHeaders:()=>U.EndpointObjectHeaders,EndpointObjectProperties:()=>U.EndpointObjectProperties,EndpointParams:()=>U.EndpointParams,EndpointResolverOptions:()=>U.EndpointResolverOptions,EndpointRuleObject:()=>U.EndpointRuleObject,ErrorRuleObject:()=>U.ErrorRuleObject,EvaluateOptions:()=>U.EvaluateOptions,Expression:()=>U.Expression,FunctionArgv:()=>U.FunctionArgv,FunctionObject:()=>U.FunctionObject,FunctionReturn:()=>U.FunctionReturn,ParameterObject:()=>U.ParameterObject,ReferenceObject:()=>U.ReferenceObject,ReferenceRecord:()=>U.ReferenceRecord,RuleSetObject:()=>U.RuleSetObject,RuleSetRules:()=>U.RuleSetRules,TreeRuleObject:()=>U.TreeRuleObject,awsEndpointFunctions:()=>o_,getUserAgentPrefix:()=>hH,isIpAddress:()=>U.isIpAddress,partition:()=>r_,resolveEndpoint:()=>U.resolveEndpoint,setPartitionInfo:()=>n_,useDefaultPartitionInfo:()=>gH});s_.exports=fH(Yv);var U=Yr(),Xv=Xr((e,t=!1)=>{if(t){for(let r of e.split("."))if(!Xv(r))return!1;return!0}return!(!(0,U.isValidHostLabel)(e)||e.length<3||e.length>63||e!==e.toLowerCase()||(0,U.isIpAddress)(e))},"isVirtualHostableS3Bucket"),mH=Xr(e=>{let t=e.split(":");if(t.length<6)return null;let[r,n,o,s,i,...a]=t;return r!=="arn"||n===""||o===""||a[0]===""?null:{partition:n,service:o,region:s,accountId:i,resourceId:a[0].includes("/")?a[0].split("/"):a}},"parseArn"),Zv={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{}}],version:"1.1"},e_=Zv,t_="",r_=Xr(e=>{let{partitions:t}=e_;for(let n of t){let{regions:o,outputs:s}=n;for(let[i,a]of Object.entries(o))if(i===e)return{...s,...a}}for(let n of t){let{regionRegex:o,outputs:s}=n;if(new RegExp(o).test(e))return{...s}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},"partition"),n_=Xr((e,t="")=>{e_=e,t_=t},"setPartitionInfo"),gH=Xr(()=>{n_(Zv,"")},"useDefaultPartitionInfo"),hH=Xr(()=>t_,"getUserAgentPrefix"),o_={isVirtualHostableS3Bucket:Xv,parseArn:mH,partition:r_};U.customEndpointFunctions.aws=o_});var oo=g((lne,f_)=>{"use strict";var pi=Object.defineProperty,vH=Object.getOwnPropertyDescriptor,_H=Object.getOwnPropertyNames,yH=Object.prototype.hasOwnProperty,fi=(e,t)=>pi(e,"name",{value:t,configurable:!0}),SH=(e,t)=>{for(var r in t)pi(e,r,{get:t[r],enumerable:!0})},EH=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of _H(t))!yH.call(e,o)&&o!==r&&pi(e,o,{get:()=>t[o],enumerable:!(n=vH(t,o))||n.enumerable});return e},bH=e=>EH(pi({},"__esModule",{value:!0}),e),d_={};SH(d_,{getUserAgentMiddlewareOptions:()=>p_,getUserAgentPlugin:()=>RH,resolveUserAgentConfig:()=>l_,userAgentMiddleware:()=>u_});f_.exports=bH(d_);function l_(e){return{...e,customUserAgent:typeof e.customUserAgent=="string"?[[e.customUserAgent]]:e.customUserAgent}}fi(l_,"resolveUserAgentConfig");var wH=Zr(),CH=ue(),i_="user-agent",sl="x-amz-user-agent",a_=" ",il="/",PH=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,OH=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,c_="-",u_=fi(e=>(t,r)=>async n=>{var o,s;let{request:i}=n;if(!CH.HttpRequest.isInstance(i))return t(n);let{headers:a}=i,c=((o=r?.userAgent)==null?void 0:o.map(al))||[],d=(await e.defaultUserAgentProvider()).map(al),l=((s=e?.customUserAgent)==null?void 0:s.map(al))||[],u=(0,wH.getUserAgentPrefix)(),p=(u?[u]:[]).concat([...d,...c,...l]).join(a_),f=[...d.filter(h=>h.startsWith("aws-sdk-")),...l].join(a_);return e.runtime!=="browser"?(f&&(a[sl]=a[sl]?`${a[i_]} ${f}`:f),a[i_]=p):a[sl]=p,t({...n,request:i})},"userAgentMiddleware"),al=fi(e=>{var t;let r=e[0].split(il).map(a=>a.replace(PH,c_)).join(il),n=(t=e[1])==null?void 0:t.replace(OH,c_),o=r.indexOf(il),s=r.substring(0,o),i=r.substring(o+1);return s==="api"&&(i=i.toLowerCase()),[s,i,n].filter(a=>a&&a.length>0).reduce((a,c,d)=>{switch(d){case 0:return c;case 1:return`${a}/${c}`;default:return`${a}#${c}`}},"")},"escapeUserAgent"),p_={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},RH=fi(e=>({applyToStack:t=>{t.add(u_(e),p_)}}),"getUserAgentPlugin")});var __=g((une,v_)=>{var mi=Object.defineProperty,AH=Object.getOwnPropertyDescriptor,TH=Object.getOwnPropertyNames,IH=Object.prototype.hasOwnProperty,m_=(e,t)=>mi(e,"name",{value:t,configurable:!0}),xH=(e,t)=>{for(var r in t)mi(e,r,{get:t[r],enumerable:!0})},NH=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of TH(t))!IH.call(e,o)&&o!==r&&mi(e,o,{get:()=>t[o],enumerable:!(n=AH(t,o))||n.enumerable});return e},MH=e=>NH(mi({},"__esModule",{value:!0}),e),g_={};xH(g_,{SelectorType:()=>h_,booleanSelector:()=>DH,numberSelector:()=>kH});v_.exports=MH(g_);var DH=m_((e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}},"booleanSelector"),kH=m_((e,t,r)=>{if(!(t in e))return;let n=parseInt(e[t],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${t}'. Expected number, got '${e[t]}'.`);return n},"numberSelector"),h_=(e=>(e.ENV="env",e.CONFIG="shared config entry",e))(h_||{})});var at=g((pne,b_)=>{var gi=Object.defineProperty,LH=Object.getOwnPropertyDescriptor,qH=Object.getOwnPropertyNames,jH=Object.prototype.hasOwnProperty,S_=(e,t)=>gi(e,"name",{value:t,configurable:!0}),FH=(e,t)=>{for(var r in t)gi(e,r,{get:t[r],enumerable:!0})},UH=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of qH(t))!jH.call(e,o)&&o!==r&&gi(e,o,{get:()=>t[o],enumerable:!(n=LH(t,o))||n.enumerable});return e},HH=e=>UH(gi({},"__esModule",{value:!0}),e),E_={};FH(E_,{getSmithyContext:()=>$H,normalizeProvider:()=>BH});b_.exports=HH(E_);var y_=Qe(),$H=S_(e=>e[y_.SMITHY_CONTEXT_KEY]||(e[y_.SMITHY_CONTEXT_KEY]={}),"getSmithyContext"),BH=S_(e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t},"normalizeProvider")});var ct=g((fne,M_)=>{var vi=Object.defineProperty,zH=Object.getOwnPropertyDescriptor,VH=Object.getOwnPropertyNames,GH=Object.prototype.hasOwnProperty,Ke=(e,t)=>vi(e,"name",{value:t,configurable:!0}),WH=(e,t)=>{for(var r in t)vi(e,r,{get:t[r],enumerable:!0})},QH=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of VH(t))!GH.call(e,o)&&o!==r&&vi(e,o,{get:()=>t[o],enumerable:!(n=zH(t,o))||n.enumerable});return e},KH=e=>QH(vi({},"__esModule",{value:!0}),e),P_={};WH(P_,{CONFIG_USE_DUALSTACK_ENDPOINT:()=>R_,CONFIG_USE_FIPS_ENDPOINT:()=>T_,DEFAULT_USE_DUALSTACK_ENDPOINT:()=>JH,DEFAULT_USE_FIPS_ENDPOINT:()=>XH,ENV_USE_DUALSTACK_ENDPOINT:()=>O_,ENV_USE_FIPS_ENDPOINT:()=>A_,NODE_REGION_CONFIG_FILE_OPTIONS:()=>o$,NODE_REGION_CONFIG_OPTIONS:()=>n$,NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS:()=>YH,NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS:()=>ZH,REGION_ENV_NAME:()=>I_,REGION_INI_NAME:()=>x_,getRegionInfo:()=>d$,resolveCustomEndpointsConfig:()=>e$,resolveEndpointsConfig:()=>r$,resolveRegionConfig:()=>s$});M_.exports=KH(P_);var Vt=__(),O_="AWS_USE_DUALSTACK_ENDPOINT",R_="use_dualstack_endpoint",JH=!1,YH={environmentVariableSelector:e=>(0,Vt.booleanSelector)(e,O_,Vt.SelectorType.ENV),configFileSelector:e=>(0,Vt.booleanSelector)(e,R_,Vt.SelectorType.CONFIG),default:!1},A_="AWS_USE_FIPS_ENDPOINT",T_="use_fips_endpoint",XH=!1,ZH={environmentVariableSelector:e=>(0,Vt.booleanSelector)(e,A_,Vt.SelectorType.ENV),configFileSelector:e=>(0,Vt.booleanSelector)(e,T_,Vt.SelectorType.CONFIG),default:!1},hi=at(),e$=Ke(e=>{let{endpoint:t,urlParser:r}=e;return{...e,tls:e.tls??!0,endpoint:(0,hi.normalizeProvider)(typeof t=="string"?r(t):t),isCustomEndpoint:!0,useDualstackEndpoint:(0,hi.normalizeProvider)(e.useDualstackEndpoint??!1)}},"resolveCustomEndpointsConfig"),t$=Ke(async e=>{let{tls:t=!0}=e,r=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let o=await e.useDualstackEndpoint(),s=await e.useFipsEndpoint(),{hostname:i}=await e.regionInfoProvider(r,{useDualstackEndpoint:o,useFipsEndpoint:s})??{};if(!i)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${t?"https:":"http:"}//${i}`)},"getEndpointFromRegion"),r$=Ke(e=>{let t=(0,hi.normalizeProvider)(e.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:o}=e;return{...e,tls:e.tls??!0,endpoint:r?(0,hi.normalizeProvider)(typeof r=="string"?o(r):r):()=>t$({...e,useDualstackEndpoint:t,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:t}},"resolveEndpointsConfig"),I_="AWS_REGION",x_="region",n$={environmentVariableSelector:e=>e[I_],configFileSelector:e=>e[x_],default:()=>{throw new Error("Region is missing")}},o$={preferredFile:"credentials"},N_=Ke(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),w_=Ke(e=>N_(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),s$=Ke(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if(typeof t=="string")return w_(t);let n=await t();return w_(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return N_(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}},"resolveRegionConfig"),C_=Ke((e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>{var n;return(n=e.find(({tags:o})=>t===o.includes("fips")&&r===o.includes("dualstack")))==null?void 0:n.hostname},"getHostnameFromVariants"),i$=Ke((e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0),"getResolvedHostname"),a$=Ke((e,{partitionHash:t})=>Object.keys(t||{}).find(r=>t[r].regions.includes(e))??"aws","getResolvedPartition"),c$=Ke((e,{signingRegion:t,regionRegex:r,useFipsEndpoint:n})=>{if(t)return t;if(n){let o=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),s=e.match(o);if(s)return s[0].slice(1,-1)}},"getResolvedSigningRegion"),d$=Ke((e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:o,partitionHash:s})=>{var i,a,c,d,l;let u=a$(e,{partitionHash:s}),p=e in o?e:((i=s[u])==null?void 0:i.endpoint)??e,f={useFipsEndpoint:t,useDualstackEndpoint:r},h=C_((a=o[p])==null?void 0:a.variants,f),S=C_((c=s[u])==null?void 0:c.variants,f),y=i$(p,{regionHostname:h,partitionHostname:S});if(y===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:p,useFipsEndpoint:t,useDualstackEndpoint:r}}`);let E=c$(y,{signingRegion:(d=o[p])==null?void 0:d.signingRegion,regionRegex:s[u].regionRegex,useFipsEndpoint:t});return{partition:u,signingService:n,hostname:y,...E&&{signingRegion:E},...((l=o[p])==null?void 0:l.signingService)&&{signingService:o[p].signingService}}},"getRegionInfo")});var Ce=g((mne,H_)=>{var _i=Object.defineProperty,l$=Object.getOwnPropertyDescriptor,u$=Object.getOwnPropertyNames,p$=Object.prototype.hasOwnProperty,Cr=(e,t)=>_i(e,"name",{value:t,configurable:!0}),f$=(e,t)=>{for(var r in t)_i(e,r,{get:t[r],enumerable:!0})},m$=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of u$(t))!p$.call(e,o)&&o!==r&&_i(e,o,{get:()=>t[o],enumerable:!(n=l$(t,o))||n.enumerable});return e},g$=e=>m$(_i({},"__esModule",{value:!0}),e),D_={};f$(D_,{CredentialsProviderError:()=>h$,ProviderError:()=>yi,TokenProviderError:()=>v$,chain:()=>_$,fromStatic:()=>y$,memoize:()=>S$});H_.exports=g$(D_);var k_=class L_ extends Error{constructor(t,r=!0){super(t),this.tryNextLink=r,this.name="ProviderError",Object.setPrototypeOf(this,L_.prototype)}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}};Cr(k_,"ProviderError");var yi=k_,q_=class j_ extends yi{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="CredentialsProviderError",Object.setPrototypeOf(this,j_.prototype)}};Cr(q_,"CredentialsProviderError");var h$=q_,F_=class U_ extends yi{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="TokenProviderError",Object.setPrototypeOf(this,U_.prototype)}};Cr(F_,"TokenProviderError");var v$=F_,_$=Cr((...e)=>async()=>{if(e.length===0)throw new yi("No providers in chain");let t;for(let r of e)try{return await r()}catch(n){if(t=n,n?.tryNextLink)continue;throw n}throw t},"chain"),y$=Cr(e=>()=>Promise.resolve(e),"fromStatic"),S$=Cr((e,t,r)=>{let n,o,s,i=!1,a=Cr(async()=>{o||(o=e());try{n=await o,s=!0,i=!1}finally{o=void 0}return n},"coalesceProvider");return t===void 0?async c=>((!s||c?.forceRefresh)&&(n=await a()),n):async c=>((!s||c?.forceRefresh)&&(n=await a()),i?n:r&&!r(n)?(i=!0,n):(t(n)&&await a(),n))},"memoize")});var so=g(Si=>{"use strict";Object.defineProperty(Si,"__esModule",{value:!0});Si.getHomeDir=void 0;var E$=require("os"),b$=require("path"),cl={},w$=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",C$=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${b$.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let o=w$();return cl[o]||(cl[o]=(0,E$.homedir)()),cl[o]};Si.getHomeDir=C$});var dl=g(Ei=>{"use strict";Object.defineProperty(Ei,"__esModule",{value:!0});Ei.getSSOTokenFilepath=void 0;var P$=require("crypto"),O$=require("path"),R$=so(),A$=e=>{let r=(0,P$.createHash)("sha1").update(e).digest("hex");return(0,O$.join)((0,R$.getHomeDir)(),".aws","sso","cache",`${r}.json`)};Ei.getSSOTokenFilepath=A$});var $_=g(bi=>{"use strict";Object.defineProperty(bi,"__esModule",{value:!0});bi.getSSOTokenFromFile=void 0;var T$=require("fs"),I$=dl(),{readFile:x$}=T$.promises,N$=async e=>{let t=(0,I$.getSSOTokenFilepath)(e),r=await x$(t,"utf8");return JSON.parse(r)};bi.getSSOTokenFromFile=N$});var ul=g(wi=>{"use strict";Object.defineProperty(wi,"__esModule",{value:!0});wi.slurpFile=void 0;var M$=require("fs"),{readFile:D$}=M$.promises,ll={},k$=(e,t)=>((!ll[e]||t?.ignoreCache)&&(ll[e]=D$(e,"utf8")),ll[e]);wi.slurpFile=k$});var Gt=g((yne,ao)=>{var Pi=Object.defineProperty,L$=Object.getOwnPropertyDescriptor,q$=Object.getOwnPropertyNames,j$=Object.prototype.hasOwnProperty,Ne=(e,t)=>Pi(e,"name",{value:t,configurable:!0}),F$=(e,t)=>{for(var r in t)Pi(e,r,{get:t[r],enumerable:!0})},pl=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of q$(t))!j$.call(e,o)&&o!==r&&Pi(e,o,{get:()=>t[o],enumerable:!(n=L$(t,o))||n.enumerable});return e},ml=(e,t,r)=>(pl(e,t,"default"),r&&pl(r,t,"default")),U$=e=>pl(Pi({},"__esModule",{value:!0}),e),io={};F$(io,{CONFIG_PREFIX_SEPARATOR:()=>Pr,DEFAULT_PROFILE:()=>G_,ENV_PROFILE:()=>V_,getProfileName:()=>H$,loadSharedConfigFiles:()=>K_,loadSsoSessionData:()=>Z$,parseKnownFiles:()=>tB});ao.exports=U$(io);ml(io,so(),ao.exports);var V_="AWS_PROFILE",G_="default",H$=Ne(e=>e.profile||process.env[V_]||G_,"getProfileName");ml(io,dl(),ao.exports);ml(io,$_(),ao.exports);var Ci=Qe(),$$=Ne(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(Pr);return r===-1?!1:Object.values(Ci.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let o=r.indexOf(Pr),s=r.substring(0,o)===Ci.IniSectionType.PROFILE?r.substring(o+1):r;return t[s]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),W_=require("path"),B$=so(),z$="AWS_CONFIG_FILE",Q_=Ne(()=>process.env[z$]||(0,W_.join)((0,B$.getHomeDir)(),".aws","config"),"getConfigFilepath"),V$=so(),G$="AWS_SHARED_CREDENTIALS_FILE",W$=Ne(()=>process.env[G$]||(0,W_.join)((0,V$.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),Q$=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,K$=["__proto__","profile __proto__"],fl=Ne(e=>{let t={},r,n;for(let o of e.split(/\r?\n/)){let s=o.split(/(^|\s)[;#]/)[0].trim();if(s[0]==="["&&s[s.length-1]==="]"){r=void 0,n=void 0;let a=s.substring(1,s.length-1),c=Q$.exec(a);if(c){let[,d,,l]=c;Object.values(Ci.IniSectionType).includes(d)&&(r=[d,l].join(Pr))}else r=a;if(K$.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=s.indexOf("=");if(![0,-1].includes(a)){let[c,d]=[s.substring(0,a).trim(),s.substring(a+1).trim()];if(d==="")n=c;else{n&&o.trimStart()===o&&(n=void 0),t[r]=t[r]||{};let l=n?[n,c].join(Pr):c;t[r][l]=d}}}}return t},"parseIni"),B_=ul(),z_=Ne(()=>({}),"swallowError"),Pr=".",K_=Ne(async(e={})=>{let{filepath:t=W$(),configFilepath:r=Q_()}=e,n=await Promise.all([(0,B_.slurpFile)(r,{ignoreCache:e.ignoreCache}).then(fl).then($$).catch(z_),(0,B_.slurpFile)(t,{ignoreCache:e.ignoreCache}).then(fl).catch(z_)]);return{configFile:n[0],credentialsFile:n[1]}},"loadSharedConfigFiles"),J$=Ne(e=>Object.entries(e).filter(([t])=>t.startsWith(Ci.IniSectionType.SSO_SESSION+Pr)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(Pr)+1)]:n}),{}),"getSsoSessionData"),Y$=ul(),X$=Ne(()=>({}),"swallowError"),Z$=Ne(async(e={})=>(0,Y$.slurpFile)(e.configFilepath??Q_()).then(fl).then(J$).catch(X$),"loadSsoSessionData"),eB=Ne((...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t},"mergeConfigFiles"),tB=Ne(async e=>{let t=await K_(e);return eB(t.configFile,t.credentialsFile)},"parseKnownFiles")});var Pt=g((Sne,X_)=>{var Oi=Object.defineProperty,rB=Object.getOwnPropertyDescriptor,nB=Object.getOwnPropertyNames,oB=Object.prototype.hasOwnProperty,lo=(e,t)=>Oi(e,"name",{value:t,configurable:!0}),sB=(e,t)=>{for(var r in t)Oi(e,r,{get:t[r],enumerable:!0})},iB=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of nB(t))!oB.call(e,o)&&o!==r&&Oi(e,o,{get:()=>t[o],enumerable:!(n=rB(t,o))||n.enumerable});return e},aB=e=>iB(Oi({},"__esModule",{value:!0}),e),Y_={};sB(Y_,{loadConfig:()=>pB});X_.exports=aB(Y_);var co=Ce(),cB=lo(e=>async()=>{try{let t=e(process.env);if(t===void 0)throw new Error;return t}catch(t){throw new co.CredentialsProviderError(t.message||`Cannot load config from environment variables with getter: ${e}`)}},"fromEnv"),J_=Gt(),dB=lo((e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,J_.getProfileName)(r),{configFile:o,credentialsFile:s}=await(0,J_.loadSharedConfigFiles)(r),i=s[n]||{},a=o[n]||{},c=t==="config"?{...i,...a}:{...a,...i};try{let l=e(c,t==="config"?o:s);if(l===void 0)throw new Error;return l}catch(d){throw new co.CredentialsProviderError(d.message||`Cannot load config for profile ${n} in SDK configuration files with getter: ${e}`)}},"fromSharedConfigFiles"),lB=lo(e=>typeof e=="function","isFunction"),uB=lo(e=>lB(e)?async()=>await e():(0,co.fromStatic)(e),"fromStatic"),pB=lo(({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>(0,co.memoize)((0,co.chain)(cB(e),dB(t,n),uB(r))),"loadConfig")});var ry=g(Ri=>{"use strict";Object.defineProperty(Ri,"__esModule",{value:!0});Ri.getEndpointUrlConfig=void 0;var Z_=Gt(),ey="AWS_ENDPOINT_URL",ty="endpoint_url",fB=e=>({environmentVariableSelector:t=>{let r=e.split(" ").map(s=>s.toUpperCase()),n=t[[ey,...r].join("_")];if(n)return n;let o=t[ey];if(o)return o},configFileSelector:(t,r)=>{if(r&&t.services){let o=r[["services",t.services].join(Z_.CONFIG_PREFIX_SEPARATOR)];if(o){let s=e.split(" ").map(a=>a.toLowerCase()),i=o[[s.join("_"),ty].join(Z_.CONFIG_PREFIX_SEPARATOR)];if(i)return i}}let n=t[ty];if(n)return n},default:void 0});Ri.getEndpointUrlConfig=fB});var ny=g(Ai=>{"use strict";Object.defineProperty(Ai,"__esModule",{value:!0});Ai.getEndpointFromConfig=void 0;var mB=Pt(),gB=ry(),hB=async e=>(0,mB.loadConfig)((0,gB.getEndpointUrlConfig)(e))();Ai.getEndpointFromConfig=hB});var ay=g((wne,iy)=>{var Ti=Object.defineProperty,vB=Object.getOwnPropertyDescriptor,_B=Object.getOwnPropertyNames,yB=Object.prototype.hasOwnProperty,SB=(e,t)=>Ti(e,"name",{value:t,configurable:!0}),EB=(e,t)=>{for(var r in t)Ti(e,r,{get:t[r],enumerable:!0})},bB=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of _B(t))!yB.call(e,o)&&o!==r&&Ti(e,o,{get:()=>t[o],enumerable:!(n=vB(t,o))||n.enumerable});return e},wB=e=>bB(Ti({},"__esModule",{value:!0}),e),oy={};EB(oy,{parseQueryString:()=>sy});iy.exports=wB(oy);function sy(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,o=null]=r.split("=");n=decodeURIComponent(n),o&&(o=decodeURIComponent(o)),n in t?Array.isArray(t[n])?t[n].push(o):t[n]=[t[n],o]:t[n]=o}return t}SB(sy,"parseQueryString")});var Or=g((Cne,ly)=>{var Ii=Object.defineProperty,CB=Object.getOwnPropertyDescriptor,PB=Object.getOwnPropertyNames,OB=Object.prototype.hasOwnProperty,RB=(e,t)=>Ii(e,"name",{value:t,configurable:!0}),AB=(e,t)=>{for(var r in t)Ii(e,r,{get:t[r],enumerable:!0})},TB=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of PB(t))!OB.call(e,o)&&o!==r&&Ii(e,o,{get:()=>t[o],enumerable:!(n=CB(t,o))||n.enumerable});return e},IB=e=>TB(Ii({},"__esModule",{value:!0}),e),cy={};AB(cy,{parseUrl:()=>dy});ly.exports=IB(cy);var xB=ay(),dy=RB(e=>{if(typeof e=="string")return dy(new URL(e));let{hostname:t,pathname:r,port:n,protocol:o,search:s}=e,i;return s&&(i=(0,xB.parseQueryString)(s)),{hostname:t,port:n?parseInt(n):void 0,protocol:o,path:r,query:i}},"parseUrl")});var Rr=g((Pne,vy)=>{var xi=Object.defineProperty,NB=Object.getOwnPropertyDescriptor,MB=Object.getOwnPropertyNames,DB=Object.prototype.hasOwnProperty,gl=(e,t)=>xi(e,"name",{value:t,configurable:!0}),kB=(e,t)=>{for(var r in t)xi(e,r,{get:t[r],enumerable:!0})},LB=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of MB(t))!DB.call(e,o)&&o!==r&&xi(e,o,{get:()=>t[o],enumerable:!(n=NB(t,o))||n.enumerable});return e},qB=e=>LB(xi({},"__esModule",{value:!0}),e),uy={};kB(uy,{deserializerMiddleware:()=>py,deserializerMiddlewareOption:()=>my,getSerdePlugin:()=>hy,serializerMiddleware:()=>fy,serializerMiddlewareOption:()=>gy});vy.exports=qB(uy);var py=gl((e,t)=>r=>async n=>{let{response:o}=await r(n);try{let s=await t(o,e);return{response:o,output:s}}catch(s){if(Object.defineProperty(s,"$response",{value:o}),!("$metadata"in s)){let i="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";s.message+=`
  `+i,typeof s.$responseBodyText<"u"&&s.$response&&(s.$response.body=s.$responseBodyText)}throw s}},"deserializerMiddleware"),fy=gl((e,t)=>(r,n)=>async o=>{var s;let i=(s=n.endpointV2)!=null&&s.url&&e.urlParser?async()=>e.urlParser(n.endpointV2.url):e.endpoint;if(!i)throw new Error("No valid endpoint provider available.");let a=await t(o.input,{...e,endpoint:i});return r({...o,request:a})},"serializerMiddleware"),my={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},gy={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function hy(e,t,r){return{applyToStack:n=>{n.add(py(e,r),my),n.add(fy(e,t),gy)}}}gl(hy,"getSerdePlugin")});var Ar=g((One,Cy)=>{var Mi=Object.defineProperty,jB=Object.getOwnPropertyDescriptor,FB=Object.getOwnPropertyNames,UB=Object.prototype.hasOwnProperty,Je=(e,t)=>Mi(e,"name",{value:t,configurable:!0}),HB=(e,t)=>{for(var r in t)Mi(e,r,{get:t[r],enumerable:!0})},$B=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of FB(t))!UB.call(e,o)&&o!==r&&Mi(e,o,{get:()=>t[o],enumerable:!(n=jB(t,o))||n.enumerable});return e},BB=e=>$B(Mi({},"__esModule",{value:!0}),e),yy={};HB(yy,{endpointMiddleware:()=>by,endpointMiddlewareOptions:()=>wy,getEndpointFromInstructions:()=>Sy,getEndpointPlugin:()=>ZB,resolveEndpointConfig:()=>e3,resolveParams:()=>Ey,toEndpointV1:()=>hl});Cy.exports=BB(yy);var zB=Je(async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),KB(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!QB(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},"resolveParamsForS3"),VB=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,GB=/(\d+\.){3}\d+/,WB=/\.\./,QB=Je(e=>VB.test(e)&&!GB.test(e)&&!WB.test(e),"isDnsCompatibleBucketName"),KB=Je(e=>{let[t,r,n,,,o]=e.split(":"),s=t==="arn"&&e.split(":").length>=6,i=!!(s&&r&&n&&o);if(s&&!i)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return i},"isArnBucketName"),JB=Je((e,t,r)=>{let n=Je(async()=>{let o=r[e]??r[t];return typeof o=="function"?o():o},"configProvider");return e==="credentialScope"||t==="CredentialScope"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.credentialScope??o?.CredentialScope}:e==="endpoint"||t==="endpoint"?async()=>{let o=await n();if(o&&typeof o=="object"){if("url"in o)return o.url.href;if("hostname"in o){let{protocol:s,hostname:i,port:a,path:c}=o;return`${s}//${i}${a?":"+a:""}${c}`}}return o}:n},"createConfigValueProvider"),YB=ny(),_y=Or(),hl=Je(e=>typeof e=="object"?"url"in e?(0,_y.parseUrl)(e.url):e:(0,_y.parseUrl)(e),"toEndpointV1"),Sy=Je(async(e,t,r,n)=>{if(!r.endpoint){let i=await(0,YB.getEndpointFromConfig)(r.serviceId||"");i&&(r.endpoint=()=>Promise.resolve(hl(i)))}let o=await Ey(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(o,n)},"getEndpointFromInstructions"),Ey=Je(async(e,t,r)=>{var n;let o={},s=((n=t?.getEndpointParameterInstructions)==null?void 0:n.call(t))||{};for(let[i,a]of Object.entries(s))switch(a.type){case"staticContextParams":o[i]=a.value;break;case"contextParams":o[i]=e[a.name];break;case"clientContextParams":case"builtInParams":o[i]=await JB(a.name,i,r)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(s).length===0&&Object.assign(o,r),String(r.serviceId).toLowerCase()==="s3"&&await zB(o),o},"resolveParams"),Ni=at(),by=Je(({config:e,instructions:t})=>(r,n)=>async o=>{var s,i,a;let c=await Sy(o.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=c,n.authSchemes=(s=c.properties)==null?void 0:s.authSchemes;let d=(i=n.authSchemes)==null?void 0:i[0];if(d){n.signing_region=d.signingRegion,n.signing_service=d.signingName;let l=(0,Ni.getSmithyContext)(n),u=(a=l?.selectedHttpAuthScheme)==null?void 0:a.httpAuthOption;u&&(u.signingProperties=Object.assign(u.signingProperties||{},{signing_region:d.signingRegion,signingRegion:d.signingRegion,signing_service:d.signingName,signingName:d.signingName,signingRegionSet:d.signingRegionSet},d.properties))}return r({...o})},"endpointMiddleware"),XB=Rr(),wy={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:XB.serializerMiddlewareOption.name},ZB=Je((e,t)=>({applyToStack:r=>{r.addRelativeTo(by({config:e,instructions:t}),wy)}}),"getEndpointPlugin"),e3=Je(e=>{let t=e.tls??!0,{endpoint:r}=e,n=r!=null?async()=>hl(await(0,Ni.normalizeProvider)(r)()):void 0;return{...e,endpoint:n,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:(0,Ni.normalizeProvider)(e.useDualstackEndpoint??!1),useFipsEndpoint:(0,Ni.normalizeProvider)(e.useFipsEndpoint??!1)}},"resolveEndpointConfig")});function uo(){return Di>ki.length-16&&(Py.default.randomFillSync(ki),Di=0),ki.slice(Di,Di+=16)}var Py,ki,Di,vl=le(()=>{Py=ht(require("crypto")),ki=new Uint8Array(256),Di=ki.length});var Oy,Ry=le(()=>{Oy=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function t3(e){return typeof e=="string"&&Oy.test(e)}var Wt,po=le(()=>{Ry();Wt=t3});function Tr(e,t=0){return pe[e[t+0]]+pe[e[t+1]]+pe[e[t+2]]+pe[e[t+3]]+"-"+pe[e[t+4]]+pe[e[t+5]]+"-"+pe[e[t+6]]+pe[e[t+7]]+"-"+pe[e[t+8]]+pe[e[t+9]]+"-"+pe[e[t+10]]+pe[e[t+11]]+pe[e[t+12]]+pe[e[t+13]]+pe[e[t+14]]+pe[e[t+15]]}function r3(e,t=0){let r=Tr(e,t);if(!Wt(r))throw TypeError("Stringified UUID is invalid");return r}var pe,Ay,fo=le(()=>{po();pe=[];for(let e=0;e<256;++e)pe.push((e+256).toString(16).slice(1));Ay=r3});function n3(e,t,r){let n=t&&r||0,o=t||new Array(16);e=e||{};let s=e.node||Ty,i=e.clockseq!==void 0?e.clockseq:_l;if(s==null||i==null){let p=e.random||(e.rng||uo)();s==null&&(s=Ty=[p[0]|1,p[1],p[2],p[3],p[4],p[5]]),i==null&&(i=_l=(p[6]<<8|p[7])&16383)}let a=e.msecs!==void 0?e.msecs:Date.now(),c=e.nsecs!==void 0?e.nsecs:Sl+1,d=a-yl+(c-Sl)/1e4;if(d<0&&e.clockseq===void 0&&(i=i+1&16383),(d<0||a>yl)&&e.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");yl=a,Sl=c,_l=i,a+=122192928e5;let l=((a&268435455)*1e4+c)%4294967296;o[n++]=l>>>24&255,o[n++]=l>>>16&255,o[n++]=l>>>8&255,o[n++]=l&255;let u=a/4294967296*1e4&268435455;o[n++]=u>>>8&255,o[n++]=u&255,o[n++]=u>>>24&15|16,o[n++]=u>>>16&255,o[n++]=i>>>8|128,o[n++]=i&255;for(let p=0;p<6;++p)o[n+p]=s[p];return t||Tr(o)}var Ty,_l,yl,Sl,Iy,xy=le(()=>{vl();fo();yl=0,Sl=0;Iy=n3});function o3(e){if(!Wt(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var Li,El=le(()=>{po();Li=o3});function s3(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function mo(e,t,r){function n(o,s,i,a){var c;if(typeof o=="string"&&(o=s3(o)),typeof s=="string"&&(s=Li(s)),((c=s)===null||c===void 0?void 0:c.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let d=new Uint8Array(16+o.length);if(d.set(s),d.set(o,s.length),d=r(d),d[6]=d[6]&15|t,d[8]=d[8]&63|128,i){a=a||0;for(let l=0;l<16;++l)i[a+l]=d[l];return i}return Tr(d)}try{n.name=e}catch{}return n.DNS=i3,n.URL=a3,n}var i3,a3,bl=le(()=>{fo();El();i3="6ba7b810-9dad-11d1-80b4-00c04fd430c8",a3="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function c3(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),Ny.default.createHash("md5").update(e).digest()}var Ny,My,Dy=le(()=>{Ny=ht(require("crypto"));My=c3});var d3,ky,Ly=le(()=>{bl();Dy();d3=mo("v3",48,My),ky=d3});var qy,wl,jy=le(()=>{qy=ht(require("crypto")),wl={randomUUID:qy.default.randomUUID}});function l3(e,t,r){if(wl.randomUUID&&!t&&!e)return wl.randomUUID();e=e||{};let n=e.random||(e.rng||uo)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let o=0;o<16;++o)t[r+o]=n[o];return t}return Tr(n)}var Fy,Uy=le(()=>{jy();vl();fo();Fy=l3});function u3(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),Hy.default.createHash("sha1").update(e).digest()}var Hy,$y,By=le(()=>{Hy=ht(require("crypto"));$y=u3});var p3,zy,Vy=le(()=>{bl();By();p3=mo("v5",80,$y),zy=p3});var Gy,Wy=le(()=>{Gy="00000000-0000-0000-0000-000000000000"});function f3(e){if(!Wt(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}var Qy,Ky=le(()=>{po();Qy=f3});var Jy={};qc(Jy,{NIL:()=>Gy,parse:()=>Li,stringify:()=>Ay,v1:()=>Iy,v3:()=>ky,v4:()=>Fy,v5:()=>zy,validate:()=>Wt,version:()=>Qy});var Yy=le(()=>{xy();Ly();Uy();Vy();Wy();Ky();po();fo();El()});var Cl=g((poe,tS)=>{var qi=Object.defineProperty,m3=Object.getOwnPropertyDescriptor,g3=Object.getOwnPropertyNames,h3=Object.prototype.hasOwnProperty,en=(e,t)=>qi(e,"name",{value:t,configurable:!0}),v3=(e,t)=>{for(var r in t)qi(e,r,{get:t[r],enumerable:!0})},_3=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of g3(t))!h3.call(e,o)&&o!==r&&qi(e,o,{get:()=>t[o],enumerable:!(n=m3(t,o))||n.enumerable});return e},y3=e=>_3(qi({},"__esModule",{value:!0}),e),Xy={};v3(Xy,{isClockSkewCorrectedError:()=>Zy,isClockSkewError:()=>O3,isRetryableByTrait:()=>P3,isServerError:()=>A3,isThrottlingError:()=>R3,isTransientError:()=>eS});tS.exports=y3(Xy);var S3=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],E3=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],b3=["TimeoutError","RequestTimeout","RequestTimeoutException"],w3=[500,502,503,504],C3=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],P3=en(e=>e.$retryable!==void 0,"isRetryableByTrait"),O3=en(e=>S3.includes(e.name),"isClockSkewError"),Zy=en(e=>{var t;return(t=e.$metadata)==null?void 0:t.clockSkewCorrected},"isClockSkewCorrectedError"),R3=en(e=>{var t,r;return((t=e.$metadata)==null?void 0:t.httpStatusCode)===429||E3.includes(e.name)||((r=e.$retryable)==null?void 0:r.throttling)==!0},"isThrottlingError"),eS=en(e=>{var t;return Zy(e)||b3.includes(e.name)||C3.includes(e?.code||"")||w3.includes(((t=e.$metadata)==null?void 0:t.httpStatusCode)||0)},"isTransientError"),A3=en(e=>{var t;if(((t=e.$metadata)==null?void 0:t.httpStatusCode)!==void 0){let r=e.$metadata.httpStatusCode;return 500<=r&&r<=599&&!eS(e)}return!1},"isServerError")});var tn=g((voe,mS)=>{var ji=Object.defineProperty,T3=Object.getOwnPropertyDescriptor,I3=Object.getOwnPropertyNames,x3=Object.prototype.hasOwnProperty,Ye=(e,t)=>ji(e,"name",{value:t,configurable:!0}),N3=(e,t)=>{for(var r in t)ji(e,r,{get:t[r],enumerable:!0})},M3=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of I3(t))!x3.call(e,o)&&o!==r&&ji(e,o,{get:()=>t[o],enumerable:!(n=T3(t,o))||n.enumerable});return e},D3=e=>M3(ji({},"__esModule",{value:!0}),e),nS={};N3(nS,{AdaptiveRetryStrategy:()=>U3,ConfiguredRetryStrategy:()=>H3,DEFAULT_MAX_ATTEMPTS:()=>Pl,DEFAULT_RETRY_DELAY_BASE:()=>go,DEFAULT_RETRY_MODE:()=>k3,DefaultRateLimiter:()=>iS,INITIAL_RETRY_TOKENS:()=>Ol,INVOCATION_ID_HEADER:()=>q3,MAXIMUM_RETRY_DELAY:()=>Rl,NO_RETRY_INCREMENT:()=>lS,REQUEST_HEADER:()=>j3,RETRY_COST:()=>cS,RETRY_MODES:()=>oS,StandardRetryStrategy:()=>Al,THROTTLING_RETRY_DELAY_BASE:()=>aS,TIMEOUT_RETRY_COST:()=>dS});mS.exports=D3(nS);var oS=(e=>(e.STANDARD="standard",e.ADAPTIVE="adaptive",e))(oS||{}),Pl=3,k3="standard",L3=Cl(),sS=class{constructor(t){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>setTimeout(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),(0,L3.isThrottlingError)(t)){let o=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=o,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(o),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}};Ye(sS,"DefaultRateLimiter");var iS=sS,go=100,Rl=20*1e3,aS=500,Ol=500,cS=5,dS=10,lS=1,q3="amz-sdk-invocation-id",j3="amz-sdk-request",F3=Ye(()=>{let e=go;return{computeNextBackoffDelay:Ye(n=>Math.floor(Math.min(Rl,Math.random()*2**n*e)),"computeNextBackoffDelay"),setDelayBase:Ye(n=>{e=n},"setDelayBase")}},"getDefaultRetryBackoffStrategy"),rS=Ye(({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:Ye(()=>t,"getRetryCount"),getRetryDelay:Ye(()=>Math.min(Rl,e),"getRetryDelay"),getRetryCost:Ye(()=>r,"getRetryCost")}),"createDefaultRetryToken"),uS=class{constructor(t){this.maxAttempts=t,this.mode="standard",this.capacity=Ol,this.retryBackoffStrategy=F3(),this.maxAttemptsProvider=typeof t=="function"?t:async()=>t}async acquireInitialRetryToken(t){return rS({retryDelay:go,retryCount:0})}async refreshRetryTokenForRetry(t,r){let n=await this.getMaxAttempts();if(this.shouldRetry(t,r,n)){let o=r.errorType;this.retryBackoffStrategy.setDelayBase(o==="THROTTLING"?aS:go);let s=this.retryBackoffStrategy.computeNextBackoffDelay(t.getRetryCount()),i=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,s):s,a=this.getCapacityCost(o);return this.capacity-=a,rS({retryDelay:i,retryCount:t.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(t){this.capacity=Math.max(Ol,this.capacity+(t.getRetryCost()??lS))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${Pl}`),Pl}}shouldRetry(t,r,n){return t.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(t){return t==="TRANSIENT"?dS:cS}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}};Ye(uS,"StandardRetryStrategy");var Al=uS,pS=class{constructor(t,r){this.maxAttemptsProvider=t,this.mode="adaptive";let{rateLimiter:n}=r??{};this.rateLimiter=n??new iS,this.standardRetryStrategy=new Al(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(t,r)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}};Ye(pS,"AdaptiveRetryStrategy");var U3=pS,fS=class extends Al{constructor(t,r=go){super(typeof t=="function"?t:async()=>t),typeof r=="number"?this.computeNextBackoffDelay=()=>r:this.computeNextBackoffDelay=r}async refreshRetryTokenForRetry(t,r){let n=await super.refreshRetryTokenForRetry(t,r);return n.getRetryDelay=()=>this.computeNextBackoffDelay(n.getRetryCount()),n}};Ye(fS,"ConfiguredRetryStrategy");var H3=fS});var yS=g((_oe,_S)=>{var Fi=Object.defineProperty,$3=Object.getOwnPropertyDescriptor,B3=Object.getOwnPropertyNames,z3=Object.prototype.hasOwnProperty,Me=(e,t)=>Fi(e,"name",{value:t,configurable:!0}),V3=(e,t)=>{for(var r in t)Fi(e,r,{get:t[r],enumerable:!0})},G3=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of B3(t))!z3.call(e,o)&&o!==r&&Fi(e,o,{get:()=>t[o],enumerable:!(n=$3(t,o))||n.enumerable});return e},W3=e=>G3(Fi({},"__esModule",{value:!0}),e),vS={};V3(vS,{constructStack:()=>Tl});_S.exports=W3(vS);var Ir=Me((e,t)=>{let r=[];if(e&&r.push(e),t)for(let n of t)r.push(n);return r},"getAllAliases"),Qt=Me((e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,"getMiddlewareNameWithAliases"),Tl=Me(()=>{let e=[],t=[],r=!1,n=new Set,o=Me(u=>u.sort((p,f)=>gS[f.step]-gS[p.step]||hS[f.priority||"normal"]-hS[p.priority||"normal"]),"sort"),s=Me(u=>{let p=!1,f=Me(h=>{let S=Ir(h.name,h.aliases);if(S.includes(u)){p=!0;for(let y of S)n.delete(y);return!1}return!0},"filterCb");return e=e.filter(f),t=t.filter(f),p},"removeByName"),i=Me(u=>{let p=!1,f=Me(h=>{if(h.middleware===u){p=!0;for(let S of Ir(h.name,h.aliases))n.delete(S);return!1}return!0},"filterCb");return e=e.filter(f),t=t.filter(f),p},"removeByReference"),a=Me(u=>{var p;return e.forEach(f=>{u.add(f.middleware,{...f})}),t.forEach(f=>{u.addRelativeTo(f.middleware,{...f})}),(p=u.identifyOnResolve)==null||p.call(u,l.identifyOnResolve()),u},"cloneTo"),c=Me(u=>{let p=[];return u.before.forEach(f=>{f.before.length===0&&f.after.length===0?p.push(f):p.push(...c(f))}),p.push(u),u.after.reverse().forEach(f=>{f.before.length===0&&f.after.length===0?p.push(f):p.push(...c(f))}),p},"expandRelativeMiddlewareList"),d=Me((u=!1)=>{let p=[],f=[],h={};return e.forEach(y=>{let E={...y,before:[],after:[]};for(let b of Ir(E.name,E.aliases))h[b]=E;p.push(E)}),t.forEach(y=>{let E={...y,before:[],after:[]};for(let b of Ir(E.name,E.aliases))h[b]=E;f.push(E)}),f.forEach(y=>{if(y.toMiddleware){let E=h[y.toMiddleware];if(E===void 0){if(u)return;throw new Error(`${y.toMiddleware} is not found when adding ${Qt(y.name,y.aliases)} middleware ${y.relation} ${y.toMiddleware}`)}y.relation==="after"&&E.after.push(y),y.relation==="before"&&E.before.push(y)}}),o(p).map(c).reduce((y,E)=>(y.push(...E),y),[])},"getMiddlewareList"),l={add:(u,p={})=>{let{name:f,override:h,aliases:S}=p,y={step:"initialize",priority:"normal",middleware:u,...p},E=Ir(f,S);if(E.length>0){if(E.some(b=>n.has(b))){if(!h)throw new Error(`Duplicate middleware name '${Qt(f,S)}'`);for(let b of E){let N=e.findIndex(H=>{var de;return H.name===b||((de=H.aliases)==null?void 0:de.some(ye=>ye===b))});if(N===-1)continue;let I=e[N];if(I.step!==y.step||y.priority!==I.priority)throw new Error(`"${Qt(I.name,I.aliases)}" middleware with ${I.priority} priority in ${I.step} step cannot be overridden by "${Qt(f,S)}" middleware with ${y.priority} priority in ${y.step} step.`);e.splice(N,1)}}for(let b of E)n.add(b)}e.push(y)},addRelativeTo:(u,p)=>{let{name:f,override:h,aliases:S}=p,y={middleware:u,...p},E=Ir(f,S);if(E.length>0){if(E.some(b=>n.has(b))){if(!h)throw new Error(`Duplicate middleware name '${Qt(f,S)}'`);for(let b of E){let N=t.findIndex(H=>{var de;return H.name===b||((de=H.aliases)==null?void 0:de.some(ye=>ye===b))});if(N===-1)continue;let I=t[N];if(I.toMiddleware!==y.toMiddleware||I.relation!==y.relation)throw new Error(`"${Qt(I.name,I.aliases)}" middleware ${I.relation} "${I.toMiddleware}" middleware cannot be overridden by "${Qt(f,S)}" middleware ${y.relation} "${y.toMiddleware}" middleware.`);t.splice(N,1)}}for(let b of E)n.add(b)}t.push(y)},clone:()=>a(Tl()),use:u=>{u.applyToStack(l)},remove:u=>typeof u=="string"?s(u):i(u),removeByTag:u=>{let p=!1,f=Me(h=>{let{tags:S,name:y,aliases:E}=h;if(S&&S.includes(u)){let b=Ir(y,E);for(let N of b)n.delete(N);return p=!0,!1}return!0},"filterCb");return e=e.filter(f),t=t.filter(f),p},concat:u=>{var p;let f=a(Tl());return f.use(u),f.identifyOnResolve(r||f.identifyOnResolve()||(((p=u.identifyOnResolve)==null?void 0:p.call(u))??!1)),f},applyToStack:a,identify:()=>d(!0).map(u=>{let p=u.step??u.relation+" "+u.toMiddleware;return Qt(u.name,u.aliases)+" - "+p}),identifyOnResolve(u){return typeof u=="boolean"&&(r=u),r},resolve:(u,p)=>{for(let f of d().map(h=>h.middleware).reverse())u=f(u,p);return r&&console.log(l.identify()),u}};return l},"constructStack"),gS={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},hS={high:3,normal:2,low:1}});var Il=g((yoe,ES)=>{var Ui=Object.defineProperty,Q3=Object.getOwnPropertyDescriptor,K3=Object.getOwnPropertyNames,J3=Object.prototype.hasOwnProperty,Y3=(e,t)=>Ui(e,"name",{value:t,configurable:!0}),X3=(e,t)=>{for(var r in t)Ui(e,r,{get:t[r],enumerable:!0})},Z3=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of K3(t))!J3.call(e,o)&&o!==r&&Ui(e,o,{get:()=>t[o],enumerable:!(n=Q3(t,o))||n.enumerable});return e},ez=e=>Z3(Ui({},"__esModule",{value:!0}),e),SS={};X3(SS,{isArrayBuffer:()=>tz});ES.exports=ez(SS);var tz=Y3(e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]","isArrayBuffer")});var rn=g((Soe,CS)=>{var Hi=Object.defineProperty,rz=Object.getOwnPropertyDescriptor,nz=Object.getOwnPropertyNames,oz=Object.prototype.hasOwnProperty,bS=(e,t)=>Hi(e,"name",{value:t,configurable:!0}),sz=(e,t)=>{for(var r in t)Hi(e,r,{get:t[r],enumerable:!0})},iz=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of nz(t))!oz.call(e,o)&&o!==r&&Hi(e,o,{get:()=>t[o],enumerable:!(n=rz(t,o))||n.enumerable});return e},az=e=>iz(Hi({},"__esModule",{value:!0}),e),wS={};sz(wS,{fromArrayBuffer:()=>dz,fromString:()=>lz});CS.exports=az(wS);var cz=Il(),xl=require("buffer"),dz=bS((e,t=0,r=e.byteLength-t)=>{if(!(0,cz.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return xl.Buffer.from(e,t,r)},"fromArrayBuffer"),lz=bS((e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?xl.Buffer.from(e,t):xl.Buffer.from(e)},"fromString")});var PS=g($i=>{"use strict";Object.defineProperty($i,"__esModule",{value:!0});$i.fromBase64=void 0;var uz=rn(),pz=/^[A-Za-z0-9+/]*={0,2}$/,fz=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!pz.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,uz.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};$i.fromBase64=fz});var Oe=g((boe,TS)=>{var Bi=Object.defineProperty,mz=Object.getOwnPropertyDescriptor,gz=Object.getOwnPropertyNames,hz=Object.prototype.hasOwnProperty,Nl=(e,t)=>Bi(e,"name",{value:t,configurable:!0}),vz=(e,t)=>{for(var r in t)Bi(e,r,{get:t[r],enumerable:!0})},_z=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of gz(t))!hz.call(e,o)&&o!==r&&Bi(e,o,{get:()=>t[o],enumerable:!(n=mz(t,o))||n.enumerable});return e},yz=e=>_z(Bi({},"__esModule",{value:!0}),e),OS={};vz(OS,{fromUtf8:()=>AS,toUint8Array:()=>Sz,toUtf8:()=>Ez});TS.exports=yz(OS);var RS=rn(),AS=Nl(e=>{let t=(0,RS.fromString)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),Sz=Nl(e=>typeof e=="string"?AS(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),"toUint8Array"),Ez=Nl(e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,RS.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},"toUtf8")});var IS=g(zi=>{"use strict";Object.defineProperty(zi,"__esModule",{value:!0});zi.toBase64=void 0;var bz=rn(),wz=Oe(),Cz=e=>{let t;if(typeof e=="string"?t=(0,wz.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,bz.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};zi.toBase64=Cz});var Kt=g((Coe,Vi)=>{var xS=Object.defineProperty,Pz=Object.getOwnPropertyDescriptor,Oz=Object.getOwnPropertyNames,Rz=Object.prototype.hasOwnProperty,Ml=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Oz(t))!Rz.call(e,o)&&o!==r&&xS(e,o,{get:()=>t[o],enumerable:!(n=Pz(t,o))||n.enumerable});return e},NS=(e,t,r)=>(Ml(e,t,"default"),r&&Ml(r,t,"default")),Az=e=>Ml(xS({},"__esModule",{value:!0}),e),Dl={};Vi.exports=Az(Dl);NS(Dl,PS(),Vi.exports);NS(Dl,IS(),Vi.exports)});var MS=g(Gi=>{"use strict";Object.defineProperty(Gi,"__esModule",{value:!0});Gi.getAwsChunkedEncodingStream=void 0;var Tz=require("stream"),Iz=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:o,checksumLocationName:s,streamHasher:i}=t,a=r!==void 0&&o!==void 0&&s!==void 0&&i!==void 0,c=a?i(o,e):void 0,d=new Tz.Readable({read:()=>{}});return e.on("data",l=>{let u=n(l)||0;d.push(`${u.toString(16)}\r
`),d.push(l),d.push(`\r
`)}),e.on("end",async()=>{if(d.push(`0\r
`),a){let l=r(await c);d.push(`${s}:${l}\r
`),d.push(`\r
`)}d.push(null)}),d};Gi.getAwsChunkedEncodingStream=Iz});var Ll=g((Ooe,LS)=>{var Wi=Object.defineProperty,xz=Object.getOwnPropertyDescriptor,Nz=Object.getOwnPropertyNames,Mz=Object.prototype.hasOwnProperty,kl=(e,t)=>Wi(e,"name",{value:t,configurable:!0}),Dz=(e,t)=>{for(var r in t)Wi(e,r,{get:t[r],enumerable:!0})},kz=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Nz(t))!Mz.call(e,o)&&o!==r&&Wi(e,o,{get:()=>t[o],enumerable:!(n=xz(t,o))||n.enumerable});return e},Lz=e=>kz(Wi({},"__esModule",{value:!0}),e),DS={};Dz(DS,{escapeUri:()=>kS,escapeUriPath:()=>jz});LS.exports=Lz(DS);var kS=kl(e=>encodeURIComponent(e).replace(/[!'()*]/g,qz),"escapeUri"),qz=kl(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,"hexEncode"),jz=kl(e=>e.split("/").map(kS).join("/"),"escapeUriPath")});var jl=g((Roe,FS)=>{var Qi=Object.defineProperty,Fz=Object.getOwnPropertyDescriptor,Uz=Object.getOwnPropertyNames,Hz=Object.prototype.hasOwnProperty,$z=(e,t)=>Qi(e,"name",{value:t,configurable:!0}),Bz=(e,t)=>{for(var r in t)Qi(e,r,{get:t[r],enumerable:!0})},zz=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Uz(t))!Hz.call(e,o)&&o!==r&&Qi(e,o,{get:()=>t[o],enumerable:!(n=Fz(t,o))||n.enumerable});return e},Vz=e=>zz(Qi({},"__esModule",{value:!0}),e),qS={};Bz(qS,{buildQueryString:()=>jS});FS.exports=Vz(qS);var ql=Ll();function jS(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=(0,ql.escapeUri)(r),Array.isArray(n))for(let o=0,s=n.length;o<s;o++)t.push(`${r}=${(0,ql.escapeUri)(n[o])}`);else{let o=r;(n||typeof n=="string")&&(o+=`=${(0,ql.escapeUri)(n)}`),t.push(o)}}return t.join("&")}$z(jS,"buildQueryString")});var xr=g((xoe,rE)=>{var Gz=Object.create,ho=Object.defineProperty,Wz=Object.getOwnPropertyDescriptor,Qz=Object.getOwnPropertyNames,Kz=Object.getPrototypeOf,Jz=Object.prototype.hasOwnProperty,ne=(e,t)=>ho(e,"name",{value:t,configurable:!0}),Yz=(e,t)=>{for(var r in t)ho(e,r,{get:t[r],enumerable:!0})},$S=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Qz(t))!Jz.call(e,o)&&o!==r&&ho(e,o,{get:()=>t[o],enumerable:!(n=Wz(t,o))||n.enumerable});return e},Xz=(e,t,r)=>(r=e!=null?Gz(Kz(e)):{},$S(t||!e||!e.__esModule?ho(r,"default",{value:e,enumerable:!0}):r,e)),Zz=e=>$S(ho({},"__esModule",{value:!0}),e),BS={};Yz(BS,{DEFAULT_REQUEST_TIMEOUT:()=>oV,NodeHttp2Handler:()=>dV,NodeHttpHandler:()=>sV,streamCollector:()=>uV});rE.exports=Zz(BS);var zS=ue(),VS=jl(),Fl=require("http"),Ul=require("https"),eV=["ECONNRESET","EPIPE","ETIMEDOUT"],GS=ne(e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t},"getTransformedHeaders"),tV=ne((e,t,r=0)=>{if(!r)return;let n=setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`Socket timed out without establishing a connection within ${r} ms`),{name:"TimeoutError"}))},r);e.on("socket",o=>{o.connecting?o.on("connect",()=>{clearTimeout(n)}):clearTimeout(n)})},"setConnectionTimeout"),rV=ne((e,{keepAlive:t,keepAliveMsecs:r})=>{t===!0&&e.on("socket",n=>{n.setKeepAlive(t,r||0)})},"setSocketKeepAlive"),nV=ne((e,t,r=0)=>{e.setTimeout(r,()=>{e.destroy(),t(Object.assign(new Error(`Connection timed out after ${r} ms`),{name:"TimeoutError"}))})},"setSocketTimeout"),WS=require("stream"),US=1e3;async function $l(e,t,r=US){let n=t.headers??{},o=n.Expect||n.expect,s=-1,i=!1;o==="100-continue"&&await Promise.race([new Promise(a=>{s=Number(setTimeout(a,Math.max(US,r)))}),new Promise(a=>{e.on("continue",()=>{clearTimeout(s),a()}),e.on("error",()=>{i=!0,clearTimeout(s),a()})})]),i||QS(e,t.body)}ne($l,"writeRequestBody");function QS(e,t){if(t instanceof WS.Readable){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){e.end(t);return}let r=t;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}e.end(Buffer.from(t));return}e.end()}ne(QS,"writeBody");var oV=0,KS=class Hl{constructor(t){this.socketWarningTimestamp=0,this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(this.resolveDefaultConfig(o))}).catch(n):r(this.resolveDefaultConfig(t))})}static create(t){return typeof t?.handle=="function"?t:new Hl(t)}static checkSocketUsage(t,r){var n,o;let{sockets:s,requests:i,maxSockets:a}=t;if(typeof a!="number"||a===1/0||Date.now()-15e3<r)return r;if(s&&i)for(let d in s){let l=((n=s[d])==null?void 0:n.length)??0,u=((o=i[d])==null?void 0:o.length)??0;if(l>=a&&u>=2*a)return console.warn("@smithy/node-http-handler:WARN",`socket usage at capacity=${l} and ${u} additional requests are enqueued.`,"See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html","or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config."),Date.now()}return r}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:o,httpAgent:s,httpsAgent:i}=t||{},a=!0,c=50;return{connectionTimeout:n,requestTimeout:r??o,httpAgent:s instanceof Fl.Agent||typeof s?.destroy=="function"?s:new Fl.Agent({keepAlive:a,maxSockets:c,...s}),httpsAgent:i instanceof Ul.Agent||typeof i?.destroy=="function"?i:new Ul.Agent({keepAlive:a,maxSockets:c,...i})}}destroy(){var t,r,n,o;(r=(t=this.config)==null?void 0:t.httpAgent)==null||r.destroy(),(o=(n=this.config)==null?void 0:n.httpsAgent)==null||o.destroy()}async handle(t,{abortSignal:r}={}){this.config||(this.config=await this.configProvider);let n;return new Promise((o,s)=>{let i,a=ne(async b=>{await i,clearTimeout(n),o(b)},"resolve"),c=ne(async b=>{await i,s(b)},"reject");if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(r?.aborted){let b=new Error("Request aborted");b.name="AbortError",c(b);return}let d=t.protocol==="https:",l=d?this.config.httpsAgent:this.config.httpAgent;n=setTimeout(()=>{this.socketWarningTimestamp=Hl.checkSocketUsage(l,this.socketWarningTimestamp)},this.config.socketAcquisitionWarningTimeout??(this.config.requestTimeout??2e3)+(this.config.connectionTimeout??1e3));let u=(0,VS.buildQueryString)(t.query||{}),p;if(t.username!=null||t.password!=null){let b=t.username??"",N=t.password??"";p=`${b}:${N}`}let f=t.path;u&&(f+=`?${u}`),t.fragment&&(f+=`#${t.fragment}`);let h={headers:t.headers,host:t.hostname,method:t.method,path:f,port:t.port,agent:l,auth:p},y=(d?Ul.request:Fl.request)(h,b=>{let N=new zS.HttpResponse({statusCode:b.statusCode||-1,reason:b.statusMessage,headers:GS(b.headers),body:b});a({response:N})});y.on("error",b=>{eV.includes(b.code)?c(Object.assign(b,{name:"TimeoutError"})):c(b)}),tV(y,c,this.config.connectionTimeout),nV(y,c,this.config.requestTimeout),r&&(r.onabort=()=>{y.abort();let b=new Error("Request aborted");b.name="AbortError",c(b)});let E=h.agent;typeof E=="object"&&"keepAlive"in E&&rV(y,{keepAlive:E.keepAlive,keepAliveMsecs:E.keepAliveMsecs}),i=$l(y,t,this.config.requestTimeout).catch(s)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}};ne(KS,"NodeHttpHandler");var sV=KS,HS=require("http2"),iV=Xz(require("http2")),JS=class{constructor(t){this.sessions=[],this.sessions=t??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(t){this.sessions.push(t)}contains(t){return this.sessions.includes(t)}remove(t){this.sessions=this.sessions.filter(r=>r!==t)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(t){for(let r of this.sessions)r===t&&(r.destroyed||r.destroy())}};ne(JS,"NodeHttp2ConnectionPool");var aV=JS,YS=class{constructor(t){if(this.sessionCache=new Map,this.config=t,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}lease(t,r){let n=this.getUrlString(t),o=this.sessionCache.get(n);if(o){let c=o.poll();if(c&&!this.config.disableConcurrency)return c}let s=iV.default.connect(n);this.config.maxConcurrency&&s.settings({maxConcurrentStreams:this.config.maxConcurrency},c=>{if(c)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+t.destination.toString())}),s.unref();let i=ne(()=>{s.destroy(),this.deleteSession(n,s)},"destroySessionCb");s.on("goaway",i),s.on("error",i),s.on("frameError",i),s.on("close",()=>this.deleteSession(n,s)),r.requestTimeout&&s.setTimeout(r.requestTimeout,i);let a=this.sessionCache.get(n)||new aV;return a.offerLast(s),this.sessionCache.set(n,a),s}deleteSession(t,r){let n=this.sessionCache.get(t);n&&n.contains(r)&&(n.remove(r),this.sessionCache.set(t,n))}release(t,r){var n;let o=this.getUrlString(t);(n=this.sessionCache.get(o))==null||n.offerLast(r)}destroy(){for(let[t,r]of this.sessionCache){for(let n of r)n.destroyed||n.destroy(),r.remove(n);this.sessionCache.delete(t)}}setMaxConcurrentStreams(t){if(this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=t}setDisableConcurrentStreams(t){this.config.disableConcurrency=t}getUrlString(t){return t.destination.toString()}};ne(YS,"NodeHttp2ConnectionManager");var cV=YS,XS=class ZS{constructor(t){this.metadata={handlerProtocol:"h2"},this.connectionManager=new cV({}),this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(o||{})}).catch(n):r(t||{})})}static create(t){return typeof t?.handle=="function"?t:new ZS(t)}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:r}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:n,disableConcurrentStreams:o}=this.config;return new Promise((s,i)=>{var a;let c=!1,d,l=ne(async M=>{await d,s(M)},"resolve"),u=ne(async M=>{await d,i(M)},"reject");if(r?.aborted){c=!0;let M=new Error("Request aborted");M.name="AbortError",u(M);return}let{hostname:p,method:f,port:h,protocol:S,query:y}=t,E="";if(t.username!=null||t.password!=null){let M=t.username??"",We=t.password??"";E=`${M}:${We}@`}let b=`${S}//${E}${p}${h?`:${h}`:""}`,N={destination:new URL(b)},I=this.connectionManager.lease(N,{requestTimeout:(a=this.config)==null?void 0:a.sessionTimeout,disableConcurrentStreams:o||!1}),H=ne(M=>{o&&this.destroySession(I),c=!0,u(M)},"rejectWithDestroy"),de=(0,VS.buildQueryString)(y||{}),ye=t.path;de&&(ye+=`?${de}`),t.fragment&&(ye+=`#${t.fragment}`);let K=I.request({...t.headers,[HS.constants.HTTP2_HEADER_PATH]:ye,[HS.constants.HTTP2_HEADER_METHOD]:f});I.ref(),K.on("response",M=>{let We=new zS.HttpResponse({statusCode:M[":status"]||-1,headers:GS(M),body:K});c=!0,l({response:We}),o&&(I.close(),this.connectionManager.deleteSession(b,I))}),n&&K.setTimeout(n,()=>{K.close();let M=new Error(`Stream timed out because of no activity for ${n} ms`);M.name="TimeoutError",H(M)}),r&&(r.onabort=()=>{K.close();let M=new Error("Request aborted");M.name="AbortError",H(M)}),K.on("frameError",(M,We,Lc)=>{H(new Error(`Frame type id ${M} in stream id ${Lc} has failed with code ${We}.`))}),K.on("error",H),K.on("aborted",()=>{H(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${K.rstCode}.`))}),K.on("close",()=>{I.unref(),o&&I.destroy(),c||H(new Error("Unexpected error: http2 request did not get a response"))}),d=$l(K,t,n)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}};ne(XS,"NodeHttp2Handler");var dV=XS,eE=class extends WS.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}_write(t,r,n){this.bufferedBytes.push(t),n()}};ne(eE,"Collector");var lV=eE,uV=ne(e=>pV(e)?tE(e):new Promise((t,r)=>{let n=new lV;e.pipe(n),e.on("error",o=>{n.end(),r(o)}),n.on("error",r),n.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.bufferedBytes));t(o)})}),"streamCollector"),pV=ne(e=>typeof ReadableStream=="function"&&e instanceof ReadableStream,"isReadableStreamInstance");async function tE(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),o+=c.length),n=a}let s=new Uint8Array(o),i=0;for(let a of t)s.set(a,i),i+=a.length;return s}ne(tE,"collectReadableStream")});var fE=g((Noe,pE)=>{var Ki=Object.defineProperty,fV=Object.getOwnPropertyDescriptor,mV=Object.getOwnPropertyNames,gV=Object.prototype.hasOwnProperty,nn=(e,t)=>Ki(e,"name",{value:t,configurable:!0}),hV=(e,t)=>{for(var r in t)Ki(e,r,{get:t[r],enumerable:!0})},vV=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of mV(t))!gV.call(e,o)&&o!==r&&Ki(e,o,{get:()=>t[o],enumerable:!(n=fV(t,o))||n.enumerable});return e},_V=e=>vV(Ki({},"__esModule",{value:!0}),e),oE={};hV(oE,{FetchHttpHandler:()=>SV,keepAliveSupport:()=>iE,streamCollector:()=>bV});pE.exports=_V(oE);var nE=ue(),yV=jl();function sE(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{let n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}nn(sE,"requestTimeout");var iE={supported:typeof Request<"u"&&"keepalive"in new Request("https://[::1]")},aE=class cE{static create(t){return typeof t?.handle=="function"?t:new cE(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config))}destroy(){}async handle(t,{abortSignal:r}={}){this.config||(this.config=await this.configProvider);let n=this.config.requestTimeout,o=this.config.keepAlive===!0;if(r?.aborted){let S=new Error("Request aborted");return S.name="AbortError",Promise.reject(S)}let s=t.path,i=(0,yV.buildQueryString)(t.query||{});i&&(s+=`?${i}`),t.fragment&&(s+=`#${t.fragment}`);let a="";if(t.username!=null||t.password!=null){let S=t.username??"",y=t.password??"";a=`${S}:${y}@`}let{port:c,method:d}=t,l=`${t.protocol}//${a}${t.hostname}${c?`:${c}`:""}${s}`,u=d==="GET"||d==="HEAD"?void 0:t.body,p={body:u,headers:new Headers(t.headers),method:d};u&&(p.duplex="half"),typeof AbortController<"u"&&(p.signal=r),iE.supported&&(p.keepalive=o);let f=new Request(l,p),h=[fetch(f).then(S=>{let y=S.headers,E={};for(let N of y.entries())E[N[0]]=N[1];return S.body!=null?{response:new nE.HttpResponse({headers:E,reason:S.statusText,statusCode:S.status,body:S.body})}:S.blob().then(N=>({response:new nE.HttpResponse({headers:E,reason:S.statusText,statusCode:S.status,body:N})}))}),sE(n)];return r&&h.push(new Promise((S,y)=>{r.onabort=()=>{let E=new Error("Request aborted");E.name="AbortError",y(E)}})),Promise.race(h)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}};nn(aE,"FetchHttpHandler");var SV=aE,EV=Kt(),bV=nn(e=>typeof Blob=="function"&&e instanceof Blob?dE(e):lE(e),"streamCollector");async function dE(e){let t=await uE(e),r=(0,EV.fromBase64)(t);return new Uint8Array(r)}nn(dE,"collectBlob");async function lE(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),o+=c.length),n=a}let s=new Uint8Array(o),i=0;for(let a of t)s.set(a,i),i+=a.length;return s}nn(lE,"collectStream");function uE(e){return new Promise((t,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let o=n.result??"",s=o.indexOf(","),i=s>-1?s+1:o.length;t(o.substring(i))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}nn(uE,"readToBase64")});var zl=g((Moe,yE)=>{var Ji=Object.defineProperty,wV=Object.getOwnPropertyDescriptor,CV=Object.getOwnPropertyNames,PV=Object.prototype.hasOwnProperty,mE=(e,t)=>Ji(e,"name",{value:t,configurable:!0}),OV=(e,t)=>{for(var r in t)Ji(e,r,{get:t[r],enumerable:!0})},RV=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of CV(t))!PV.call(e,o)&&o!==r&&Ji(e,o,{get:()=>t[o],enumerable:!(n=wV(t,o))||n.enumerable});return e},AV=e=>RV(Ji({},"__esModule",{value:!0}),e),gE={};OV(gE,{fromHex:()=>vE,toHex:()=>_E});yE.exports=AV(gE);var hE={},Bl={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),hE[e]=t,Bl[t]=e}function vE(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in Bl)t[r/2]=Bl[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}mE(vE,"fromHex");function _E(e){let t="";for(let r=0;r<e.byteLength;r++)t+=hE[e[r]];return t}mE(_E,"toHex")});var wE=g(Yi=>{"use strict";Object.defineProperty(Yi,"__esModule",{value:!0});Yi.sdkStreamMixin=void 0;var TV=fE(),IV=Kt(),xV=zl(),NV=Oe(),SE="The stream has already been transformed.",MV=e=>{var t,r;if(!EE(e)&&!bE(e)){let i=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${i}`)}let n=!1,o=async()=>{if(n)throw new Error(SE);return n=!0,await(0,TV.streamCollector)(e)},s=i=>{if(typeof i.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return i.stream()};return Object.assign(e,{transformToByteArray:o,transformToString:async i=>{let a=await o();if(i==="base64")return(0,IV.toBase64)(a);if(i==="hex")return(0,xV.toHex)(a);if(i===void 0||i==="utf8"||i==="utf-8")return(0,NV.toUtf8)(a);if(typeof TextDecoder=="function")return new TextDecoder(i).decode(a);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(n)throw new Error(SE);if(n=!0,EE(e))return s(e);if(bE(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};Yi.sdkStreamMixin=MV;var EE=e=>typeof Blob=="function"&&e instanceof Blob,bE=e=>typeof ReadableStream=="function"&&e instanceof ReadableStream});var PE=g(Xi=>{"use strict";Object.defineProperty(Xi,"__esModule",{value:!0});Xi.sdkStreamMixin=void 0;var DV=xr(),kV=rn(),Vl=require("stream"),LV=require("util"),qV=wE(),CE="The stream has already been transformed.",jV=e=>{var t,r;if(!(e instanceof Vl.Readable))try{return(0,qV.sdkStreamMixin)(e)}catch{let i=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${i}`)}let n=!1,o=async()=>{if(n)throw new Error(CE);return n=!0,await(0,DV.streamCollector)(e)};return Object.assign(e,{transformToByteArray:o,transformToString:async s=>{let i=await o();return s===void 0||Buffer.isEncoding(s)?(0,kV.fromArrayBuffer)(i.buffer,i.byteOffset,i.byteLength).toString(s):new LV.TextDecoder(s).decode(i)},transformToWebStream:()=>{if(n)throw new Error(CE);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof Vl.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please make sure you are using Node.js >= 17.0.0, or polyfill is available.");return n=!0,Vl.Readable.toWeb(e)}})};Xi.sdkStreamMixin=jV});var Kl=g((Loe,ta)=>{var Zi=Object.defineProperty,FV=Object.getOwnPropertyDescriptor,UV=Object.getOwnPropertyNames,HV=Object.prototype.hasOwnProperty,Ql=(e,t)=>Zi(e,"name",{value:t,configurable:!0}),$V=(e,t)=>{for(var r in t)Zi(e,r,{get:t[r],enumerable:!0})},Gl=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of UV(t))!HV.call(e,o)&&o!==r&&Zi(e,o,{get:()=>t[o],enumerable:!(n=FV(t,o))||n.enumerable});return e},OE=(e,t,r)=>(Gl(e,t,"default"),r&&Gl(r,t,"default")),BV=e=>Gl(Zi({},"__esModule",{value:!0}),e),ea={};$V(ea,{Uint8ArrayBlobAdapter:()=>Wl});ta.exports=BV(ea);var RE=Kt(),AE=Oe();function TE(e,t="utf-8"){return t==="base64"?(0,RE.toBase64)(e):(0,AE.toUtf8)(e)}Ql(TE,"transformToString");function IE(e,t){return t==="base64"?Wl.mutate((0,RE.fromBase64)(e)):Wl.mutate((0,AE.fromUtf8)(e))}Ql(IE,"transformFromString");var xE=class NE extends Uint8Array{static fromString(t,r="utf-8"){switch(typeof t){case"string":return IE(t,r);default:throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}}static mutate(t){return Object.setPrototypeOf(t,NE.prototype),t}transformToString(t="utf-8"){return TE(this,t)}};Ql(xE,"Uint8ArrayBlobAdapter");var Wl=xE;OE(ea,MS(),ta.exports);OE(ea,PE(),ta.exports)});var B=g((Hoe,rb)=>{var ia=Object.defineProperty,zV=Object.getOwnPropertyDescriptor,VV=Object.getOwnPropertyNames,GV=Object.prototype.hasOwnProperty,O=(e,t)=>ia(e,"name",{value:t,configurable:!0}),WV=(e,t)=>{for(var r in t)ia(e,r,{get:t[r],enumerable:!0})},QV=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of VV(t))!GV.call(e,o)&&o!==r&&ia(e,o,{get:()=>t[o],enumerable:!(n=zV(t,o))||n.enumerable});return e},KV=e=>QV(ia({},"__esModule",{value:!0}),e),DE={};WV(DE,{Client:()=>YV,Command:()=>FE,LazyJsonString:()=>W2,NoOpLogger:()=>JV,SENSITIVE_STRING:()=>e2,ServiceException:()=>k2,StringWrapper:()=>Eo,_json:()=>ru,collectBody:()=>XV,convertMap:()=>Q2,createAggregatedClient:()=>t2,dateToUtcString:()=>GE,decorateServiceException:()=>KE,emitWarningIfUnsupportedVersion:()=>F2,expectBoolean:()=>n2,expectByte:()=>tu,expectFloat32:()=>na,expectInt:()=>s2,expectInt32:()=>Zl,expectLong:()=>yo,expectNonNull:()=>a2,expectNumber:()=>_o,expectObject:()=>HE,expectShort:()=>eu,expectString:()=>c2,expectUnion:()=>d2,extendedEncodeURIComponent:()=>sa,getArrayIfSingleItem:()=>G2,getDefaultClientConfiguration:()=>z2,getDefaultExtensionConfiguration:()=>YE,getValueFromTextNode:()=>XE,handleFloat:()=>p2,limitedParseDouble:()=>su,limitedParseFloat:()=>f2,limitedParseFloat32:()=>m2,loadConfigsForDefaultMode:()=>j2,logger:()=>So,map:()=>au,parseBoolean:()=>r2,parseEpochTimestamp:()=>O2,parseRfc3339DateTime:()=>y2,parseRfc3339DateTimeWithOffset:()=>E2,parseRfc7231DateTime:()=>P2,resolveDefaultRuntimeConfig:()=>V2,resolvedPath:()=>Z2,serializeFloat:()=>eG,splitEvery:()=>tb,strictParseByte:()=>VE,strictParseDouble:()=>ou,strictParseFloat:()=>l2,strictParseFloat32:()=>$E,strictParseInt:()=>g2,strictParseInt32:()=>h2,strictParseLong:()=>zE,strictParseShort:()=>on,take:()=>K2,throwDefaultError:()=>JE,withBaseException:()=>L2});rb.exports=KV(DE);var kE=class{trace(){}debug(){}info(){}warn(){}error(){}};O(kE,"NoOpLogger");var JV=kE,LE=yS(),qE=class{constructor(t){this.middlewareStack=(0,LE.constructStack)(),this.config=t}send(t,r,n){let o=typeof r!="function"?r:void 0,s=typeof r=="function"?r:n,i=t.resolveMiddleware(this.middlewareStack,this.config,o);if(s)i(t).then(a=>s(null,a.output),a=>s(a)).catch(()=>{});else return i(t).then(a=>a.output)}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}};O(qE,"Client");var YV=qE,Jl=Kl(),XV=O(async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return Jl.Uint8ArrayBlobAdapter.mutate(e);if(!e)return Jl.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return Jl.Uint8ArrayBlobAdapter.mutate(await r)},"collectBody"),Xl=Qe(),jE=class{constructor(){this.middlewareStack=(0,LE.constructStack)()}static classBuilder(){return new ZV}resolveMiddlewareWithContext(t,r,n,{middlewareFn:o,clientName:s,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,smithyContext:d,additionalContext:l,CommandCtor:u}){for(let y of o.bind(this)(u,t,r,n))this.middlewareStack.use(y);let p=t.concat(this.middlewareStack),{logger:f}=r,h={logger:f,clientName:s,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,[Xl.SMITHY_CONTEXT_KEY]:{...d},...l},{requestHandler:S}=r;return p.resolve(y=>S.handle(y.request,n||{}),h)}};O(jE,"Command");var FE=jE,UE=class{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=t=>t,this._outputFilterSensitiveLog=t=>t,this._serializer=null,this._deserializer=null}init(t){this._init=t}ep(t){return this._ep=t,this}m(t){return this._middlewareFn=t,this}s(t,r,n={}){return this._smithyContext={service:t,operation:r,...n},this}c(t={}){return this._additionalContext=t,this}n(t,r){return this._clientName=t,this._commandName=r,this}f(t=n=>n,r=n=>n){return this._inputFilterSensitiveLog=t,this._outputFilterSensitiveLog=r,this}ser(t){return this._serializer=t,this}de(t){return this._deserializer=t,this}build(){var t;let r=this,n;return n=(t=class extends FE{constructor(...[o]){super(),this.serialize=r._serializer,this.deserialize=r._deserializer,this.input=o??{},r._init(this)}static getEndpointParameterInstructions(){return r._ep}resolveMiddleware(o,s,i){return this.resolveMiddlewareWithContext(o,s,i,{CommandCtor:n,middlewareFn:r._middlewareFn,clientName:r._clientName,commandName:r._commandName,inputFilterSensitiveLog:r._inputFilterSensitiveLog,outputFilterSensitiveLog:r._outputFilterSensitiveLog,smithyContext:r._smithyContext,additionalContext:r._additionalContext})}},O(t,"CommandRef"),t)}};O(UE,"ClassBuilder");var ZV=UE,e2="***SensitiveInformation***",t2=O((e,t)=>{for(let r of Object.keys(e)){let n=e[r],o=O(async function(i,a,c){let d=new n(i);if(typeof a=="function")this.send(d,a);else if(typeof c=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(d,a||{},c)}else return this.send(d,a)},"methodImpl"),s=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[s]=o}},"createAggregatedClient"),r2=O(e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},"parseBoolean"),n2=O(e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&So.warn(oa(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&So.warn(oa(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},"expectBoolean"),_o=O(e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&So.warn(oa(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},"expectNumber"),o2=Math.ceil(2**127*(2-2**-23)),na=O(e=>{let t=_o(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>o2)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},"expectFloat32"),yo=O(e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},"expectLong"),s2=yo,Zl=O(e=>nu(e,32),"expectInt32"),eu=O(e=>nu(e,16),"expectShort"),tu=O(e=>nu(e,8),"expectByte"),nu=O((e,t)=>{let r=yo(e);if(r!==void 0&&i2(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},"expectSizedInt"),i2=O((e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},"castInt"),a2=O((e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},"expectNonNull"),HE=O(e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},"expectObject"),c2=O(e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return So.warn(oa(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},"expectString"),d2=O(e=>{if(e==null)return;let t=HE(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},"expectUnion"),ou=O(e=>_o(typeof e=="string"?an(e):e),"strictParseDouble"),l2=ou,$E=O(e=>na(typeof e=="string"?an(e):e),"strictParseFloat32"),u2=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,an=O(e=>{let t=e.match(u2);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},"parseNumber"),su=O(e=>typeof e=="string"?BE(e):_o(e),"limitedParseDouble"),p2=su,f2=su,m2=O(e=>typeof e=="string"?BE(e):na(e),"limitedParseFloat32"),BE=O(e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},"parseFloatString"),zE=O(e=>yo(typeof e=="string"?an(e):e),"strictParseLong"),g2=zE,h2=O(e=>Zl(typeof e=="string"?an(e):e),"strictParseInt32"),on=O(e=>eu(typeof e=="string"?an(e):e),"strictParseShort"),VE=O(e=>tu(typeof e=="string"?an(e):e),"strictParseByte"),oa=O(e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),"stackTraceWarning"),So={warn:console.warn},v2=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],iu=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function GE(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),o=e.getUTCDate(),s=e.getUTCHours(),i=e.getUTCMinutes(),a=e.getUTCSeconds(),c=o<10?`0${o}`:`${o}`,d=s<10?`0${s}`:`${s}`,l=i<10?`0${i}`:`${i}`,u=a<10?`0${a}`:`${a}`;return`${v2[n]}, ${c} ${iu[r]} ${t} ${d}:${l}:${u} GMT`}O(GE,"dateToUtcString");var _2=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),y2=O(e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=_2.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,c,d]=t,l=on(sn(n)),u=dt(o,"month",1,12),p=dt(s,"day",1,31);return vo(l,u,p,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:d})},"parseRfc3339DateTime"),S2=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),E2=O(e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=S2.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,c,d,l]=t,u=on(sn(n)),p=dt(o,"month",1,12),f=dt(s,"day",1,31),h=vo(u,p,f,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:d});return l.toUpperCase()!="Z"&&h.setTime(h.getTime()-D2(l)),h},"parseRfc3339DateTimeWithOffset"),b2=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),w2=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),C2=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),P2=O(e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=b2.exec(e);if(t){let[r,n,o,s,i,a,c,d]=t;return vo(on(sn(s)),Yl(o),dt(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:d})}if(t=w2.exec(e),t){let[r,n,o,s,i,a,c,d]=t;return T2(vo(R2(s),Yl(o),dt(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:d}))}if(t=C2.exec(e),t){let[r,n,o,s,i,a,c,d]=t;return vo(on(sn(d)),Yl(n),dt(o.trimLeft(),"day",1,31),{hours:s,minutes:i,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")},"parseRfc7231DateTime"),O2=O(e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=ou(e);else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},"parseEpochTimestamp"),vo=O((e,t,r,n)=>{let o=t-1;return x2(e,o,r),new Date(Date.UTC(e,o,r,dt(n.hours,"hour",0,23),dt(n.minutes,"minute",0,59),dt(n.seconds,"seconds",0,60),M2(n.fractionalMilliseconds)))},"buildDate"),R2=O(e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+on(sn(e));return r<t?r+100:r},"parseTwoDigitYear"),A2=50*365*24*60*60*1e3,T2=O(e=>e.getTime()-new Date().getTime()>A2?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,"adjustRfc850Year"),Yl=O(e=>{let t=iu.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},"parseMonthByShortName"),I2=[31,28,31,30,31,30,31,31,30,31,30,31],x2=O((e,t,r)=>{let n=I2[t];if(t===1&&N2(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${iu[t]} in ${e}: ${r}`)},"validateDayOfMonth"),N2=O(e=>e%4===0&&(e%100!==0||e%400===0),"isLeapYear"),dt=O((e,t,r,n)=>{let o=VE(sn(e));if(o<r||o>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return o},"parseDateValue"),M2=O(e=>e==null?0:$E("0."+e)*1e3,"parseMilliseconds"),D2=O(e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),o=Number(e.substring(4,6));return r*(n*60+o)*60*1e3},"parseOffsetToMilliseconds"),sn=O(e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)},"stripLeadingZeroes"),WE=class QE extends Error{constructor(t){super(t.message),Object.setPrototypeOf(this,QE.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}};O(WE,"ServiceException");var k2=WE,KE=O((e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,o])=>{(e[n]==null||e[n]==="")&&(e[n]=o)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},"decorateServiceException"),JE=O(({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let o=q2(e),s=o.httpStatusCode?o.httpStatusCode+"":void 0,i=new r({name:t?.code||t?.Code||n||s||"UnknownError",$fault:"client",$metadata:o});throw KE(i,t)},"throwDefaultError"),L2=O(e=>({output:t,parsedBody:r,errorCode:n})=>{JE({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},"withBaseException"),q2=O(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),j2=O(e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},"loadConfigsForDefaultMode"),ME=!1,F2=O(e=>{e&&!ME&&parseInt(e.substring(1,e.indexOf(".")))<16&&(ME=!0)},"emitWarningIfUnsupportedVersion"),U2=O(e=>{let t=[];for(let r in Xl.AlgorithmId){let n=Xl.AlgorithmId[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{_checksumAlgorithms:t,addChecksumAlgorithm(r){this._checksumAlgorithms.push(r)},checksumAlgorithms(){return this._checksumAlgorithms}}},"getChecksumConfiguration"),H2=O(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),$2=O(e=>{let t=e.retryStrategy;return{setRetryStrategy(r){t=r},retryStrategy(){return t}}},"getRetryConfiguration"),B2=O(e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},"resolveRetryRuntimeConfig"),YE=O(e=>({...U2(e),...$2(e)}),"getDefaultExtensionConfiguration"),z2=YE,V2=O(e=>({...H2(e),...B2(e)}),"resolveDefaultRuntimeConfig");function sa(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}O(sa,"extendedEncodeURIComponent");var G2=O(e=>Array.isArray(e)?e:[e],"getArrayIfSingleItem"),XE=O(e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=XE(e[r]));return e},"getValueFromTextNode"),Eo=O(function(){let e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,[null,...arguments]),r=new t;return Object.setPrototypeOf(r,e.prototype),r},"StringWrapper");Eo.prototype=Object.create(String.prototype,{constructor:{value:Eo,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(Eo,String);var ZE=class ra extends Eo{deserializeJSON(){return JSON.parse(super.toString())}toJSON(){return super.toString()}static fromObject(t){return t instanceof ra?t:t instanceof String||typeof t=="string"?new ra(t):new ra(JSON.stringify(t))}};O(ZE,"LazyJsonString");var W2=ZE;function au(e,t,r){let n,o,s;if(typeof t>"u"&&typeof r>"u")n={},s=e;else{if(n=e,typeof t=="function")return o=t,s=r,J2(n,o,s);s=t}for(let i of Object.keys(s)){if(!Array.isArray(s[i])){n[i]=s[i];continue}eb(n,null,s,i)}return n}O(au,"map");var Q2=O(e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t},"convertMap"),K2=O((e,t)=>{let r={};for(let n in t)eb(r,e,t,n);return r},"take"),J2=O((e,t,r)=>au(e,Object.entries(r).reduce((n,[o,s])=>(Array.isArray(s)?n[o]=s:typeof s=="function"?n[o]=[t,s()]:n[o]=[t,s],n),{})),"mapWithFilter"),eb=O((e,t,r,n)=>{if(t!==null){let i=r[n];typeof i=="function"&&(i=[,i]);let[a=Y2,c=X2,d=n]=i;(typeof a=="function"&&a(t[d])||typeof a!="function"&&a)&&(e[n]=c(t[d]));return}let[o,s]=r[n];if(typeof s=="function"){let i,a=o===void 0&&(i=s())!=null,c=typeof o=="function"&&!!o(void 0)||typeof o!="function"&&!!o;a?e[n]=i:c&&(e[n]=s())}else{let i=o===void 0&&s!=null,a=typeof o=="function"&&!!o(s)||typeof o!="function"&&!!o;(i||a)&&(e[n]=s)}},"applyInstruction"),Y2=O(e=>e!=null,"nonNullish"),X2=O(e=>e,"pass"),Z2=O((e,t,r,n,o,s)=>{if(t!=null&&t[r]!==void 0){let i=n();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(o,s?i.split("/").map(a=>sa(a)).join("/"):sa(i))}else throw new Error("No value provided for input HTTP label: "+r+".");return e},"resolvedPath"),eG=O(e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},"serializeFloat"),ru=O(e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(ru);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=ru(e[r]));return t}return e},"_json");function tb(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let o=[],s="";for(let i=0;i<n.length;i++)s===""?s=n[i]:s+=t+n[i],(i+1)%r===0&&(o.push(s),s="");return s!==""&&o.push(s),o}O(tb,"splitEvery")});var nb=g(aa=>{"use strict";Object.defineProperty(aa,"__esModule",{value:!0});aa.isStreamingPayload=void 0;var tG=require("stream"),rG=e=>e?.body instanceof tG.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream;aa.isStreamingPayload=rG});var lt=g((Goe,Sb)=>{var ca=Object.defineProperty,nG=Object.getOwnPropertyDescriptor,oG=Object.getOwnPropertyNames,sG=Object.prototype.hasOwnProperty,oe=(e,t)=>ca(e,"name",{value:t,configurable:!0}),iG=(e,t)=>{for(var r in t)ca(e,r,{get:t[r],enumerable:!0})},aG=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of oG(t))!sG.call(e,o)&&o!==r&&ca(e,o,{get:()=>t[o],enumerable:!(n=nG(t,o))||n.enumerable});return e},cG=e=>aG(ca({},"__esModule",{value:!0}),e),sb={};iG(sb,{AdaptiveRetryStrategy:()=>uG,CONFIG_MAX_ATTEMPTS:()=>du,CONFIG_RETRY_MODE:()=>mb,ENV_MAX_ATTEMPTS:()=>cu,ENV_RETRY_MODE:()=>fb,NODE_MAX_ATTEMPT_CONFIG_OPTIONS:()=>pG,NODE_RETRY_MODE_CONFIG_OPTIONS:()=>mG,StandardRetryStrategy:()=>ub,defaultDelayDecider:()=>ab,defaultRetryDecider:()=>cb,getOmitRetryHeadersPlugin:()=>gG,getRetryAfterHint:()=>yb,getRetryPlugin:()=>EG,omitRetryHeadersMiddleware:()=>gb,omitRetryHeadersMiddlewareOptions:()=>hb,resolveRetryConfig:()=>fG,retryMiddleware:()=>vb,retryMiddlewareOptions:()=>_b});Sb.exports=cG(sb);var cn=ue(),ib=(Yy(),kt(Jy)),J=tn(),dG=oe((e,t)=>{let r=e,n=t?.noRetryIncrement??J.NO_RETRY_INCREMENT,o=t?.retryCost??J.RETRY_COST,s=t?.timeoutRetryCost??J.TIMEOUT_RETRY_COST,i=e,a=oe(u=>u.name==="TimeoutError"?s:o,"getCapacityAmount"),c=oe(u=>a(u)<=i,"hasRetryTokens");return Object.freeze({hasRetryTokens:c,retrieveRetryTokens:oe(u=>{if(!c(u))throw new Error("No retry token available");let p=a(u);return i-=p,p},"retrieveRetryTokens"),releaseRetryTokens:oe(u=>{i+=u??n,i=Math.min(i,r)},"releaseRetryTokens")})},"getDefaultRetryQuota"),ab=oe((e,t)=>Math.floor(Math.min(J.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e)),"defaultDelayDecider"),Jt=Cl(),cb=oe(e=>e?(0,Jt.isRetryableByTrait)(e)||(0,Jt.isClockSkewError)(e)||(0,Jt.isThrottlingError)(e)||(0,Jt.isTransientError)(e):!1,"defaultRetryDecider"),db=oe(e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),"asSdkError"),lb=class{constructor(t,r){this.maxAttemptsProvider=t,this.mode=J.RETRY_MODES.STANDARD,this.retryDecider=r?.retryDecider??cb,this.delayDecider=r?.delayDecider??ab,this.retryQuota=r?.retryQuota??dG(J.INITIAL_RETRY_TOKENS)}shouldRetry(t,r,n){return r<n&&this.retryDecider(t)&&this.retryQuota.hasRetryTokens(t)}async getMaxAttempts(){let t;try{t=await this.maxAttemptsProvider()}catch{t=J.DEFAULT_MAX_ATTEMPTS}return t}async retry(t,r,n){let o,s=0,i=0,a=await this.getMaxAttempts(),{request:c}=r;for(cn.HttpRequest.isInstance(c)&&(c.headers[J.INVOCATION_ID_HEADER]=(0,ib.v4)());;)try{cn.HttpRequest.isInstance(c)&&(c.headers[J.REQUEST_HEADER]=`attempt=${s+1}; max=${a}`),n?.beforeRequest&&await n.beforeRequest();let{response:d,output:l}=await t(r);return n?.afterRequest&&n.afterRequest(d),this.retryQuota.releaseRetryTokens(o),l.$metadata.attempts=s+1,l.$metadata.totalRetryDelay=i,{response:d,output:l}}catch(d){let l=db(d);if(s++,this.shouldRetry(l,s,a)){o=this.retryQuota.retrieveRetryTokens(l);let u=this.delayDecider((0,Jt.isThrottlingError)(l)?J.THROTTLING_RETRY_DELAY_BASE:J.DEFAULT_RETRY_DELAY_BASE,s),p=lG(l.$response),f=Math.max(p||0,u);i+=f,await new Promise(h=>setTimeout(h,f));continue}throw l.$metadata||(l.$metadata={}),l.$metadata.attempts=s,l.$metadata.totalRetryDelay=i,l}}};oe(lb,"StandardRetryStrategy");var ub=lb,lG=oe(e=>{if(!cn.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},"getDelayFromRetryAfterHeader"),pb=class extends ub{constructor(t,r){let{rateLimiter:n,...o}=r??{};super(t,o),this.rateLimiter=n??new J.DefaultRateLimiter,this.mode=J.RETRY_MODES.ADAPTIVE}async retry(t,r){return super.retry(t,r,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:n=>{this.rateLimiter.updateClientSendingRate(n)}})}};oe(pb,"AdaptiveRetryStrategy");var uG=pb,ob=at(),cu="AWS_MAX_ATTEMPTS",du="max_attempts",pG={environmentVariableSelector:e=>{let t=e[cu];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${cu} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[du];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${du} mast be a number, got "${t}"`);return r},default:J.DEFAULT_MAX_ATTEMPTS},fG=oe(e=>{let{retryStrategy:t}=e,r=(0,ob.normalizeProvider)(e.maxAttempts??J.DEFAULT_MAX_ATTEMPTS);return{...e,maxAttempts:r,retryStrategy:async()=>t||(await(0,ob.normalizeProvider)(e.retryMode)()===J.RETRY_MODES.ADAPTIVE?new J.AdaptiveRetryStrategy(r):new J.StandardRetryStrategy(r))}},"resolveRetryConfig"),fb="AWS_RETRY_MODE",mb="retry_mode",mG={environmentVariableSelector:e=>e[fb],configFileSelector:e=>e[mb],default:J.DEFAULT_RETRY_MODE},gb=oe(()=>e=>async t=>{let{request:r}=t;return cn.HttpRequest.isInstance(r)&&(delete r.headers[J.INVOCATION_ID_HEADER],delete r.headers[J.REQUEST_HEADER]),e(t)},"omitRetryHeadersMiddleware"),hb={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},gG=oe(e=>({applyToStack:t=>{t.addRelativeTo(gb(),hb)}}),"getOmitRetryHeadersPlugin"),hG=B(),vG=nb(),vb=oe(e=>(t,r)=>async n=>{var o;let s=await e.retryStrategy(),i=await e.maxAttempts();if(_G(s)){s=s;let a=await s.acquireInitialRetryToken(r.partition_id),c=new Error,d=0,l=0,{request:u}=n,p=cn.HttpRequest.isInstance(u);for(p&&(u.headers[J.INVOCATION_ID_HEADER]=(0,ib.v4)());;)try{p&&(u.headers[J.REQUEST_HEADER]=`attempt=${d+1}; max=${i}`);let{response:f,output:h}=await t(n);return s.recordSuccess(a),h.$metadata.attempts=d+1,h.$metadata.totalRetryDelay=l,{response:f,output:h}}catch(f){let h=yG(f);if(c=db(f),p&&(0,vG.isStreamingPayload)(u))throw(o=r.logger instanceof hG.NoOpLogger?console:r.logger)==null||o.warn("An error was encountered in a non-retryable streaming request."),c;try{a=await s.refreshRetryTokenForRetry(a,h)}catch{throw c.$metadata||(c.$metadata={}),c.$metadata.attempts=d+1,c.$metadata.totalRetryDelay=l,c}d=a.getRetryCount();let S=a.getRetryDelay();l+=S,await new Promise(y=>setTimeout(y,S))}}else return s=s,s?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(t,n)},"retryMiddleware"),_G=oe(e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u","isRetryStrategyV2"),yG=oe(e=>{let t={error:e,errorType:SG(e)},r=yb(e.$response);return r&&(t.retryAfterHint=r),t},"getRetryErrorInfo"),SG=oe(e=>(0,Jt.isThrottlingError)(e)?"THROTTLING":(0,Jt.isTransientError)(e)?"TRANSIENT":(0,Jt.isServerError)(e)?"SERVER_ERROR":"CLIENT_ERROR","getRetryErrorType"),_b={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},EG=oe(e=>({applyToStack:t=>{t.add(vb(e),_b)}}),"getRetryPlugin"),yb=oe(e=>{if(!cn.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)},"getRetryAfterHint")});var ut=g((Xoe,Ub)=>{var la=Object.defineProperty,bG=Object.getOwnPropertyDescriptor,wG=Object.getOwnPropertyNames,CG=Object.prototype.hasOwnProperty,z=(e,t)=>la(e,"name",{value:t,configurable:!0}),PG=(e,t)=>{for(var r in t)la(e,r,{get:t[r],enumerable:!0})},OG=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of wG(t))!CG.call(e,o)&&o!==r&&la(e,o,{get:()=>t[o],enumerable:!(n=bG(t,o))||n.enumerable});return e},RG=e=>OG(la({},"__esModule",{value:!0}),e),Eb={};PG(Eb,{DefaultIdentityProviderConfig:()=>LG,EXPIRATION_MS:()=>Db,HttpApiKeyAuthSigner:()=>qG,HttpBearerAuthSigner:()=>jG,NoAuthSigner:()=>FG,RequestBuilder:()=>jb,createIsIdentityExpiredFunction:()=>Mb,createPaginator:()=>Fb,doesIdentityRequireRefresh:()=>kb,getHttpAuthSchemeEndpointRuleSetPlugin:()=>TG,getHttpAuthSchemePlugin:()=>xG,getHttpSigningPlugin:()=>kG,getSmithyContext:()=>$G,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>Cb,httpAuthSchemeMiddleware:()=>lu,httpAuthSchemeMiddlewareOptions:()=>Pb,httpSigningMiddleware:()=>Rb,httpSigningMiddlewareOptions:()=>Ab,isIdentityExpired:()=>UG,memoizeIdentityProvider:()=>HG,normalizeProvider:()=>BG,requestBuilder:()=>Lb});Ub.exports=RG(Eb);var bb=at();function wb(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}z(wb,"convertHttpAuthSchemesToMap");var lu=z((e,t)=>(r,n)=>async o=>{var s;let i=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,o.input)),a=wb(e.httpAuthSchemes),c=(0,bb.getSmithyContext)(n),d=[];for(let l of i){let u=a.get(l.schemeId);if(!u){d.push(`HttpAuthScheme \`${l.schemeId}\` was not enabled for this service.`);continue}let p=u.identityProvider(await t.identityProviderConfigProvider(e));if(!p){d.push(`HttpAuthScheme \`${l.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:f={},signingProperties:h={}}=((s=l.propertiesExtractor)==null?void 0:s.call(l,e,n))||{};l.identityProperties=Object.assign(l.identityProperties||{},f),l.signingProperties=Object.assign(l.signingProperties||{},h),c.selectedHttpAuthScheme={httpAuthOption:l,identity:await p(l.identityProperties),signer:u.signer};break}if(!c.selectedHttpAuthScheme)throw new Error(d.join(`
`));return r(o)},"httpAuthSchemeMiddleware"),AG=Ar(),Cb={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:AG.endpointMiddlewareOptions.name},TG=z((e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(lu(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),Cb)}}),"getHttpAuthSchemeEndpointRuleSetPlugin"),IG=Rr(),Pb={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:IG.serializerMiddlewareOption.name},xG=z((e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(lu(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),Pb)}}),"getHttpAuthSchemePlugin"),Ob=ue(),NG=z(e=>t=>{throw t},"defaultErrorHandler"),MG=z((e,t)=>{},"defaultSuccessHandler"),Rb=z(e=>(t,r)=>async n=>{if(!Ob.HttpRequest.isInstance(n.request))return t(n);let s=(0,bb.getSmithyContext)(r).selectedHttpAuthScheme;if(!s)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:i={}},identity:a,signer:c}=s,d=await t({...n,request:await c.sign(n.request,a,i)}).catch((c.errorHandler||NG)(i));return(c.successHandler||MG)(d.response,i),d},"httpSigningMiddleware"),DG=lt(),Ab={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:DG.retryMiddlewareOptions.name},kG=z(e=>({applyToStack:t=>{t.addRelativeTo(Rb(e),Ab)}}),"getHttpSigningPlugin"),Tb=class{constructor(t){this.authSchemes=new Map;for(let[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}};z(Tb,"DefaultIdentityProviderConfig");var LG=Tb,da=Qe(),Ib=class{async sign(t,r,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let o=t.clone();if(n.in===da.HttpApiKeyAuthLocation.QUERY)o.query[n.name]=r.apiKey;else if(n.in===da.HttpApiKeyAuthLocation.HEADER)o.headers[n.name]=n.scheme?`${n.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return o}};z(Ib,"HttpApiKeyAuthSigner");var qG=Ib,xb=class{async sign(t,r,n){let o=t.clone();if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return o.headers.Authorization=`Bearer ${r.token}`,o}};z(xb,"HttpBearerAuthSigner");var jG=xb,Nb=class{async sign(t,r,n){return t}};z(Nb,"NoAuthSigner");var FG=Nb,Mb=z(e=>t=>kb(t)&&t.expiration.getTime()-Date.now()<e,"createIsIdentityExpiredFunction"),Db=3e5,UG=Mb(Db),kb=z(e=>e.expiration!==void 0,"doesIdentityRequireRefresh"),HG=z((e,t,r)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,o,s,i,a=!1,c=z(async d=>{s||(s=n(d));try{o=await s,i=!0,a=!1}finally{s=void 0}return o},"coalesceProvider");return t===void 0?async d=>((!i||d?.forceRefresh)&&(o=await c(d)),o):async d=>((!i||d?.forceRefresh)&&(o=await c(d)),a?o:r(o)?(t(o)&&await c(d),o):(a=!0,o))},"memoizeIdentityProvider"),$G=z(e=>e[da.SMITHY_CONTEXT_KEY]||(e[da.SMITHY_CONTEXT_KEY]={}),"getSmithyContext"),BG=z(e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t},"normalizeProvider"),zG=B();function Lb(e,t){return new jb(e,t)}z(Lb,"requestBuilder");var qb=class{constructor(t,r){this.input=t,this.context=r,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){let{hostname:t,protocol:r="https",port:n,path:o}=await this.context.endpoint();this.path=o;for(let s of this.resolvePathStack)s(this.path);return new Ob.HttpRequest({protocol:r,hostname:this.hostname||t,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,n,o){return this.resolvePathStack.push(s=>{this.path=(0,zG.resolvedPath)(s,this.input,t,r,n,o)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}};z(qb,"RequestBuilder");var jb=qb,VG=z(async(e,t,r,...n)=>await t.send(new e(r),...n),"makePagedClientRequest");function Fb(e,t,r,n,o){return z(async function*(i,a,...c){let d=i.startingToken||void 0,l=!0,u;for(;l;){if(a[r]=d,o&&(a[o]=a[o]??i.pageSize),i.client instanceof e)u=await VG(t,i.client,a,...c);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield u;let p=d;d=GG(u,n),l=!!(d&&(!i.stopOnSameToken||d!==p))}return void 0},"paginateOperation")}z(Fb,"createPaginator");var GG=z((e,t)=>{let r=e,n=t.split(".");for(let o of n){if(!r||typeof r!="object")return;r=r[o]}return r},"get")});var bo=g((Zoe,Vb)=>{var ua=Object.defineProperty,WG=Object.getOwnPropertyDescriptor,QG=Object.getOwnPropertyNames,KG=Object.prototype.hasOwnProperty,$b=(e,t)=>ua(e,"name",{value:t,configurable:!0}),JG=(e,t)=>{for(var r in t)ua(e,r,{get:t[r],enumerable:!0})},YG=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of QG(t))!KG.call(e,o)&&o!==r&&ua(e,o,{get:()=>t[o],enumerable:!(n=WG(t,o))||n.enumerable});return e},XG=e=>YG(ua({},"__esModule",{value:!0}),e),Bb={};JG(Bb,{contentLengthMiddleware:()=>uu,contentLengthMiddlewareOptions:()=>zb,getContentLengthPlugin:()=>eW});Vb.exports=XG(Bb);var ZG=ue(),Hb="content-length";function uu(e){return t=>async r=>{let n=r.request;if(ZG.HttpRequest.isInstance(n)){let{body:o,headers:s}=n;if(o&&Object.keys(s).map(i=>i.toLowerCase()).indexOf(Hb)===-1)try{let i=e(o);n.headers={...n.headers,[Hb]:String(i)}}catch{}}return t({...r,request:n})}}$b(uu,"contentLengthMiddleware");var zb={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},eW=$b(e=>({applyToStack:t=>{t.add(uu(e.bodyLengthChecker),zb)}}),"getContentLengthPlugin")});var Nr={};qc(Nr,{__addDisposableResource:()=>pw,__assign:()=>pa,__asyncDelegator:()=>ow,__asyncGenerator:()=>nw,__asyncValues:()=>sw,__await:()=>dn,__awaiter:()=>Yb,__classPrivateFieldGet:()=>dw,__classPrivateFieldIn:()=>uw,__classPrivateFieldSet:()=>lw,__createBinding:()=>ma,__decorate:()=>Qb,__disposeResources:()=>fw,__esDecorate:()=>tW,__exportStar:()=>Zb,__extends:()=>Gb,__generator:()=>Xb,__importDefault:()=>cw,__importStar:()=>aw,__makeTemplateObject:()=>iw,__metadata:()=>Jb,__param:()=>Kb,__propKey:()=>nW,__read:()=>fu,__rest:()=>Wb,__runInitializers:()=>rW,__setFunctionName:()=>oW,__spread:()=>ew,__spreadArray:()=>rw,__spreadArrays:()=>tw,__values:()=>fa,default:()=>aW});function Gb(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");pu(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function Wb(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function Qb(e,t,r,n){var o=arguments.length,s=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}function Kb(e,t){return function(r,n){t(r,n,e)}}function tW(e,t,r,n,o,s){function i(E){if(E!==void 0&&typeof E!="function")throw new TypeError("Function expected");return E}for(var a=n.kind,c=a==="getter"?"get":a==="setter"?"set":"value",d=!t&&e?n.static?e:e.prototype:null,l=t||(d?Object.getOwnPropertyDescriptor(d,n.name):{}),u,p=!1,f=r.length-1;f>=0;f--){var h={};for(var S in n)h[S]=S==="access"?{}:n[S];for(var S in n.access)h.access[S]=n.access[S];h.addInitializer=function(E){if(p)throw new TypeError("Cannot add initializers after decoration has completed");s.push(i(E||null))};var y=(0,r[f])(a==="accessor"?{get:l.get,set:l.set}:l[c],h);if(a==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(u=i(y.get))&&(l.get=u),(u=i(y.set))&&(l.set=u),(u=i(y.init))&&o.unshift(u)}else(u=i(y))&&(a==="field"?o.unshift(u):l[c]=u)}d&&Object.defineProperty(d,n.name,l),p=!0}function rW(e,t,r){for(var n=arguments.length>2,o=0;o<t.length;o++)r=n?t[o].call(e,r):t[o].call(e);return n?r:void 0}function nW(e){return typeof e=="symbol"?e:"".concat(e)}function oW(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function Jb(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Yb(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(l){try{d(n.next(l))}catch(u){i(u)}}function c(l){try{d(n.throw(l))}catch(u){i(u)}}function d(l){l.done?s(l.value):o(l.value).then(a,c)}d((n=n.apply(e,t||[])).next())})}function Xb(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,o,s,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(d){return function(l){return c([d,l])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,d[0]&&(r=0)),r;)try{if(n=1,o&&(s=d[0]&2?o.return:d[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,d[1])).done)return s;switch(o=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,o=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){r.label=d[1];break}if(d[0]===6&&r.label<s[1]){r.label=s[1],s=d;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(d);break}s[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(l){d=[6,l],o=0}finally{n=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Zb(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&ma(t,e,r)}function fa(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function fu(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(a){i={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s}function ew(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(fu(arguments[t]));return e}function tw(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),o=0,t=0;t<r;t++)for(var s=arguments[t],i=0,a=s.length;i<a;i++,o++)n[o]=s[i];return n}function rw(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,s;n<o;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function dn(e){return this instanceof dn?(this.v=e,this):new dn(e)}function nw(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,s=[];return o={},i("next"),i("throw"),i("return"),o[Symbol.asyncIterator]=function(){return this},o;function i(p){n[p]&&(o[p]=function(f){return new Promise(function(h,S){s.push([p,f,h,S])>1||a(p,f)})})}function a(p,f){try{c(n[p](f))}catch(h){u(s[0][3],h)}}function c(p){p.value instanceof dn?Promise.resolve(p.value.v).then(d,l):u(s[0][2],p)}function d(p){a("next",p)}function l(p){a("throw",p)}function u(p,f){p(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function ow(e){var t,r;return t={},n("next"),n("throw",function(o){throw o}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(o,s){t[o]=e[o]?function(i){return(r=!r)?{value:dn(e[o](i)),done:!1}:s?s(i):i}:s}}function sw(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof fa=="function"?fa(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(i){return new Promise(function(a,c){i=e[s](i),o(a,c,i.done,i.value)})}}function o(s,i,a,c){Promise.resolve(c).then(function(d){s({value:d,done:a})},i)}}function iw(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function aw(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&ma(t,e,r);return sW(t,e),t}function cw(e){return e&&e.__esModule?e:{default:e}}function dw(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function lw(e,t,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r}function uw(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function pw(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose]}if(typeof n!="function")throw new TypeError("Object not disposable.");e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}function fw(e){function t(n){e.error=e.hasError?new iW(n,e.error,"An error was suppressed during disposal."):n,e.hasError=!0}function r(){for(;e.stack.length;){var n=e.stack.pop();try{var o=n.dispose&&n.dispose.call(n.value);if(n.async)return Promise.resolve(o).then(r,function(s){return t(s),r()})}catch(s){t(s)}}if(e.hasError)throw e.error}return r()}var pu,pa,ma,sW,iW,aW,Mr=le(()=>{pu=function(e,t){return pu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},pu(e,t)};pa=function(){return pa=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},pa.apply(this,arguments)};ma=Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};sW=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};iW=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};aW={__extends:Gb,__assign:pa,__rest:Wb,__decorate:Qb,__param:Kb,__metadata:Jb,__awaiter:Yb,__generator:Xb,__createBinding:ma,__exportStar:Zb,__values:fa,__read:fu,__spread:ew,__spreadArrays:tw,__spreadArray:rw,__await:dn,__asyncGenerator:nw,__asyncDelegator:ow,__asyncValues:sw,__makeTemplateObject:iw,__importStar:aw,__importDefault:cw,__classPrivateFieldGet:dw,__classPrivateFieldSet:lw,__classPrivateFieldIn:uw,__addDisposableResource:pw,__disposeResources:fw}});var vw=g((ese,hw)=>{"use strict";var ga=Object.defineProperty,cW=Object.getOwnPropertyDescriptor,dW=Object.getOwnPropertyNames,lW=Object.prototype.hasOwnProperty,uW=(e,t)=>ga(e,"name",{value:t,configurable:!0}),pW=(e,t)=>{for(var r in t)ga(e,r,{get:t[r],enumerable:!0})},fW=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of dW(t))!lW.call(e,o)&&o!==r&&ga(e,o,{get:()=>t[o],enumerable:!(n=cW(t,o))||n.enumerable});return e},mW=e=>fW(ga({},"__esModule",{value:!0}),e),gw={};pW(gw,{emitWarningIfUnsupportedVersion:()=>gW});hw.exports=mW(gw);var mw=!1,gW=uW(e=>{e&&!mw&&parseInt(e.substring(1,e.indexOf(".")))<16&&(mw=!0)},"emitWarningIfUnsupportedVersion")});var jw=g((nse,qw)=>{var Sa=Object.defineProperty,hW=Object.getOwnPropertyDescriptor,vW=Object.getOwnPropertyNames,_W=Object.prototype.hasOwnProperty,se=(e,t)=>Sa(e,"name",{value:t,configurable:!0}),yW=(e,t)=>{for(var r in t)Sa(e,r,{get:t[r],enumerable:!0})},SW=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of vW(t))!_W.call(e,o)&&o!==r&&Sa(e,o,{get:()=>t[o],enumerable:!(n=hW(t,o))||n.enumerable});return e},EW=e=>SW(Sa({},"__esModule",{value:!0}),e),bw={};yW(bw,{SignatureV4:()=>QW,clearCredentialCache:()=>jW,createScope:()=>_a,getCanonicalHeaders:()=>vu,getCanonicalQuery:()=>Iw,getPayloadHash:()=>ya,getSigningKey:()=>Tw,moveHeadersToQuery:()=>kw,prepareRequest:()=>yu});qw.exports=EW(bw);var _w=at(),mu=Oe(),bW="X-Amz-Algorithm",wW="X-Amz-Credential",ww="X-Amz-Date",CW="X-Amz-SignedHeaders",PW="X-Amz-Expires",Cw="X-Amz-Signature",Pw="X-Amz-Security-Token",Ow="authorization",Rw=ww.toLowerCase(),OW="date",RW=[Ow,Rw,OW],AW=Cw.toLowerCase(),hu="x-amz-content-sha256",TW=Pw.toLowerCase(),IW={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},xW=/^proxy-/,NW=/^sec-/,gu="AWS4-HMAC-SHA256",MW="AWS4-HMAC-SHA256-PAYLOAD",DW="UNSIGNED-PAYLOAD",kW=50,Aw="aws4_request",LW=60*60*24*7,Yt=zl(),qW=Oe(),ln={},va=[],_a=se((e,t,r)=>`${e}/${t}/${r}/${Aw}`,"createScope"),Tw=se(async(e,t,r,n,o)=>{let s=await yw(e,t.secretAccessKey,t.accessKeyId),i=`${r}:${n}:${o}:${(0,Yt.toHex)(s)}:${t.sessionToken}`;if(i in ln)return ln[i];for(va.push(i);va.length>kW;)delete ln[va.shift()];let a=`AWS4${t.secretAccessKey}`;for(let c of[r,n,o,Aw])a=await yw(e,a,c);return ln[i]=a},"getSigningKey"),jW=se(()=>{va.length=0,Object.keys(ln).forEach(e=>{delete ln[e]})},"clearCredentialCache"),yw=se((e,t,r)=>{let n=new e(t);return n.update((0,qW.toUint8Array)(r)),n.digest()},"hmac"),vu=se(({headers:e},t,r)=>{let n={};for(let o of Object.keys(e).sort()){if(e[o]==null)continue;let s=o.toLowerCase();(s in IW||t?.has(s)||xW.test(s)||NW.test(s))&&(!r||r&&!r.has(s))||(n[s]=e[o].trim().replace(/\s+/g," "))}return n},"getCanonicalHeaders"),wo=Ll(),Iw=se(({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e).sort()){if(n.toLowerCase()===AW)continue;t.push(n);let o=e[n];typeof o=="string"?r[n]=`${(0,wo.escapeUri)(n)}=${(0,wo.escapeUri)(o)}`:Array.isArray(o)&&(r[n]=o.slice(0).reduce((s,i)=>s.concat([`${(0,wo.escapeUri)(n)}=${(0,wo.escapeUri)(i)}`]),[]).sort().join("&"))}return t.map(n=>r[n]).filter(n=>n).join("&")},"getCanonicalQuery"),FW=Il(),UW=Oe(),ya=se(async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===hu)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||(0,FW.isArrayBuffer)(t)){let n=new r;return n.update((0,UW.toUint8Array)(t)),(0,Yt.toHex)(await n.digest())}return DW},"getPayloadHash"),Sw=Oe(),xw=class{format(t){let r=[];for(let s of Object.keys(t)){let i=(0,Sw.fromUtf8)(s);r.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(t[s]))}let n=new Uint8Array(r.reduce((s,i)=>s+i.byteLength,0)),o=0;for(let s of r)n.set(s,o),o+=s.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":let o=new Uint8Array(9);return o[0]=5,o.set(t.value.bytes,1),o;case"binary":let s=new DataView(new ArrayBuffer(3+t.value.byteLength));s.setUint8(0,6),s.setUint16(1,t.value.byteLength,!1);let i=new Uint8Array(s.buffer);return i.set(t.value,3),i;case"string":let a=(0,Sw.fromUtf8)(t.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);let d=new Uint8Array(c.buffer);return d.set(a,3),d;case"timestamp":let l=new Uint8Array(9);return l[0]=8,l.set(BW.fromNumber(t.value.valueOf()).bytes,1),l;case"uuid":if(!$W.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);let u=new Uint8Array(17);return u[0]=9,u.set((0,Yt.fromHex)(t.value.replace(/\-/g,"")),1),u}}};se(xw,"HeaderFormatter");var HW=xw,$W=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,Nw=class Mw{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,o=Math.abs(Math.round(t));n>-1&&o>0;n--,o/=256)r[n]=o;return t<0&&_u(r),new Mw(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&_u(t),parseInt((0,Yt.toHex)(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};se(Nw,"Int64");var BW=Nw;function _u(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}se(_u,"negate");var zW=se((e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},"hasHeader"),Dw=se(({headers:e,query:t,...r})=>({...r,headers:{...e},query:t?VW(t):void 0}),"cloneRequest"),VW=se(e=>Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{}),"cloneQuery"),kw=se((e,t={})=>{var r;let{headers:n,query:o={}}=typeof e.clone=="function"?e.clone():Dw(e);for(let s of Object.keys(n)){let i=s.toLowerCase();i.slice(0,6)==="x-amz-"&&!((r=t.unhoistableHeaders)!=null&&r.has(i))&&(o[s]=n[s],delete n[s])}return{...e,headers:n,query:o}},"moveHeadersToQuery"),yu=se(e=>{e=typeof e.clone=="function"?e.clone():Dw(e);for(let t of Object.keys(e.headers))RW.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},"prepareRequest"),GW=se(e=>WW(e).toISOString().replace(/\.\d{3}Z$/,"Z"),"iso8601"),WW=se(e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,"toDate"),Lw=class{constructor({applyChecksum:t,credentials:r,region:n,service:o,sha256:s,uriEscapePath:i=!0}){this.headerFormatter=new HW,this.service=o,this.sha256=s,this.uriEscapePath=i,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=(0,_w.normalizeProvider)(n),this.credentialProvider=(0,_w.normalizeProvider)(r)}async presign(t,r={}){let{signingDate:n=new Date,expiresIn:o=3600,unsignableHeaders:s,unhoistableHeaders:i,signableHeaders:a,signingRegion:c,signingService:d}=r,l=await this.credentialProvider();this.validateResolvedCredentials(l);let u=c??await this.regionProvider(),{longDate:p,shortDate:f}=ha(n);if(o>LW)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let h=_a(f,u,d??this.service),S=kw(yu(t),{unhoistableHeaders:i});l.sessionToken&&(S.query[Pw]=l.sessionToken),S.query[bW]=gu,S.query[wW]=`${l.accessKeyId}/${h}`,S.query[ww]=p,S.query[PW]=o.toString(10);let y=vu(S,s,a);return S.query[CW]=Ew(y),S.query[Cw]=await this.getSignature(p,h,this.getSigningKey(l,u,f,d),this.createCanonicalRequest(S,y,await ya(t,this.sha256))),S}async sign(t,r){return typeof t=="string"?this.signString(t,r):t.headers&&t.payload?this.signEvent(t,r):t.message?this.signMessage(t,r):this.signRequest(t,r)}async signEvent({headers:t,payload:r},{signingDate:n=new Date,priorSignature:o,signingRegion:s,signingService:i}){let a=s??await this.regionProvider(),{shortDate:c,longDate:d}=ha(n),l=_a(c,a,i??this.service),u=await ya({headers:{},body:r},this.sha256),p=new this.sha256;p.update(t);let f=(0,Yt.toHex)(await p.digest()),h=[MW,d,l,o,f,u].join(`
`);return this.signString(h,{signingDate:n,signingRegion:a,signingService:i})}async signMessage(t,{signingDate:r=new Date,signingRegion:n,signingService:o}){return this.signEvent({headers:this.headerFormatter.format(t.message.headers),payload:t.message.body},{signingDate:r,signingRegion:n,signingService:o,priorSignature:t.priorSignature}).then(i=>({message:t.message,signature:i}))}async signString(t,{signingDate:r=new Date,signingRegion:n,signingService:o}={}){let s=await this.credentialProvider();this.validateResolvedCredentials(s);let i=n??await this.regionProvider(),{shortDate:a}=ha(r),c=new this.sha256(await this.getSigningKey(s,i,a,o));return c.update((0,mu.toUint8Array)(t)),(0,Yt.toHex)(await c.digest())}async signRequest(t,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:o,signingRegion:s,signingService:i}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let c=s??await this.regionProvider(),d=yu(t),{longDate:l,shortDate:u}=ha(r),p=_a(u,c,i??this.service);d.headers[Rw]=l,a.sessionToken&&(d.headers[TW]=a.sessionToken);let f=await ya(d,this.sha256);!zW(hu,d.headers)&&this.applyChecksum&&(d.headers[hu]=f);let h=vu(d,o,n),S=await this.getSignature(l,p,this.getSigningKey(a,c,u,i),this.createCanonicalRequest(d,h,f));return d.headers[Ow]=`${gu} Credential=${a.accessKeyId}/${p}, SignedHeaders=${Ew(h)}, Signature=${S}`,d}createCanonicalRequest(t,r,n){let o=Object.keys(r).sort();return`${t.method}
${this.getCanonicalPath(t)}
${Iw(t)}
${o.map(s=>`${s}:${r[s]}`).join(`
`)}

${o.join(";")}
${n}`}async createStringToSign(t,r,n){let o=new this.sha256;o.update((0,mu.toUint8Array)(n));let s=await o.digest();return`${gu}
${t}
${r}
${(0,Yt.toHex)(s)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){let r=[];for(let s of t.split("/"))s?.length!==0&&s!=="."&&(s===".."?r.pop():r.push(s));let n=`${t?.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&t?.endsWith("/")?"/":""}`;return(0,wo.escapeUri)(n).replace(/%2F/g,"/")}return t}async getSignature(t,r,n,o){let s=await this.createStringToSign(t,r,o),i=new this.sha256(await n);return i.update((0,mu.toUint8Array)(s)),(0,Yt.toHex)(await i.digest())}getSigningKey(t,r,n,o){return Tw(this.sha256,t,n,r,o||this.service)}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}};se(Lw,"SignatureV4");var QW=Lw,ha=se(e=>{let t=GW(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}},"formatDate"),Ew=se(e=>Object.keys(e).sort().join(";"),"getCanonicalHeaderList")});var Qw=g((sse,Ww)=>{"use strict";var Ea=Object.defineProperty,KW=Object.getOwnPropertyDescriptor,JW=Object.getOwnPropertyNames,YW=Object.prototype.hasOwnProperty,Xe=(e,t)=>Ea(e,"name",{value:t,configurable:!0}),XW=(e,t)=>{for(var r in t)Ea(e,r,{get:t[r],enumerable:!0})},ZW=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of JW(t))!YW.call(e,o)&&o!==r&&Ea(e,o,{get:()=>t[o],enumerable:!(n=KW(t,o))||n.enumerable});return e},eQ=e=>ZW(Ea({},"__esModule",{value:!0}),e),$w={};XW($w,{AWSSDKSigV4Signer:()=>sQ,AwsSdkSigV4Signer:()=>Vw,resolveAWSSDKSigV4Config:()=>iQ,resolveAwsSdkSigV4Config:()=>Gw});Ww.exports=eQ($w);var tQ=ue(),rQ=ue(),Fw=Xe(e=>{var t,r;return rQ.HttpResponse.isInstance(e)?((t=e.headers)==null?void 0:t.date)??((r=e.headers)==null?void 0:r.Date):void 0},"getDateHeader"),Bw=Xe(e=>new Date(Date.now()+e),"getSkewCorrectedDate"),nQ=Xe((e,t)=>Math.abs(Bw(t).getTime()-e)>=3e5,"isClockSkewed"),Uw=Xe((e,t)=>{let r=Date.parse(e);return nQ(r,t)?r-Date.now():t},"getUpdatedSystemClockOffset"),Co=Xe((e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},"throwSigningPropertyError"),oQ=Xe(async e=>{var t,r,n;let o=Co("context",e.context),s=Co("config",e.config),i=(n=(r=(t=o.endpointV2)==null?void 0:t.properties)==null?void 0:r.authSchemes)==null?void 0:n[0],c=await Co("signer",s.signer)(i),d=e?.signingRegion,l=e?.signingName;return{config:s,signer:c,signingRegion:d,signingName:l}},"validateSigningProperties"),zw=class{async sign(t,r,n){if(!tQ.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:o,signer:s,signingRegion:i,signingName:a}=await oQ(n);return await s.sign(t,{signingDate:Bw(o.systemClockOffset),signingRegion:i,signingService:a})}errorHandler(t){return r=>{let n=r.ServerTime??Fw(r.$response);if(n){let o=Co("config",t.config),s=o.systemClockOffset;o.systemClockOffset=Uw(n,o.systemClockOffset),o.systemClockOffset!==s&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=Fw(t);if(n){let o=Co("config",r.config);o.systemClockOffset=Uw(n,o.systemClockOffset)}}};Xe(zw,"AwsSdkSigV4Signer");var Vw=zw,sQ=Vw,Dr=ut(),Hw=jw(),Gw=Xe(e=>{let t;e.credentials&&(t=(0,Dr.memoizeIdentityProvider)(e.credentials,Dr.isIdentityExpired,Dr.doesIdentityRequireRefresh)),t||(e.credentialDefaultProvider?t=(0,Dr.normalizeProvider)(e.credentialDefaultProvider(Object.assign({},e,{parentClientConfig:e}))):t=Xe(async()=>{throw new Error("`credentials` is missing")},"normalizedCreds"));let{signingEscapePath:r=!0,systemClockOffset:n=e.systemClockOffset||0,sha256:o}=e,s;return e.signer?s=(0,Dr.normalizeProvider)(e.signer):e.regionInfoProvider?s=Xe(()=>(0,Dr.normalizeProvider)(e.region)().then(async i=>[await e.regionInfoProvider(i,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},i]).then(([i,a])=>{let{signingRegion:c,signingService:d}=i;e.signingRegion=e.signingRegion||c||a,e.signingName=e.signingName||d||e.serviceId;let l={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:r},u=e.signerConstructor||Hw.SignatureV4;return new u(l)}),"signer"):s=Xe(async i=>{i=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await(0,Dr.normalizeProvider)(e.region)(),properties:{}},i);let a=i.signingRegion,c=i.signingName;e.signingRegion=e.signingRegion||a,e.signingName=e.signingName||c||e.serviceId;let d={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:r},l=e.signerConstructor||Hw.SignatureV4;return new l(d)},"signer"),{...e,systemClockOffset:n,signingEscapePath:r,credentials:t,signer:s}},"resolveAwsSdkSigV4Config"),iQ=Gw});var ba=g(Ot=>{"use strict";var Kw=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",aQ=Kw+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",Jw="["+Kw+"]["+aQ+"]*",cQ=new RegExp("^"+Jw+"$"),dQ=function(e,t){let r=[],n=t.exec(e);for(;n;){let o=[];o.startIndex=t.lastIndex-n[0].length;let s=n.length;for(let i=0;i<s;i++)o.push(n[i]);r.push(o),n=t.exec(e)}return r},lQ=function(e){let t=cQ.exec(e);return!(t===null||typeof t>"u")};Ot.isExist=function(e){return typeof e<"u"};Ot.isEmptyObject=function(e){return Object.keys(e).length===0};Ot.merge=function(e,t,r){if(t){let n=Object.keys(t),o=n.length;for(let s=0;s<o;s++)r==="strict"?e[n[s]]=[t[n[s]]]:e[n[s]]=t[n[s]]}};Ot.getValue=function(e){return Ot.isExist(e)?e:""};Ot.isName=lQ;Ot.getAllMatches=dQ;Ot.nameRegexp=Jw});var Eu=g(tC=>{"use strict";var Su=ba(),uQ={allowBooleanAttributes:!1,unpairedTags:[]};tC.validate=function(e,t){t=Object.assign({},uQ,t);let r=[],n=!1,o=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let s=0;s<e.length;s++)if(e[s]==="<"&&e[s+1]==="?"){if(s+=2,s=Xw(e,s),s.err)return s}else if(e[s]==="<"){let i=s;if(s++,e[s]==="!"){s=Zw(e,s);continue}else{let a=!1;e[s]==="/"&&(a=!0,s++);let c="";for(;s<e.length&&e[s]!==">"&&e[s]!==" "&&e[s]!=="	"&&e[s]!==`
`&&e[s]!=="\r";s++)c+=e[s];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),s--),!yQ(c)){let u;return c.trim().length===0?u="Invalid space after '<'.":u="Tag '"+c+"' is an invalid name.",ie("InvalidTag",u,Pe(e,s))}let d=mQ(e,s);if(d===!1)return ie("InvalidAttr","Attributes for '"+c+"' have open quote.",Pe(e,s));let l=d.value;if(s=d.index,l[l.length-1]==="/"){let u=s-l.length;l=l.substring(0,l.length-1);let p=eC(l,t);if(p===!0)n=!0;else return ie(p.err.code,p.err.msg,Pe(e,u+p.err.line))}else if(a)if(d.tagClosed){if(l.trim().length>0)return ie("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",Pe(e,i));{let u=r.pop();if(c!==u.tagName){let p=Pe(e,u.tagStartPos);return ie("InvalidTag","Expected closing tag '"+u.tagName+"' (opened in line "+p.line+", col "+p.col+") instead of closing tag '"+c+"'.",Pe(e,i))}r.length==0&&(o=!0)}}else return ie("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",Pe(e,s));else{let u=eC(l,t);if(u!==!0)return ie(u.err.code,u.err.msg,Pe(e,s-l.length+u.err.line));if(o===!0)return ie("InvalidXml","Multiple possible root nodes found.",Pe(e,s));t.unpairedTags.indexOf(c)!==-1||r.push({tagName:c,tagStartPos:i}),n=!0}for(s++;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="!"){s++,s=Zw(e,s);continue}else if(e[s+1]==="?"){if(s=Xw(e,++s),s.err)return s}else break;else if(e[s]==="&"){let u=vQ(e,s);if(u==-1)return ie("InvalidChar","char '&' is not expected.",Pe(e,s));s=u}else if(o===!0&&!Yw(e[s]))return ie("InvalidXml","Extra text at the end",Pe(e,s));e[s]==="<"&&s--}}else{if(Yw(e[s]))continue;return ie("InvalidChar","char '"+e[s]+"' is not expected.",Pe(e,s))}if(n){if(r.length==1)return ie("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",Pe(e,r[0].tagStartPos));if(r.length>0)return ie("InvalidXml","Invalid '"+JSON.stringify(r.map(s=>s.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return ie("InvalidXml","Start tag expected.",1);return!0};function Yw(e){return e===" "||e==="	"||e===`
`||e==="\r"}function Xw(e,t){let r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){let n=e.substr(r,t-r);if(t>5&&n==="xml")return ie("InvalidXml","XML declaration allowed only at the start of the document.",Pe(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function Zw(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}var pQ='"',fQ="'";function mQ(e,t){let r="",n="",o=!1;for(;t<e.length;t++){if(e[t]===pQ||e[t]===fQ)n===""?n=e[t]:n!==e[t]||(n="");else if(e[t]===">"&&n===""){o=!0;break}r+=e[t]}return n!==""?!1:{value:r,index:t,tagClosed:o}}var gQ=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function eC(e,t){let r=Su.getAllMatches(e,gQ),n={};for(let o=0;o<r.length;o++){if(r[o][1].length===0)return ie("InvalidAttr","Attribute '"+r[o][2]+"' has no space in starting.",Po(r[o]));if(r[o][3]!==void 0&&r[o][4]===void 0)return ie("InvalidAttr","Attribute '"+r[o][2]+"' is without value.",Po(r[o]));if(r[o][3]===void 0&&!t.allowBooleanAttributes)return ie("InvalidAttr","boolean attribute '"+r[o][2]+"' is not allowed.",Po(r[o]));let s=r[o][2];if(!_Q(s))return ie("InvalidAttr","Attribute '"+s+"' is an invalid name.",Po(r[o]));if(!n.hasOwnProperty(s))n[s]=1;else return ie("InvalidAttr","Attribute '"+s+"' is repeated.",Po(r[o]))}return!0}function hQ(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}function vQ(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,hQ(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}function ie(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function _Q(e){return Su.isName(e)}function yQ(e){return Su.isName(e)}function Pe(e,t){let r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function Po(e){return e.startIndex+e[1].length}});var nC=g(bu=>{var rC={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,r){return e}},SQ=function(e){return Object.assign({},rC,e)};bu.buildOptions=SQ;bu.defaultOptions=rC});var sC=g((dse,oC)=>{"use strict";var wu=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,r){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:r})}addChild(t){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child})}};oC.exports=wu});var aC=g((lse,iC)=>{var EQ=ba();function bQ(e,t){let r={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let n=1,o=!1,s=!1,i="";for(;t<e.length;t++)if(e[t]==="<"&&!s){if(o&&PQ(e,t))t+=7,[entityName,val,t]=wQ(e,t+1),val.indexOf("&")===-1&&(r[TQ(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(o&&OQ(e,t))t+=8;else if(o&&RQ(e,t))t+=8;else if(o&&AQ(e,t))t+=9;else if(CQ)s=!0;else throw new Error("Invalid DOCTYPE");n++,i=""}else if(e[t]===">"){if(s?e[t-1]==="-"&&e[t-2]==="-"&&(s=!1,n--):n--,n===0)break}else e[t]==="["?o=!0:i+=e[t];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}function wQ(e,t){let r="";for(;t<e.length&&e[t]!=="'"&&e[t]!=='"';t++)r+=e[t];if(r=r.trim(),r.indexOf(" ")!==-1)throw new Error("External entites are not supported");let n=e[t++],o="";for(;t<e.length&&e[t]!==n;t++)o+=e[t];return[r,o,t]}function CQ(e,t){return e[t+1]==="!"&&e[t+2]==="-"&&e[t+3]==="-"}function PQ(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="N"&&e[t+4]==="T"&&e[t+5]==="I"&&e[t+6]==="T"&&e[t+7]==="Y"}function OQ(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="L"&&e[t+4]==="E"&&e[t+5]==="M"&&e[t+6]==="E"&&e[t+7]==="N"&&e[t+8]==="T"}function RQ(e,t){return e[t+1]==="!"&&e[t+2]==="A"&&e[t+3]==="T"&&e[t+4]==="T"&&e[t+5]==="L"&&e[t+6]==="I"&&e[t+7]==="S"&&e[t+8]==="T"}function AQ(e,t){return e[t+1]==="!"&&e[t+2]==="N"&&e[t+3]==="O"&&e[t+4]==="T"&&e[t+5]==="A"&&e[t+6]==="T"&&e[t+7]==="I"&&e[t+8]==="O"&&e[t+9]==="N"}function TQ(e){if(EQ.isName(e))return e;throw new Error(`Invalid entity name ${e}`)}iC.exports=bQ});var dC=g((use,cC)=>{var IQ=/^[-+]?0x[a-fA-F0-9]+$/,xQ=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var NQ={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function MQ(e,t={}){if(t=Object.assign({},NQ,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(t.hex&&IQ.test(r))return Number.parseInt(r,16);{let n=xQ.exec(r);if(n){let o=n[1],s=n[2],i=DQ(n[3]),a=n[4]||n[6];if(!t.leadingZeros&&s.length>0&&o&&r[2]!==".")return e;if(!t.leadingZeros&&s.length>0&&!o&&r[1]!==".")return e;{let c=Number(r),d=""+c;return d.search(/[eE]/)!==-1||a?t.eNotation?c:e:r.indexOf(".")!==-1?d==="0"&&i===""||d===i||o&&d==="-"+i?c:e:s?i===d||o+i===d?c:e:r===d||r===o+d?c:e}}else return e}}function DQ(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substr(0,e.length-1))),e}cC.exports=MQ});var uC=g((fse,lC)=>{"use strict";var Ru=ba(),Oo=sC(),kQ=aC(),LQ=dC(),pse="<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,Ru.nameRegexp),Cu=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"}},this.addExternalEntities=qQ,this.parseXml=$Q,this.parseTextData=jQ,this.resolveNameSpace=FQ,this.buildAttributesMap=HQ,this.isItStopNode=GQ,this.replaceEntitiesValue=zQ,this.readStopNodeData=QQ,this.saveTextToParentTag=VQ,this.addChild=BQ}};function qQ(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function jQ(e,t,r,n,o,s,i){if(e!==void 0&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){i||(e=this.replaceEntitiesValue(e));let a=this.options.tagValueProcessor(t,e,r,o,s);return a==null?e:typeof a!=typeof e||a!==e?a:this.options.trimValues?Ou(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?Ou(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function FQ(e){if(this.options.removeNSPrefix){let t=e.split(":"),r=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=r+t[1])}return e}var UQ=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function HQ(e,t,r){if(!this.options.ignoreAttributes&&typeof e=="string"){let n=Ru.getAllMatches(e,UQ),o=n.length,s={};for(let i=0;i<o;i++){let a=this.resolveNameSpace(n[i][1]),c=n[i][4],d=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(d=this.options.transformAttributeName(d)),d==="__proto__"&&(d="#__proto__"),c!==void 0){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);let l=this.options.attributeValueProcessor(a,c,t);l==null?s[d]=c:typeof l!=typeof c||l!==c?s[d]=l:s[d]=Ou(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[d]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){let i={};return i[this.options.attributesGroupName]=s,i}return s}}var $Q=function(e){e=e.replace(/\r\n?/g,`
`);let t=new Oo("!xml"),r=t,n="",o="";for(let s=0;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="/"){let a=kr(e,">",s,"Closing Tag is not closed."),c=e.substring(s+2,a).trim();if(this.options.removeNSPrefix){let u=c.indexOf(":");u!==-1&&(c=c.substr(u+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&(n=this.saveTextToParentTag(n,r,o));let d=o.substring(o.lastIndexOf(".")+1);if(c&&this.options.unpairedTags.indexOf(c)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${c}>`);let l=0;d&&this.options.unpairedTags.indexOf(d)!==-1?(l=o.lastIndexOf(".",o.lastIndexOf(".")-1),this.tagsNodeStack.pop()):l=o.lastIndexOf("."),o=o.substring(0,l),r=this.tagsNodeStack.pop(),n="",s=a}else if(e[s+1]==="?"){let a=Pu(e,s,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,o),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let c=new Oo(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,o,a.tagName)),this.addChild(r,c,o)}s=a.closeIndex+1}else if(e.substr(s+1,3)==="!--"){let a=kr(e,"-->",s+4,"Comment is not closed.");if(this.options.commentPropName){let c=e.substring(s+4,a-2);n=this.saveTextToParentTag(n,r,o),r.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}s=a}else if(e.substr(s+1,2)==="!D"){let a=kQ(e,s);this.docTypeEntities=a.entities,s=a.i}else if(e.substr(s+1,2)==="!["){let a=kr(e,"]]>",s,"CDATA is not closed.")-2,c=e.substring(s+9,a);if(n=this.saveTextToParentTag(n,r,o),this.options.cdataPropName)r.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]);else{let d=this.parseTextData(c,r.tagname,o,!0,!1,!0);d==null&&(d=""),r.add(this.options.textNodeName,d)}s=a+2}else{let a=Pu(e,s,this.options.removeNSPrefix),c=a.tagName,d=a.tagExp,l=a.attrExpPresent,u=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,o,!1));let p=r;if(p&&this.options.unpairedTags.indexOf(p.tagname)!==-1&&(r=this.tagsNodeStack.pop(),o=o.substring(0,o.lastIndexOf("."))),c!==t.tagname&&(o+=o?"."+c:c),this.isItStopNode(this.options.stopNodes,o,c)){let f="";if(d.length>0&&d.lastIndexOf("/")===d.length-1)s=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)s=a.closeIndex;else{let S=this.readStopNodeData(e,c,u+1);if(!S)throw new Error(`Unexpected end of ${c}`);s=S.i,f=S.tagContent}let h=new Oo(c);c!==d&&l&&(h[":@"]=this.buildAttributesMap(d,o,c)),f&&(f=this.parseTextData(f,c,o,!0,l,!0,!0)),o=o.substr(0,o.lastIndexOf(".")),h.add(this.options.textNodeName,f),this.addChild(r,h,o)}else{if(d.length>0&&d.lastIndexOf("/")===d.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),d=c):d=d.substr(0,d.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));let f=new Oo(c);c!==d&&l&&(f[":@"]=this.buildAttributesMap(d,o,c)),this.addChild(r,f,o),o=o.substr(0,o.lastIndexOf("."))}else{let f=new Oo(c);this.tagsNodeStack.push(r),c!==d&&l&&(f[":@"]=this.buildAttributesMap(d,o,c)),this.addChild(r,f,o),r=f}n="",s=u}}else n+=e[s];return t.child};function BQ(e,t,r){let n=this.options.updateTag(t.tagname,r,t[":@"]);n===!1||(typeof n=="string"&&(t.tagname=n),e.addChild(t))}var zQ=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){let r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){let r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){let r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function VQ(e,t,r,n){return e&&(n===void 0&&(n=Object.keys(t.child).length===0),e=this.parseTextData(e,t.tagname,r,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,n),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function GQ(e,t,r){let n="*."+r;for(let o in e){let s=e[o];if(n===s||t===s)return!0}return!1}function WQ(e,t,r=">"){let n,o="";for(let s=t;s<e.length;s++){let i=e[s];if(n)i===n&&(n="");else if(i==='"'||i==="'")n=i;else if(i===r[0])if(r[1]){if(e[s+1]===r[1])return{data:o,index:s}}else return{data:o,index:s};else i==="	"&&(i=" ");o+=i}}function kr(e,t,r,n){let o=e.indexOf(t,r);if(o===-1)throw new Error(n);return o+t.length-1}function Pu(e,t,r,n=">"){let o=WQ(e,t+1,n);if(!o)return;let s=o.data,i=o.index,a=s.search(/\s/),c=s,d=!0;if(a!==-1&&(c=s.substr(0,a).replace(/\s\s*$/,""),s=s.substr(a+1)),r){let l=c.indexOf(":");l!==-1&&(c=c.substr(l+1),d=c!==o.data.substr(l+1))}return{tagName:c,tagExp:s,closeIndex:i,attrExpPresent:d}}function QQ(e,t,r){let n=r,o=1;for(;r<e.length;r++)if(e[r]==="<")if(e[r+1]==="/"){let s=kr(e,">",r,`${t} is not closed`);if(e.substring(r+2,s).trim()===t&&(o--,o===0))return{tagContent:e.substring(n,r),i:s};r=s}else if(e[r+1]==="?")r=kr(e,"?>",r+1,"StopNode is not closed.");else if(e.substr(r+1,3)==="!--")r=kr(e,"-->",r+3,"StopNode is not closed.");else if(e.substr(r+1,2)==="![")r=kr(e,"]]>",r,"StopNode is not closed.")-2;else{let s=Pu(e,r,">");s&&((s&&s.tagName)===t&&s.tagExp[s.tagExp.length-1]!=="/"&&o++,r=s.closeIndex)}}function Ou(e,t,r){if(t&&typeof e=="string"){let n=e.trim();return n==="true"?!0:n==="false"?!1:LQ(e,r)}else return Ru.isExist(e)?e:""}lC.exports=Cu});var mC=g(fC=>{"use strict";function KQ(e,t){return pC(e,t)}function pC(e,t,r){let n,o={};for(let s=0;s<e.length;s++){let i=e[s],a=JQ(i),c="";if(r===void 0?c=a:c=r+"."+a,a===t.textNodeName)n===void 0?n=i[a]:n+=""+i[a];else{if(a===void 0)continue;if(i[a]){let d=pC(i[a],t,c),l=XQ(d,t);i[":@"]?YQ(d,i[":@"],c,t):Object.keys(d).length===1&&d[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?d=d[t.textNodeName]:Object.keys(d).length===0&&(t.alwaysCreateTextNode?d[t.textNodeName]="":d=""),o[a]!==void 0&&o.hasOwnProperty(a)?(Array.isArray(o[a])||(o[a]=[o[a]]),o[a].push(d)):t.isArray(a,c,l)?o[a]=[d]:o[a]=d}}}return typeof n=="string"?n.length>0&&(o[t.textNodeName]=n):n!==void 0&&(o[t.textNodeName]=n),o}function JQ(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function YQ(e,t,r,n){if(t){let o=Object.keys(t),s=o.length;for(let i=0;i<s;i++){let a=o[i];n.isArray(a,r+"."+a,!0,!0)?e[a]=[t[a]]:e[a]=t[a]}}}function XQ(e,t){let{textNodeName:r}=t,n=Object.keys(e).length;return!!(n===0||n===1&&(e[r]||typeof e[r]=="boolean"||e[r]===0))}fC.prettify=KQ});var hC=g((gse,gC)=>{var{buildOptions:ZQ}=nC(),eK=uC(),{prettify:tK}=mC(),rK=Eu(),Au=class{constructor(t){this.externalEntities={},this.options=ZQ(t)}parse(t,r){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let s=rK.validate(t,r);if(s!==!0)throw Error(`${s.err.msg}:${s.err.line}:${s.err.col}`)}let n=new eK(this.options);n.addExternalEntities(this.externalEntities);let o=n.parseXml(t);return this.options.preserveOrder||o===void 0?o:tK(o,this.options)}addEntity(t,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=r}};gC.exports=Au});var EC=g((hse,SC)=>{var nK=`
`;function oK(e,t){let r="";return t.format&&t.indentBy.length>0&&(r=nK),_C(e,t,"",r)}function _C(e,t,r,n){let o="",s=!1;for(let i=0;i<e.length;i++){let a=e[i],c=sK(a),d="";if(r.length===0?d=c:d=`${r}.${c}`,c===t.textNodeName){let h=a[c];iK(d,t)||(h=t.tagValueProcessor(c,h),h=yC(h,t)),s&&(o+=n),o+=h,s=!1;continue}else if(c===t.cdataPropName){s&&(o+=n),o+=`<![CDATA[${a[c][0][t.textNodeName]}]]>`,s=!1;continue}else if(c===t.commentPropName){o+=n+`<!--${a[c][0][t.textNodeName]}-->`,s=!0;continue}else if(c[0]==="?"){let h=vC(a[":@"],t),S=c==="?xml"?"":n,y=a[c][0][t.textNodeName];y=y.length!==0?" "+y:"",o+=S+`<${c}${y}${h}?>`,s=!0;continue}let l=n;l!==""&&(l+=t.indentBy);let u=vC(a[":@"],t),p=n+`<${c}${u}`,f=_C(a[c],t,d,l);t.unpairedTags.indexOf(c)!==-1?t.suppressUnpairedNode?o+=p+">":o+=p+"/>":(!f||f.length===0)&&t.suppressEmptyNode?o+=p+"/>":f&&f.endsWith(">")?o+=p+`>${f}${n}</${c}>`:(o+=p+">",f&&n!==""&&(f.includes("/>")||f.includes("</"))?o+=n+t.indentBy+f+n:o+=f,o+=`</${c}>`),s=!0}return o}function sK(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function vC(e,t){let r="";if(e&&!t.ignoreAttributes)for(let n in e){let o=t.attributeValueProcessor(n,e[n]);o=yC(o,t),o===!0&&t.suppressBooleanAttributes?r+=` ${n.substr(t.attributeNamePrefix.length)}`:r+=` ${n.substr(t.attributeNamePrefix.length)}="${o}"`}return r}function iK(e,t){e=e.substr(0,e.length-t.textNodeName.length-1);let r=e.substr(e.lastIndexOf(".")+1);for(let n in t.stopNodes)if(t.stopNodes[n]===e||t.stopNodes[n]==="*."+r)return!0;return!1}function yC(e,t){if(e&&e.length>0&&t.processEntities)for(let r=0;r<t.entities.length;r++){let n=t.entities[r];e=e.replace(n.regex,n.val)}return e}SC.exports=oK});var wC=g((vse,bC)=>{"use strict";var aK=EC(),cK={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function Xt(e){this.options=Object.assign({},cK,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=uK),this.processTextOrObjNode=dK,this.options.format?(this.indentate=lK,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}Xt.prototype.build=function(e){return this.options.preserveOrder?aK(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0).val)};Xt.prototype.j2x=function(e,t){let r="",n="";for(let o in e)if(!(typeof e[o]>"u"))if(e[o]===null)o[0]==="?"?n+=this.indentate(t)+"<"+o+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+o+"/"+this.tagEndChar;else if(e[o]instanceof Date)n+=this.buildTextValNode(e[o],o,"",t);else if(typeof e[o]!="object"){let s=this.isAttribute(o);if(s)r+=this.buildAttrPairStr(s,""+e[o]);else if(o===this.options.textNodeName){let i=this.options.tagValueProcessor(o,""+e[o]);n+=this.replaceEntitiesValue(i)}else n+=this.buildTextValNode(e[o],o,"",t)}else if(Array.isArray(e[o])){let s=e[o].length,i="";for(let a=0;a<s;a++){let c=e[o][a];typeof c>"u"||(c===null?o[0]==="?"?n+=this.indentate(t)+"<"+o+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+o+"/"+this.tagEndChar:typeof c=="object"?this.options.oneListGroup?i+=this.j2x(c,t+1).val:i+=this.processTextOrObjNode(c,o,t):i+=this.buildTextValNode(c,o,"",t))}this.options.oneListGroup&&(i=this.buildObjectNode(i,o,"",t)),n+=i}else if(this.options.attributesGroupName&&o===this.options.attributesGroupName){let s=Object.keys(e[o]),i=s.length;for(let a=0;a<i;a++)r+=this.buildAttrPairStr(s[a],""+e[o][s[a]])}else n+=this.processTextOrObjNode(e[o],o,t);return{attrStr:r,val:n}};Xt.prototype.buildAttrPairStr=function(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&t==="true"?" "+e:" "+e+'="'+t+'"'};function dK(e,t,r){let n=this.j2x(e,r+1);return e[this.options.textNodeName]!==void 0&&Object.keys(e).length===1?this.buildTextValNode(e[this.options.textNodeName],t,n.attrStr,r):this.buildObjectNode(n.val,t,n.attrStr,r)}Xt.prototype.buildObjectNode=function(e,t,r,n){if(e==="")return t[0]==="?"?this.indentate(n)+"<"+t+r+"?"+this.tagEndChar:this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar;{let o="</"+t+this.tagEndChar,s="";return t[0]==="?"&&(s="?",o=""),r&&e.indexOf("<")===-1?this.indentate(n)+"<"+t+r+s+">"+e+o:this.options.commentPropName!==!1&&t===this.options.commentPropName&&s.length===0?this.indentate(n)+`<!--${e}-->`+this.newLine:this.indentate(n)+"<"+t+r+s+this.tagEndChar+e+this.indentate(n)+o}};Xt.prototype.closeTag=function(e){let t="";return this.options.unpairedTags.indexOf(e)!==-1?this.options.suppressUnpairedNode||(t="/"):this.options.suppressEmptyNode?t="/":t=`></${e}`,t};Xt.prototype.buildTextValNode=function(e,t,r,n){if(this.options.cdataPropName!==!1&&t===this.options.cdataPropName)return this.indentate(n)+`<![CDATA[${e}]]>`+this.newLine;if(this.options.commentPropName!==!1&&t===this.options.commentPropName)return this.indentate(n)+`<!--${e}-->`+this.newLine;if(t[0]==="?")return this.indentate(n)+"<"+t+r+"?"+this.tagEndChar;{let o=this.options.tagValueProcessor(t,e);return o=this.replaceEntitiesValue(o),o===""?this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar:this.indentate(n)+"<"+t+r+">"+o+"</"+t+this.tagEndChar}};Xt.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){let r=this.options.entities[t];e=e.replace(r.regex,r.val)}return e};function lK(e){return this.options.indentBy.repeat(e)}function uK(e){return e.startsWith(this.options.attributeNamePrefix)?e.substr(this.attrPrefixLen):!1}bC.exports=Xt});var PC=g((_se,CC)=>{"use strict";var pK=Eu(),fK=hC(),mK=wC();CC.exports={XMLParser:fK,XMLValidator:pK,XMLBuilder:mK}});var xC=g((yse,IC)=>{"use strict";var wa=Object.defineProperty,gK=Object.getOwnPropertyDescriptor,hK=Object.getOwnPropertyNames,vK=Object.prototype.hasOwnProperty,Re=(e,t)=>wa(e,"name",{value:t,configurable:!0}),_K=(e,t)=>{for(var r in t)wa(e,r,{get:t[r],enumerable:!0})},yK=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of hK(t))!vK.call(e,o)&&o!==r&&wa(e,o,{get:()=>t[o],enumerable:!(n=gK(t,o))||n.enumerable});return e},SK=e=>yK(wa({},"__esModule",{value:!0}),e),OC={};_K(OC,{_toBool:()=>bK,_toNum:()=>wK,_toStr:()=>EK,awsExpectUnion:()=>PK,loadRestJsonErrorCode:()=>AK,loadRestXmlErrorCode:()=>NK,parseJsonBody:()=>AC,parseJsonErrorBody:()=>RK,parseXmlBody:()=>TC,parseXmlErrorBody:()=>xK});IC.exports=SK(OC);var EK=Re(e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},"_toStr"),bK=Re(e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},"_toBool"),wK=Re(e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e},"_toNum"),CK=B(),PK=Re(e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,CK.expectUnion)(e)},"awsExpectUnion"),OK=B(),RC=Re((e,t)=>(0,OK.collectBody)(e,t).then(r=>t.utf8Encoder(r)),"collectBodyString"),AC=Re((e,t)=>RC(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),"parseJsonBody"),RK=Re(async(e,t)=>{let r=await AC(e,t);return r.message=r.message??r.Message,r},"parseJsonErrorBody"),AK=Re((e,t)=>{let r=Re((s,i)=>Object.keys(s).find(a=>a.toLowerCase()===i.toLowerCase()),"findKey"),n=Re(s=>{let i=s;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},"sanitizeErrorCode"),o=r(e.headers,"x-amzn-errortype");if(o!==void 0)return n(e.headers[o]);if(t.code!==void 0)return n(t.code);if(t.__type!==void 0)return n(t.__type)},"loadRestJsonErrorCode"),TK=B(),IK=PC(),TC=Re((e,t)=>RC(e,t).then(r=>{if(r.length){let n=new IK.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,d)=>d.trim()===""&&d.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let o;try{o=n.parse(r,!0)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:r}),c}let s="#text",i=Object.keys(o)[0],a=o[i];return a[s]&&(a[i]=a[s],delete a[s]),(0,TK.getValueFromTextNode)(a)}return{}}),"parseXmlBody"),xK=Re(async(e,t)=>{let r=await TC(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},"parseXmlErrorBody"),NK=Re((e,t)=>{var r;if(((r=t?.Error)==null?void 0:r.Code)!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"},"loadRestXmlErrorCode")});var fe=g(Ro=>{"use strict";Object.defineProperty(Ro,"__esModule",{value:!0});var Tu=(Mr(),kt(Nr));Tu.__exportStar(vw(),Ro);Tu.__exportStar(Qw(),Ro);Tu.__exportStar(xC(),Ro)});var Iu=g(Zt=>{"use strict";Object.defineProperty(Zt,"__esModule",{value:!0});Zt.resolveHttpAuthSchemeConfig=Zt.defaultSQSHttpAuthSchemeProvider=Zt.defaultSQSHttpAuthSchemeParametersProvider=void 0;var MK=fe(),NC=at(),DK=async(e,t,r)=>({operation:(0,NC.getSmithyContext)(t).operation,region:await(0,NC.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Zt.defaultSQSHttpAuthSchemeParametersProvider=DK;function kK(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sqs",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}var LK=e=>{let t=[];switch(e.operation){default:t.push(kK(e))}return t};Zt.defaultSQSHttpAuthSchemeProvider=LK;var qK=e=>({...(0,MK.resolveAwsSdkSigV4Config)(e)});Zt.resolveHttpAuthSchemeConfig=qK});var MC=g((bse,jK)=>{jK.exports={name:"@aws-sdk/client-sqs",description:"AWS SDK for JavaScript Sqs Client for Node.js, Browser and React Native",version:"3.577.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sqs","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sqs"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sso-oidc":"3.577.0","@aws-sdk/client-sts":"3.577.0","@aws-sdk/core":"3.576.0","@aws-sdk/credential-provider-node":"3.577.0","@aws-sdk/middleware-host-header":"3.577.0","@aws-sdk/middleware-logger":"3.577.0","@aws-sdk/middleware-recursion-detection":"3.577.0","@aws-sdk/middleware-sdk-sqs":"3.577.0","@aws-sdk/middleware-user-agent":"3.577.0","@aws-sdk/region-config-resolver":"3.577.0","@aws-sdk/types":"3.577.0","@aws-sdk/util-endpoints":"3.577.0","@aws-sdk/util-user-agent-browser":"3.577.0","@aws-sdk/util-user-agent-node":"3.577.0","@smithy/config-resolver":"^3.0.0","@smithy/core":"^2.0.0","@smithy/fetch-http-handler":"^3.0.0","@smithy/hash-node":"^3.0.0","@smithy/invalid-dependency":"^3.0.0","@smithy/md5-js":"^3.0.0","@smithy/middleware-content-length":"^3.0.0","@smithy/middleware-endpoint":"^3.0.0","@smithy/middleware-retry":"^3.0.0","@smithy/middleware-serde":"^3.0.0","@smithy/middleware-stack":"^3.0.0","@smithy/node-config-provider":"^3.0.0","@smithy/node-http-handler":"^3.0.0","@smithy/protocol-http":"^4.0.0","@smithy/smithy-client":"^3.0.0","@smithy/types":"^3.0.0","@smithy/url-parser":"^3.0.0","@smithy/util-base64":"^3.0.0","@smithy/util-body-length-browser":"^3.0.0","@smithy/util-body-length-node":"^3.0.0","@smithy/util-defaults-mode-browser":"^3.0.0","@smithy/util-defaults-mode-node":"^3.0.0","@smithy/util-endpoints":"^2.0.0","@smithy/util-middleware":"^3.0.0","@smithy/util-retry":"^3.0.0","@smithy/util-utf8":"^3.0.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node16":"16.1.3","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=16.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sqs",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sqs"}}});var xu=g((wse,UC)=>{"use strict";var Ca=Object.defineProperty,FK=Object.getOwnPropertyDescriptor,UK=Object.getOwnPropertyNames,HK=Object.prototype.hasOwnProperty,$K=(e,t)=>Ca(e,"name",{value:t,configurable:!0}),BK=(e,t)=>{for(var r in t)Ca(e,r,{get:t[r],enumerable:!0})},zK=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of UK(t))!HK.call(e,o)&&o!==r&&Ca(e,o,{get:()=>t[o],enumerable:!(n=FK(t,o))||n.enumerable});return e},VK=e=>zK(Ca({},"__esModule",{value:!0}),e),DC={};BK(DC,{ENV_CREDENTIAL_SCOPE:()=>FC,ENV_EXPIRATION:()=>jC,ENV_KEY:()=>kC,ENV_SECRET:()=>LC,ENV_SESSION:()=>qC,fromEnv:()=>WK});UC.exports=VK(DC);var GK=Ce(),kC="AWS_ACCESS_KEY_ID",LC="AWS_SECRET_ACCESS_KEY",qC="AWS_SESSION_TOKEN",jC="AWS_CREDENTIAL_EXPIRATION",FC="AWS_CREDENTIAL_SCOPE",WK=$K(e=>async()=>{var t;(t=e?.logger)==null||t.debug("@aws-sdk/credential-provider-env","fromEnv");let r=process.env[kC],n=process.env[LC],o=process.env[qC],s=process.env[jC],i=process.env[FC];if(r&&n)return{accessKeyId:r,secretAccessKey:n,...o&&{sessionToken:o},...s&&{expiration:new Date(s)},...i&&{credentialScope:i}};throw new GK.CredentialsProviderError("Unable to find environment variable credentials.")},"fromEnv")});var Ao=g((Cse,t0)=>{var Ra=Object.defineProperty,QK=Object.getOwnPropertyDescriptor,KK=Object.getOwnPropertyNames,JK=Object.prototype.hasOwnProperty,ae=(e,t)=>Ra(e,"name",{value:t,configurable:!0}),YK=(e,t)=>{for(var r in t)Ra(e,r,{get:t[r],enumerable:!0})},XK=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of KK(t))!JK.call(e,o)&&o!==r&&Ra(e,o,{get:()=>t[o],enumerable:!(n=QK(t,o))||n.enumerable});return e},ZK=e=>XK(Ra({},"__esModule",{value:!0}),e),zC={};YK(zC,{DEFAULT_MAX_RETRIES:()=>QC,DEFAULT_TIMEOUT:()=>WC,ENV_CMDS_AUTH_TOKEN:()=>Du,ENV_CMDS_FULL_URI:()=>Pa,ENV_CMDS_RELATIVE_URI:()=>Oa,Endpoint:()=>YC,fromContainerMetadata:()=>n4,fromInstanceMetadata:()=>C4,getInstanceMetadataEndpoint:()=>ZC,httpRequest:()=>un,providerConfigFromInit:()=>ku});t0.exports=ZK(zC);var e4=require("url"),pt=Ce(),t4=require("buffer"),r4=require("http");function un(e){return new Promise((t,r)=>{var n;let o=(0,r4.request)({method:"GET",...e,hostname:(n=e.hostname)==null?void 0:n.replace(/^\[(.+)\]$/,"$1")});o.on("error",s=>{r(Object.assign(new pt.ProviderError("Unable to connect to instance metadata service"),s)),o.destroy()}),o.on("timeout",()=>{r(new pt.ProviderError("TimeoutError from instance metadata service")),o.destroy()}),o.on("response",s=>{let{statusCode:i=400}=s;(i<200||300<=i)&&(r(Object.assign(new pt.ProviderError("Error response received from instance metadata service"),{statusCode:i})),o.destroy());let a=[];s.on("data",c=>{a.push(c)}),s.on("end",()=>{t(t4.Buffer.concat(a)),o.destroy()})}),o.end()})}ae(un,"httpRequest");var VC=ae(e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string","isImdsCredentials"),GC=ae(e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration)}),"fromImdsCredentials"),WC=1e3,QC=0,ku=ae(({maxRetries:e=QC,timeout:t=WC})=>({maxRetries:e,timeout:t}),"providerConfigFromInit"),Mu=ae((e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r},"retry"),Pa="AWS_CONTAINER_CREDENTIALS_FULL_URI",Oa="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",Du="AWS_CONTAINER_AUTHORIZATION_TOKEN",n4=ae((e={})=>{let{timeout:t,maxRetries:r}=ku(e);return()=>Mu(async()=>{let n=await c4(),o=JSON.parse(await o4(t,n));if(!VC(o))throw new pt.CredentialsProviderError("Invalid response received from instance metadata service.");return GC(o)},r)},"fromContainerMetadata"),o4=ae(async(e,t)=>(process.env[Du]&&(t.headers={...t.headers,Authorization:process.env[Du]}),(await un({...t,timeout:e})).toString()),"requestFromEcsImds"),s4="169.254.170.2",i4={localhost:!0,"127.0.0.1":!0},a4={"http:":!0,"https:":!0},c4=ae(async()=>{if(process.env[Oa])return{hostname:s4,path:process.env[Oa]};if(process.env[Pa]){let e=(0,e4.parse)(process.env[Pa]);if(!e.hostname||!(e.hostname in i4))throw new pt.CredentialsProviderError(`${e.hostname} is not a valid container metadata service hostname`,!1);if(!e.protocol||!(e.protocol in a4))throw new pt.CredentialsProviderError(`${e.protocol} is not a valid container metadata service protocol`,!1);return{...e,port:e.port?parseInt(e.port,10):void 0}}throw new pt.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${Oa} or ${Pa} environment variable is set`,!1)},"getCmdsUri"),KC=class JC extends pt.CredentialsProviderError{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="InstanceMetadataV1FallbackError",Object.setPrototypeOf(this,JC.prototype)}};ae(KC,"InstanceMetadataV1FallbackError");var d4=KC,Lu=Pt(),l4=Or(),YC=(e=>(e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]",e))(YC||{}),u4="AWS_EC2_METADATA_SERVICE_ENDPOINT",p4="ec2_metadata_service_endpoint",f4={environmentVariableSelector:e=>e[u4],configFileSelector:e=>e[p4],default:void 0},XC=(e=>(e.IPv4="IPv4",e.IPv6="IPv6",e))(XC||{}),m4="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",g4="ec2_metadata_service_endpoint_mode",h4={environmentVariableSelector:e=>e[m4],configFileSelector:e=>e[g4],default:"IPv4"},ZC=ae(async()=>(0,l4.parseUrl)(await v4()||await _4()),"getInstanceMetadataEndpoint"),v4=ae(async()=>(0,Lu.loadConfig)(f4)(),"getFromEndpointConfig"),_4=ae(async()=>{let e=await(0,Lu.loadConfig)(h4)();switch(e){case"IPv4":return"http://169.254.169.254";case"IPv6":return"http://[fd00:ec2::254]";default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(XC)}`)}},"getFromEndpointModeConfig"),y4=5*60,S4=5*60,E4="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",HC=ae((e,t)=>{let r=y4+Math.floor(Math.random()*S4),n=new Date(Date.now()+r*1e3);t.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+E4);let o=e.originalExpiration??e.expiration;return{...e,...o?{originalExpiration:o}:{},expiration:n}},"getExtendedInstanceMetadataCredentials"),b4=ae((e,t={})=>{let r=t?.logger||console,n;return async()=>{let o;try{o=await e(),o.expiration&&o.expiration.getTime()<Date.now()&&(o=HC(o,r))}catch(s){if(n)r.warn("Credential renew failed: ",s),o=HC(n,r);else throw s}return n=o,o}},"staticStabilityProvider"),e0="/latest/meta-data/iam/security-credentials/",w4="/latest/api/token",Nu="AWS_EC2_METADATA_V1_DISABLED",$C="ec2_metadata_v1_disabled",BC="x-aws-ec2-metadata-token",C4=ae((e={})=>b4(P4(e),{logger:e.logger}),"fromInstanceMetadata"),P4=ae(e=>{let t=!1,{logger:r,profile:n}=e,{timeout:o,maxRetries:s}=ku(e),i=ae(async(a,c)=>{var d;if(t||((d=c.headers)==null?void 0:d[BC])==null){let p=!1,f=!1,h=await(0,Lu.loadConfig)({environmentVariableSelector:S=>{let y=S[Nu];if(f=!!y&&y!=="false",y===void 0)throw new pt.CredentialsProviderError(`${Nu} not set in env, checking config file next.`);return f},configFileSelector:S=>{let y=S[$C];return p=!!y&&y!=="false",p},default:!1},{profile:n})();if(e.ec2MetadataV1Disabled||h){let S=[];throw e.ec2MetadataV1Disabled&&S.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),p&&S.push(`config file profile (${$C})`),f&&S.push(`process environment variable (${Nu})`),new d4(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${S.join(", ")}].`)}}let u=(await Mu(async()=>{let p;try{p=await R4(c)}catch(f){throw f.statusCode===401&&(t=!1),f}return p},a)).trim();return Mu(async()=>{let p;try{p=await A4(u,c)}catch(f){throw f.statusCode===401&&(t=!1),f}return p},a)},"getCredentials");return async()=>{let a=await ZC();if(t)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),i(s,{...a,timeout:o});{let c;try{c=(await O4({...a,timeout:o})).toString()}catch(d){if(d?.statusCode===400)throw Object.assign(d,{message:"EC2 Metadata token request returned error"});return(d.message==="TimeoutError"||[403,404,405].includes(d.statusCode))&&(t=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),i(s,{...a,timeout:o})}return i(s,{...a,headers:{[BC]:c},timeout:o})}}},"getInstanceImdsProvider"),O4=ae(async e=>un({...e,path:w4,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),"getMetadataToken"),R4=ae(async e=>(await un({...e,path:e0})).toString(),"getProfile"),A4=ae(async(e,t)=>{let r=JSON.parse((await un({...t,path:e0+e})).toString());if(!VC(r))throw new pt.CredentialsProviderError("Invalid response received from instance metadata service.");return GC(r)},"getCredentialsFromProfile")});var r0=g(Aa=>{"use strict";Object.defineProperty(Aa,"__esModule",{value:!0});Aa.checkUrl=void 0;var T4=Ce(),I4="169.254.170.2",x4="169.254.170.23",N4="[fd00:ec2::23]",M4=e=>{if(e.protocol!=="https:"&&!(e.hostname===I4||e.hostname===x4||e.hostname===N4)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let t=e.hostname.split("."),r=n=>{let o=parseInt(n,10);return 0<=o&&o<=255};if(t[0]==="127"&&r(t[1])&&r(t[2])&&r(t[3])&&t.length===4)return}throw new T4.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`)}};Aa.checkUrl=M4});var n0=g(pn=>{"use strict";Object.defineProperty(pn,"__esModule",{value:!0});pn.getCredentials=pn.createGetRequest=void 0;var qu=Ce(),D4=ue(),k4=B(),L4=Kl();function q4(e){return new D4.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((t,[r,n])=>(t[r]=n,t),{}),fragment:e.hash})}pn.createGetRequest=q4;async function j4(e){let t=e?.headers["content-type"]??e?.headers["Content-Type"]??"";t.includes("json")||console.warn("HTTP credential provider response header content-type was not application/json. Observed: "+t+".");let n=await(0,L4.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let o=JSON.parse(n);if(typeof o.AccessKeyId!="string"||typeof o.SecretAccessKey!="string"||typeof o.Token!="string"||typeof o.Expiration!="string")throw new qu.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }");return{accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.Token,expiration:(0,k4.parseRfc3339DateTime)(o.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let o={};try{o=JSON.parse(n)}catch{}throw Object.assign(new qu.CredentialsProviderError(`Server responded with status: ${e.statusCode}`),{Code:o.Code,Message:o.Message})}throw new qu.CredentialsProviderError(`Server responded with status: ${e.statusCode}`)}pn.getCredentials=j4});var o0=g(Ta=>{"use strict";Object.defineProperty(Ta,"__esModule",{value:!0});Ta.retryWrapper=void 0;var F4=(e,t,r)=>async()=>{for(let n=0;n<t;++n)try{return await e()}catch{await new Promise(s=>setTimeout(s,r))}return await e()};Ta.retryWrapper=F4});var a0=g(Ia=>{"use strict";Object.defineProperty(Ia,"__esModule",{value:!0});Ia.fromHttp=void 0;var U4=(Mr(),kt(Nr)),H4=xr(),s0=Ce(),$4=U4.__importDefault(require("fs/promises")),B4=r0(),i0=n0(),z4=o0(),V4="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",G4="http://169.254.170.2",W4="AWS_CONTAINER_CREDENTIALS_FULL_URI",Q4="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",K4="AWS_CONTAINER_AUTHORIZATION_TOKEN",J4=e=>{e.logger?.debug("@aws-sdk/credential-provider-http","fromHttp");let t,r=e.awsContainerCredentialsRelativeUri??process.env[V4],n=e.awsContainerCredentialsFullUri??process.env[W4],o=e.awsContainerAuthorizationToken??process.env[K4],s=e.awsContainerAuthorizationTokenFile??process.env[Q4];if(r&&n&&(console.warn("AWS SDK HTTP credentials provider:","you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),console.warn("awsContainerCredentialsFullUri will take precedence.")),o&&s&&(console.warn("AWS SDK HTTP credentials provider:","you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),console.warn("awsContainerAuthorizationToken will take precedence.")),n)t=n;else if(r)t=`${G4}${r}`;else throw new s0.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`);let i=new URL(t);(0,B4.checkUrl)(i);let a=new H4.NodeHttpHandler({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return(0,z4.retryWrapper)(async()=>{let c=(0,i0.createGetRequest)(i);o?c.headers.Authorization=o:s&&(c.headers.Authorization=(await $4.default.readFile(s)).toString());try{let d=await a.handle(c);return(0,i0.getCredentials)(d.response)}catch(d){throw new s0.CredentialsProviderError(String(d))}},e.maxRetries??3,e.timeout??1e3)};Ia.fromHttp=J4});var c0=g(xa=>{"use strict";Object.defineProperty(xa,"__esModule",{value:!0});xa.fromHttp=void 0;var Y4=a0();Object.defineProperty(xa,"fromHttp",{enumerable:!0,get:function(){return Y4.fromHttp}})});var ju=g(er=>{"use strict";Object.defineProperty(er,"__esModule",{value:!0});er.resolveHttpAuthSchemeConfig=er.defaultSSOHttpAuthSchemeProvider=er.defaultSSOHttpAuthSchemeParametersProvider=void 0;var X4=fe(),d0=at(),Z4=async(e,t,r)=>({operation:(0,d0.getSmithyContext)(t).operation,region:await(0,d0.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});er.defaultSSOHttpAuthSchemeParametersProvider=Z4;function e6(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function Na(e){return{schemeId:"smithy.api#noAuth"}}var t6=e=>{let t=[];switch(e.operation){case"GetRoleCredentials":{t.push(Na(e));break}case"ListAccountRoles":{t.push(Na(e));break}case"ListAccounts":{t.push(Na(e));break}case"Logout":{t.push(Na(e));break}default:t.push(e6(e))}return t};er.defaultSSOHttpAuthSchemeProvider=t6;var r6=e=>({...(0,X4.resolveAwsSdkSigV4Config)(e)});er.resolveHttpAuthSchemeConfig=r6});var l0=g((xse,n6)=>{n6.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.577.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/core":"3.576.0","@aws-sdk/middleware-host-header":"3.577.0","@aws-sdk/middleware-logger":"3.577.0","@aws-sdk/middleware-recursion-detection":"3.577.0","@aws-sdk/middleware-user-agent":"3.577.0","@aws-sdk/region-config-resolver":"3.577.0","@aws-sdk/types":"3.577.0","@aws-sdk/util-endpoints":"3.577.0","@aws-sdk/util-user-agent-browser":"3.577.0","@aws-sdk/util-user-agent-node":"3.577.0","@smithy/config-resolver":"^3.0.0","@smithy/core":"^2.0.0","@smithy/fetch-http-handler":"^3.0.0","@smithy/hash-node":"^3.0.0","@smithy/invalid-dependency":"^3.0.0","@smithy/middleware-content-length":"^3.0.0","@smithy/middleware-endpoint":"^3.0.0","@smithy/middleware-retry":"^3.0.0","@smithy/middleware-serde":"^3.0.0","@smithy/middleware-stack":"^3.0.0","@smithy/node-config-provider":"^3.0.0","@smithy/node-http-handler":"^3.0.0","@smithy/protocol-http":"^4.0.0","@smithy/smithy-client":"^3.0.0","@smithy/types":"^3.0.0","@smithy/url-parser":"^3.0.0","@smithy/util-base64":"^3.0.0","@smithy/util-body-length-browser":"^3.0.0","@smithy/util-body-length-node":"^3.0.0","@smithy/util-defaults-mode-browser":"^3.0.0","@smithy/util-defaults-mode-node":"^3.0.0","@smithy/util-endpoints":"^2.0.0","@smithy/util-middleware":"^3.0.0","@smithy/util-retry":"^3.0.0","@smithy/util-utf8":"^3.0.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node16":"16.1.3","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=16.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var To=g((Nse,v0)=>{"use strict";var Ma=Object.defineProperty,o6=Object.getOwnPropertyDescriptor,s6=Object.getOwnPropertyNames,i6=Object.prototype.hasOwnProperty,p0=(e,t)=>Ma(e,"name",{value:t,configurable:!0}),a6=(e,t)=>{for(var r in t)Ma(e,r,{get:t[r],enumerable:!0})},c6=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of s6(t))!i6.call(e,o)&&o!==r&&Ma(e,o,{get:()=>t[o],enumerable:!(n=o6(t,o))||n.enumerable});return e},d6=e=>c6(Ma({},"__esModule",{value:!0}),e),f0={};a6(f0,{UA_APP_ID_ENV_NAME:()=>g0,UA_APP_ID_INI_NAME:()=>h0,crtAvailability:()=>m0,defaultUserAgent:()=>p6});v0.exports=d6(f0);var l6=Pt(),u0=require("os"),Fu=require("process"),m0={isCrtAvailable:!1},u6=p0(()=>m0.isCrtAvailable?["md/crt-avail"]:null,"isCrtAvailable"),g0="AWS_SDK_UA_APP_ID",h0="sdk-ua-app-id",p6=p0(({serviceId:e,clientVersion:t})=>{let r=[["aws-sdk-js",t],["ua","2.0"],[`os/${(0,u0.platform)()}`,(0,u0.release)()],["lang/js"],["md/nodejs",`${Fu.versions.node}`]],n=u6();n&&r.push(n),e&&r.push([`api/${e}`,t]),Fu.env.AWS_EXECUTION_ENV&&r.push([`exec-env/${Fu.env.AWS_EXECUTION_ENV}`]);let o=(0,l6.loadConfig)({environmentVariableSelector:i=>i[g0],configFileSelector:i=>i[h0],default:void 0})(),s;return async()=>{if(!s){let i=await o;s=i?[...r,[`app/${i}`]]:[...r]}return s}},"defaultUserAgent")});var Io=g((Dse,b0)=>{var Da=Object.defineProperty,f6=Object.getOwnPropertyDescriptor,m6=Object.getOwnPropertyNames,g6=Object.prototype.hasOwnProperty,y0=(e,t)=>Da(e,"name",{value:t,configurable:!0}),h6=(e,t)=>{for(var r in t)Da(e,r,{get:t[r],enumerable:!0})},v6=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of m6(t))!g6.call(e,o)&&o!==r&&Da(e,o,{get:()=>t[o],enumerable:!(n=f6(t,o))||n.enumerable});return e},_6=e=>v6(Da({},"__esModule",{value:!0}),e),S0={};h6(S0,{Hash:()=>E6});b0.exports=_6(S0);var Uu=rn(),y6=Oe(),S6=require("buffer"),_0=require("crypto"),E0=class{constructor(t,r){this.algorithmIdentifier=t,this.secret=r,this.reset()}update(t,r){this.hash.update((0,y6.toUint8Array)(Hu(t,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,_0.createHmac)(this.algorithmIdentifier,Hu(this.secret)):(0,_0.createHash)(this.algorithmIdentifier)}};y0(E0,"Hash");var E6=E0;function Hu(e,t){return S6.Buffer.isBuffer(e)?e:typeof e=="string"?(0,Uu.fromString)(e,t):ArrayBuffer.isView(e)?(0,Uu.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength):(0,Uu.fromArrayBuffer)(e)}y0(Hu,"castSourceData")});var xo=g((kse,P0)=>{var ka=Object.defineProperty,b6=Object.getOwnPropertyDescriptor,w6=Object.getOwnPropertyNames,C6=Object.prototype.hasOwnProperty,P6=(e,t)=>ka(e,"name",{value:t,configurable:!0}),O6=(e,t)=>{for(var r in t)ka(e,r,{get:t[r],enumerable:!0})},R6=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of w6(t))!C6.call(e,o)&&o!==r&&ka(e,o,{get:()=>t[o],enumerable:!(n=b6(t,o))||n.enumerable});return e},A6=e=>R6(ka({},"__esModule",{value:!0}),e),C0={};O6(C0,{calculateBodyLength:()=>T6});P0.exports=A6(C0);var w0=require("fs"),T6=P6(e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(typeof e.path=="string"||Buffer.isBuffer(e.path))return(0,w0.lstatSync)(e.path).size;if(typeof e.fd=="number")return(0,w0.fstatSync)(e.fd).size;throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")});var U0=g(La=>{"use strict";Object.defineProperty(La,"__esModule",{value:!0});La.ruleSet=void 0;var L0="required",ke="fn",Le="argv",gn="ref",O0=!0,R0="isSet",No="booleanEquals",fn="error",mn="endpoint",Rt="tree",$u="PartitionResult",Bu="getAttr",A0={[L0]:!1,type:"String"},T0={[L0]:!0,default:!1,type:"Boolean"},I0={[gn]:"Endpoint"},q0={[ke]:No,[Le]:[{[gn]:"UseFIPS"},!0]},j0={[ke]:No,[Le]:[{[gn]:"UseDualStack"},!0]},De={},x0={[ke]:Bu,[Le]:[{[gn]:$u},"supportsFIPS"]},F0={[gn]:$u},N0={[ke]:No,[Le]:[!0,{[ke]:Bu,[Le]:[F0,"supportsDualStack"]}]},M0=[q0],D0=[j0],k0=[{[gn]:"Region"}],I6={version:"1.0",parameters:{Region:A0,UseDualStack:T0,UseFIPS:T0,Endpoint:A0},rules:[{conditions:[{[ke]:R0,[Le]:[I0]}],rules:[{conditions:M0,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:fn},{conditions:D0,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:fn},{endpoint:{url:I0,properties:De,headers:De},type:mn}],type:Rt},{conditions:[{[ke]:R0,[Le]:k0}],rules:[{conditions:[{[ke]:"aws.partition",[Le]:k0,assign:$u}],rules:[{conditions:[q0,j0],rules:[{conditions:[{[ke]:No,[Le]:[O0,x0]},N0],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:De,headers:De},type:mn}],type:Rt},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:fn}],type:Rt},{conditions:M0,rules:[{conditions:[{[ke]:No,[Le]:[x0,O0]}],rules:[{conditions:[{[ke]:"stringEquals",[Le]:[{[ke]:Bu,[Le]:[F0,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:De,headers:De},type:mn},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:De,headers:De},type:mn}],type:Rt},{error:"FIPS is enabled but this partition does not support FIPS",type:fn}],type:Rt},{conditions:D0,rules:[{conditions:[N0],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:De,headers:De},type:mn}],type:Rt},{error:"DualStack is enabled but this partition does not support DualStack",type:fn}],type:Rt},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:De,headers:De},type:mn}],type:Rt}],type:Rt},{error:"Invalid Configuration: Missing Region",type:fn}]};La.ruleSet=I6});var $0=g(qa=>{"use strict";Object.defineProperty(qa,"__esModule",{value:!0});qa.defaultEndpointResolver=void 0;var x6=Zr(),H0=Yr(),N6=U0(),M6=(e,t={})=>(0,H0.resolveEndpoint)(N6.ruleSet,{endpointParams:e,logger:t.logger});qa.defaultEndpointResolver=M6;H0.customEndpointFunctions.aws=x6.awsEndpointFunctions});var V0=g(ja=>{"use strict";Object.defineProperty(ja,"__esModule",{value:!0});ja.getRuntimeConfig=void 0;var D6=fe(),k6=ut(),L6=B(),q6=Or(),B0=Kt(),z0=Oe(),j6=ju(),F6=$0(),U6=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??B0.fromBase64,base64Encoder:e?.base64Encoder??B0.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??F6.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??j6.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new D6.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new k6.NoAuthSigner}],logger:e?.logger??new L6.NoOpLogger,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??q6.parseUrl,utf8Decoder:e?.utf8Decoder??z0.fromUtf8,utf8Encoder:e?.utf8Encoder??z0.toUtf8});ja.getRuntimeConfig=U6});var Do=g((Fse,Y0)=>{var H6=Object.create,Mo=Object.defineProperty,$6=Object.getOwnPropertyDescriptor,B6=Object.getOwnPropertyNames,z6=Object.getPrototypeOf,V6=Object.prototype.hasOwnProperty,zu=(e,t)=>Mo(e,"name",{value:t,configurable:!0}),G6=(e,t)=>{for(var r in t)Mo(e,r,{get:t[r],enumerable:!0})},K0=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of B6(t))!V6.call(e,o)&&o!==r&&Mo(e,o,{get:()=>t[o],enumerable:!(n=$6(t,o))||n.enumerable});return e},W6=(e,t,r)=>(r=e!=null?H6(z6(e)):{},K0(t||!e||!e.__esModule?Mo(r,"default",{value:e,enumerable:!0}):r,e)),Q6=e=>K0(Mo({},"__esModule",{value:!0}),e),J0={};G6(J0,{resolveDefaultsModeConfig:()=>o8});Y0.exports=Q6(J0);var K6=ct(),G0=Pt(),J6=Ce(),Y6="AWS_EXECUTION_ENV",W0="AWS_REGION",Q0="AWS_DEFAULT_REGION",X6="AWS_EC2_METADATA_DISABLED",Z6=["in-region","cross-region","mobile","standard","legacy"],e8="/latest/meta-data/placement/region",t8="AWS_DEFAULTS_MODE",r8="defaults_mode",n8={environmentVariableSelector:e=>e[t8],configFileSelector:e=>e[r8],default:"legacy"},o8=zu(({region:e=(0,G0.loadConfig)(K6.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=(0,G0.loadConfig)(n8)}={})=>(0,J6.memoize)(async()=>{let r=typeof t=="function"?await t():t;switch(r?.toLowerCase()){case"auto":return s8(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${Z6.join(", ")}, got ${r}`)}}),"resolveDefaultsModeConfig"),s8=zu(async e=>{if(e){let t=typeof e=="function"?await e():e,r=await i8();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},"resolveNodeDefaultsModeAuto"),i8=zu(async()=>{if(process.env[Y6]&&(process.env[W0]||process.env[Q0]))return process.env[W0]??process.env[Q0];if(!process.env[X6])try{let{getInstanceMetadataEndpoint:e,httpRequest:t}=await Promise.resolve().then(()=>W6(Ao())),r=await e();return(await t({...r,path:e8})).toString()}catch{}},"inferPhysicalRegion")});var eP=g(Ua=>{"use strict";Object.defineProperty(Ua,"__esModule",{value:!0});Ua.getRuntimeConfig=void 0;var a8=(Mr(),kt(Nr)),c8=a8.__importDefault(l0()),d8=fe(),l8=To(),Fa=ct(),u8=Io(),X0=lt(),ko=Pt(),Z0=xr(),p8=xo(),f8=tn(),m8=V0(),g8=B(),h8=Do(),v8=B(),_8=e=>{(0,v8.emitWarningIfUnsupportedVersion)(process.version);let t=(0,h8.resolveDefaultsModeConfig)(e),r=()=>t().then(g8.loadConfigsForDefaultMode),n=(0,m8.getRuntimeConfig)(e);return(0,d8.emitWarningIfUnsupportedVersion)(process.version),{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??p8.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,l8.defaultUserAgent)({serviceId:n.serviceId,clientVersion:c8.default.version}),maxAttempts:e?.maxAttempts??(0,ko.loadConfig)(X0.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:e?.region??(0,ko.loadConfig)(Fa.NODE_REGION_CONFIG_OPTIONS,Fa.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:Z0.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,ko.loadConfig)({...X0.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||f8.DEFAULT_RETRY_MODE}),sha256:e?.sha256??u8.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Z0.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,ko.loadConfig)(Fa.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,ko.loadConfig)(Fa.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};Ua.getRuntimeConfig=_8});var Lo=g((Hse,iP)=>{"use strict";var Ha=Object.defineProperty,y8=Object.getOwnPropertyDescriptor,S8=Object.getOwnPropertyNames,E8=Object.prototype.hasOwnProperty,hn=(e,t)=>Ha(e,"name",{value:t,configurable:!0}),b8=(e,t)=>{for(var r in t)Ha(e,r,{get:t[r],enumerable:!0})},w8=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of S8(t))!E8.call(e,o)&&o!==r&&Ha(e,o,{get:()=>t[o],enumerable:!(n=y8(t,o))||n.enumerable});return e},C8=e=>w8(Ha({},"__esModule",{value:!0}),e),rP={};b8(rP,{NODE_REGION_CONFIG_FILE_OPTIONS:()=>A8,NODE_REGION_CONFIG_OPTIONS:()=>R8,REGION_ENV_NAME:()=>nP,REGION_INI_NAME:()=>oP,getAwsRegionExtensionConfiguration:()=>P8,resolveAwsRegionExtensionConfiguration:()=>O8,resolveRegionConfig:()=>T8});iP.exports=C8(rP);var P8=hn(e=>{let t=hn(async()=>{if(e.region===void 0)throw new Error("Region is missing from runtimeConfig");let r=e.region;return typeof r=="string"?r:r()},"runtimeConfigRegion");return{setRegion(r){t=r},region(){return t}}},"getAwsRegionExtensionConfiguration"),O8=hn(e=>({region:e.region()}),"resolveAwsRegionExtensionConfiguration"),nP="AWS_REGION",oP="region",R8={environmentVariableSelector:e=>e[nP],configFileSelector:e=>e[oP],default:()=>{throw new Error("Region is missing")}},A8={preferredFile:"credentials"},sP=hn(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),tP=hn(e=>sP(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),T8=hn(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if(typeof t=="string")return tP(t);let n=await t();return tP(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return sP(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}},"resolveRegionConfig")});var JP=g((Kse,KP)=>{"use strict";var Ba=Object.defineProperty,I8=Object.getOwnPropertyDescriptor,x8=Object.getOwnPropertyNames,N8=Object.prototype.hasOwnProperty,k=(e,t)=>Ba(e,"name",{value:t,configurable:!0}),M8=(e,t)=>{for(var r in t)Ba(e,r,{get:t[r],enumerable:!0})},D8=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of x8(t))!N8.call(e,o)&&o!==r&&Ba(e,o,{get:()=>t[o],enumerable:!(n=I8(t,o))||n.enumerable});return e},k8=e=>D8(Ba({},"__esModule",{value:!0}),e),fP={};M8(fP,{GetRoleCredentialsCommand:()=>$P,GetRoleCredentialsRequestFilterSensitiveLog:()=>TP,GetRoleCredentialsResponseFilterSensitiveLog:()=>xP,InvalidRequestException:()=>yP,ListAccountRolesCommand:()=>Vu,ListAccountRolesRequestFilterSensitiveLog:()=>NP,ListAccountsCommand:()=>Gu,ListAccountsRequestFilterSensitiveLog:()=>MP,LogoutCommand:()=>GP,LogoutRequestFilterSensitiveLog:()=>DP,ResourceNotFoundException:()=>bP,RoleCredentialsFilterSensitiveLog:()=>IP,SSO:()=>QP,SSOClient:()=>Va,SSOServiceException:()=>vn,TooManyRequestsException:()=>PP,UnauthorizedException:()=>AP,__Client:()=>R.Client,paginateListAccountRoles:()=>a5,paginateListAccounts:()=>c5});KP.exports=k8(fP);var aP=Wn(),L8=Qn(),q8=Kn(),cP=oo(),j8=ct(),At=ut(),F8=bo(),jo=Ar(),dP=lt(),lP=ju(),U8=k(e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),"resolveClientEndpointParameters"),za={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},H8=eP(),uP=Lo(),pP=ue(),R=B(),$8=k(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),B8=k(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),$a=k(e=>e,"asPartial"),z8=k((e,t)=>{let r={...$a((0,uP.getAwsRegionExtensionConfiguration)(e)),...$a((0,R.getDefaultExtensionConfiguration)(e)),...$a((0,pP.getHttpHandlerExtensionConfiguration)(e)),...$a($8(e))};return t.forEach(n=>n.configure(r)),{...e,...(0,uP.resolveAwsRegionExtensionConfiguration)(r),...(0,R.resolveDefaultRuntimeConfig)(r),...(0,pP.resolveHttpHandlerRuntimeConfig)(r),...B8(r)}},"resolveRuntimeExtensions"),mP=class extends R.Client{constructor(...[t]){let r=(0,H8.getRuntimeConfig)(t||{}),n=U8(r),o=(0,j8.resolveRegionConfig)(n),s=(0,jo.resolveEndpointConfig)(o),i=(0,dP.resolveRetryConfig)(s),a=(0,aP.resolveHostHeaderConfig)(i),c=(0,cP.resolveUserAgentConfig)(a),d=(0,lP.resolveHttpAuthSchemeConfig)(c),l=z8(d,t?.extensions||[]);super(l),this.config=l,this.middlewareStack.use((0,dP.getRetryPlugin)(this.config)),this.middlewareStack.use((0,F8.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,aP.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,L8.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,q8.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,cP.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,At.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:this.getDefaultHttpAuthSchemeParametersProvider(),identityProviderConfigProvider:this.getIdentityProviderConfigProvider()})),this.middlewareStack.use((0,At.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}getDefaultHttpAuthSchemeParametersProvider(){return lP.defaultSSOHttpAuthSchemeParametersProvider}getIdentityProviderConfigProvider(){return async t=>new At.DefaultIdentityProviderConfig({"aws.auth#sigv4":t.credentials})}};k(mP,"SSOClient");var Va=mP,Ga=Rr(),Bse=Qe(),gP=class hP extends R.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,hP.prototype)}};k(gP,"SSOServiceException");var vn=gP,vP=class _P extends vn{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,_P.prototype)}};k(vP,"InvalidRequestException");var yP=vP,SP=class EP extends vn{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,EP.prototype)}};k(SP,"ResourceNotFoundException");var bP=SP,wP=class CP extends vn{constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,CP.prototype)}};k(wP,"TooManyRequestsException");var PP=wP,OP=class RP extends vn{constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),this.name="UnauthorizedException",this.$fault="client",Object.setPrototypeOf(this,RP.prototype)}};k(OP,"UnauthorizedException");var AP=OP,TP=k(e=>({...e,...e.accessToken&&{accessToken:R.SENSITIVE_STRING}}),"GetRoleCredentialsRequestFilterSensitiveLog"),IP=k(e=>({...e,...e.secretAccessKey&&{secretAccessKey:R.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:R.SENSITIVE_STRING}}),"RoleCredentialsFilterSensitiveLog"),xP=k(e=>({...e,...e.roleCredentials&&{roleCredentials:IP(e.roleCredentials)}}),"GetRoleCredentialsResponseFilterSensitiveLog"),NP=k(e=>({...e,...e.accessToken&&{accessToken:R.SENSITIVE_STRING}}),"ListAccountRolesRequestFilterSensitiveLog"),MP=k(e=>({...e,...e.accessToken&&{accessToken:R.SENSITIVE_STRING}}),"ListAccountsRequestFilterSensitiveLog"),DP=k(e=>({...e,...e.accessToken&&{accessToken:R.SENSITIVE_STRING}}),"LogoutRequestFilterSensitiveLog"),qo=fe(),V8=k(async(e,t)=>{let r=(0,At.requestBuilder)(e,t),n=(0,R.map)({},Qa,{[Ja]:e[Ka]});r.bp("/federation/credentials");let o=(0,R.map)({[s5]:[,(0,R.expectNonNull)(e[o5],"roleName")],[LP]:[,(0,R.expectNonNull)(e[kP],"accountId")]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_GetRoleCredentialsCommand"),G8=k(async(e,t)=>{let r=(0,At.requestBuilder)(e,t),n=(0,R.map)({},Qa,{[Ja]:e[Ka]});r.bp("/assignment/roles");let o=(0,R.map)({[UP]:[,e[FP]],[jP]:[()=>e.maxResults!==void 0,()=>e[qP].toString()],[LP]:[,(0,R.expectNonNull)(e[kP],"accountId")]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_ListAccountRolesCommand"),W8=k(async(e,t)=>{let r=(0,At.requestBuilder)(e,t),n=(0,R.map)({},Qa,{[Ja]:e[Ka]});r.bp("/assignment/accounts");let o=(0,R.map)({[UP]:[,e[FP]],[jP]:[()=>e.maxResults!==void 0,()=>e[qP].toString()]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_ListAccountsCommand"),Q8=k(async(e,t)=>{let r=(0,At.requestBuilder)(e,t),n=(0,R.map)({},Qa,{[Ja]:e[Ka]});return r.bp("/logout"),r.m("POST").h(n).b(void 0),r.build()},"se_LogoutCommand"),K8=k(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Wa(e,t);let r=(0,R.map)({$metadata:tr(e)}),n=(0,R.expectNonNull)((0,R.expectObject)(await(0,qo.parseJsonBody)(e.body,t)),"body"),o=(0,R.take)(n,{roleCredentials:R._json});return Object.assign(r,o),r},"de_GetRoleCredentialsCommand"),J8=k(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Wa(e,t);let r=(0,R.map)({$metadata:tr(e)}),n=(0,R.expectNonNull)((0,R.expectObject)(await(0,qo.parseJsonBody)(e.body,t)),"body"),o=(0,R.take)(n,{nextToken:R.expectString,roleList:R._json});return Object.assign(r,o),r},"de_ListAccountRolesCommand"),Y8=k(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Wa(e,t);let r=(0,R.map)({$metadata:tr(e)}),n=(0,R.expectNonNull)((0,R.expectObject)(await(0,qo.parseJsonBody)(e.body,t)),"body"),o=(0,R.take)(n,{accountList:R._json,nextToken:R.expectString});return Object.assign(r,o),r},"de_ListAccountsCommand"),X8=k(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Wa(e,t);let r=(0,R.map)({$metadata:tr(e)});return await(0,R.collectBody)(e.body,t),r},"de_LogoutCommand"),Wa=k(async(e,t)=>{let r={...e,body:await(0,qo.parseJsonErrorBody)(e.body,t)},n=(0,qo.loadRestJsonErrorCode)(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await e5(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await t5(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await r5(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await n5(r,t);default:let o=r.body;return Z8({output:e,parsedBody:o,errorCode:n})}},"de_CommandError"),Z8=(0,R.withBaseException)(vn),e5=k(async(e,t)=>{let r=(0,R.map)({}),n=e.body,o=(0,R.take)(n,{message:R.expectString});Object.assign(r,o);let s=new yP({$metadata:tr(e),...r});return(0,R.decorateServiceException)(s,e.body)},"de_InvalidRequestExceptionRes"),t5=k(async(e,t)=>{let r=(0,R.map)({}),n=e.body,o=(0,R.take)(n,{message:R.expectString});Object.assign(r,o);let s=new bP({$metadata:tr(e),...r});return(0,R.decorateServiceException)(s,e.body)},"de_ResourceNotFoundExceptionRes"),r5=k(async(e,t)=>{let r=(0,R.map)({}),n=e.body,o=(0,R.take)(n,{message:R.expectString});Object.assign(r,o);let s=new PP({$metadata:tr(e),...r});return(0,R.decorateServiceException)(s,e.body)},"de_TooManyRequestsExceptionRes"),n5=k(async(e,t)=>{let r=(0,R.map)({}),n=e.body,o=(0,R.take)(n,{message:R.expectString});Object.assign(r,o);let s=new AP({$metadata:tr(e),...r});return(0,R.decorateServiceException)(s,e.body)},"de_UnauthorizedExceptionRes"),tr=k(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),Qa=k(e=>e!=null&&e!==""&&(!Object.getOwnPropertyNames(e).includes("length")||e.length!=0)&&(!Object.getOwnPropertyNames(e).includes("size")||e.size!=0),"isSerializableHeaderValue"),kP="accountId",Ka="accessToken",LP="account_id",qP="maxResults",jP="max_result",FP="nextToken",UP="next_token",o5="roleName",s5="role_name",Ja="x-amz-sso_bearer_token",HP=class extends R.Command.classBuilder().ep({...za}).m(function(t,r,n,o){return[(0,Ga.getSerdePlugin)(n,this.serialize,this.deserialize),(0,jo.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(TP,xP).ser(V8).de(K8).build(){};k(HP,"GetRoleCredentialsCommand");var $P=HP,BP=class extends R.Command.classBuilder().ep({...za}).m(function(t,r,n,o){return[(0,Ga.getSerdePlugin)(n,this.serialize,this.deserialize),(0,jo.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").f(NP,void 0).ser(G8).de(J8).build(){};k(BP,"ListAccountRolesCommand");var Vu=BP,zP=class extends R.Command.classBuilder().ep({...za}).m(function(t,r,n,o){return[(0,Ga.getSerdePlugin)(n,this.serialize,this.deserialize),(0,jo.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").f(MP,void 0).ser(W8).de(Y8).build(){};k(zP,"ListAccountsCommand");var Gu=zP,VP=class extends R.Command.classBuilder().ep({...za}).m(function(t,r,n,o){return[(0,Ga.getSerdePlugin)(n,this.serialize,this.deserialize),(0,jo.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").f(DP,void 0).ser(Q8).de(X8).build(){};k(VP,"LogoutCommand");var GP=VP,i5={GetRoleCredentialsCommand:$P,ListAccountRolesCommand:Vu,ListAccountsCommand:Gu,LogoutCommand:GP},WP=class extends Va{};k(WP,"SSO");var QP=WP;(0,R.createAggregatedClient)(i5,QP);var a5=(0,At.createPaginator)(Va,Vu,"nextToken","nextToken","maxResults"),c5=(0,At.createPaginator)(Va,Gu,"nextToken","nextToken","maxResults")});var Qu=g(rr=>{"use strict";Object.defineProperty(rr,"__esModule",{value:!0});rr.resolveHttpAuthSchemeConfig=rr.defaultSSOOIDCHttpAuthSchemeProvider=rr.defaultSSOOIDCHttpAuthSchemeParametersProvider=void 0;var d5=fe(),YP=at(),l5=async(e,t,r)=>({operation:(0,YP.getSmithyContext)(t).operation,region:await(0,YP.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});rr.defaultSSOOIDCHttpAuthSchemeParametersProvider=l5;function u5(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function Wu(e){return{schemeId:"smithy.api#noAuth"}}var p5=e=>{let t=[];switch(e.operation){case"CreateToken":{t.push(Wu(e));break}case"RegisterClient":{t.push(Wu(e));break}case"StartDeviceAuthorization":{t.push(Wu(e));break}default:t.push(u5(e))}return t};rr.defaultSSOOIDCHttpAuthSchemeProvider=p5;var f5=e=>({...(0,d5.resolveAwsSdkSigV4Config)(e)});rr.resolveHttpAuthSchemeConfig=f5});var XP=g((Yse,m5)=>{m5.exports={name:"@aws-sdk/client-sso-oidc",description:"AWS SDK for JavaScript Sso Oidc Client for Node.js, Browser and React Native",version:"3.577.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso-oidc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso-oidc"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.577.0","@aws-sdk/core":"3.576.0","@aws-sdk/credential-provider-node":"3.577.0","@aws-sdk/middleware-host-header":"3.577.0","@aws-sdk/middleware-logger":"3.577.0","@aws-sdk/middleware-recursion-detection":"3.577.0","@aws-sdk/middleware-user-agent":"3.577.0","@aws-sdk/region-config-resolver":"3.577.0","@aws-sdk/types":"3.577.0","@aws-sdk/util-endpoints":"3.577.0","@aws-sdk/util-user-agent-browser":"3.577.0","@aws-sdk/util-user-agent-node":"3.577.0","@smithy/config-resolver":"^3.0.0","@smithy/core":"^2.0.0","@smithy/fetch-http-handler":"^3.0.0","@smithy/hash-node":"^3.0.0","@smithy/invalid-dependency":"^3.0.0","@smithy/middleware-content-length":"^3.0.0","@smithy/middleware-endpoint":"^3.0.0","@smithy/middleware-retry":"^3.0.0","@smithy/middleware-serde":"^3.0.0","@smithy/middleware-stack":"^3.0.0","@smithy/node-config-provider":"^3.0.0","@smithy/node-http-handler":"^3.0.0","@smithy/protocol-http":"^4.0.0","@smithy/smithy-client":"^3.0.0","@smithy/types":"^3.0.0","@smithy/url-parser":"^3.0.0","@smithy/util-base64":"^3.0.0","@smithy/util-body-length-browser":"^3.0.0","@smithy/util-body-length-node":"^3.0.0","@smithy/util-defaults-mode-browser":"^3.0.0","@smithy/util-defaults-mode-node":"^3.0.0","@smithy/util-endpoints":"^2.0.0","@smithy/util-middleware":"^3.0.0","@smithy/util-retry":"^3.0.0","@smithy/util-utf8":"^3.0.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node16":"16.1.3","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=16.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso-oidc",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso-oidc"}}});var fO=g(Ya=>{"use strict";Object.defineProperty(Ya,"__esModule",{value:!0});Ya.ruleSet=void 0;var dO="required",je="fn",Fe="argv",Sn="ref",ZP=!0,eO="isSet",Fo="booleanEquals",_n="error",yn="endpoint",Tt="tree",Ku="PartitionResult",Ju="getAttr",tO={[dO]:!1,type:"String"},rO={[dO]:!0,default:!1,type:"Boolean"},nO={[Sn]:"Endpoint"},lO={[je]:Fo,[Fe]:[{[Sn]:"UseFIPS"},!0]},uO={[je]:Fo,[Fe]:[{[Sn]:"UseDualStack"},!0]},qe={},oO={[je]:Ju,[Fe]:[{[Sn]:Ku},"supportsFIPS"]},pO={[Sn]:Ku},sO={[je]:Fo,[Fe]:[!0,{[je]:Ju,[Fe]:[pO,"supportsDualStack"]}]},iO=[lO],aO=[uO],cO=[{[Sn]:"Region"}],g5={version:"1.0",parameters:{Region:tO,UseDualStack:rO,UseFIPS:rO,Endpoint:tO},rules:[{conditions:[{[je]:eO,[Fe]:[nO]}],rules:[{conditions:iO,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:_n},{conditions:aO,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:_n},{endpoint:{url:nO,properties:qe,headers:qe},type:yn}],type:Tt},{conditions:[{[je]:eO,[Fe]:cO}],rules:[{conditions:[{[je]:"aws.partition",[Fe]:cO,assign:Ku}],rules:[{conditions:[lO,uO],rules:[{conditions:[{[je]:Fo,[Fe]:[ZP,oO]},sO],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:qe,headers:qe},type:yn}],type:Tt},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:_n}],type:Tt},{conditions:iO,rules:[{conditions:[{[je]:Fo,[Fe]:[oO,ZP]}],rules:[{conditions:[{[je]:"stringEquals",[Fe]:[{[je]:Ju,[Fe]:[pO,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:qe,headers:qe},type:yn},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:qe,headers:qe},type:yn}],type:Tt},{error:"FIPS is enabled but this partition does not support FIPS",type:_n}],type:Tt},{conditions:aO,rules:[{conditions:[sO],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:qe,headers:qe},type:yn}],type:Tt},{error:"DualStack is enabled but this partition does not support DualStack",type:_n}],type:Tt},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:qe,headers:qe},type:yn}],type:Tt}],type:Tt},{error:"Invalid Configuration: Missing Region",type:_n}]};Ya.ruleSet=g5});var gO=g(Xa=>{"use strict";Object.defineProperty(Xa,"__esModule",{value:!0});Xa.defaultEndpointResolver=void 0;var h5=Zr(),mO=Yr(),v5=fO(),_5=(e,t={})=>(0,mO.resolveEndpoint)(v5.ruleSet,{endpointParams:e,logger:t.logger});Xa.defaultEndpointResolver=_5;mO.customEndpointFunctions.aws=h5.awsEndpointFunctions});var _O=g(Za=>{"use strict";Object.defineProperty(Za,"__esModule",{value:!0});Za.getRuntimeConfig=void 0;var y5=fe(),S5=ut(),E5=B(),b5=Or(),hO=Kt(),vO=Oe(),w5=Qu(),C5=gO(),P5=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??hO.fromBase64,base64Encoder:e?.base64Encoder??hO.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??C5.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??w5.defaultSSOOIDCHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new y5.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new S5.NoAuthSigner}],logger:e?.logger??new E5.NoOpLogger,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??b5.parseUrl,utf8Decoder:e?.utf8Decoder??vO.fromUtf8,utf8Encoder:e?.utf8Encoder??vO.toUtf8});Za.getRuntimeConfig=P5});var EO=g(tc=>{"use strict";Object.defineProperty(tc,"__esModule",{value:!0});tc.getRuntimeConfig=void 0;var O5=(Mr(),kt(Nr)),R5=O5.__importDefault(XP()),A5=fe(),T5=rc(),I5=To(),ec=ct(),x5=Io(),yO=lt(),Uo=Pt(),SO=xr(),N5=xo(),M5=tn(),D5=_O(),k5=B(),L5=Do(),q5=B(),j5=e=>{(0,q5.emitWarningIfUnsupportedVersion)(process.version);let t=(0,L5.resolveDefaultsModeConfig)(e),r=()=>t().then(k5.loadConfigsForDefaultMode),n=(0,D5.getRuntimeConfig)(e);return(0,A5.emitWarningIfUnsupportedVersion)(process.version),{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??N5.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??T5.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,I5.defaultUserAgent)({serviceId:n.serviceId,clientVersion:R5.default.version}),maxAttempts:e?.maxAttempts??(0,Uo.loadConfig)(yO.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:e?.region??(0,Uo.loadConfig)(ec.NODE_REGION_CONFIG_OPTIONS,ec.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:SO.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Uo.loadConfig)({...yO.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||M5.DEFAULT_RETRY_MODE}),sha256:e?.sha256??x5.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??SO.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Uo.loadConfig)(ec.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,Uo.loadConfig)(ec.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};tc.getRuntimeConfig=j5});var Yu=g((die,qR)=>{"use strict";var oc=Object.defineProperty,F5=Object.getOwnPropertyDescriptor,U5=Object.getOwnPropertyNames,H5=Object.prototype.hasOwnProperty,T=(e,t)=>oc(e,"name",{value:t,configurable:!0}),$5=(e,t)=>{for(var r in t)oc(e,r,{get:t[r],enumerable:!0})},B5=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of U5(t))!H5.call(e,o)&&o!==r&&oc(e,o,{get:()=>t[o],enumerable:!(n=F5(t,o))||n.enumerable});return e},z5=e=>B5(oc({},"__esModule",{value:!0}),e),AO={};$5(AO,{AccessDeniedException:()=>kO,AuthorizationPendingException:()=>jO,CreateTokenCommand:()=>AR,CreateTokenRequestFilterSensitiveLog:()=>ER,CreateTokenResponseFilterSensitiveLog:()=>bR,CreateTokenWithIAMCommand:()=>IR,CreateTokenWithIAMRequestFilterSensitiveLog:()=>wR,CreateTokenWithIAMResponseFilterSensitiveLog:()=>CR,ExpiredTokenException:()=>HO,InternalServerException:()=>zO,InvalidClientException:()=>WO,InvalidClientMetadataException:()=>vR,InvalidGrantException:()=>JO,InvalidRedirectUriException:()=>SR,InvalidRequestException:()=>ZO,InvalidRequestRegionException:()=>mR,InvalidScopeException:()=>rR,RegisterClientCommand:()=>NR,RegisterClientResponseFilterSensitiveLog:()=>PR,SSOOIDC:()=>LR,SSOOIDCClient:()=>IO,SSOOIDCServiceException:()=>he,SlowDownException:()=>sR,StartDeviceAuthorizationCommand:()=>DR,StartDeviceAuthorizationRequestFilterSensitiveLog:()=>OR,UnauthorizedClientException:()=>cR,UnsupportedGrantTypeException:()=>uR,__Client:()=>v.Client});qR.exports=z5(AO);var bO=Wn(),V5=Qn(),G5=Kn(),wO=oo(),W5=ct(),Lr=ut(),Q5=bo(),Ho=Ar(),CO=lt(),PO=Qu(),K5=T(e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),"resolveClientEndpointParameters"),sc={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},J5=EO(),OO=Lo(),RO=ue(),v=B(),Y5=T(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),X5=T(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),nc=T(e=>e,"asPartial"),Z5=T((e,t)=>{let r={...nc((0,OO.getAwsRegionExtensionConfiguration)(e)),...nc((0,v.getDefaultExtensionConfiguration)(e)),...nc((0,RO.getHttpHandlerExtensionConfiguration)(e)),...nc(Y5(e))};return t.forEach(n=>n.configure(r)),{...e,...(0,OO.resolveAwsRegionExtensionConfiguration)(r),...(0,v.resolveDefaultRuntimeConfig)(r),...(0,RO.resolveHttpHandlerRuntimeConfig)(r),...X5(r)}},"resolveRuntimeExtensions"),TO=class extends v.Client{constructor(...[t]){let r=(0,J5.getRuntimeConfig)(t||{}),n=K5(r),o=(0,W5.resolveRegionConfig)(n),s=(0,Ho.resolveEndpointConfig)(o),i=(0,CO.resolveRetryConfig)(s),a=(0,bO.resolveHostHeaderConfig)(i),c=(0,wO.resolveUserAgentConfig)(a),d=(0,PO.resolveHttpAuthSchemeConfig)(c),l=Z5(d,t?.extensions||[]);super(l),this.config=l,this.middlewareStack.use((0,CO.getRetryPlugin)(this.config)),this.middlewareStack.use((0,Q5.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,bO.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,V5.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,G5.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,wO.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Lr.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:this.getDefaultHttpAuthSchemeParametersProvider(),identityProviderConfigProvider:this.getIdentityProviderConfigProvider()})),this.middlewareStack.use((0,Lr.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}getDefaultHttpAuthSchemeParametersProvider(){return PO.defaultSSOOIDCHttpAuthSchemeParametersProvider}getIdentityProviderConfigProvider(){return async t=>new Lr.DefaultIdentityProviderConfig({"aws.auth#sigv4":t.credentials})}};T(TO,"SSOOIDCClient");var IO=TO,ic=Rr(),nie=Qe(),xO=class NO extends v.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,NO.prototype)}};T(xO,"SSOOIDCServiceException");var he=xO,MO=class DO extends he{constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,DO.prototype),this.error=t.error,this.error_description=t.error_description}};T(MO,"AccessDeniedException");var kO=MO,LO=class qO extends he{constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),this.name="AuthorizationPendingException",this.$fault="client",Object.setPrototypeOf(this,qO.prototype),this.error=t.error,this.error_description=t.error_description}};T(LO,"AuthorizationPendingException");var jO=LO,FO=class UO extends he{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,UO.prototype),this.error=t.error,this.error_description=t.error_description}};T(FO,"ExpiredTokenException");var HO=FO,$O=class BO extends he{constructor(t){super({name:"InternalServerException",$fault:"server",...t}),this.name="InternalServerException",this.$fault="server",Object.setPrototypeOf(this,BO.prototype),this.error=t.error,this.error_description=t.error_description}};T($O,"InternalServerException");var zO=$O,VO=class GO extends he{constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),this.name="InvalidClientException",this.$fault="client",Object.setPrototypeOf(this,GO.prototype),this.error=t.error,this.error_description=t.error_description}};T(VO,"InvalidClientException");var WO=VO,QO=class KO extends he{constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),this.name="InvalidGrantException",this.$fault="client",Object.setPrototypeOf(this,KO.prototype),this.error=t.error,this.error_description=t.error_description}};T(QO,"InvalidGrantException");var JO=QO,YO=class XO extends he{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,XO.prototype),this.error=t.error,this.error_description=t.error_description}};T(YO,"InvalidRequestException");var ZO=YO,eR=class tR extends he{constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),this.name="InvalidScopeException",this.$fault="client",Object.setPrototypeOf(this,tR.prototype),this.error=t.error,this.error_description=t.error_description}};T(eR,"InvalidScopeException");var rR=eR,nR=class oR extends he{constructor(t){super({name:"SlowDownException",$fault:"client",...t}),this.name="SlowDownException",this.$fault="client",Object.setPrototypeOf(this,oR.prototype),this.error=t.error,this.error_description=t.error_description}};T(nR,"SlowDownException");var sR=nR,iR=class aR extends he{constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),this.name="UnauthorizedClientException",this.$fault="client",Object.setPrototypeOf(this,aR.prototype),this.error=t.error,this.error_description=t.error_description}};T(iR,"UnauthorizedClientException");var cR=iR,dR=class lR extends he{constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),this.name="UnsupportedGrantTypeException",this.$fault="client",Object.setPrototypeOf(this,lR.prototype),this.error=t.error,this.error_description=t.error_description}};T(dR,"UnsupportedGrantTypeException");var uR=dR,pR=class fR extends he{constructor(t){super({name:"InvalidRequestRegionException",$fault:"client",...t}),this.name="InvalidRequestRegionException",this.$fault="client",Object.setPrototypeOf(this,fR.prototype),this.error=t.error,this.error_description=t.error_description,this.endpoint=t.endpoint,this.region=t.region}};T(pR,"InvalidRequestRegionException");var mR=pR,gR=class hR extends he{constructor(t){super({name:"InvalidClientMetadataException",$fault:"client",...t}),this.name="InvalidClientMetadataException",this.$fault="client",Object.setPrototypeOf(this,hR.prototype),this.error=t.error,this.error_description=t.error_description}};T(gR,"InvalidClientMetadataException");var vR=gR,_R=class yR extends he{constructor(t){super({name:"InvalidRedirectUriException",$fault:"client",...t}),this.name="InvalidRedirectUriException",this.$fault="client",Object.setPrototypeOf(this,yR.prototype),this.error=t.error,this.error_description=t.error_description}};T(_R,"InvalidRedirectUriException");var SR=_R,ER=T(e=>({...e,...e.clientSecret&&{clientSecret:v.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:v.SENSITIVE_STRING},...e.codeVerifier&&{codeVerifier:v.SENSITIVE_STRING}}),"CreateTokenRequestFilterSensitiveLog"),bR=T(e=>({...e,...e.accessToken&&{accessToken:v.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:v.SENSITIVE_STRING},...e.idToken&&{idToken:v.SENSITIVE_STRING}}),"CreateTokenResponseFilterSensitiveLog"),wR=T(e=>({...e,...e.refreshToken&&{refreshToken:v.SENSITIVE_STRING},...e.assertion&&{assertion:v.SENSITIVE_STRING},...e.subjectToken&&{subjectToken:v.SENSITIVE_STRING},...e.codeVerifier&&{codeVerifier:v.SENSITIVE_STRING}}),"CreateTokenWithIAMRequestFilterSensitiveLog"),CR=T(e=>({...e,...e.accessToken&&{accessToken:v.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:v.SENSITIVE_STRING},...e.idToken&&{idToken:v.SENSITIVE_STRING}}),"CreateTokenWithIAMResponseFilterSensitiveLog"),PR=T(e=>({...e,...e.clientSecret&&{clientSecret:v.SENSITIVE_STRING}}),"RegisterClientResponseFilterSensitiveLog"),OR=T(e=>({...e,...e.clientSecret&&{clientSecret:v.SENSITIVE_STRING}}),"StartDeviceAuthorizationRequestFilterSensitiveLog"),En=fe(),eJ=T(async(e,t)=>{let r=(0,Lr.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/token");let o;return o=JSON.stringify((0,v.take)(e,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:s=>(0,v._json)(s)})),r.m("POST").h(n).b(o),r.build()},"se_CreateTokenCommand"),tJ=T(async(e,t)=>{let r=(0,Lr.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/token");let o=(0,v.map)({[wJ]:[,"t"]}),s;return s=JSON.stringify((0,v.take)(e,{assertion:[],clientId:[],code:[],codeVerifier:[],grantType:[],redirectUri:[],refreshToken:[],requestedTokenType:[],scope:i=>(0,v._json)(i),subjectToken:[],subjectTokenType:[]})),r.m("POST").h(n).q(o).b(s),r.build()},"se_CreateTokenWithIAMCommand"),rJ=T(async(e,t)=>{let r=(0,Lr.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/client/register");let o;return o=JSON.stringify((0,v.take)(e,{clientName:[],clientType:[],entitledApplicationArn:[],grantTypes:s=>(0,v._json)(s),issuerUrl:[],redirectUris:s=>(0,v._json)(s),scopes:s=>(0,v._json)(s)})),r.m("POST").h(n).b(o),r.build()},"se_RegisterClientCommand"),nJ=T(async(e,t)=>{let r=(0,Lr.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/device_authorization");let o;return o=JSON.stringify((0,v.take)(e,{clientId:[],clientSecret:[],startUrl:[]})),r.m("POST").h(n).b(o),r.build()},"se_StartDeviceAuthorizationCommand"),oJ=T(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ac(e,t);let r=(0,v.map)({$metadata:ce(e)}),n=(0,v.expectNonNull)((0,v.expectObject)(await(0,En.parseJsonBody)(e.body,t)),"body"),o=(0,v.take)(n,{accessToken:v.expectString,expiresIn:v.expectInt32,idToken:v.expectString,refreshToken:v.expectString,tokenType:v.expectString});return Object.assign(r,o),r},"de_CreateTokenCommand"),sJ=T(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ac(e,t);let r=(0,v.map)({$metadata:ce(e)}),n=(0,v.expectNonNull)((0,v.expectObject)(await(0,En.parseJsonBody)(e.body,t)),"body"),o=(0,v.take)(n,{accessToken:v.expectString,expiresIn:v.expectInt32,idToken:v.expectString,issuedTokenType:v.expectString,refreshToken:v.expectString,scope:v._json,tokenType:v.expectString});return Object.assign(r,o),r},"de_CreateTokenWithIAMCommand"),iJ=T(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ac(e,t);let r=(0,v.map)({$metadata:ce(e)}),n=(0,v.expectNonNull)((0,v.expectObject)(await(0,En.parseJsonBody)(e.body,t)),"body"),o=(0,v.take)(n,{authorizationEndpoint:v.expectString,clientId:v.expectString,clientIdIssuedAt:v.expectLong,clientSecret:v.expectString,clientSecretExpiresAt:v.expectLong,tokenEndpoint:v.expectString});return Object.assign(r,o),r},"de_RegisterClientCommand"),aJ=T(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ac(e,t);let r=(0,v.map)({$metadata:ce(e)}),n=(0,v.expectNonNull)((0,v.expectObject)(await(0,En.parseJsonBody)(e.body,t)),"body"),o=(0,v.take)(n,{deviceCode:v.expectString,expiresIn:v.expectInt32,interval:v.expectInt32,userCode:v.expectString,verificationUri:v.expectString,verificationUriComplete:v.expectString});return Object.assign(r,o),r},"de_StartDeviceAuthorizationCommand"),ac=T(async(e,t)=>{let r={...e,body:await(0,En.parseJsonErrorBody)(e.body,t)},n=(0,En.loadRestJsonErrorCode)(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await dJ(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await lJ(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await uJ(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await pJ(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await fJ(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await gJ(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await vJ(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await yJ(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await SJ(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await EJ(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await bJ(r,t);case"InvalidRequestRegionException":case"com.amazonaws.ssooidc#InvalidRequestRegionException":throw await _J(r,t);case"InvalidClientMetadataException":case"com.amazonaws.ssooidc#InvalidClientMetadataException":throw await mJ(r,t);case"InvalidRedirectUriException":case"com.amazonaws.ssooidc#InvalidRedirectUriException":throw await hJ(r,t);default:let o=r.body;return cJ({output:e,parsedBody:o,errorCode:n})}},"de_CommandError"),cJ=(0,v.withBaseException)(he),dJ=T(async(e,t)=>{let r=(0,v.map)({}),n=e.body,o=(0,v.take)(n,{error:v.expectString,error_description:v.expectString});Object.assign(r,o);let s=new kO({$metadata:ce(e),...r});return(0,v.decorateServiceException)(s,e.body)},"de_AccessDeniedExceptionRes"),lJ=T(async(e,t)=>{let r=(0,v.map)({}),n=e.body,o=(0,v.take)(n,{error:v.expectString,error_description:v.expectString});Object.assign(r,o);let s=new jO({$metadata:ce(e),...r});return(0,v.decorateServiceException)(s,e.body)},"de_AuthorizationPendingExceptionRes"),uJ=T(async(e,t)=>{let r=(0,v.map)({}),n=e.body,o=(0,v.take)(n,{error:v.expectString,error_description:v.expectString});Object.assign(r,o);let s=new HO({$metadata:ce(e),...r});return(0,v.decorateServiceException)(s,e.body)},"de_ExpiredTokenExceptionRes"),pJ=T(async(e,t)=>{let r=(0,v.map)({}),n=e.body,o=(0,v.take)(n,{error:v.expectString,error_description:v.expectString});Object.assign(r,o);let s=new zO({$metadata:ce(e),...r});return(0,v.decorateServiceException)(s,e.body)},"de_InternalServerExceptionRes"),fJ=T(async(e,t)=>{let r=(0,v.map)({}),n=e.body,o=(0,v.take)(n,{error:v.expectString,error_description:v.expectString});Object.assign(r,o);let s=new WO({$metadata:ce(e),...r});return(0,v.decorateServiceException)(s,e.body)},"de_InvalidClientExceptionRes"),mJ=T(async(e,t)=>{let r=(0,v.map)({}),n=e.body,o=(0,v.take)(n,{error:v.expectString,error_description:v.expectString});Object.assign(r,o);let s=new vR({$metadata:ce(e),...r});return(0,v.decorateServiceException)(s,e.body)},"de_InvalidClientMetadataExceptionRes"),gJ=T(async(e,t)=>{let r=(0,v.map)({}),n=e.body,o=(0,v.take)(n,{error:v.expectString,error_description:v.expectString});Object.assign(r,o);let s=new JO({$metadata:ce(e),...r});return(0,v.decorateServiceException)(s,e.body)},"de_InvalidGrantExceptionRes"),hJ=T(async(e,t)=>{let r=(0,v.map)({}),n=e.body,o=(0,v.take)(n,{error:v.expectString,error_description:v.expectString});Object.assign(r,o);let s=new SR({$metadata:ce(e),...r});return(0,v.decorateServiceException)(s,e.body)},"de_InvalidRedirectUriExceptionRes"),vJ=T(async(e,t)=>{let r=(0,v.map)({}),n=e.body,o=(0,v.take)(n,{error:v.expectString,error_description:v.expectString});Object.assign(r,o);let s=new ZO({$metadata:ce(e),...r});return(0,v.decorateServiceException)(s,e.body)},"de_InvalidRequestExceptionRes"),_J=T(async(e,t)=>{let r=(0,v.map)({}),n=e.body,o=(0,v.take)(n,{endpoint:v.expectString,error:v.expectString,error_description:v.expectString,region:v.expectString});Object.assign(r,o);let s=new mR({$metadata:ce(e),...r});return(0,v.decorateServiceException)(s,e.body)},"de_InvalidRequestRegionExceptionRes"),yJ=T(async(e,t)=>{let r=(0,v.map)({}),n=e.body,o=(0,v.take)(n,{error:v.expectString,error_description:v.expectString});Object.assign(r,o);let s=new rR({$metadata:ce(e),...r});return(0,v.decorateServiceException)(s,e.body)},"de_InvalidScopeExceptionRes"),SJ=T(async(e,t)=>{let r=(0,v.map)({}),n=e.body,o=(0,v.take)(n,{error:v.expectString,error_description:v.expectString});Object.assign(r,o);let s=new sR({$metadata:ce(e),...r});return(0,v.decorateServiceException)(s,e.body)},"de_SlowDownExceptionRes"),EJ=T(async(e,t)=>{let r=(0,v.map)({}),n=e.body,o=(0,v.take)(n,{error:v.expectString,error_description:v.expectString});Object.assign(r,o);let s=new cR({$metadata:ce(e),...r});return(0,v.decorateServiceException)(s,e.body)},"de_UnauthorizedClientExceptionRes"),bJ=T(async(e,t)=>{let r=(0,v.map)({}),n=e.body,o=(0,v.take)(n,{error:v.expectString,error_description:v.expectString});Object.assign(r,o);let s=new uR({$metadata:ce(e),...r});return(0,v.decorateServiceException)(s,e.body)},"de_UnsupportedGrantTypeExceptionRes"),ce=T(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),wJ="aws_iam",RR=class extends v.Command.classBuilder().ep({...sc}).m(function(t,r,n,o){return[(0,ic.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Ho.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(ER,bR).ser(eJ).de(oJ).build(){};T(RR,"CreateTokenCommand");var AR=RR,TR=class extends v.Command.classBuilder().ep({...sc}).m(function(t,r,n,o){return[(0,ic.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Ho.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateTokenWithIAM",{}).n("SSOOIDCClient","CreateTokenWithIAMCommand").f(wR,CR).ser(tJ).de(sJ).build(){};T(TR,"CreateTokenWithIAMCommand");var IR=TR,xR=class extends v.Command.classBuilder().ep({...sc}).m(function(t,r,n,o){return[(0,ic.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Ho.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","RegisterClient",{}).n("SSOOIDCClient","RegisterClientCommand").f(void 0,PR).ser(rJ).de(iJ).build(){};T(xR,"RegisterClientCommand");var NR=xR,MR=class extends v.Command.classBuilder().ep({...sc}).m(function(t,r,n,o){return[(0,ic.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Ho.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","StartDeviceAuthorization",{}).n("SSOOIDCClient","StartDeviceAuthorizationCommand").f(OR,void 0).ser(nJ).de(aJ).build(){};T(MR,"StartDeviceAuthorizationCommand");var DR=MR,CJ={CreateTokenCommand:AR,CreateTokenWithIAMCommand:IR,RegisterClientCommand:NR,StartDeviceAuthorizationCommand:DR},kR=class extends IO{};T(kR,"SSOOIDC");var LR=kR;(0,v.createAggregatedClient)(CJ,LR)});var VR=g((lie,zR)=>{"use strict";var PJ=Object.create,Bo=Object.defineProperty,OJ=Object.getOwnPropertyDescriptor,RJ=Object.getOwnPropertyNames,AJ=Object.getPrototypeOf,TJ=Object.prototype.hasOwnProperty,nr=(e,t)=>Bo(e,"name",{value:t,configurable:!0}),IJ=(e,t)=>{for(var r in t)Bo(e,r,{get:t[r],enumerable:!0})},UR=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of RJ(t))!TJ.call(e,o)&&o!==r&&Bo(e,o,{get:()=>t[o],enumerable:!(n=OJ(t,o))||n.enumerable});return e},HR=(e,t,r)=>(r=e!=null?PJ(AJ(e)):{},UR(t||!e||!e.__esModule?Bo(r,"default",{value:e,enumerable:!0}):r,e)),xJ=e=>UR(Bo({},"__esModule",{value:!0}),e),$R={};IJ($R,{fromSso:()=>BR,fromStatic:()=>jJ,nodeProvider:()=>FJ});zR.exports=xJ($R);var NJ=5*60*1e3,Zu="To refresh this SSO session run 'aws sso login' with the corresponding profile.",Xu={},MJ=nr(async e=>{let{SSOOIDCClient:t}=await Promise.resolve().then(()=>HR(Yu()));if(Xu[e])return Xu[e];let r=new t({region:e});return Xu[e]=r,r},"getSsoOidcClient"),DJ=nr(async(e,t)=>{let{CreateTokenCommand:r}=await Promise.resolve().then(()=>HR(Yu()));return(await MJ(t)).send(new r({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},"getNewSsoOidcToken"),Ze=Ce(),jR=nr(e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new Ze.TokenProviderError(`Token is expired. ${Zu}`,!1)},"validateTokenExpiry"),qr=nr((e,t,r=!1)=>{if(typeof t>"u")throw new Ze.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${Zu}`,!1)},"validateTokenKey"),$o=Gt(),kJ=require("fs"),{writeFile:LJ}=kJ.promises,qJ=nr((e,t)=>{let r=(0,$o.getSSOTokenFilepath)(e),n=JSON.stringify(t,null,2);return LJ(r,n)},"writeSSOTokenToFile"),FR=new Date(0),BR=nr((e={})=>async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/token-providers","fromSso");let r=await(0,$o.parseKnownFiles)(e),n=(0,$o.getProfileName)(e),o=r[n];if(o){if(!o.sso_session)throw new Ze.TokenProviderError(`Profile '${n}' is missing required property 'sso_session'.`)}else throw new Ze.TokenProviderError(`Profile '${n}' could not be found in shared credentials file.`,!1);let s=o.sso_session,a=(await(0,$o.loadSsoSessionData)(e))[s];if(!a)throw new Ze.TokenProviderError(`Sso session '${s}' could not be found in shared credentials file.`,!1);for(let h of["sso_start_url","sso_region"])if(!a[h])throw new Ze.TokenProviderError(`Sso session '${s}' is missing required property '${h}'.`,!1);let c=a.sso_start_url,d=a.sso_region,l;try{l=await(0,$o.getSSOTokenFromFile)(s)}catch{throw new Ze.TokenProviderError(`The SSO session token associated with profile=${n} was not found or is invalid. ${Zu}`,!1)}qr("accessToken",l.accessToken),qr("expiresAt",l.expiresAt);let{accessToken:u,expiresAt:p}=l,f={token:u,expiration:new Date(p)};if(f.expiration.getTime()-Date.now()>NJ)return f;if(Date.now()-FR.getTime()<30*1e3)return jR(f),f;qr("clientId",l.clientId,!0),qr("clientSecret",l.clientSecret,!0),qr("refreshToken",l.refreshToken,!0);try{FR.setTime(Date.now());let h=await DJ(l,d);qr("accessToken",h.accessToken),qr("expiresIn",h.expiresIn);let S=new Date(Date.now()+h.expiresIn*1e3);try{await qJ(s,{...l,accessToken:h.accessToken,expiresAt:S.toISOString(),refreshToken:h.refreshToken})}catch{}return{token:h.accessToken,expiration:S}}catch{return jR(f),f}},"fromSso"),jJ=nr(({token:e,logger:t})=>async()=>{if(t?.debug("@aws-sdk/token-providers","fromStatic"),!e||!e.token)throw new Ze.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},"fromStatic"),FJ=nr((e={})=>(0,Ze.memoize)((0,Ze.chain)(BR(e),async()=>{throw new Ze.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0),"nodeProvider")});var tp=g((uie,ZR)=>{"use strict";var dc=Object.defineProperty,UJ=Object.getOwnPropertyDescriptor,WR=Object.getOwnPropertyNames,HJ=Object.prototype.hasOwnProperty,lc=(e,t)=>dc(e,"name",{value:t,configurable:!0}),$J=(e,t)=>function(){return e&&(t=(0,e[WR(e)[0]])(e=0)),t},QR=(e,t)=>{for(var r in t)dc(e,r,{get:t[r],enumerable:!0})},BJ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of WR(t))!HJ.call(e,o)&&o!==r&&dc(e,o,{get:()=>t[o],enumerable:!(n=UJ(t,o))||n.enumerable});return e},zJ=e=>BJ(dc({},"__esModule",{value:!0}),e),KR={};QR(KR,{GetRoleCredentialsCommand:()=>ep.GetRoleCredentialsCommand,SSOClient:()=>ep.SSOClient});var ep,VJ=$J({"src/loadSso.ts"(){"use strict";ep=JP()}}),JR={};QR(JR,{fromSSO:()=>WJ,isSsoProfile:()=>YR,validateSsoProfile:()=>XR});ZR.exports=zJ(JR);var YR=lc(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),GJ=VR(),et=Ce(),cc=Gt(),zo=!1,GR=lc(async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoClient:s,clientConfig:i,profile:a})=>{let c,d="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let I=await(0,GJ.fromSso)({profile:a})();c={accessToken:I.token,expiresAt:new Date(I.expiration).toISOString()}}catch(I){throw new et.CredentialsProviderError(I.message,zo)}else try{c=await(0,cc.getSSOTokenFromFile)(e)}catch{throw new et.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${d}`,zo)}if(new Date(c.expiresAt).getTime()-Date.now()<=0)throw new et.CredentialsProviderError(`The SSO session associated with this profile has expired. ${d}`,zo);let{accessToken:l}=c,{SSOClient:u,GetRoleCredentialsCommand:p}=await Promise.resolve().then(()=>(VJ(),KR)),f=s||new u(Object.assign({},i??{},{region:i?.region??n})),h;try{h=await f.send(new p({accountId:r,roleName:o,accessToken:l}))}catch(I){throw et.CredentialsProviderError.from(I,zo)}let{roleCredentials:{accessKeyId:S,secretAccessKey:y,sessionToken:E,expiration:b,credentialScope:N}={}}=h;if(!S||!y||!E||!b)throw new et.CredentialsProviderError("SSO returns an invalid temporary credential.",zo);return{accessKeyId:S,secretAccessKey:y,sessionToken:E,expiration:new Date(b),credentialScope:N}},"resolveSSOCredentials"),XR=lc(e=>{let{sso_start_url:t,sso_account_id:r,sso_region:n,sso_role_name:o}=e;if(!t||!r||!n||!o)throw new et.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,!1);return e},"validateSsoProfile"),WJ=lc((e={})=>async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-sso","fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:o,ssoRoleName:s,ssoSession:i}=e,{ssoClient:a}=e,c=(0,cc.getProfileName)(e);if(!r&&!n&&!o&&!s&&!i){let l=(await(0,cc.parseKnownFiles)(e))[c];if(!l)throw new et.CredentialsProviderError(`Profile ${c} was not found.`);if(!YR(l))throw new et.CredentialsProviderError(`Profile ${c} is not configured with SSO credentials.`);if(l?.sso_session){let E=(await(0,cc.loadSsoSessionData)(e))[l.sso_session],b=` configurations in profile ${c} and sso-session ${l.sso_session}`;if(o&&o!==E.sso_region)throw new et.CredentialsProviderError("Conflicting SSO region"+b,!1);if(r&&r!==E.sso_start_url)throw new et.CredentialsProviderError("Conflicting SSO start_url"+b,!1);l.sso_region=E.sso_region,l.sso_start_url=E.sso_start_url}let{sso_start_url:u,sso_account_id:p,sso_region:f,sso_role_name:h,sso_session:S}=XR(l);return GR({ssoStartUrl:u,ssoSession:S,ssoAccountId:p,ssoRegion:f,ssoRoleName:h,ssoClient:a,clientConfig:e.clientConfig,profile:c})}else{if(!r||!n||!o||!s)throw new et.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"');return GR({ssoStartUrl:r,ssoSession:i,ssoAccountId:n,ssoRegion:o,ssoRoleName:s,ssoClient:a,clientConfig:e.clientConfig,profile:c})}},"fromSSO")});var rp=g(tt=>{"use strict";Object.defineProperty(tt,"__esModule",{value:!0});tt.resolveHttpAuthSchemeConfig=tt.resolveStsAuthConfig=tt.defaultSTSHttpAuthSchemeProvider=tt.defaultSTSHttpAuthSchemeParametersProvider=void 0;var QJ=fe(),eA=at(),KJ=Vo(),JJ=async(e,t,r)=>({operation:(0,eA.getSmithyContext)(t).operation,region:await(0,eA.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});tt.defaultSTSHttpAuthSchemeParametersProvider=JJ;function YJ(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function tA(e){return{schemeId:"smithy.api#noAuth"}}var XJ=e=>{let t=[];switch(e.operation){case"AssumeRoleWithSAML":{t.push(tA(e));break}case"AssumeRoleWithWebIdentity":{t.push(tA(e));break}default:t.push(YJ(e))}return t};tt.defaultSTSHttpAuthSchemeProvider=XJ;var ZJ=e=>({...e,stsClientCtor:KJ.STSClient});tt.resolveStsAuthConfig=ZJ;var eY=e=>{let t=(0,tt.resolveStsAuthConfig)(e);return{...(0,QJ.resolveAwsSdkSigV4Config)(t)}};tt.resolveHttpAuthSchemeConfig=eY});var rt=g(bn=>{"use strict";Object.defineProperty(bn,"__esModule",{value:!0});bn.commonParams=bn.resolveClientEndpointParameters=void 0;var tY=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"});bn.resolveClientEndpointParameters=tY;bn.commonParams={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var rA=g((mie,rY)=>{rY.exports={name:"@aws-sdk/client-sts",description:"AWS SDK for JavaScript Sts Client for Node.js, Browser and React Native",version:"3.577.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sts","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"rimraf ./dist-types tsconfig.types.tsbuildinfo && tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sts",test:"yarn test:unit","test:unit":"jest"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sso-oidc":"3.577.0","@aws-sdk/core":"3.576.0","@aws-sdk/credential-provider-node":"3.577.0","@aws-sdk/middleware-host-header":"3.577.0","@aws-sdk/middleware-logger":"3.577.0","@aws-sdk/middleware-recursion-detection":"3.577.0","@aws-sdk/middleware-user-agent":"3.577.0","@aws-sdk/region-config-resolver":"3.577.0","@aws-sdk/types":"3.577.0","@aws-sdk/util-endpoints":"3.577.0","@aws-sdk/util-user-agent-browser":"3.577.0","@aws-sdk/util-user-agent-node":"3.577.0","@smithy/config-resolver":"^3.0.0","@smithy/core":"^2.0.0","@smithy/fetch-http-handler":"^3.0.0","@smithy/hash-node":"^3.0.0","@smithy/invalid-dependency":"^3.0.0","@smithy/middleware-content-length":"^3.0.0","@smithy/middleware-endpoint":"^3.0.0","@smithy/middleware-retry":"^3.0.0","@smithy/middleware-serde":"^3.0.0","@smithy/middleware-stack":"^3.0.0","@smithy/node-config-provider":"^3.0.0","@smithy/node-http-handler":"^3.0.0","@smithy/protocol-http":"^4.0.0","@smithy/smithy-client":"^3.0.0","@smithy/types":"^3.0.0","@smithy/url-parser":"^3.0.0","@smithy/util-base64":"^3.0.0","@smithy/util-body-length-browser":"^3.0.0","@smithy/util-body-length-node":"^3.0.0","@smithy/util-defaults-mode-browser":"^3.0.0","@smithy/util-defaults-mode-node":"^3.0.0","@smithy/util-endpoints":"^2.0.0","@smithy/util-middleware":"^3.0.0","@smithy/util-retry":"^3.0.0","@smithy/util-utf8":"^3.0.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node16":"16.1.3","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=16.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sts",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sts"}}});var CA=g(uc=>{"use strict";Object.defineProperty(uc,"__esModule",{value:!0});uc.ruleSet=void 0;var mA="required",D="type",L="fn",q="argv",sr="ref",nA=!1,np=!0,or="booleanEquals",me="stringEquals",gA="sigv4",hA="sts",vA="us-east-1",V="endpoint",oA="https://sts.{Region}.{PartitionResult#dnsSuffix}",ft="tree",wn="error",sp="getAttr",sA={[mA]:!1,[D]:"String"},op={[mA]:!0,default:!1,[D]:"Boolean"},_A={[sr]:"Endpoint"},iA={[L]:"isSet",[q]:[{[sr]:"Region"}]},ge={[sr]:"Region"},aA={[L]:"aws.partition",[q]:[ge],assign:"PartitionResult"},yA={[sr]:"UseFIPS"},SA={[sr]:"UseDualStack"},ve={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:gA,signingName:hA,signingRegion:vA}]},headers:{}},Ae={},cA={conditions:[{[L]:me,[q]:[ge,"aws-global"]}],[V]:ve,[D]:V},EA={[L]:or,[q]:[yA,!0]},bA={[L]:or,[q]:[SA,!0]},dA={[L]:sp,[q]:[{[sr]:"PartitionResult"},"supportsFIPS"]},wA={[sr]:"PartitionResult"},lA={[L]:or,[q]:[!0,{[L]:sp,[q]:[wA,"supportsDualStack"]}]},uA=[{[L]:"isSet",[q]:[_A]}],pA=[EA],fA=[bA],nY={version:"1.0",parameters:{Region:sA,UseDualStack:op,UseFIPS:op,Endpoint:sA,UseGlobalEndpoint:op},rules:[{conditions:[{[L]:or,[q]:[{[sr]:"UseGlobalEndpoint"},np]},{[L]:"not",[q]:uA},iA,aA,{[L]:or,[q]:[yA,nA]},{[L]:or,[q]:[SA,nA]}],rules:[{conditions:[{[L]:me,[q]:[ge,"ap-northeast-1"]}],endpoint:ve,[D]:V},{conditions:[{[L]:me,[q]:[ge,"ap-south-1"]}],endpoint:ve,[D]:V},{conditions:[{[L]:me,[q]:[ge,"ap-southeast-1"]}],endpoint:ve,[D]:V},{conditions:[{[L]:me,[q]:[ge,"ap-southeast-2"]}],endpoint:ve,[D]:V},cA,{conditions:[{[L]:me,[q]:[ge,"ca-central-1"]}],endpoint:ve,[D]:V},{conditions:[{[L]:me,[q]:[ge,"eu-central-1"]}],endpoint:ve,[D]:V},{conditions:[{[L]:me,[q]:[ge,"eu-north-1"]}],endpoint:ve,[D]:V},{conditions:[{[L]:me,[q]:[ge,"eu-west-1"]}],endpoint:ve,[D]:V},{conditions:[{[L]:me,[q]:[ge,"eu-west-2"]}],endpoint:ve,[D]:V},{conditions:[{[L]:me,[q]:[ge,"eu-west-3"]}],endpoint:ve,[D]:V},{conditions:[{[L]:me,[q]:[ge,"sa-east-1"]}],endpoint:ve,[D]:V},{conditions:[{[L]:me,[q]:[ge,vA]}],endpoint:ve,[D]:V},{conditions:[{[L]:me,[q]:[ge,"us-east-2"]}],endpoint:ve,[D]:V},{conditions:[{[L]:me,[q]:[ge,"us-west-1"]}],endpoint:ve,[D]:V},{conditions:[{[L]:me,[q]:[ge,"us-west-2"]}],endpoint:ve,[D]:V},{endpoint:{url:oA,properties:{authSchemes:[{name:gA,signingName:hA,signingRegion:"{Region}"}]},headers:Ae},[D]:V}],[D]:ft},{conditions:uA,rules:[{conditions:pA,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[D]:wn},{conditions:fA,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[D]:wn},{endpoint:{url:_A,properties:Ae,headers:Ae},[D]:V}],[D]:ft},{conditions:[iA],rules:[{conditions:[aA],rules:[{conditions:[EA,bA],rules:[{conditions:[{[L]:or,[q]:[np,dA]},lA],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ae,headers:Ae},[D]:V}],[D]:ft},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[D]:wn}],[D]:ft},{conditions:pA,rules:[{conditions:[{[L]:or,[q]:[dA,np]}],rules:[{conditions:[{[L]:me,[q]:[{[L]:sp,[q]:[wA,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:Ae,headers:Ae},[D]:V},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Ae,headers:Ae},[D]:V}],[D]:ft},{error:"FIPS is enabled but this partition does not support FIPS",[D]:wn}],[D]:ft},{conditions:fA,rules:[{conditions:[lA],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ae,headers:Ae},[D]:V}],[D]:ft},{error:"DualStack is enabled but this partition does not support DualStack",[D]:wn}],[D]:ft},cA,{endpoint:{url:oA,properties:Ae,headers:Ae},[D]:V}],[D]:ft}],[D]:ft},{error:"Invalid Configuration: Missing Region",[D]:wn}]};uc.ruleSet=nY});var OA=g(pc=>{"use strict";Object.defineProperty(pc,"__esModule",{value:!0});pc.defaultEndpointResolver=void 0;var oY=Zr(),PA=Yr(),sY=CA(),iY=(e,t={})=>(0,PA.resolveEndpoint)(sY.ruleSet,{endpointParams:e,logger:t.logger});pc.defaultEndpointResolver=iY;PA.customEndpointFunctions.aws=oY.awsEndpointFunctions});var TA=g(fc=>{"use strict";Object.defineProperty(fc,"__esModule",{value:!0});fc.getRuntimeConfig=void 0;var aY=fe(),cY=ut(),dY=B(),lY=Or(),RA=Kt(),AA=Oe(),uY=rp(),pY=OA(),fY=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??RA.fromBase64,base64Encoder:e?.base64Encoder??RA.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??pY.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??uY.defaultSTSHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new aY.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new cY.NoAuthSigner}],logger:e?.logger??new dY.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??lY.parseUrl,utf8Decoder:e?.utf8Decoder??AA.fromUtf8,utf8Encoder:e?.utf8Encoder??AA.toUtf8});fc.getRuntimeConfig=fY});var DA=g(gc=>{"use strict";Object.defineProperty(gc,"__esModule",{value:!0});gc.getRuntimeConfig=void 0;var mY=(Mr(),kt(Nr)),gY=mY.__importDefault(rA()),IA=fe(),xA=rc(),hY=To(),mc=ct(),vY=ut(),_Y=Io(),NA=lt(),Go=Pt(),MA=xr(),yY=xo(),SY=tn(),EY=TA(),bY=B(),wY=Do(),CY=B(),PY=e=>{(0,CY.emitWarningIfUnsupportedVersion)(process.version);let t=(0,wY.resolveDefaultsModeConfig)(e),r=()=>t().then(bY.loadConfigsForDefaultMode),n=(0,EY.getRuntimeConfig)(e);return(0,IA.emitWarningIfUnsupportedVersion)(process.version),{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??yY.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??xA.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,hY.defaultUserAgent)({serviceId:n.serviceId,clientVersion:gY.default.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:o=>o.getIdentityProvider("aws.auth#sigv4")||(async s=>await(0,xA.defaultProvider)(s?.__config||{})()),signer:new IA.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:o=>o.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new vY.NoAuthSigner}],maxAttempts:e?.maxAttempts??(0,Go.loadConfig)(NA.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:e?.region??(0,Go.loadConfig)(mc.NODE_REGION_CONFIG_OPTIONS,mc.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:MA.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Go.loadConfig)({...NA.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||SY.DEFAULT_RETRY_MODE}),sha256:e?.sha256??_Y.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??MA.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Go.loadConfig)(mc.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,Go.loadConfig)(mc.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};gc.getRuntimeConfig=PY});var kA=g(Cn=>{"use strict";Object.defineProperty(Cn,"__esModule",{value:!0});Cn.resolveHttpAuthRuntimeConfig=Cn.getHttpAuthExtensionConfiguration=void 0;var OY=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}};Cn.getHttpAuthExtensionConfiguration=OY;var RY=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()});Cn.resolveHttpAuthRuntimeConfig=RY});var ip=g(vc=>{"use strict";Object.defineProperty(vc,"__esModule",{value:!0});vc.resolveRuntimeExtensions=void 0;var LA=Lo(),qA=ue(),jA=B(),FA=kA(),hc=e=>e,AY=(e,t)=>{let r={...hc((0,LA.getAwsRegionExtensionConfiguration)(e)),...hc((0,jA.getDefaultExtensionConfiguration)(e)),...hc((0,qA.getHttpHandlerExtensionConfiguration)(e)),...hc((0,FA.getHttpAuthExtensionConfiguration)(e))};return t.forEach(n=>n.configure(r)),{...e,...(0,LA.resolveAwsRegionExtensionConfiguration)(r),...(0,jA.resolveDefaultRuntimeConfig)(r),...(0,qA.resolveHttpHandlerRuntimeConfig)(r),...(0,FA.resolveHttpAuthRuntimeConfig)(r)}};vc.resolveRuntimeExtensions=AY});var Vo=g(Pn=>{"use strict";Object.defineProperty(Pn,"__esModule",{value:!0});Pn.STSClient=Pn.__Client=void 0;var UA=Wn(),TY=Qn(),IY=Kn(),HA=oo(),xY=ct(),ap=ut(),NY=bo(),MY=Ar(),$A=lt(),zA=B();Object.defineProperty(Pn,"__Client",{enumerable:!0,get:function(){return zA.Client}});var BA=rp(),DY=rt(),kY=DA(),LY=ip(),cp=class extends zA.Client{constructor(...[t]){let r=(0,kY.getRuntimeConfig)(t||{}),n=(0,DY.resolveClientEndpointParameters)(r),o=(0,xY.resolveRegionConfig)(n),s=(0,MY.resolveEndpointConfig)(o),i=(0,$A.resolveRetryConfig)(s),a=(0,UA.resolveHostHeaderConfig)(i),c=(0,HA.resolveUserAgentConfig)(a),d=(0,BA.resolveHttpAuthSchemeConfig)(c),l=(0,LY.resolveRuntimeExtensions)(d,t?.extensions||[]);super(l),this.config=l,this.middlewareStack.use((0,$A.getRetryPlugin)(this.config)),this.middlewareStack.use((0,NY.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,UA.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,TY.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,IY.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,HA.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,ap.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:this.getDefaultHttpAuthSchemeParametersProvider(),identityProviderConfigProvider:this.getIdentityProviderConfigProvider()})),this.middlewareStack.use((0,ap.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}getDefaultHttpAuthSchemeParametersProvider(){return BA.defaultSTSHttpAuthSchemeParametersProvider}getIdentityProviderConfigProvider(){return async t=>new ap.DefaultIdentityProviderConfig({"aws.auth#sigv4":t.credentials})}};Pn.STSClient=cp});var Bp=g((Nie,$p)=>{"use strict";var _c=Object.defineProperty,qY=Object.getOwnPropertyDescriptor,jY=Object.getOwnPropertyNames,FY=Object.prototype.hasOwnProperty,w=(e,t)=>_c(e,"name",{value:t,configurable:!0}),UY=(e,t)=>{for(var r in t)_c(e,r,{get:t[r],enumerable:!0})},qp=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of jY(t))!FY.call(e,o)&&o!==r&&_c(e,o,{get:()=>t[o],enumerable:!(n=qY(t,o))||n.enumerable});return e},HY=(e,t,r)=>(qp(e,t,"default"),r&&qp(r,t,"default")),$Y=e=>qp(_c({},"__esModule",{value:!0}),e),jp={};UY(jp,{AssumeRoleCommand:()=>Up,AssumeRoleResponseFilterSensitiveLog:()=>_T,AssumeRoleWithSAMLCommand:()=>AT,AssumeRoleWithSAMLRequestFilterSensitiveLog:()=>yT,AssumeRoleWithSAMLResponseFilterSensitiveLog:()=>ST,AssumeRoleWithWebIdentityCommand:()=>Hp,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>ET,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>bT,ClientInputEndpointParameters:()=>lX.ClientInputEndpointParameters,CredentialsFilterSensitiveLog:()=>Mn,DecodeAuthorizationMessageCommand:()=>xT,ExpiredTokenException:()=>JA,GetAccessKeyInfoCommand:()=>MT,GetCallerIdentityCommand:()=>kT,GetFederationTokenCommand:()=>qT,GetFederationTokenResponseFilterSensitiveLog:()=>wT,GetSessionTokenCommand:()=>FT,GetSessionTokenResponseFilterSensitiveLog:()=>CT,IDPCommunicationErrorException:()=>mT,IDPRejectedClaimException:()=>cT,InvalidAuthorizationMessageException:()=>vT,InvalidIdentityTokenException:()=>uT,MalformedPolicyDocumentException:()=>ZA,PackedPolicyTooLargeException:()=>rT,RegionDisabledException:()=>sT,RuntimeExtension:()=>uX.RuntimeExtension,STS:()=>HT,STSServiceException:()=>mt,decorateDefaultCredentialProvider:()=>mX,getDefaultRoleAssumer:()=>VT,getDefaultRoleAssumerWithWebIdentity:()=>GT});$p.exports=$Y(jp);HY(jp,Vo(),$p.exports);var ir=Ar(),ar=Rr(),bie=Qe(),BY=rt(),A=B(),GA=class WA extends A.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,WA.prototype)}};w(GA,"STSServiceException");var mt=GA,QA=class KA extends mt{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,KA.prototype)}};w(QA,"ExpiredTokenException");var JA=QA,YA=class XA extends mt{constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),this.name="MalformedPolicyDocumentException",this.$fault="client",Object.setPrototypeOf(this,XA.prototype)}};w(YA,"MalformedPolicyDocumentException");var ZA=YA,eT=class tT extends mt{constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),this.name="PackedPolicyTooLargeException",this.$fault="client",Object.setPrototypeOf(this,tT.prototype)}};w(eT,"PackedPolicyTooLargeException");var rT=eT,nT=class oT extends mt{constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),this.name="RegionDisabledException",this.$fault="client",Object.setPrototypeOf(this,oT.prototype)}};w(nT,"RegionDisabledException");var sT=nT,iT=class aT extends mt{constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),this.name="IDPRejectedClaimException",this.$fault="client",Object.setPrototypeOf(this,aT.prototype)}};w(iT,"IDPRejectedClaimException");var cT=iT,dT=class lT extends mt{constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),this.name="InvalidIdentityTokenException",this.$fault="client",Object.setPrototypeOf(this,lT.prototype)}};w(dT,"InvalidIdentityTokenException");var uT=dT,pT=class fT extends mt{constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),this.name="IDPCommunicationErrorException",this.$fault="client",Object.setPrototypeOf(this,fT.prototype)}};w(pT,"IDPCommunicationErrorException");var mT=pT,gT=class hT extends mt{constructor(t){super({name:"InvalidAuthorizationMessageException",$fault:"client",...t}),this.name="InvalidAuthorizationMessageException",this.$fault="client",Object.setPrototypeOf(this,hT.prototype)}};w(gT,"InvalidAuthorizationMessageException");var vT=gT,Mn=w(e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:A.SENSITIVE_STRING}}),"CredentialsFilterSensitiveLog"),_T=w(e=>({...e,...e.Credentials&&{Credentials:Mn(e.Credentials)}}),"AssumeRoleResponseFilterSensitiveLog"),yT=w(e=>({...e,...e.SAMLAssertion&&{SAMLAssertion:A.SENSITIVE_STRING}}),"AssumeRoleWithSAMLRequestFilterSensitiveLog"),ST=w(e=>({...e,...e.Credentials&&{Credentials:Mn(e.Credentials)}}),"AssumeRoleWithSAMLResponseFilterSensitiveLog"),ET=w(e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:A.SENSITIVE_STRING}}),"AssumeRoleWithWebIdentityRequestFilterSensitiveLog"),bT=w(e=>({...e,...e.Credentials&&{Credentials:Mn(e.Credentials)}}),"AssumeRoleWithWebIdentityResponseFilterSensitiveLog"),wT=w(e=>({...e,...e.Credentials&&{Credentials:Mn(e.Credentials)}}),"GetFederationTokenResponseFilterSensitiveLog"),CT=w(e=>({...e,...e.Credentials&&{Credentials:Mn(e.Credentials)}}),"GetSessionTokenResponseFilterSensitiveLog"),Mt=fe(),zY=ue(),VY=w(async(e,t)=>{let r=lr,n;return n=mr({...g7(e,t),[pr]:G7,[fr]:ur}),dr(t,r,"/",void 0,n)},"se_AssumeRoleCommand"),GY=w(async(e,t)=>{let r=lr,n;return n=mr({...h7(e,t),[pr]:W7,[fr]:ur}),dr(t,r,"/",void 0,n)},"se_AssumeRoleWithSAMLCommand"),WY=w(async(e,t)=>{let r=lr,n;return n=mr({...v7(e,t),[pr]:Q7,[fr]:ur}),dr(t,r,"/",void 0,n)},"se_AssumeRoleWithWebIdentityCommand"),QY=w(async(e,t)=>{let r=lr,n;return n=mr({..._7(e,t),[pr]:K7,[fr]:ur}),dr(t,r,"/",void 0,n)},"se_DecodeAuthorizationMessageCommand"),KY=w(async(e,t)=>{let r=lr,n;return n=mr({...y7(e,t),[pr]:J7,[fr]:ur}),dr(t,r,"/",void 0,n)},"se_GetAccessKeyInfoCommand"),JY=w(async(e,t)=>{let r=lr,n;return n=mr({...S7(e,t),[pr]:Y7,[fr]:ur}),dr(t,r,"/",void 0,n)},"se_GetCallerIdentityCommand"),YY=w(async(e,t)=>{let r=lr,n;return n=mr({...E7(e,t),[pr]:X7,[fr]:ur}),dr(t,r,"/",void 0,n)},"se_GetFederationTokenCommand"),XY=w(async(e,t)=>{let r=lr,n;return n=mr({...b7(e,t),[pr]:Z7,[fr]:ur}),dr(t,r,"/",void 0,n)},"se_GetSessionTokenCommand"),ZY=w(async(e,t)=>{if(e.statusCode>=300)return cr(e,t);let r=await(0,Mt.parseXmlBody)(e.body,t),n={};return n=A7(r.AssumeRoleResult,t),{$metadata:_e(e),...n}},"de_AssumeRoleCommand"),e7=w(async(e,t)=>{if(e.statusCode>=300)return cr(e,t);let r=await(0,Mt.parseXmlBody)(e.body,t),n={};return n=T7(r.AssumeRoleWithSAMLResult,t),{$metadata:_e(e),...n}},"de_AssumeRoleWithSAMLCommand"),t7=w(async(e,t)=>{if(e.statusCode>=300)return cr(e,t);let r=await(0,Mt.parseXmlBody)(e.body,t),n={};return n=I7(r.AssumeRoleWithWebIdentityResult,t),{$metadata:_e(e),...n}},"de_AssumeRoleWithWebIdentityCommand"),r7=w(async(e,t)=>{if(e.statusCode>=300)return cr(e,t);let r=await(0,Mt.parseXmlBody)(e.body,t),n={};return n=x7(r.DecodeAuthorizationMessageResult,t),{$metadata:_e(e),...n}},"de_DecodeAuthorizationMessageCommand"),n7=w(async(e,t)=>{if(e.statusCode>=300)return cr(e,t);let r=await(0,Mt.parseXmlBody)(e.body,t),n={};return n=D7(r.GetAccessKeyInfoResult,t),{$metadata:_e(e),...n}},"de_GetAccessKeyInfoCommand"),o7=w(async(e,t)=>{if(e.statusCode>=300)return cr(e,t);let r=await(0,Mt.parseXmlBody)(e.body,t),n={};return n=k7(r.GetCallerIdentityResult,t),{$metadata:_e(e),...n}},"de_GetCallerIdentityCommand"),s7=w(async(e,t)=>{if(e.statusCode>=300)return cr(e,t);let r=await(0,Mt.parseXmlBody)(e.body,t),n={};return n=L7(r.GetFederationTokenResult,t),{$metadata:_e(e),...n}},"de_GetFederationTokenCommand"),i7=w(async(e,t)=>{if(e.statusCode>=300)return cr(e,t);let r=await(0,Mt.parseXmlBody)(e.body,t),n={};return n=q7(r.GetSessionTokenResult,t),{$metadata:_e(e),...n}},"de_GetSessionTokenCommand"),cr=w(async(e,t)=>{let r={...e,body:await(0,Mt.parseXmlErrorBody)(e.body,t)},n=eX(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await a7(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await p7(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await f7(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await m7(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await d7(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await u7(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await c7(r,t);case"InvalidAuthorizationMessageException":case"com.amazonaws.sts#InvalidAuthorizationMessageException":throw await l7(r,t);default:let o=r.body;return V7({output:e,parsedBody:o.Error,errorCode:n})}},"de_CommandError"),a7=w(async(e,t)=>{let r=e.body,n=N7(r.Error,t),o=new JA({$metadata:_e(e),...n});return(0,A.decorateServiceException)(o,r)},"de_ExpiredTokenExceptionRes"),c7=w(async(e,t)=>{let r=e.body,n=j7(r.Error,t),o=new mT({$metadata:_e(e),...n});return(0,A.decorateServiceException)(o,r)},"de_IDPCommunicationErrorExceptionRes"),d7=w(async(e,t)=>{let r=e.body,n=F7(r.Error,t),o=new cT({$metadata:_e(e),...n});return(0,A.decorateServiceException)(o,r)},"de_IDPRejectedClaimExceptionRes"),l7=w(async(e,t)=>{let r=e.body,n=U7(r.Error,t),o=new vT({$metadata:_e(e),...n});return(0,A.decorateServiceException)(o,r)},"de_InvalidAuthorizationMessageExceptionRes"),u7=w(async(e,t)=>{let r=e.body,n=H7(r.Error,t),o=new uT({$metadata:_e(e),...n});return(0,A.decorateServiceException)(o,r)},"de_InvalidIdentityTokenExceptionRes"),p7=w(async(e,t)=>{let r=e.body,n=$7(r.Error,t),o=new ZA({$metadata:_e(e),...n});return(0,A.decorateServiceException)(o,r)},"de_MalformedPolicyDocumentExceptionRes"),f7=w(async(e,t)=>{let r=e.body,n=B7(r.Error,t),o=new rT({$metadata:_e(e),...n});return(0,A.decorateServiceException)(o,r)},"de_PackedPolicyTooLargeExceptionRes"),m7=w(async(e,t)=>{let r=e.body,n=z7(r.Error,t),o=new sT({$metadata:_e(e),...n});return(0,A.decorateServiceException)(o,r)},"de_RegionDisabledExceptionRes"),g7=w((e,t)=>{var r,n,o,s;let i={};if(e[Nt]!=null&&(i[Nt]=e[Nt]),e[Tn]!=null&&(i[Tn]=e[Tn]),e[He]!=null){let a=yc(e[He],t);((r=e[He])==null?void 0:r.length)===0&&(i.PolicyArns=[]),Object.entries(a).forEach(([c,d])=>{let l=`PolicyArns.${c}`;i[l]=d})}if(e[Ue]!=null&&(i[Ue]=e[Ue]),e[Ee]!=null&&(i[Ee]=e[Ee]),e[xn]!=null){let a=PT(e[xn],t);((n=e[xn])==null?void 0:n.length)===0&&(i.Tags=[]),Object.entries(a).forEach(([c,d])=>{let l=`Tags.${c}`;i[l]=d})}if(e[Np]!=null){let a=R7(e[Np],t);((o=e[Np])==null?void 0:o.length)===0&&(i.TransitiveTagKeys=[]),Object.entries(a).forEach(([c,d])=>{let l=`TransitiveTagKeys.${c}`;i[l]=d})}if(e[fp]!=null&&(i[fp]=e[fp]),e[In]!=null&&(i[In]=e[In]),e[Nn]!=null&&(i[Nn]=e[Nn]),e[Be]!=null&&(i[Be]=e[Be]),e[wp]!=null){let a=P7(e[wp],t);((s=e[wp])==null?void 0:s.length)===0&&(i.ProvidedContexts=[]),Object.entries(a).forEach(([c,d])=>{let l=`ProvidedContexts.${c}`;i[l]=d})}return i},"se_AssumeRoleRequest"),h7=w((e,t)=>{var r;let n={};if(e[Nt]!=null&&(n[Nt]=e[Nt]),e[Ep]!=null&&(n[Ep]=e[Ep]),e[Ap]!=null&&(n[Ap]=e[Ap]),e[He]!=null){let o=yc(e[He],t);((r=e[He])==null?void 0:r.length)===0&&(n.PolicyArns=[]),Object.entries(o).forEach(([s,i])=>{let a=`PolicyArns.${s}`;n[a]=i})}return e[Ue]!=null&&(n[Ue]=e[Ue]),e[Ee]!=null&&(n[Ee]=e[Ee]),n},"se_AssumeRoleWithSAMLRequest"),v7=w((e,t)=>{var r;let n={};if(e[Nt]!=null&&(n[Nt]=e[Nt]),e[Tn]!=null&&(n[Tn]=e[Tn]),e[kp]!=null&&(n[kp]=e[kp]),e[Cp]!=null&&(n[Cp]=e[Cp]),e[He]!=null){let o=yc(e[He],t);((r=e[He])==null?void 0:r.length)===0&&(n.PolicyArns=[]),Object.entries(o).forEach(([s,i])=>{let a=`PolicyArns.${s}`;n[a]=i})}return e[Ue]!=null&&(n[Ue]=e[Ue]),e[Ee]!=null&&(n[Ee]=e[Ee]),n},"se_AssumeRoleWithWebIdentityRequest"),_7=w((e,t)=>{let r={};return e[mp]!=null&&(r[mp]=e[mp]),r},"se_DecodeAuthorizationMessageRequest"),y7=w((e,t)=>{let r={};return e[On]!=null&&(r[On]=e[On]),r},"se_GetAccessKeyInfoRequest"),S7=w((e,t)=>({}),"se_GetCallerIdentityRequest"),E7=w((e,t)=>{var r,n;let o={};if(e[yp]!=null&&(o[yp]=e[yp]),e[Ue]!=null&&(o[Ue]=e[Ue]),e[He]!=null){let s=yc(e[He],t);((r=e[He])==null?void 0:r.length)===0&&(o.PolicyArns=[]),Object.entries(s).forEach(([i,a])=>{let c=`PolicyArns.${i}`;o[c]=a})}if(e[Ee]!=null&&(o[Ee]=e[Ee]),e[xn]!=null){let s=PT(e[xn],t);((n=e[xn])==null?void 0:n.length)===0&&(o.Tags=[]),Object.entries(s).forEach(([i,a])=>{let c=`Tags.${i}`;o[c]=a})}return o},"se_GetFederationTokenRequest"),b7=w((e,t)=>{let r={};return e[Ee]!=null&&(r[Ee]=e[Ee]),e[In]!=null&&(r[In]=e[In]),e[Nn]!=null&&(r[Nn]=e[Nn]),r},"se_GetSessionTokenRequest"),yc=w((e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let s=w7(o,t);Object.entries(s).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},"se_policyDescriptorListType"),w7=w((e,t)=>{let r={};return e[Lp]!=null&&(r[Lp]=e[Lp]),r},"se_PolicyDescriptorType"),C7=w((e,t)=>{let r={};return e[bp]!=null&&(r[bp]=e[bp]),e[lp]!=null&&(r[lp]=e[lp]),r},"se_ProvidedContext"),P7=w((e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let s=C7(o,t);Object.entries(s).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},"se_ProvidedContextsListType"),O7=w((e,t)=>{let r={};return e[_p]!=null&&(r[_p]=e[_p]),e[Dp]!=null&&(r[Dp]=e[Dp]),r},"se_Tag"),R7=w((e,t)=>{let r={},n=1;for(let o of e)o!==null&&(r[`member.${n}`]=o,n++);return r},"se_tagKeyListType"),PT=w((e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let s=O7(o,t);Object.entries(s).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},"se_tagListType"),Fp=w((e,t)=>{let r={};return e[dp]!=null&&(r[dp]=(0,A.expectString)(e[dp])),e[xt]!=null&&(r[xt]=(0,A.expectString)(e[xt])),r},"de_AssumedRoleUser"),A7=w((e,t)=>{let r={};return e[Se]!=null&&(r[Se]=Wo(e[Se],t)),e[It]!=null&&(r[It]=Fp(e[It],t)),e[$e]!=null&&(r[$e]=(0,A.strictParseInt32)(e[$e])),e[Be]!=null&&(r[Be]=(0,A.expectString)(e[Be])),r},"de_AssumeRoleResponse"),T7=w((e,t)=>{let r={};return e[Se]!=null&&(r[Se]=Wo(e[Se],t)),e[It]!=null&&(r[It]=Fp(e[It],t)),e[$e]!=null&&(r[$e]=(0,A.strictParseInt32)(e[$e])),e[Op]!=null&&(r[Op]=(0,A.expectString)(e[Op])),e[Ip]!=null&&(r[Ip]=(0,A.expectString)(e[Ip])),e[vp]!=null&&(r[vp]=(0,A.expectString)(e[vp])),e[An]!=null&&(r[An]=(0,A.expectString)(e[An])),e[Sp]!=null&&(r[Sp]=(0,A.expectString)(e[Sp])),e[Be]!=null&&(r[Be]=(0,A.expectString)(e[Be])),r},"de_AssumeRoleWithSAMLResponse"),I7=w((e,t)=>{let r={};return e[Se]!=null&&(r[Se]=Wo(e[Se],t)),e[Tp]!=null&&(r[Tp]=(0,A.expectString)(e[Tp])),e[It]!=null&&(r[It]=Fp(e[It],t)),e[$e]!=null&&(r[$e]=(0,A.strictParseInt32)(e[$e])),e[Pp]!=null&&(r[Pp]=(0,A.expectString)(e[Pp])),e[An]!=null&&(r[An]=(0,A.expectString)(e[An])),e[Be]!=null&&(r[Be]=(0,A.expectString)(e[Be])),r},"de_AssumeRoleWithWebIdentityResponse"),Wo=w((e,t)=>{let r={};return e[On]!=null&&(r[On]=(0,A.expectString)(e[On])),e[Rp]!=null&&(r[Rp]=(0,A.expectString)(e[Rp])),e[xp]!=null&&(r[xp]=(0,A.expectString)(e[xp])),e[pp]!=null&&(r[pp]=(0,A.expectNonNull)((0,A.parseRfc3339DateTimeWithOffset)(e[pp]))),r},"de_Credentials"),x7=w((e,t)=>{let r={};return e[up]!=null&&(r[up]=(0,A.expectString)(e[up])),r},"de_DecodeAuthorizationMessageResponse"),N7=w((e,t)=>{let r={};return e[G]!=null&&(r[G]=(0,A.expectString)(e[G])),r},"de_ExpiredTokenException"),M7=w((e,t)=>{let r={};return e[hp]!=null&&(r[hp]=(0,A.expectString)(e[hp])),e[xt]!=null&&(r[xt]=(0,A.expectString)(e[xt])),r},"de_FederatedUser"),D7=w((e,t)=>{let r={};return e[Rn]!=null&&(r[Rn]=(0,A.expectString)(e[Rn])),r},"de_GetAccessKeyInfoResponse"),k7=w((e,t)=>{let r={};return e[Mp]!=null&&(r[Mp]=(0,A.expectString)(e[Mp])),e[Rn]!=null&&(r[Rn]=(0,A.expectString)(e[Rn])),e[xt]!=null&&(r[xt]=(0,A.expectString)(e[xt])),r},"de_GetCallerIdentityResponse"),L7=w((e,t)=>{let r={};return e[Se]!=null&&(r[Se]=Wo(e[Se],t)),e[gp]!=null&&(r[gp]=M7(e[gp],t)),e[$e]!=null&&(r[$e]=(0,A.strictParseInt32)(e[$e])),r},"de_GetFederationTokenResponse"),q7=w((e,t)=>{let r={};return e[Se]!=null&&(r[Se]=Wo(e[Se],t)),r},"de_GetSessionTokenResponse"),j7=w((e,t)=>{let r={};return e[G]!=null&&(r[G]=(0,A.expectString)(e[G])),r},"de_IDPCommunicationErrorException"),F7=w((e,t)=>{let r={};return e[G]!=null&&(r[G]=(0,A.expectString)(e[G])),r},"de_IDPRejectedClaimException"),U7=w((e,t)=>{let r={};return e[G]!=null&&(r[G]=(0,A.expectString)(e[G])),r},"de_InvalidAuthorizationMessageException"),H7=w((e,t)=>{let r={};return e[G]!=null&&(r[G]=(0,A.expectString)(e[G])),r},"de_InvalidIdentityTokenException"),$7=w((e,t)=>{let r={};return e[G]!=null&&(r[G]=(0,A.expectString)(e[G])),r},"de_MalformedPolicyDocumentException"),B7=w((e,t)=>{let r={};return e[G]!=null&&(r[G]=(0,A.expectString)(e[G])),r},"de_PackedPolicyTooLargeException"),z7=w((e,t)=>{let r={};return e[G]!=null&&(r[G]=(0,A.expectString)(e[G])),r},"de_RegionDisabledException"),_e=w(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),V7=(0,A.withBaseException)(mt),dr=w(async(e,t,r,n,o)=>{let{hostname:s,protocol:i="https",port:a,path:c}=await e.endpoint(),d={protocol:i,hostname:s,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(d.hostname=n),o!==void 0&&(d.body=o),new zY.HttpRequest(d)},"buildHttpRpcRequest"),lr={"content-type":"application/x-www-form-urlencoded"},ur="2011-06-15",pr="Action",On="AccessKeyId",G7="AssumeRole",dp="AssumedRoleId",It="AssumedRoleUser",W7="AssumeRoleWithSAML",Q7="AssumeRoleWithWebIdentity",Rn="Account",xt="Arn",An="Audience",Se="Credentials",lp="ContextAssertion",K7="DecodeAuthorizationMessage",up="DecodedMessage",Ee="DurationSeconds",pp="Expiration",fp="ExternalId",mp="EncodedMessage",gp="FederatedUser",hp="FederatedUserId",J7="GetAccessKeyInfo",Y7="GetCallerIdentity",X7="GetFederationToken",Z7="GetSessionToken",vp="Issuer",_p="Key",yp="Name",Sp="NameQualifier",Ue="Policy",He="PolicyArns",Ep="PrincipalArn",bp="ProviderArn",wp="ProvidedContexts",Cp="ProviderId",$e="PackedPolicySize",Pp="Provider",Nt="RoleArn",Tn="RoleSessionName",Op="Subject",Rp="SecretAccessKey",Ap="SAMLAssertion",Tp="SubjectFromWebIdentityToken",Be="SourceIdentity",In="SerialNumber",Ip="SubjectType",xp="SessionToken",xn="Tags",Nn="TokenCode",Np="TransitiveTagKeys",Mp="UserId",fr="Version",Dp="Value",kp="WebIdentityToken",Lp="arn",G="message",mr=w(e=>Object.entries(e).map(([t,r])=>(0,A.extendedEncodeURIComponent)(t)+"="+(0,A.extendedEncodeURIComponent)(r)).join("&"),"buildFormUrlencodedString"),eX=w((e,t)=>{var r;if(((r=t.Error)==null?void 0:r.Code)!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"},"loadQueryErrorCode"),OT=class extends A.Command.classBuilder().ep({...BY.commonParams}).m(function(t,r,n,o){return[(0,ar.getSerdePlugin)(n,this.serialize,this.deserialize),(0,ir.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,_T).ser(VY).de(ZY).build(){};w(OT,"AssumeRoleCommand");var Up=OT,tX=rt(),RT=class extends A.Command.classBuilder().ep({...tX.commonParams}).m(function(t,r,n,o){return[(0,ar.getSerdePlugin)(n,this.serialize,this.deserialize),(0,ir.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithSAML",{}).n("STSClient","AssumeRoleWithSAMLCommand").f(yT,ST).ser(GY).de(e7).build(){};w(RT,"AssumeRoleWithSAMLCommand");var AT=RT,rX=rt(),TT=class extends A.Command.classBuilder().ep({...rX.commonParams}).m(function(t,r,n,o){return[(0,ar.getSerdePlugin)(n,this.serialize,this.deserialize),(0,ir.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(ET,bT).ser(WY).de(t7).build(){};w(TT,"AssumeRoleWithWebIdentityCommand");var Hp=TT,nX=rt(),IT=class extends A.Command.classBuilder().ep({...nX.commonParams}).m(function(t,r,n,o){return[(0,ar.getSerdePlugin)(n,this.serialize,this.deserialize),(0,ir.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","DecodeAuthorizationMessage",{}).n("STSClient","DecodeAuthorizationMessageCommand").f(void 0,void 0).ser(QY).de(r7).build(){};w(IT,"DecodeAuthorizationMessageCommand");var xT=IT,oX=rt(),NT=class extends A.Command.classBuilder().ep({...oX.commonParams}).m(function(t,r,n,o){return[(0,ar.getSerdePlugin)(n,this.serialize,this.deserialize),(0,ir.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetAccessKeyInfo",{}).n("STSClient","GetAccessKeyInfoCommand").f(void 0,void 0).ser(KY).de(n7).build(){};w(NT,"GetAccessKeyInfoCommand");var MT=NT,sX=rt(),DT=class extends A.Command.classBuilder().ep({...sX.commonParams}).m(function(t,r,n,o){return[(0,ar.getSerdePlugin)(n,this.serialize,this.deserialize),(0,ir.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetCallerIdentity",{}).n("STSClient","GetCallerIdentityCommand").f(void 0,void 0).ser(JY).de(o7).build(){};w(DT,"GetCallerIdentityCommand");var kT=DT,iX=rt(),LT=class extends A.Command.classBuilder().ep({...iX.commonParams}).m(function(t,r,n,o){return[(0,ar.getSerdePlugin)(n,this.serialize,this.deserialize),(0,ir.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetFederationToken",{}).n("STSClient","GetFederationTokenCommand").f(void 0,wT).ser(YY).de(s7).build(){};w(LT,"GetFederationTokenCommand");var qT=LT,aX=rt(),jT=class extends A.Command.classBuilder().ep({...aX.commonParams}).m(function(t,r,n,o){return[(0,ar.getSerdePlugin)(n,this.serialize,this.deserialize),(0,ir.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetSessionToken",{}).n("STSClient","GetSessionTokenCommand").f(void 0,CT).ser(XY).de(i7).build(){};w(jT,"GetSessionTokenCommand");var FT=jT,cX=Vo(),dX={AssumeRoleCommand:Up,AssumeRoleWithSAMLCommand:AT,AssumeRoleWithWebIdentityCommand:Hp,DecodeAuthorizationMessageCommand:xT,GetAccessKeyInfoCommand:MT,GetCallerIdentityCommand:kT,GetFederationTokenCommand:qT,GetSessionTokenCommand:FT},UT=class extends cX.STSClient{};w(UT,"STS");var HT=UT;(0,A.createAggregatedClient)(dX,HT);var lX=rt(),uX=ip(),VA="us-east-1",$T=w(async(e,t,r)=>{var n;let o=typeof e=="function"?await e():e,s=typeof t=="function"?await t():t;return(n=r?.debug)==null||n.call(r,"@aws-sdk/client-sts::resolveRegion","accepting first of:",`${o} (provider)`,`${s} (parent client)`,`${VA} (STS default)`),o??s??VA},"resolveRegion"),pX=w((e,t)=>{let r,n;return async(o,s)=>{var i,a,c;if(n=o,!r){let{logger:l=(i=e?.parentClientConfig)==null?void 0:i.logger,region:u,requestHandler:p=(a=e?.parentClientConfig)==null?void 0:a.requestHandler,credentialProviderLogger:f}=e,h=await $T(u,(c=e?.parentClientConfig)==null?void 0:c.region,f);r=new t({credentialDefaultProvider:()=>async()=>n,region:h,requestHandler:p,logger:l})}let{Credentials:d}=await r.send(new Up(s));if(!d||!d.AccessKeyId||!d.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${s.RoleArn}`);return{accessKeyId:d.AccessKeyId,secretAccessKey:d.SecretAccessKey,sessionToken:d.SessionToken,expiration:d.Expiration,credentialScope:d.CredentialScope}}},"getDefaultRoleAssumer"),fX=w((e,t)=>{let r;return async n=>{var o,s,i;if(!r){let{logger:c=(o=e?.parentClientConfig)==null?void 0:o.logger,region:d,requestHandler:l=(s=e?.parentClientConfig)==null?void 0:s.requestHandler,credentialProviderLogger:u}=e,p=await $T(d,(i=e?.parentClientConfig)==null?void 0:i.region,u);r=new t({region:p,requestHandler:l,logger:c})}let{Credentials:a}=await r.send(new Hp(n));if(!a||!a.AccessKeyId||!a.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);return{accessKeyId:a.AccessKeyId,secretAccessKey:a.SecretAccessKey,sessionToken:a.SessionToken,expiration:a.Expiration,credentialScope:a.CredentialScope}}},"getDefaultRoleAssumerWithWebIdentity"),BT=Vo(),zT=w((e,t)=>{var r;return t?(r=class extends e{constructor(n){super(n);for(let o of t)this.middlewareStack.use(o)}},w(r,"CustomizableSTSClient"),r):e},"getCustomizableStsClientCtor"),VT=w((e={},t)=>pX(e,zT(BT.STSClient,t)),"getDefaultRoleAssumer"),GT=w((e={},t)=>fX(e,zT(BT.STSClient,t)),"getDefaultRoleAssumerWithWebIdentity"),mX=w(e=>t=>e({roleAssumer:VT(t),roleAssumerWithWebIdentity:GT(t),...t}),"decorateDefaultCredentialProvider")});var Gp=g((Die,KT)=>{"use strict";var Sc=Object.defineProperty,gX=Object.getOwnPropertyDescriptor,hX=Object.getOwnPropertyNames,vX=Object.prototype.hasOwnProperty,Vp=(e,t)=>Sc(e,"name",{value:t,configurable:!0}),_X=(e,t)=>{for(var r in t)Sc(e,r,{get:t[r],enumerable:!0})},yX=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of hX(t))!vX.call(e,o)&&o!==r&&Sc(e,o,{get:()=>t[o],enumerable:!(n=gX(t,o))||n.enumerable});return e},SX=e=>yX(Sc({},"__esModule",{value:!0}),e),QT={};_X(QT,{fromProcess:()=>PX});KT.exports=SX(QT);var WT=Gt(),zp=Ce(),EX=require("child_process"),bX=require("util"),wX=Vp((e,t)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let r=new Date;if(new Date(t.Expiration)<r)throw Error(`Profile ${e} credential_process returned expired credentials.`)}return{accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)},...t.CredentialScope&&{credentialScope:t.CredentialScope}}},"getValidatedProcessCredentials"),CX=Vp(async(e,t)=>{let r=t[e];if(t[e]){let n=r.credential_process;if(n!==void 0){let o=(0,bX.promisify)(EX.exec);try{let{stdout:s}=await o(n),i;try{i=JSON.parse(s.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return wX(e,i)}catch(s){throw new zp.CredentialsProviderError(s.message)}}else throw new zp.CredentialsProviderError(`Profile ${e} did not contain credential_process.`)}else throw new zp.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`)},"resolveProcessCredentials"),PX=Vp((e={})=>async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-process","fromProcess");let r=await(0,WT.parseKnownFiles)(e);return CX((0,WT.getProfileName)(e),r)},"fromProcess")});var Wp=g(gt=>{"use strict";var OX=gt&&gt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),RX=gt&&gt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),AX=gt&&gt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&OX(t,e,r);return RX(t,e),t};Object.defineProperty(gt,"__esModule",{value:!0});gt.fromWebToken=void 0;var TX=e=>async()=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity","fromWebToken");let{roleArn:t,roleSessionName:r,webIdentityToken:n,providerId:o,policyArns:s,policy:i,durationSeconds:a}=e,{roleAssumerWithWebIdentity:c}=e;if(!c){let{getDefaultRoleAssumerWithWebIdentity:d}=await Promise.resolve().then(()=>AX(Bp()));c=d({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:e.parentClientConfig},e.clientPlugins)}return c({RoleArn:t,RoleSessionName:r??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:n,ProviderId:o,PolicyArns:s,Policy:i,DurationSeconds:a})};gt.fromWebToken=TX});var JT=g(Ec=>{"use strict";Object.defineProperty(Ec,"__esModule",{value:!0});Ec.fromTokenFile=void 0;var IX=Ce(),xX=require("fs"),NX=Wp(),MX="AWS_WEB_IDENTITY_TOKEN_FILE",DX="AWS_ROLE_ARN",kX="AWS_ROLE_SESSION_NAME",LX=(e={})=>async()=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity","fromTokenFile");let t=e?.webIdentityTokenFile??process.env[MX],r=e?.roleArn??process.env[DX],n=e?.roleSessionName??process.env[kX];if(!t||!r)throw new IX.CredentialsProviderError("Web identity configuration not specified");return(0,NX.fromWebToken)({...e,webIdentityToken:(0,xX.readFileSync)(t,{encoding:"ascii"}),roleArn:r,roleSessionName:n})()};Ec.fromTokenFile=LX});var Jp=g((qie,bc)=>{"use strict";var YT=Object.defineProperty,qX=Object.getOwnPropertyDescriptor,jX=Object.getOwnPropertyNames,FX=Object.prototype.hasOwnProperty,Qp=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of jX(t))!FX.call(e,o)&&o!==r&&YT(e,o,{get:()=>t[o],enumerable:!(n=qX(t,o))||n.enumerable});return e},XT=(e,t,r)=>(Qp(e,t,"default"),r&&Qp(r,t,"default")),UX=e=>Qp(YT({},"__esModule",{value:!0}),e),Kp={};bc.exports=UX(Kp);XT(Kp,JT(),bc.exports);XT(Kp,Wp(),bc.exports)});var sI=g((jie,oI)=>{"use strict";var HX=Object.create,Qo=Object.defineProperty,$X=Object.getOwnPropertyDescriptor,BX=Object.getOwnPropertyNames,zX=Object.getPrototypeOf,VX=Object.prototype.hasOwnProperty,be=(e,t)=>Qo(e,"name",{value:t,configurable:!0}),GX=(e,t)=>{for(var r in t)Qo(e,r,{get:t[r],enumerable:!0})},tI=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of BX(t))!VX.call(e,o)&&o!==r&&Qo(e,o,{get:()=>t[o],enumerable:!(n=$X(t,o))||n.enumerable});return e},jr=(e,t,r)=>(r=e!=null?HX(zX(e)):{},tI(t||!e||!e.__esModule?Qo(r,"default",{value:e,enumerable:!0}):r,e)),WX=e=>tI(Qo({},"__esModule",{value:!0}),e),rI={};GX(rI,{fromIni:()=>s9});oI.exports=WX(rI);var Yp=Gt(),wc=Ce(),QX=be((e,t)=>{let r={EcsContainer:n=>Promise.resolve().then(()=>jr(Ao())).then(({fromContainerMetadata:o})=>o(n)),Ec2InstanceMetadata:n=>Promise.resolve().then(()=>jr(Ao())).then(({fromInstanceMetadata:o})=>o(n)),Environment:n=>Promise.resolve().then(()=>jr(xu())).then(({fromEnv:o})=>o(n))};if(e in r)return r[e];throw new wc.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`)},"resolveCredentialSource"),KX=be(e=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(JX(e)||YX(e)),"isAssumeRoleProfile"),JX=be(e=>typeof e.source_profile=="string"&&typeof e.credential_source>"u","isAssumeRoleWithSourceProfile"),YX=be(e=>typeof e.credential_source=="string"&&typeof e.source_profile>"u","isAssumeRoleWithProviderProfile"),XX=be(async(e,t,r,n={})=>{var o;(o=r.logger)==null||o.debug("@aws-sdk/credential-provider-ini","resolveAssumeRoleCredentials (STS)");let s=t[e];if(!r.roleAssumer){let{getDefaultRoleAssumer:u}=await Promise.resolve().then(()=>jr(Bp()));r.roleAssumer=u({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:r?.parentClientConfig},r.clientPlugins)}let{source_profile:i}=s;if(i&&i in n)throw new wc.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${(0,Yp.getProfileName)(r)}. Profiles visited: `+Object.keys(n).join(", "),!1);let a=i?nI(i,t,r,{...n,[i]:!0}):(await QX(s.credential_source,e)(r))(),c={RoleArn:s.role_arn,RoleSessionName:s.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:s.external_id,DurationSeconds:parseInt(s.duration_seconds||"3600",10)},{mfa_serial:d}=s;if(d){if(!r.mfaCodeProvider)throw new wc.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,!1);c.SerialNumber=d,c.TokenCode=await r.mfaCodeProvider(d)}let l=await a;return r.roleAssumer(l,c)},"resolveAssumeRoleCredentials"),ZX=be(e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string","isProcessProfile"),e9=be(async(e,t)=>Promise.resolve().then(()=>jr(Gp())).then(({fromProcess:r})=>r({...e,profile:t})()),"resolveProcessCredentials"),t9=be(async(e,t={})=>{let{fromSSO:r}=await Promise.resolve().then(()=>jr(tp()));return r({profile:e,logger:t.logger})()},"resolveSsoCredentials"),r9=be(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),ZT=be(e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1,"isStaticCredsProfile"),eI=be((e,t)=>{var r;return(r=t?.logger)==null||r.debug("@aws-sdk/credential-provider-ini","resolveStaticCredentials"),Promise.resolve({accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,credentialScope:e.aws_credential_scope})},"resolveStaticCredentials"),n9=be(e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,"isWebIdentityProfile"),o9=be(async(e,t)=>Promise.resolve().then(()=>jr(Jp())).then(({fromTokenFile:r})=>r({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity,logger:t.logger,parentClientConfig:t.parentClientConfig})()),"resolveWebIdentityCredentials"),nI=be(async(e,t,r,n={})=>{let o=t[e];if(Object.keys(n).length>0&&ZT(o))return eI(o,r);if(KX(o))return XX(e,t,r,n);if(ZT(o))return eI(o,r);if(n9(o))return o9(o,r);if(ZX(o))return e9(r,e);if(r9(o))return await t9(e,r);throw new wc.CredentialsProviderError(`Profile ${e} could not be found or parsed in shared credentials file.`)},"resolveProfileData"),s9=be((e={})=>async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-ini","fromIni");let r=await(0,Yp.parseKnownFiles)(e);return nI((0,Yp.getProfileName)(e),r,e)},"fromIni")});var rc=g((Fie,lI)=>{"use strict";var i9=Object.create,Ko=Object.defineProperty,a9=Object.getOwnPropertyDescriptor,c9=Object.getOwnPropertyNames,d9=Object.getPrototypeOf,l9=Object.prototype.hasOwnProperty,Cc=(e,t)=>Ko(e,"name",{value:t,configurable:!0}),u9=(e,t)=>{for(var r in t)Ko(e,r,{get:t[r],enumerable:!0})},iI=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of c9(t))!l9.call(e,o)&&o!==r&&Ko(e,o,{get:()=>t[o],enumerable:!(n=a9(t,o))||n.enumerable});return e},Dn=(e,t,r)=>(r=e!=null?i9(d9(e)):{},iI(t||!e||!e.__esModule?Ko(r,"default",{value:e,enumerable:!0}):r,e)),p9=e=>iI(Ko({},"__esModule",{value:!0}),e),aI={};u9(aI,{credentialsTreatedAsExpired:()=>dI,credentialsWillNeedRefresh:()=>cI,defaultProvider:()=>v9});lI.exports=p9(aI);var f9=xu(),m9=Gt(),kn=Ce(),g9="AWS_EC2_METADATA_DISABLED",h9=Cc(async e=>{var t,r;let{ENV_CMDS_FULL_URI:n,ENV_CMDS_RELATIVE_URI:o,fromContainerMetadata:s,fromInstanceMetadata:i}=await Promise.resolve().then(()=>Dn(Ao()));if(process.env[o]||process.env[n]){(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node","remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:a}=await Promise.resolve().then(()=>Dn(c0()));return(0,kn.chain)(a(e),s(e))}return process.env[g9]?async()=>{throw new kn.CredentialsProviderError("EC2 Instance Metadata Service access disabled")}:((r=e.logger)==null||r.debug("@aws-sdk/credential-provider-node","remoteProvider::fromInstanceMetadata"),i(e))},"remoteProvider"),v9=Cc((e={})=>(0,kn.memoize)((0,kn.chain)(...e.profile||process.env[m9.ENV_PROFILE]?[]:[async()=>{var t;return(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node","defaultProvider::fromEnv"),(0,f9.fromEnv)(e)()}],async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node","defaultProvider::fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:o,ssoRoleName:s,ssoSession:i}=e;if(!r&&!n&&!o&&!s&&!i)throw new kn.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).");let{fromSSO:a}=await Promise.resolve().then(()=>Dn(tp()));return a(e)()},async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node","defaultProvider::fromIni");let{fromIni:r}=await Promise.resolve().then(()=>Dn(sI()));return r(e)()},async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node","defaultProvider::fromProcess");let{fromProcess:r}=await Promise.resolve().then(()=>Dn(Gp()));return r(e)()},async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node","defaultProvider::fromTokenFile");let{fromTokenFile:r}=await Promise.resolve().then(()=>Dn(Jp()));return r(e)()},async()=>{var t;return(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node","defaultProvider::remoteProvider"),(await h9(e))()},async()=>{throw new kn.CredentialsProviderError("Could not load credentials from any providers",!1)}),dI,cI),"defaultProvider"),cI=Cc(e=>e?.expiration!==void 0,"credentialsWillNeedRefresh"),dI=Cc(e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5,"credentialsTreatedAsExpired")});var PI=g(Pc=>{"use strict";Object.defineProperty(Pc,"__esModule",{value:!0});Pc.ruleSet=void 0;var EI="required",Ve="fn",Ge="argv",jn="ref",uI=!0,pI="isSet",Jo="booleanEquals",Ln="error",qn="endpoint",Dt="tree",Xp="PartitionResult",Zp="getAttr",fI={[EI]:!1,type:"String"},mI={[EI]:!0,default:!1,type:"Boolean"},gI={[jn]:"Endpoint"},bI={[Ve]:Jo,[Ge]:[{[jn]:"UseFIPS"},!0]},wI={[Ve]:Jo,[Ge]:[{[jn]:"UseDualStack"},!0]},ze={},hI={[Ve]:Zp,[Ge]:[{[jn]:Xp},"supportsFIPS"]},CI={[jn]:Xp},vI={[Ve]:Jo,[Ge]:[!0,{[Ve]:Zp,[Ge]:[CI,"supportsDualStack"]}]},_I=[bI],yI=[wI],SI=[{[jn]:"Region"}],_9={version:"1.0",parameters:{Region:fI,UseDualStack:mI,UseFIPS:mI,Endpoint:fI},rules:[{conditions:[{[Ve]:pI,[Ge]:[gI]}],rules:[{conditions:_I,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Ln},{conditions:yI,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Ln},{endpoint:{url:gI,properties:ze,headers:ze},type:qn}],type:Dt},{conditions:[{[Ve]:pI,[Ge]:SI}],rules:[{conditions:[{[Ve]:"aws.partition",[Ge]:SI,assign:Xp}],rules:[{conditions:[bI,wI],rules:[{conditions:[{[Ve]:Jo,[Ge]:[uI,hI]},vI],rules:[{endpoint:{url:"https://sqs-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ze,headers:ze},type:qn}],type:Dt},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Ln}],type:Dt},{conditions:_I,rules:[{conditions:[{[Ve]:Jo,[Ge]:[hI,uI]}],rules:[{conditions:[{[Ve]:"stringEquals",[Ge]:[{[Ve]:Zp,[Ge]:[CI,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sqs.{Region}.amazonaws.com",properties:ze,headers:ze},type:qn},{endpoint:{url:"https://sqs-fips.{Region}.{PartitionResult#dnsSuffix}",properties:ze,headers:ze},type:qn}],type:Dt},{error:"FIPS is enabled but this partition does not support FIPS",type:Ln}],type:Dt},{conditions:yI,rules:[{conditions:[vI],rules:[{endpoint:{url:"https://sqs.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ze,headers:ze},type:qn}],type:Dt},{error:"DualStack is enabled but this partition does not support DualStack",type:Ln}],type:Dt},{endpoint:{url:"https://sqs.{Region}.{PartitionResult#dnsSuffix}",properties:ze,headers:ze},type:qn}],type:Dt}],type:Dt},{error:"Invalid Configuration: Missing Region",type:Ln}]};Pc.ruleSet=_9});var RI=g(Oc=>{"use strict";Object.defineProperty(Oc,"__esModule",{value:!0});Oc.defaultEndpointResolver=void 0;var y9=Zr(),OI=Yr(),S9=PI(),E9=(e,t={})=>(0,OI.resolveEndpoint)(S9.ruleSet,{endpointParams:e,logger:t.logger});Oc.defaultEndpointResolver=E9;OI.customEndpointFunctions.aws=y9.awsEndpointFunctions});var II=g(Rc=>{"use strict";Object.defineProperty(Rc,"__esModule",{value:!0});Rc.getRuntimeConfig=void 0;var b9=fe(),w9=B(),C9=Or(),AI=Kt(),TI=Oe(),P9=Iu(),O9=RI(),R9=e=>({apiVersion:"2012-11-05",base64Decoder:e?.base64Decoder??AI.fromBase64,base64Encoder:e?.base64Encoder??AI.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??O9.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??P9.defaultSQSHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new b9.AwsSdkSigV4Signer}],logger:e?.logger??new w9.NoOpLogger,serviceId:e?.serviceId??"SQS",urlParser:e?.urlParser??C9.parseUrl,utf8Decoder:e?.utf8Decoder??TI.fromUtf8,utf8Encoder:e?.utf8Encoder??TI.toUtf8});Rc.getRuntimeConfig=R9});var DI=g(Tc=>{"use strict";Object.defineProperty(Tc,"__esModule",{value:!0});Tc.getRuntimeConfig=void 0;var A9=(Mr(),kt(Nr)),T9=A9.__importDefault(MC()),I9=fe(),x9=rc(),N9=To(),Ac=ct(),xI=Io(),NI=lt(),Yo=Pt(),MI=xr(),M9=xo(),D9=tn(),k9=II(),L9=B(),q9=Do(),j9=B(),F9=e=>{(0,j9.emitWarningIfUnsupportedVersion)(process.version);let t=(0,q9.resolveDefaultsModeConfig)(e),r=()=>t().then(L9.loadConfigsForDefaultMode),n=(0,k9.getRuntimeConfig)(e);return(0,I9.emitWarningIfUnsupportedVersion)(process.version),{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??M9.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??x9.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,N9.defaultUserAgent)({serviceId:n.serviceId,clientVersion:T9.default.version}),maxAttempts:e?.maxAttempts??(0,Yo.loadConfig)(NI.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),md5:e?.md5??xI.Hash.bind(null,"md5"),region:e?.region??(0,Yo.loadConfig)(Ac.NODE_REGION_CONFIG_OPTIONS,Ac.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:MI.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Yo.loadConfig)({...NI.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||D9.DEFAULT_RETRY_MODE}),sha256:e?.sha256??xI.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??MI.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Yo.loadConfig)(Ac.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,Yo.loadConfig)(Ac.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};Tc.getRuntimeConfig=F9});var nf=g((hae,yM)=>{"use strict";var xc=Object.defineProperty,U9=Object.getOwnPropertyDescriptor,H9=Object.getOwnPropertyNames,$9=Object.prototype.hasOwnProperty,m=(e,t)=>xc(e,"name",{value:t,configurable:!0}),B9=(e,t)=>{for(var r in t)xc(e,r,{get:t[r],enumerable:!0})},z9=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of H9(t))!$9.call(e,o)&&o!==r&&xc(e,o,{get:()=>t[o],enumerable:!(n=U9(t,o))||n.enumerable});return e},V9=e=>z9(xc({},"__esModule",{value:!0}),e),UI={};B9(UI,{AddPermissionCommand:()=>AN,BatchEntryIdsNotDistinct:()=>yx,BatchRequestTooLong:()=>yN,CancelMessageMoveTaskCommand:()=>IN,ChangeMessageVisibilityBatchCommand:()=>NN,ChangeMessageVisibilityCommand:()=>DN,CreateQueueCommand:()=>LN,DeleteMessageBatchCommand:()=>jN,DeleteMessageCommand:()=>UN,DeleteQueueCommand:()=>$N,EmptyBatchRequest:()=>bx,GetQueueAttributesCommand:()=>zN,GetQueueUrlCommand:()=>GN,InvalidAddress:()=>GI,InvalidAttributeName:()=>xx,InvalidAttributeValue:()=>Dx,InvalidBatchEntryId:()=>Px,InvalidIdFormat:()=>Bx,InvalidMessageContents:()=>hN,InvalidSecurity:()=>KI,KmsAccessDenied:()=>Kx,KmsDisabled:()=>Xx,KmsInvalidKeyUsage:()=>tN,KmsInvalidState:()=>oN,KmsNotFound:()=>aN,KmsOptInRequired:()=>lN,KmsThrottled:()=>fN,ListDeadLetterSourceQueuesCommand:()=>tf,ListMessageMoveTasksCommand:()=>KN,ListQueueTagsCommand:()=>XN,ListQueuesCommand:()=>rf,MessageNotInflight:()=>fx,MessageSystemAttributeName:()=>rZ,MessageSystemAttributeNameForSends:()=>nZ,OverLimit:()=>XI,PurgeQueueCommand:()=>eM,PurgeQueueInProgress:()=>Gx,QueueAttributeName:()=>tZ,QueueDeletedRecently:()=>qx,QueueDoesNotExist:()=>tx,QueueNameExists:()=>Ux,ReceiptHandleIsInvalid:()=>hx,ReceiveMessageCommand:()=>rM,RemovePermissionCommand:()=>oM,RequestThrottled:()=>ox,ResourceNotFoundException:()=>lx,SQS:()=>_M,SQSClient:()=>Nc,SQSServiceException:()=>j,SendMessageBatchCommand:()=>iM,SendMessageCommand:()=>cM,SetQueueAttributesCommand:()=>lM,StartMessageMoveTaskCommand:()=>pM,TagQueueCommand:()=>mM,TooManyEntriesInBatchRequest:()=>Ax,UnsupportedOperation:()=>ax,UntagQueueCommand:()=>hM,__Client:()=>_.Client,paginateListDeadLetterSourceQueues:()=>gte,paginateListQueues:()=>hte});yM.exports=V9(UI);var kI=Wn(),G9=Qn(),W9=Kn(),Zo=Uv(),LI=oo(),Q9=ct(),Xo=ut(),K9=bo(),W=Ar(),qI=lt(),jI=Iu(),J9=m(e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sqs"}),"resolveClientEndpointParameters"),Y={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},Y9=DI(),FI=Lo(),ef=ue(),_=B(),X9=m(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),Z9=m(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),Ic=m(e=>e,"asPartial"),eZ=m((e,t)=>{let r={...Ic((0,FI.getAwsRegionExtensionConfiguration)(e)),...Ic((0,_.getDefaultExtensionConfiguration)(e)),...Ic((0,ef.getHttpHandlerExtensionConfiguration)(e)),...Ic(X9(e))};return t.forEach(n=>n.configure(r)),{...e,...(0,FI.resolveAwsRegionExtensionConfiguration)(r),...(0,_.resolveDefaultRuntimeConfig)(r),...(0,ef.resolveHttpHandlerRuntimeConfig)(r),...Z9(r)}},"resolveRuntimeExtensions"),HI=class extends _.Client{constructor(...[t]){let r=(0,Y9.getRuntimeConfig)(t||{}),n=J9(r),o=(0,Q9.resolveRegionConfig)(n),s=(0,W.resolveEndpointConfig)(o),i=(0,qI.resolveRetryConfig)(s),a=(0,kI.resolveHostHeaderConfig)(i),c=(0,Zo.resolveQueueUrlConfig)(a),d=(0,LI.resolveUserAgentConfig)(c),l=(0,jI.resolveHttpAuthSchemeConfig)(d),u=eZ(l,t?.extensions||[]);super(u),this.config=u,this.middlewareStack.use((0,qI.getRetryPlugin)(this.config)),this.middlewareStack.use((0,K9.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,kI.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,G9.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,W9.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,Zo.getQueueUrlPlugin)(this.config)),this.middlewareStack.use((0,LI.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Xo.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:this.getDefaultHttpAuthSchemeParametersProvider(),identityProviderConfigProvider:this.getIdentityProviderConfigProvider()})),this.middlewareStack.use((0,Xo.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}getDefaultHttpAuthSchemeParametersProvider(){return jI.defaultSQSHttpAuthSchemeParametersProvider}getIdentityProviderConfigProvider(){return async t=>new Xo.DefaultIdentityProviderConfig({"aws.auth#sigv4":t.credentials})}};m(HI,"SQSClient");var Nc=HI,X=Rr(),Vie=Qe(),C=fe(),$I=class BI extends _.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,BI.prototype)}};m($I,"SQSServiceException");var j=$I,zI=class VI extends j{constructor(t){super({name:"InvalidAddress",$fault:"client",...t}),this.name="InvalidAddress",this.$fault="client",Object.setPrototypeOf(this,VI.prototype)}};m(zI,"InvalidAddress");var GI=zI,WI=class QI extends j{constructor(t){super({name:"InvalidSecurity",$fault:"client",...t}),this.name="InvalidSecurity",this.$fault="client",Object.setPrototypeOf(this,QI.prototype)}};m(WI,"InvalidSecurity");var KI=WI,JI=class YI extends j{constructor(t){super({name:"OverLimit",$fault:"client",...t}),this.name="OverLimit",this.$fault="client",Object.setPrototypeOf(this,YI.prototype)}};m(JI,"OverLimit");var XI=JI,ZI=class ex extends j{constructor(t){super({name:"QueueDoesNotExist",$fault:"client",...t}),this.name="QueueDoesNotExist",this.$fault="client",Object.setPrototypeOf(this,ex.prototype)}};m(ZI,"QueueDoesNotExist");var tx=ZI,rx=class nx extends j{constructor(t){super({name:"RequestThrottled",$fault:"client",...t}),this.name="RequestThrottled",this.$fault="client",Object.setPrototypeOf(this,nx.prototype)}};m(rx,"RequestThrottled");var ox=rx,sx=class ix extends j{constructor(t){super({name:"UnsupportedOperation",$fault:"client",...t}),this.name="UnsupportedOperation",this.$fault="client",Object.setPrototypeOf(this,ix.prototype)}};m(sx,"UnsupportedOperation");var ax=sx,cx=class dx extends j{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,dx.prototype)}};m(cx,"ResourceNotFoundException");var lx=cx,ux=class px extends j{constructor(t){super({name:"MessageNotInflight",$fault:"client",...t}),this.name="MessageNotInflight",this.$fault="client",Object.setPrototypeOf(this,px.prototype)}};m(ux,"MessageNotInflight");var fx=ux,mx=class gx extends j{constructor(t){super({name:"ReceiptHandleIsInvalid",$fault:"client",...t}),this.name="ReceiptHandleIsInvalid",this.$fault="client",Object.setPrototypeOf(this,gx.prototype)}};m(mx,"ReceiptHandleIsInvalid");var hx=mx,vx=class _x extends j{constructor(t){super({name:"BatchEntryIdsNotDistinct",$fault:"client",...t}),this.name="BatchEntryIdsNotDistinct",this.$fault="client",Object.setPrototypeOf(this,_x.prototype)}};m(vx,"BatchEntryIdsNotDistinct");var yx=vx,Sx=class Ex extends j{constructor(t){super({name:"EmptyBatchRequest",$fault:"client",...t}),this.name="EmptyBatchRequest",this.$fault="client",Object.setPrototypeOf(this,Ex.prototype)}};m(Sx,"EmptyBatchRequest");var bx=Sx,wx=class Cx extends j{constructor(t){super({name:"InvalidBatchEntryId",$fault:"client",...t}),this.name="InvalidBatchEntryId",this.$fault="client",Object.setPrototypeOf(this,Cx.prototype)}};m(wx,"InvalidBatchEntryId");var Px=wx,Ox=class Rx extends j{constructor(t){super({name:"TooManyEntriesInBatchRequest",$fault:"client",...t}),this.name="TooManyEntriesInBatchRequest",this.$fault="client",Object.setPrototypeOf(this,Rx.prototype)}};m(Ox,"TooManyEntriesInBatchRequest");var Ax=Ox,tZ={All:"All",ApproximateNumberOfMessages:"ApproximateNumberOfMessages",ApproximateNumberOfMessagesDelayed:"ApproximateNumberOfMessagesDelayed",ApproximateNumberOfMessagesNotVisible:"ApproximateNumberOfMessagesNotVisible",ContentBasedDeduplication:"ContentBasedDeduplication",CreatedTimestamp:"CreatedTimestamp",DeduplicationScope:"DeduplicationScope",DelaySeconds:"DelaySeconds",FifoQueue:"FifoQueue",FifoThroughputLimit:"FifoThroughputLimit",KmsDataKeyReusePeriodSeconds:"KmsDataKeyReusePeriodSeconds",KmsMasterKeyId:"KmsMasterKeyId",LastModifiedTimestamp:"LastModifiedTimestamp",MaximumMessageSize:"MaximumMessageSize",MessageRetentionPeriod:"MessageRetentionPeriod",Policy:"Policy",QueueArn:"QueueArn",ReceiveMessageWaitTimeSeconds:"ReceiveMessageWaitTimeSeconds",RedriveAllowPolicy:"RedriveAllowPolicy",RedrivePolicy:"RedrivePolicy",SqsManagedSseEnabled:"SqsManagedSseEnabled",VisibilityTimeout:"VisibilityTimeout"},Tx=class Ix extends j{constructor(t){super({name:"InvalidAttributeName",$fault:"client",...t}),this.name="InvalidAttributeName",this.$fault="client",Object.setPrototypeOf(this,Ix.prototype)}};m(Tx,"InvalidAttributeName");var xx=Tx,Nx=class Mx extends j{constructor(t){super({name:"InvalidAttributeValue",$fault:"client",...t}),this.name="InvalidAttributeValue",this.$fault="client",Object.setPrototypeOf(this,Mx.prototype)}};m(Nx,"InvalidAttributeValue");var Dx=Nx,kx=class Lx extends j{constructor(t){super({name:"QueueDeletedRecently",$fault:"client",...t}),this.name="QueueDeletedRecently",this.$fault="client",Object.setPrototypeOf(this,Lx.prototype)}};m(kx,"QueueDeletedRecently");var qx=kx,jx=class Fx extends j{constructor(t){super({name:"QueueNameExists",$fault:"client",...t}),this.name="QueueNameExists",this.$fault="client",Object.setPrototypeOf(this,Fx.prototype)}};m(jx,"QueueNameExists");var Ux=jx,Hx=class $x extends j{constructor(t){super({name:"InvalidIdFormat",$fault:"client",...t}),this.name="InvalidIdFormat",this.$fault="client",Object.setPrototypeOf(this,$x.prototype)}};m(Hx,"InvalidIdFormat");var Bx=Hx,zx=class Vx extends j{constructor(t){super({name:"PurgeQueueInProgress",$fault:"client",...t}),this.name="PurgeQueueInProgress",this.$fault="client",Object.setPrototypeOf(this,Vx.prototype)}};m(zx,"PurgeQueueInProgress");var Gx=zx,Wx=class Qx extends j{constructor(t){super({name:"KmsAccessDenied",$fault:"client",...t}),this.name="KmsAccessDenied",this.$fault="client",Object.setPrototypeOf(this,Qx.prototype)}};m(Wx,"KmsAccessDenied");var Kx=Wx,Jx=class Yx extends j{constructor(t){super({name:"KmsDisabled",$fault:"client",...t}),this.name="KmsDisabled",this.$fault="client",Object.setPrototypeOf(this,Yx.prototype)}};m(Jx,"KmsDisabled");var Xx=Jx,Zx=class eN extends j{constructor(t){super({name:"KmsInvalidKeyUsage",$fault:"client",...t}),this.name="KmsInvalidKeyUsage",this.$fault="client",Object.setPrototypeOf(this,eN.prototype)}};m(Zx,"KmsInvalidKeyUsage");var tN=Zx,rN=class nN extends j{constructor(t){super({name:"KmsInvalidState",$fault:"client",...t}),this.name="KmsInvalidState",this.$fault="client",Object.setPrototypeOf(this,nN.prototype)}};m(rN,"KmsInvalidState");var oN=rN,sN=class iN extends j{constructor(t){super({name:"KmsNotFound",$fault:"client",...t}),this.name="KmsNotFound",this.$fault="client",Object.setPrototypeOf(this,iN.prototype)}};m(sN,"KmsNotFound");var aN=sN,cN=class dN extends j{constructor(t){super({name:"KmsOptInRequired",$fault:"client",...t}),this.name="KmsOptInRequired",this.$fault="client",Object.setPrototypeOf(this,dN.prototype)}};m(cN,"KmsOptInRequired");var lN=cN,uN=class pN extends j{constructor(t){super({name:"KmsThrottled",$fault:"client",...t}),this.name="KmsThrottled",this.$fault="client",Object.setPrototypeOf(this,pN.prototype)}};m(uN,"KmsThrottled");var fN=uN,rZ={AWSTraceHeader:"AWSTraceHeader",All:"All",ApproximateFirstReceiveTimestamp:"ApproximateFirstReceiveTimestamp",ApproximateReceiveCount:"ApproximateReceiveCount",DeadLetterQueueSourceArn:"DeadLetterQueueSourceArn",MessageDeduplicationId:"MessageDeduplicationId",MessageGroupId:"MessageGroupId",SenderId:"SenderId",SentTimestamp:"SentTimestamp",SequenceNumber:"SequenceNumber"},mN=class gN extends j{constructor(t){super({name:"InvalidMessageContents",$fault:"client",...t}),this.name="InvalidMessageContents",this.$fault="client",Object.setPrototypeOf(this,gN.prototype)}};m(mN,"InvalidMessageContents");var hN=mN,nZ={AWSTraceHeader:"AWSTraceHeader"},vN=class _N extends j{constructor(t){super({name:"BatchRequestTooLong",$fault:"client",...t}),this.name="BatchRequestTooLong",this.$fault="client",Object.setPrototypeOf(this,_N.prototype)}};m(vN,"BatchRequestTooLong");var yN=vN,oZ=m(async(e,t)=>{let r=Q("AddPermission"),n;return n=JSON.stringify(Pee(e,t)),ee(t,r,"/",void 0,n)},"se_AddPermissionCommand"),sZ=m(async(e,t)=>{let r=Q("CancelMessageMoveTask"),n;return n=JSON.stringify(Ree(e,t)),ee(t,r,"/",void 0,n)},"se_CancelMessageMoveTaskCommand"),iZ=m(async(e,t)=>{let r=Q("ChangeMessageVisibility"),n;return n=JSON.stringify(xee(e,t)),ee(t,r,"/",void 0,n)},"se_ChangeMessageVisibilityCommand"),aZ=m(async(e,t)=>{let r=Q("ChangeMessageVisibilityBatch"),n;return n=JSON.stringify(Aee(e,t)),ee(t,r,"/",void 0,n)},"se_ChangeMessageVisibilityBatchCommand"),cZ=m(async(e,t)=>{let r=Q("CreateQueue"),n;return n=JSON.stringify(Nee(e,t)),ee(t,r,"/",void 0,n)},"se_CreateQueueCommand"),dZ=m(async(e,t)=>{let r=Q("DeleteMessage"),n;return n=JSON.stringify(Lee(e,t)),ee(t,r,"/",void 0,n)},"se_DeleteMessageCommand"),lZ=m(async(e,t)=>{let r=Q("DeleteMessageBatch"),n;return n=JSON.stringify(Mee(e,t)),ee(t,r,"/",void 0,n)},"se_DeleteMessageBatchCommand"),uZ=m(async(e,t)=>{let r=Q("DeleteQueue"),n;return n=JSON.stringify(qee(e,t)),ee(t,r,"/",void 0,n)},"se_DeleteQueueCommand"),pZ=m(async(e,t)=>{let r=Q("GetQueueAttributes"),n;return n=JSON.stringify(jee(e,t)),ee(t,r,"/",void 0,n)},"se_GetQueueAttributesCommand"),fZ=m(async(e,t)=>{let r=Q("GetQueueUrl"),n;return n=JSON.stringify(Fee(e,t)),ee(t,r,"/",void 0,n)},"se_GetQueueUrlCommand"),mZ=m(async(e,t)=>{let r=Q("ListDeadLetterSourceQueues"),n;return n=JSON.stringify(Uee(e,t)),ee(t,r,"/",void 0,n)},"se_ListDeadLetterSourceQueuesCommand"),gZ=m(async(e,t)=>{let r=Q("ListMessageMoveTasks"),n;return n=JSON.stringify(Hee(e,t)),ee(t,r,"/",void 0,n)},"se_ListMessageMoveTasksCommand"),hZ=m(async(e,t)=>{let r=Q("ListQueues"),n;return n=JSON.stringify($ee(e,t)),ee(t,r,"/",void 0,n)},"se_ListQueuesCommand"),vZ=m(async(e,t)=>{let r=Q("ListQueueTags"),n;return n=JSON.stringify(Bee(e,t)),ee(t,r,"/",void 0,n)},"se_ListQueueTagsCommand"),_Z=m(async(e,t)=>{let r=Q("PurgeQueue"),n;return n=JSON.stringify(Qee(e,t)),ee(t,r,"/",void 0,n)},"se_PurgeQueueCommand"),yZ=m(async(e,t)=>{let r=Q("ReceiveMessage"),n;return n=JSON.stringify(Kee(e,t)),ee(t,r,"/",void 0,n)},"se_ReceiveMessageCommand"),SZ=m(async(e,t)=>{let r=Q("RemovePermission"),n;return n=JSON.stringify(Jee(e,t)),ee(t,r,"/",void 0,n)},"se_RemovePermissionCommand"),EZ=m(async(e,t)=>{let r=Q("SendMessage"),n;return n=JSON.stringify(ete(e,t)),ee(t,r,"/",void 0,n)},"se_SendMessageCommand"),bZ=m(async(e,t)=>{let r=Q("SendMessageBatch"),n;return n=JSON.stringify(Yee(e,t)),ee(t,r,"/",void 0,n)},"se_SendMessageBatchCommand"),wZ=m(async(e,t)=>{let r=Q("SetQueueAttributes"),n;return n=JSON.stringify(tte(e,t)),ee(t,r,"/",void 0,n)},"se_SetQueueAttributesCommand"),CZ=m(async(e,t)=>{let r=Q("StartMessageMoveTask"),n;return n=JSON.stringify(rte(e,t)),ee(t,r,"/",void 0,n)},"se_StartMessageMoveTaskCommand"),PZ=m(async(e,t)=>{let r=Q("TagQueue"),n;return n=JSON.stringify(ote(e,t)),ee(t,r,"/",void 0,n)},"se_TagQueueCommand"),OZ=m(async(e,t)=>{let r=Q("UntagQueue"),n;return n=JSON.stringify(ste(e,t)),ee(t,r,"/",void 0,n)},"se_UntagQueueCommand"),RZ=m(async(e,t)=>e.statusCode>=300?Z(e,t):(await(0,_.collectBody)(e.body,t),{$metadata:x(e)}),"de_AddPermissionCommand"),AZ=m(async(e,t)=>{if(e.statusCode>=300)return Z(e,t);let r=await(0,C.parseJsonBody)(e.body,t),n={};return n=(0,_._json)(r),{$metadata:x(e),...n}},"de_CancelMessageMoveTaskCommand"),TZ=m(async(e,t)=>e.statusCode>=300?Z(e,t):(await(0,_.collectBody)(e.body,t),{$metadata:x(e)}),"de_ChangeMessageVisibilityCommand"),IZ=m(async(e,t)=>{if(e.statusCode>=300)return Z(e,t);let r=await(0,C.parseJsonBody)(e.body,t),n={};return n=(0,_._json)(r),{$metadata:x(e),...n}},"de_ChangeMessageVisibilityBatchCommand"),xZ=m(async(e,t)=>{if(e.statusCode>=300)return Z(e,t);let r=await(0,C.parseJsonBody)(e.body,t),n={};return n=(0,_._json)(r),{$metadata:x(e),...n}},"de_CreateQueueCommand"),NZ=m(async(e,t)=>e.statusCode>=300?Z(e,t):(await(0,_.collectBody)(e.body,t),{$metadata:x(e)}),"de_DeleteMessageCommand"),MZ=m(async(e,t)=>{if(e.statusCode>=300)return Z(e,t);let r=await(0,C.parseJsonBody)(e.body,t),n={};return n=(0,_._json)(r),{$metadata:x(e),...n}},"de_DeleteMessageBatchCommand"),DZ=m(async(e,t)=>e.statusCode>=300?Z(e,t):(await(0,_.collectBody)(e.body,t),{$metadata:x(e)}),"de_DeleteQueueCommand"),kZ=m(async(e,t)=>{if(e.statusCode>=300)return Z(e,t);let r=await(0,C.parseJsonBody)(e.body,t),n={};return n=(0,_._json)(r),{$metadata:x(e),...n}},"de_GetQueueAttributesCommand"),LZ=m(async(e,t)=>{if(e.statusCode>=300)return Z(e,t);let r=await(0,C.parseJsonBody)(e.body,t),n={};return n=(0,_._json)(r),{$metadata:x(e),...n}},"de_GetQueueUrlCommand"),qZ=m(async(e,t)=>{if(e.statusCode>=300)return Z(e,t);let r=await(0,C.parseJsonBody)(e.body,t),n={};return n=(0,_._json)(r),{$metadata:x(e),...n}},"de_ListDeadLetterSourceQueuesCommand"),jZ=m(async(e,t)=>{if(e.statusCode>=300)return Z(e,t);let r=await(0,C.parseJsonBody)(e.body,t),n={};return n=(0,_._json)(r),{$metadata:x(e),...n}},"de_ListMessageMoveTasksCommand"),FZ=m(async(e,t)=>{if(e.statusCode>=300)return Z(e,t);let r=await(0,C.parseJsonBody)(e.body,t),n={};return n=(0,_._json)(r),{$metadata:x(e),...n}},"de_ListQueuesCommand"),UZ=m(async(e,t)=>{if(e.statusCode>=300)return Z(e,t);let r=await(0,C.parseJsonBody)(e.body,t),n={};return n=(0,_._json)(r),{$metadata:x(e),...n}},"de_ListQueueTagsCommand"),HZ=m(async(e,t)=>e.statusCode>=300?Z(e,t):(await(0,_.collectBody)(e.body,t),{$metadata:x(e)}),"de_PurgeQueueCommand"),$Z=m(async(e,t)=>{if(e.statusCode>=300)return Z(e,t);let r=await(0,C.parseJsonBody)(e.body,t),n={};return n=ute(r,t),{$metadata:x(e),...n}},"de_ReceiveMessageCommand"),BZ=m(async(e,t)=>e.statusCode>=300?Z(e,t):(await(0,_.collectBody)(e.body,t),{$metadata:x(e)}),"de_RemovePermissionCommand"),zZ=m(async(e,t)=>{if(e.statusCode>=300)return Z(e,t);let r=await(0,C.parseJsonBody)(e.body,t),n={};return n=(0,_._json)(r),{$metadata:x(e),...n}},"de_SendMessageCommand"),VZ=m(async(e,t)=>{if(e.statusCode>=300)return Z(e,t);let r=await(0,C.parseJsonBody)(e.body,t),n={};return n=(0,_._json)(r),{$metadata:x(e),...n}},"de_SendMessageBatchCommand"),GZ=m(async(e,t)=>e.statusCode>=300?Z(e,t):(await(0,_.collectBody)(e.body,t),{$metadata:x(e)}),"de_SetQueueAttributesCommand"),WZ=m(async(e,t)=>{if(e.statusCode>=300)return Z(e,t);let r=await(0,C.parseJsonBody)(e.body,t),n={};return n=(0,_._json)(r),{$metadata:x(e),...n}},"de_StartMessageMoveTaskCommand"),QZ=m(async(e,t)=>e.statusCode>=300?Z(e,t):(await(0,_.collectBody)(e.body,t),{$metadata:x(e)}),"de_TagQueueCommand"),KZ=m(async(e,t)=>e.statusCode>=300?Z(e,t):(await(0,_.collectBody)(e.body,t),{$metadata:x(e)}),"de_UntagQueueCommand"),Z=m(async(e,t)=>{let r={...e,body:await(0,C.parseJsonErrorBody)(e.body,t)};fte(r,e.headers);let n=(0,C.loadRestJsonErrorCode)(e,r.body);switch(n){case"InvalidAddress":case"com.amazonaws.sqs#InvalidAddress":throw await ZZ(r,t);case"InvalidSecurity":case"com.amazonaws.sqs#InvalidSecurity":throw await see(r,t);case"OverLimit":case"com.amazonaws.sqs#OverLimit":throw await mee(r,t);case"QueueDoesNotExist":case"com.amazonaws.sqs#QueueDoesNotExist":throw await vee(r,t);case"RequestThrottled":case"com.amazonaws.sqs#RequestThrottled":throw await See(r,t);case"UnsupportedOperation":case"com.amazonaws.sqs#UnsupportedOperation":throw await wee(r,t);case"ResourceNotFoundException":case"com.amazonaws.sqs#ResourceNotFoundException":throw await Eee(r,t);case"MessageNotInflight":case"com.amazonaws.sqs#MessageNotInflight":throw await fee(r,t);case"ReceiptHandleIsInvalid":case"com.amazonaws.sqs#ReceiptHandleIsInvalid":throw await yee(r,t);case"BatchEntryIdsNotDistinct":case"com.amazonaws.sqs#BatchEntryIdsNotDistinct":throw await JZ(r,t);case"EmptyBatchRequest":case"com.amazonaws.sqs#EmptyBatchRequest":throw await XZ(r,t);case"InvalidBatchEntryId":case"com.amazonaws.sqs#InvalidBatchEntryId":throw await ree(r,t);case"TooManyEntriesInBatchRequest":case"com.amazonaws.sqs#TooManyEntriesInBatchRequest":throw await bee(r,t);case"InvalidAttributeName":case"com.amazonaws.sqs#InvalidAttributeName":throw await eee(r,t);case"InvalidAttributeValue":case"com.amazonaws.sqs#InvalidAttributeValue":throw await tee(r,t);case"QueueDeletedRecently":case"com.amazonaws.sqs#QueueDeletedRecently":throw await hee(r,t);case"QueueNameExists":case"com.amazonaws.sqs#QueueNameExists":throw await _ee(r,t);case"InvalidIdFormat":case"com.amazonaws.sqs#InvalidIdFormat":throw await nee(r,t);case"PurgeQueueInProgress":case"com.amazonaws.sqs#PurgeQueueInProgress":throw await gee(r,t);case"KmsAccessDenied":case"com.amazonaws.sqs#KmsAccessDenied":throw await iee(r,t);case"KmsDisabled":case"com.amazonaws.sqs#KmsDisabled":throw await aee(r,t);case"KmsInvalidKeyUsage":case"com.amazonaws.sqs#KmsInvalidKeyUsage":throw await cee(r,t);case"KmsInvalidState":case"com.amazonaws.sqs#KmsInvalidState":throw await dee(r,t);case"KmsNotFound":case"com.amazonaws.sqs#KmsNotFound":throw await lee(r,t);case"KmsOptInRequired":case"com.amazonaws.sqs#KmsOptInRequired":throw await uee(r,t);case"KmsThrottled":case"com.amazonaws.sqs#KmsThrottled":throw await pee(r,t);case"InvalidMessageContents":case"com.amazonaws.sqs#InvalidMessageContents":throw await oee(r,t);case"BatchRequestTooLong":case"com.amazonaws.sqs#BatchRequestTooLong":throw await YZ(r,t);default:let o=r.body;return pte({output:e,parsedBody:o,errorCode:n})}},"de_CommandError"),JZ=m(async(e,t)=>{let r=e.body,n=(0,_._json)(r),o=new yx({$metadata:x(e),...n});return(0,_.decorateServiceException)(o,r)},"de_BatchEntryIdsNotDistinctRes"),YZ=m(async(e,t)=>{let r=e.body,n=(0,_._json)(r),o=new yN({$metadata:x(e),...n});return(0,_.decorateServiceException)(o,r)},"de_BatchRequestTooLongRes"),XZ=m(async(e,t)=>{let r=e.body,n=(0,_._json)(r),o=new bx({$metadata:x(e),...n});return(0,_.decorateServiceException)(o,r)},"de_EmptyBatchRequestRes"),ZZ=m(async(e,t)=>{let r=e.body,n=(0,_._json)(r),o=new GI({$metadata:x(e),...n});return(0,_.decorateServiceException)(o,r)},"de_InvalidAddressRes"),eee=m(async(e,t)=>{let r=e.body,n=(0,_._json)(r),o=new xx({$metadata:x(e),...n});return(0,_.decorateServiceException)(o,r)},"de_InvalidAttributeNameRes"),tee=m(async(e,t)=>{let r=e.body,n=(0,_._json)(r),o=new Dx({$metadata:x(e),...n});return(0,_.decorateServiceException)(o,r)},"de_InvalidAttributeValueRes"),ree=m(async(e,t)=>{let r=e.body,n=(0,_._json)(r),o=new Px({$metadata:x(e),...n});return(0,_.decorateServiceException)(o,r)},"de_InvalidBatchEntryIdRes"),nee=m(async(e,t)=>{let r=e.body,n=(0,_._json)(r),o=new Bx({$metadata:x(e),...n});return(0,_.decorateServiceException)(o,r)},"de_InvalidIdFormatRes"),oee=m(async(e,t)=>{let r=e.body,n=(0,_._json)(r),o=new hN({$metadata:x(e),...n});return(0,_.decorateServiceException)(o,r)},"de_InvalidMessageContentsRes"),see=m(async(e,t)=>{let r=e.body,n=(0,_._json)(r),o=new KI({$metadata:x(e),...n});return(0,_.decorateServiceException)(o,r)},"de_InvalidSecurityRes"),iee=m(async(e,t)=>{let r=e.body,n=(0,_._json)(r),o=new Kx({$metadata:x(e),...n});return(0,_.decorateServiceException)(o,r)},"de_KmsAccessDeniedRes"),aee=m(async(e,t)=>{let r=e.body,n=(0,_._json)(r),o=new Xx({$metadata:x(e),...n});return(0,_.decorateServiceException)(o,r)},"de_KmsDisabledRes"),cee=m(async(e,t)=>{let r=e.body,n=(0,_._json)(r),o=new tN({$metadata:x(e),...n});return(0,_.decorateServiceException)(o,r)},"de_KmsInvalidKeyUsageRes"),dee=m(async(e,t)=>{let r=e.body,n=(0,_._json)(r),o=new oN({$metadata:x(e),...n});return(0,_.decorateServiceException)(o,r)},"de_KmsInvalidStateRes"),lee=m(async(e,t)=>{let r=e.body,n=(0,_._json)(r),o=new aN({$metadata:x(e),...n});return(0,_.decorateServiceException)(o,r)},"de_KmsNotFoundRes"),uee=m(async(e,t)=>{let r=e.body,n=(0,_._json)(r),o=new lN({$metadata:x(e),...n});return(0,_.decorateServiceException)(o,r)},"de_KmsOptInRequiredRes"),pee=m(async(e,t)=>{let r=e.body,n=(0,_._json)(r),o=new fN({$metadata:x(e),...n});return(0,_.decorateServiceException)(o,r)},"de_KmsThrottledRes"),fee=m(async(e,t)=>{let r=e.body,n=(0,_._json)(r),o=new fx({$metadata:x(e),...n});return(0,_.decorateServiceException)(o,r)},"de_MessageNotInflightRes"),mee=m(async(e,t)=>{let r=e.body,n=(0,_._json)(r),o=new XI({$metadata:x(e),...n});return(0,_.decorateServiceException)(o,r)},"de_OverLimitRes"),gee=m(async(e,t)=>{let r=e.body,n=(0,_._json)(r),o=new Gx({$metadata:x(e),...n});return(0,_.decorateServiceException)(o,r)},"de_PurgeQueueInProgressRes"),hee=m(async(e,t)=>{let r=e.body,n=(0,_._json)(r),o=new qx({$metadata:x(e),...n});return(0,_.decorateServiceException)(o,r)},"de_QueueDeletedRecentlyRes"),vee=m(async(e,t)=>{let r=e.body,n=(0,_._json)(r),o=new tx({$metadata:x(e),...n});return(0,_.decorateServiceException)(o,r)},"de_QueueDoesNotExistRes"),_ee=m(async(e,t)=>{let r=e.body,n=(0,_._json)(r),o=new Ux({$metadata:x(e),...n});return(0,_.decorateServiceException)(o,r)},"de_QueueNameExistsRes"),yee=m(async(e,t)=>{let r=e.body,n=(0,_._json)(r),o=new hx({$metadata:x(e),...n});return(0,_.decorateServiceException)(o,r)},"de_ReceiptHandleIsInvalidRes"),See=m(async(e,t)=>{let r=e.body,n=(0,_._json)(r),o=new ox({$metadata:x(e),...n});return(0,_.decorateServiceException)(o,r)},"de_RequestThrottledRes"),Eee=m(async(e,t)=>{let r=e.body,n=(0,_._json)(r),o=new lx({$metadata:x(e),...n});return(0,_.decorateServiceException)(o,r)},"de_ResourceNotFoundExceptionRes"),bee=m(async(e,t)=>{let r=e.body,n=(0,_._json)(r),o=new Ax({$metadata:x(e),...n});return(0,_.decorateServiceException)(o,r)},"de_TooManyEntriesInBatchRequestRes"),wee=m(async(e,t)=>{let r=e.body,n=(0,_._json)(r),o=new ax({$metadata:x(e),...n});return(0,_.decorateServiceException)(o,r)},"de_UnsupportedOperationRes"),Cee=m((e,t)=>e.filter(r=>r!=null).map(r=>(0,C._toStr)(r)),"se_ActionNameList"),Pee=m((e,t)=>(0,_.take)(e,{AWSAccountIds:r=>Oee(r,t),Actions:r=>Cee(r,t),Label:C._toStr,QueueUrl:C._toStr}),"se_AddPermissionRequest"),SN=m((e,t)=>e.filter(r=>r!=null).map(r=>(0,C._toStr)(r)),"se_AttributeNameList"),Oee=m((e,t)=>e.filter(r=>r!=null).map(r=>(0,C._toStr)(r)),"se_AWSAccountIdList"),EN=m((e,t)=>e.filter(r=>r!=null).map(r=>t.base64Encoder(r)),"se_BinaryList"),Ree=m((e,t)=>(0,_.take)(e,{TaskHandle:C._toStr}),"se_CancelMessageMoveTaskRequest"),Aee=m((e,t)=>(0,_.take)(e,{Entries:r=>Iee(r,t),QueueUrl:C._toStr}),"se_ChangeMessageVisibilityBatchRequest"),Tee=m((e,t)=>(0,_.take)(e,{Id:C._toStr,ReceiptHandle:C._toStr,VisibilityTimeout:C._toNum}),"se_ChangeMessageVisibilityBatchRequestEntry"),Iee=m((e,t)=>e.filter(r=>r!=null).map(r=>Tee(r,t)),"se_ChangeMessageVisibilityBatchRequestEntryList"),xee=m((e,t)=>(0,_.take)(e,{QueueUrl:C._toStr,ReceiptHandle:C._toStr,VisibilityTimeout:C._toNum}),"se_ChangeMessageVisibilityRequest"),Nee=m((e,t)=>(0,_.take)(e,{Attributes:r=>CN(r,t),QueueName:C._toStr,tags:r=>ON(r,t)}),"se_CreateQueueRequest"),Mee=m((e,t)=>(0,_.take)(e,{Entries:r=>kee(r,t),QueueUrl:C._toStr}),"se_DeleteMessageBatchRequest"),Dee=m((e,t)=>(0,_.take)(e,{Id:C._toStr,ReceiptHandle:C._toStr}),"se_DeleteMessageBatchRequestEntry"),kee=m((e,t)=>e.filter(r=>r!=null).map(r=>Dee(r,t)),"se_DeleteMessageBatchRequestEntryList"),Lee=m((e,t)=>(0,_.take)(e,{QueueUrl:C._toStr,ReceiptHandle:C._toStr}),"se_DeleteMessageRequest"),qee=m((e,t)=>(0,_.take)(e,{QueueUrl:C._toStr}),"se_DeleteQueueRequest"),jee=m((e,t)=>(0,_.take)(e,{AttributeNames:r=>SN(r,t),QueueUrl:C._toStr}),"se_GetQueueAttributesRequest"),Fee=m((e,t)=>(0,_.take)(e,{QueueName:C._toStr,QueueOwnerAWSAccountId:C._toStr}),"se_GetQueueUrlRequest"),Uee=m((e,t)=>(0,_.take)(e,{MaxResults:C._toNum,NextToken:C._toStr,QueueUrl:C._toStr}),"se_ListDeadLetterSourceQueuesRequest"),Hee=m((e,t)=>(0,_.take)(e,{MaxResults:C._toNum,SourceArn:C._toStr}),"se_ListMessageMoveTasksRequest"),$ee=m((e,t)=>(0,_.take)(e,{MaxResults:C._toNum,NextToken:C._toStr,QueueNamePrefix:C._toStr}),"se_ListQueuesRequest"),Bee=m((e,t)=>(0,_.take)(e,{QueueUrl:C._toStr}),"se_ListQueueTagsRequest"),zee=m((e,t)=>e.filter(r=>r!=null).map(r=>(0,C._toStr)(r)),"se_MessageAttributeNameList"),Vee=m((e,t)=>(0,_.take)(e,{BinaryListValues:r=>EN(r,t),BinaryValue:t.base64Encoder,DataType:C._toStr,StringListValues:r=>PN(r,t),StringValue:C._toStr}),"se_MessageAttributeValue"),bN=m((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=Vee(o,t)),r),{}),"se_MessageBodyAttributeMap"),wN=m((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=Wee(o,t)),r),{}),"se_MessageBodySystemAttributeMap"),Gee=m((e,t)=>e.filter(r=>r!=null).map(r=>(0,C._toStr)(r)),"se_MessageSystemAttributeList"),Wee=m((e,t)=>(0,_.take)(e,{BinaryListValues:r=>EN(r,t),BinaryValue:t.base64Encoder,DataType:C._toStr,StringListValues:r=>PN(r,t),StringValue:C._toStr}),"se_MessageSystemAttributeValue"),Qee=m((e,t)=>(0,_.take)(e,{QueueUrl:C._toStr}),"se_PurgeQueueRequest"),CN=m((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=(0,C._toStr)(o)),r),{}),"se_QueueAttributeMap"),Kee=m((e,t)=>(0,_.take)(e,{AttributeNames:r=>SN(r,t),MaxNumberOfMessages:C._toNum,MessageAttributeNames:r=>zee(r,t),MessageSystemAttributeNames:r=>Gee(r,t),QueueUrl:C._toStr,ReceiveRequestAttemptId:C._toStr,VisibilityTimeout:C._toNum,WaitTimeSeconds:C._toNum}),"se_ReceiveMessageRequest"),Jee=m((e,t)=>(0,_.take)(e,{Label:C._toStr,QueueUrl:C._toStr}),"se_RemovePermissionRequest"),Yee=m((e,t)=>(0,_.take)(e,{Entries:r=>Zee(r,t),QueueUrl:C._toStr}),"se_SendMessageBatchRequest"),Xee=m((e,t)=>(0,_.take)(e,{DelaySeconds:C._toNum,Id:C._toStr,MessageAttributes:r=>bN(r,t),MessageBody:C._toStr,MessageDeduplicationId:C._toStr,MessageGroupId:C._toStr,MessageSystemAttributes:r=>wN(r,t)}),"se_SendMessageBatchRequestEntry"),Zee=m((e,t)=>e.filter(r=>r!=null).map(r=>Xee(r,t)),"se_SendMessageBatchRequestEntryList"),ete=m((e,t)=>(0,_.take)(e,{DelaySeconds:C._toNum,MessageAttributes:r=>bN(r,t),MessageBody:C._toStr,MessageDeduplicationId:C._toStr,MessageGroupId:C._toStr,MessageSystemAttributes:r=>wN(r,t),QueueUrl:C._toStr}),"se_SendMessageRequest"),tte=m((e,t)=>(0,_.take)(e,{Attributes:r=>CN(r,t),QueueUrl:C._toStr}),"se_SetQueueAttributesRequest"),rte=m((e,t)=>(0,_.take)(e,{DestinationArn:C._toStr,MaxNumberOfMessagesPerSecond:C._toNum,SourceArn:C._toStr}),"se_StartMessageMoveTaskRequest"),PN=m((e,t)=>e.filter(r=>r!=null).map(r=>(0,C._toStr)(r)),"se_StringList"),nte=m((e,t)=>e.filter(r=>r!=null).map(r=>(0,C._toStr)(r)),"se_TagKeyList"),ON=m((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=(0,C._toStr)(o)),r),{}),"se_TagMap"),ote=m((e,t)=>(0,_.take)(e,{QueueUrl:C._toStr,Tags:r=>ON(r,t)}),"se_TagQueueRequest"),ste=m((e,t)=>(0,_.take)(e,{QueueUrl:C._toStr,TagKeys:r=>nte(r,t)}),"se_UntagQueueRequest"),ite=m((e,t)=>(e||[]).filter(n=>n!=null).map(n=>t.base64Decoder(n)),"de_BinaryList"),ate=m((e,t)=>(0,_.take)(e,{Attributes:_._json,Body:_.expectString,MD5OfBody:_.expectString,MD5OfMessageAttributes:_.expectString,MessageAttributes:r=>dte(r,t),MessageId:_.expectString,ReceiptHandle:_.expectString}),"de_Message"),cte=m((e,t)=>(0,_.take)(e,{BinaryListValues:r=>ite(r,t),BinaryValue:t.base64Decoder,DataType:_.expectString,StringListValues:_._json,StringValue:_.expectString}),"de_MessageAttributeValue"),dte=m((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=cte(o,t)),r),{}),"de_MessageBodyAttributeMap"),lte=m((e,t)=>(e||[]).filter(n=>n!=null).map(n=>ate(n,t)),"de_MessageList"),ute=m((e,t)=>(0,_.take)(e,{Messages:r=>lte(r,t)}),"de_ReceiveMessageResult"),x=m(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),pte=(0,_.withBaseException)(j),ee=m(async(e,t,r,n,o)=>{let{hostname:s,protocol:i="https",port:a,path:c}=await e.endpoint(),d={protocol:i,hostname:s,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(d.hostname=n),o!==void 0&&(d.body=o),new ef.HttpRequest(d)},"buildHttpRpcRequest");function Q(e){return{"content-type":"application/x-amz-json-1.0","x-amz-target":`AmazonSQS.${e}`}}m(Q,"sharedHeaders");var fte=m((e,t)=>{let r=t["x-amzn-query-error"];if(e.body!==void 0&&r!=null){let n=r.split(";");e.body.Code=n[0],e.body.Type=n[1]}},"populateBodyWithQueryCompatibility"),RN=class extends _.Command.classBuilder().ep({...Y}).m(function(t,r,n,o){return[(0,X.getSerdePlugin)(n,this.serialize,this.deserialize),(0,W.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSQS","AddPermission",{}).n("SQSClient","AddPermissionCommand").f(void 0,void 0).ser(oZ).de(RZ).build(){};m(RN,"AddPermissionCommand");var AN=RN,TN=class extends _.Command.classBuilder().ep({...Y}).m(function(t,r,n,o){return[(0,X.getSerdePlugin)(n,this.serialize,this.deserialize),(0,W.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSQS","CancelMessageMoveTask",{}).n("SQSClient","CancelMessageMoveTaskCommand").f(void 0,void 0).ser(sZ).de(AZ).build(){};m(TN,"CancelMessageMoveTaskCommand");var IN=TN,xN=class extends _.Command.classBuilder().ep({...Y}).m(function(t,r,n,o){return[(0,X.getSerdePlugin)(n,this.serialize,this.deserialize),(0,W.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSQS","ChangeMessageVisibilityBatch",{}).n("SQSClient","ChangeMessageVisibilityBatchCommand").f(void 0,void 0).ser(aZ).de(IZ).build(){};m(xN,"ChangeMessageVisibilityBatchCommand");var NN=xN,MN=class extends _.Command.classBuilder().ep({...Y}).m(function(t,r,n,o){return[(0,X.getSerdePlugin)(n,this.serialize,this.deserialize),(0,W.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSQS","ChangeMessageVisibility",{}).n("SQSClient","ChangeMessageVisibilityCommand").f(void 0,void 0).ser(iZ).de(TZ).build(){};m(MN,"ChangeMessageVisibilityCommand");var DN=MN,kN=class extends _.Command.classBuilder().ep({...Y}).m(function(t,r,n,o){return[(0,X.getSerdePlugin)(n,this.serialize,this.deserialize),(0,W.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSQS","CreateQueue",{}).n("SQSClient","CreateQueueCommand").f(void 0,void 0).ser(cZ).de(xZ).build(){};m(kN,"CreateQueueCommand");var LN=kN,qN=class extends _.Command.classBuilder().ep({...Y}).m(function(t,r,n,o){return[(0,X.getSerdePlugin)(n,this.serialize,this.deserialize),(0,W.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSQS","DeleteMessageBatch",{}).n("SQSClient","DeleteMessageBatchCommand").f(void 0,void 0).ser(lZ).de(MZ).build(){};m(qN,"DeleteMessageBatchCommand");var jN=qN,FN=class extends _.Command.classBuilder().ep({...Y}).m(function(t,r,n,o){return[(0,X.getSerdePlugin)(n,this.serialize,this.deserialize),(0,W.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSQS","DeleteMessage",{}).n("SQSClient","DeleteMessageCommand").f(void 0,void 0).ser(dZ).de(NZ).build(){};m(FN,"DeleteMessageCommand");var UN=FN,HN=class extends _.Command.classBuilder().ep({...Y}).m(function(t,r,n,o){return[(0,X.getSerdePlugin)(n,this.serialize,this.deserialize),(0,W.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSQS","DeleteQueue",{}).n("SQSClient","DeleteQueueCommand").f(void 0,void 0).ser(uZ).de(DZ).build(){};m(HN,"DeleteQueueCommand");var $N=HN,BN=class extends _.Command.classBuilder().ep({...Y}).m(function(t,r,n,o){return[(0,X.getSerdePlugin)(n,this.serialize,this.deserialize),(0,W.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSQS","GetQueueAttributes",{}).n("SQSClient","GetQueueAttributesCommand").f(void 0,void 0).ser(pZ).de(kZ).build(){};m(BN,"GetQueueAttributesCommand");var zN=BN,VN=class extends _.Command.classBuilder().ep({...Y}).m(function(t,r,n,o){return[(0,X.getSerdePlugin)(n,this.serialize,this.deserialize),(0,W.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSQS","GetQueueUrl",{}).n("SQSClient","GetQueueUrlCommand").f(void 0,void 0).ser(fZ).de(LZ).build(){};m(VN,"GetQueueUrlCommand");var GN=VN,WN=class extends _.Command.classBuilder().ep({...Y}).m(function(t,r,n,o){return[(0,X.getSerdePlugin)(n,this.serialize,this.deserialize),(0,W.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSQS","ListDeadLetterSourceQueues",{}).n("SQSClient","ListDeadLetterSourceQueuesCommand").f(void 0,void 0).ser(mZ).de(qZ).build(){};m(WN,"ListDeadLetterSourceQueuesCommand");var tf=WN,QN=class extends _.Command.classBuilder().ep({...Y}).m(function(t,r,n,o){return[(0,X.getSerdePlugin)(n,this.serialize,this.deserialize),(0,W.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSQS","ListMessageMoveTasks",{}).n("SQSClient","ListMessageMoveTasksCommand").f(void 0,void 0).ser(gZ).de(jZ).build(){};m(QN,"ListMessageMoveTasksCommand");var KN=QN,JN=class extends _.Command.classBuilder().ep({...Y}).m(function(t,r,n,o){return[(0,X.getSerdePlugin)(n,this.serialize,this.deserialize),(0,W.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSQS","ListQueues",{}).n("SQSClient","ListQueuesCommand").f(void 0,void 0).ser(hZ).de(FZ).build(){};m(JN,"ListQueuesCommand");var rf=JN,YN=class extends _.Command.classBuilder().ep({...Y}).m(function(t,r,n,o){return[(0,X.getSerdePlugin)(n,this.serialize,this.deserialize),(0,W.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSQS","ListQueueTags",{}).n("SQSClient","ListQueueTagsCommand").f(void 0,void 0).ser(vZ).de(UZ).build(){};m(YN,"ListQueueTagsCommand");var XN=YN,ZN=class extends _.Command.classBuilder().ep({...Y}).m(function(t,r,n,o){return[(0,X.getSerdePlugin)(n,this.serialize,this.deserialize),(0,W.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSQS","PurgeQueue",{}).n("SQSClient","PurgeQueueCommand").f(void 0,void 0).ser(_Z).de(HZ).build(){};m(ZN,"PurgeQueueCommand");var eM=ZN,tM=class extends _.Command.classBuilder().ep({...Y}).m(function(t,r,n,o){return[(0,X.getSerdePlugin)(n,this.serialize,this.deserialize),(0,W.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,Zo.getReceiveMessagePlugin)(n)]}).s("AmazonSQS","ReceiveMessage",{}).n("SQSClient","ReceiveMessageCommand").f(void 0,void 0).ser(yZ).de($Z).build(){};m(tM,"ReceiveMessageCommand");var rM=tM,nM=class extends _.Command.classBuilder().ep({...Y}).m(function(t,r,n,o){return[(0,X.getSerdePlugin)(n,this.serialize,this.deserialize),(0,W.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSQS","RemovePermission",{}).n("SQSClient","RemovePermissionCommand").f(void 0,void 0).ser(SZ).de(BZ).build(){};m(nM,"RemovePermissionCommand");var oM=nM,sM=class extends _.Command.classBuilder().ep({...Y}).m(function(t,r,n,o){return[(0,X.getSerdePlugin)(n,this.serialize,this.deserialize),(0,W.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,Zo.getSendMessageBatchPlugin)(n)]}).s("AmazonSQS","SendMessageBatch",{}).n("SQSClient","SendMessageBatchCommand").f(void 0,void 0).ser(bZ).de(VZ).build(){};m(sM,"SendMessageBatchCommand");var iM=sM,aM=class extends _.Command.classBuilder().ep({...Y}).m(function(t,r,n,o){return[(0,X.getSerdePlugin)(n,this.serialize,this.deserialize),(0,W.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,Zo.getSendMessagePlugin)(n)]}).s("AmazonSQS","SendMessage",{}).n("SQSClient","SendMessageCommand").f(void 0,void 0).ser(EZ).de(zZ).build(){};m(aM,"SendMessageCommand");var cM=aM,dM=class extends _.Command.classBuilder().ep({...Y}).m(function(t,r,n,o){return[(0,X.getSerdePlugin)(n,this.serialize,this.deserialize),(0,W.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSQS","SetQueueAttributes",{}).n("SQSClient","SetQueueAttributesCommand").f(void 0,void 0).ser(wZ).de(GZ).build(){};m(dM,"SetQueueAttributesCommand");var lM=dM,uM=class extends _.Command.classBuilder().ep({...Y}).m(function(t,r,n,o){return[(0,X.getSerdePlugin)(n,this.serialize,this.deserialize),(0,W.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSQS","StartMessageMoveTask",{}).n("SQSClient","StartMessageMoveTaskCommand").f(void 0,void 0).ser(CZ).de(WZ).build(){};m(uM,"StartMessageMoveTaskCommand");var pM=uM,fM=class extends _.Command.classBuilder().ep({...Y}).m(function(t,r,n,o){return[(0,X.getSerdePlugin)(n,this.serialize,this.deserialize),(0,W.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSQS","TagQueue",{}).n("SQSClient","TagQueueCommand").f(void 0,void 0).ser(PZ).de(QZ).build(){};m(fM,"TagQueueCommand");var mM=fM,gM=class extends _.Command.classBuilder().ep({...Y}).m(function(t,r,n,o){return[(0,X.getSerdePlugin)(n,this.serialize,this.deserialize),(0,W.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSQS","UntagQueue",{}).n("SQSClient","UntagQueueCommand").f(void 0,void 0).ser(OZ).de(KZ).build(){};m(gM,"UntagQueueCommand");var hM=gM,mte={AddPermissionCommand:AN,CancelMessageMoveTaskCommand:IN,ChangeMessageVisibilityCommand:DN,ChangeMessageVisibilityBatchCommand:NN,CreateQueueCommand:LN,DeleteMessageCommand:UN,DeleteMessageBatchCommand:jN,DeleteQueueCommand:$N,GetQueueAttributesCommand:zN,GetQueueUrlCommand:GN,ListDeadLetterSourceQueuesCommand:tf,ListMessageMoveTasksCommand:KN,ListQueuesCommand:rf,ListQueueTagsCommand:XN,PurgeQueueCommand:eM,ReceiveMessageCommand:rM,RemovePermissionCommand:oM,SendMessageCommand:cM,SendMessageBatchCommand:iM,SetQueueAttributesCommand:lM,StartMessageMoveTaskCommand:pM,TagQueueCommand:mM,UntagQueueCommand:hM},vM=class extends Nc{};m(vM,"SQS");var _M=vM;(0,_.createAggregatedClient)(mte,_M);var gte=(0,Xo.createPaginator)(Nc,tf,"NextToken","NextToken","MaxResults"),hte=(0,Xo.createPaginator)(Nc,rf,"NextToken","NextToken","MaxResults")});var Cte={};qc(Cte,{handler:()=>wte});module.exports=kt(Cte);var of=ht(Qc());var Um=ht(Kc()),Hm=ht(Qc()),md=new Um.Logger,gd=new Hm.Metrics;var DL=(e="/")=>({statusCode:500,body:JSON.stringify({type:"urn:problem:server-error",title:"Server Error",detail:"An unexpected error has occurred, contact the administrator.",status:500,instance:e}),headers:{"Content-Type":"application/problem+json"}});var kL=e=>({statusCode:200,body:JSON.stringify({type:"urn:success:ok",title:"OK",detail:e,status:200}),headers:{"Content-Type":"application/json"}}),LL=e=>({statusCode:200,body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}),qL=e=>(t="/")=>({statusCode:400,body:JSON.stringify({type:"urn:problem:bad-request",title:"Bad Request",detail:e.message,status:400,instance:t}),headers:{"Content-Type":"application/problem+json"}}),jL=e=>(t="/")=>({statusCode:404,body:JSON.stringify({type:"urn:problem:not-found",title:"Not Found",detail:e.message,status:404,instance:t}),headers:{"Content-Type":"application/problem+json"}}),FL=e=>(t="/")=>({statusCode:409,body:JSON.stringify({type:"urn:problem:conflict",title:"Conflict",detail:e.message,status:409,instance:t}),headers:{"Content-Type":"application/problem+json"}}),UL=e=>(t="/")=>({statusCode:429,body:JSON.stringify({type:"urn:problem:too-many-requests",title:"Too Many Requests",detail:e.message,status:429,instance:t}),headers:{"Content-Type":"application/problem+json"}}),HL=e=>(t="/")=>({statusCode:401,body:JSON.stringify({type:"urn:problem:unauthorized",title:"Unauthorized",detail:e.message,status:401,instance:t}),headers:{"Content-Type":"application/problem+json"}}),$L=(e,t)=>(r="/")=>({statusCode:t,body:JSON.stringify({type:`urn:problem:${e.replace(" ","-").toLowerCase()}`,title:e,detail:e,status:t,instance:r}),headers:{"Content-Type":"application/problem+json"}}),BL=e=>(t="/")=>({statusCode:422,body:JSON.stringify({type:"urn:problem:unprocessable-entity",title:"Unprocessable Entity",detail:e.message,status:422,instance:t}),headers:{"Content-Type":"application/problem+json"}}),hd={serverError:DL,ok:kL,success:LL,badRequest:qL,generic:$L,notFound:jL,conflict:FL,tooManyRequest:UL,unauthorized:HL,unprocessable:BL};var kc=ht(nf());var vte={region:"eu-west-1"},Mc=vte;var Dc=ht(nf());var _te=new Dc.SQSClient(Mc),yte=async e=>await _te.send(new Dc.GetQueueUrlCommand({QueueName:e})),SM=yte;var Ste=new kc.SQSClient(Mc),Ete=async(e,t)=>{let{QueueUrl:r}=await SM(e);return await Ste.send(new kc.SendMessageCommand({QueueUrl:r,MessageBody:JSON.stringify(t)}))},EM=Ete;var bte=process.env.SQS_QUEUE_NAME,wte=async e=>{let t=e.body;try{let r=await EM(bte,t);return md.info("Create User successfully"),gd.addMetric("CreateUserSuccess",of.MetricUnits.Count,1),hd.success(r)}catch(r){return md.error(r),gd.addMetric("SenderSqsError",of.MetricUnits.Count,1),hd.error({error:r})}};0&&(module.exports={handler});
